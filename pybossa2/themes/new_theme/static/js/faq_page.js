function executeFnByName(t, e) {
    if (t !== undefined) {
        for (var n = [].slice.call(arguments).splice(2), i = t.split("."), o = i.pop(), a = 0; a < i.length; a++)
            e = e[i[a]];
        return e[o] !== undefined ? e[o].apply(this, n) : void 0
    }
}
function FFCalculators(t) {
    "use strict";
    function e(t, e) {
        return Number(Math.round(t + "e" + e) + "e-" + e)
    }
    function n(t, e) {
        return Number(Math.floor(t + "e" + e) + "e-" + e)
    }
    function i(t, e) {
        for (var n in t)
            t.hasOwnProperty(n) && (e[n] = t[n]);
        return e
    }
    function o(t) {
        return "string" == typeof t && (t = t.replace(/[^0-9\.]+/g, "")), Number(t)
    }
    function a(t) {
        this.investmentAmount = o(t.amount), this.spvMinimumGoal = o(t.goal), this.maxTotalInvestment = o(t.total), this.spvTotalInvestment = o(t.spvTotal), this.offeringDirectInvestmentThreshold = o(t.threshold), this.offeringModelDirectSpv = t.modelDirectSpv, this.offeringSetupFee = o(t.setupFee), this.preMoneyValuation = o(t.valuation)
    }
    function s(t) {
        return a.call(this, t), this.calcResults()
    }
    function r(t) {
        return a.call(this, t), this.sharePrice = Number(t.sharePrice), this.calcResults()
    }
    function l(t) {
        switch (t.calcType) {
        case "units_based":
        case "revenue_note":
            return new r(t);
        case "convertible":
            return new s(t);
        default:
            return {}
        }
    }
    function c(t) {
        return this.incomeAmount = o(t.incomeAmount), this.netWorth = o(t.netWorth), this.prevRegCExtTotal = o(t.prevRegCExtTotal), this.prevRegCTotal = o(t.prevRegCTotal), this.regCCutoff = o(t.regCCutoff), this.sharePrice = o(t.sharePrice), (isNaN(this.sharePrice) || 0 == this.sharePrice) && (this.sharePrice = .01), this.doCalc()
    }
    a.prototype = {
        spvDilution: function() {
            var t = Math.max(this.spvMinimumGoal, this.spvTotalInvestment + this.investmentAmount);
            return 0 == t ? 0 : 1 - this.offeringSetupFee / t
        },
        isSpv: function() {
            return this.offeringModelDirectSpv && this.investmentAmount < this.offeringDirectInvestmentThreshold
        },
        postMoneyValuation: function() {
            return this.preMoneyValuation + this.maxTotalInvestment
        },
        calcResults: function() {
            return {
                projectedCost: this.projectedCost(),
                projectedShares: this.projectedShares(),
                projectedOwnershipPct: this.projectedPercentOwnership()
            }
        }
    }, s.prototype = i(a.prototype, {
        projectedShares: function() {
            return 0
        },
        projectedCost: function() {
            return this.validValues() ? e(this.investmentAmount, 2) : 0
        },
        projectedPercentOwnership: function() {
            if (0 === this.postMoneyValuation())
                return 0;
            var t = this.investmentAmount / this.postMoneyValuation() * 100;
            return this.isSpv() && (t *= this.spvDilution()), e(t, 3)
        },
        validValues: function() {
            return this.investmentAmount > 0
        }
    }), r.prototype = i(a.prototype, {
        projectedShares: function() {
            return this.validValues() ? Math.ceil(this.investmentAmount / this.sharePrice) : 0
        },
        projectedCost: function() {
            return this.validValues() ? this.isSpv() ? n(this.investmentAmount, 2) : n(this.projectedShares() * this.sharePrice, 2) : 0
        },
        projectedPercentOwnership: function() {
            var t = 0,
                n = this.postMoneyValuation();
            return 0 === n ? 0 : (t = this.isSpv() ? this.spvDilution() * this.investmentAmount / n * 100 : this.projectedShares() * this.sharePrice / n * 100, e(t, 3))
        },
        validValues: function() {
            return this.investmentAmount > 0 && this.sharePrice > 0
        }
    }), c.prototype = {
        doCalc: function() {
            var t = 107e3,
                e = Math.min(this.incomeAmount, this.netWorth),
                n = e < 107e3 ? .05 : .1,
                i = Math.min(t, Math.max(e * n, 2200)),
                o = i - this.prevRegCExtTotal - this.prevRegCTotal,
                a = Math.floor(Math.min(Math.max(o, 0), this.regCCutoff) / this.sharePrice);
            return {
                limit: Math.floor(i),
                available: Math.floor(a * this.sharePrice),
                over_limit: Math.floor(Math.abs(Math.min(o, 0)))
            }
        }
    }, t.ConvertibleCalculator = s, t.UnitsBasedCalculator = r, t.InvestmentCalculator = l, t.RegCCalculator = c
}
function process_experience(t) {
    var e = $("#investor_profile_form_experience_confirm").closest(".alert_confirm");
    "None" === t.find("option:selected").val() ? e.removeClass("hidden") : e.hasClass("hidden") || (e.addClass("hidden"), e.find($("input:checkbox")).attr("checked", !1))
}
function process_percentage(t) {
    var e = t.find("option:selected").val(),
        n = $("#investor_profile_form_percentage_confirm").closest(".alert_confirm");
    "Between 0% and 10%" === e ? (n.removeClass("hidden"), $('label[for="investor_profile_form_percentage_confirm"]').html("<b>Yes</b>, by selecting 0-10%, I am confirming that I am willing to accept the risks of making investments on FlashFunders.")) : "Between 80% and 100%" === e ? (n.removeClass("hidden"), $('label[for="investor_profile_form_percentage_confirm"]').html("<b>Yes</b>, by selecting 80-100%, I am confirming that I am willing to accept the risks of making investments on FlashFunders.")) : n.hasClass("hidden") || (n.addClass("hidden"), n.find($("input:checkbox")).attr("checked", !1))
}
function error_box(t) {
    $(t.target).parents(".box-error").removeClass("box-error")
}
function simpleSubscription(t) {
    t.on("submit", function() {
        $('input[type="submit"]', this).attr("disabled", !0)
    }).on("ajax:error", function(t, e, n) {
        $(".errors", this).html("Provide a valid email address."), $('input[type="submit"]', this).attr("disabled", !1)
    }).on("ajax:success", function(e, n, i) {
        $(".subscription-header").addClass("hidden"), $(".subscription-input", t).addClass("hidden"), $(".subscription-success", t).removeClass("hidden"), showHideSubscriptions(t.attr("id"))
    })
}
function showHideSubscriptions(t) {
    FF.resetCookies();
    var e = $(".subscription-section"),
        n = "true" === FF.readCookie("_subscribed");
    (n || "true" === FF.readCookie("_dismissed")) && "email-capture-banner" !== t && $("#email-capture-banner").hide(), n ? "home_new_subscription" !== t && "browse_new_subscription" !== t && "email_new_subscription" !== t && "/subscribe" !== t && e.hide() : e.show()
}
function dismissEmailCapture() {
    $("#email_capture_dismiss").on("ajax:success", function(t, e, n) {
        showHideSubscriptions($(this).attr("id"))
    })
}
function showNewsletterModal() {
    $("#newsletter-modal").modal("show")
}
function updateSourcePage() {
    $("input[name='subscription[source_page]']").attr("value", location.pathname + location.search)
}
FF = window.FF || {};
var im = function() {
    function t(t) {
        "manual" == t && (r = !1, e())
    }
    function e() {
        if (window.getComputedStyle && "" !== window.getComputedStyle(document.body, "::after").content) {
            var t = window.getComputedStyle(document.body, "::after").content;
            try {
                l = JSON.parse(s(t))
            } catch (t) {}
        }
    }
    function n(t) {
        return r && e(), l.hasOwnProperty(t) && l[t].active
    }
    function i(t) {
        return !n(t)
    }
    function o() {
        r && e();
        var t = {
            name: !1,
            value: 0
        };
        for (var n in l)
            if (l.hasOwnProperty(n)) {
                var i = parseFloat(l[n].value);
                l[n].active && i > t.value && (t = {
                    name: n,
                    value: i
                })
            }
        return t.name
    }
    function a(t, n) {
        return r && e(), !(!l || !l.hasOwnProperty(t)) && (n ? parseFloat(l[t].value) : l[t].value)
    }
    function s(t) {
        return ("string" == typeof t || t instanceof String) && (t = t.replace(/[']/g, '"').replace(/\\|^[\s\S]{0,1}|[\s\S]$/g, "")), t
    }
    var r = !0,
        l = !1;
    return {
        setUpdateMode: t,
        greaterThan: n,
        lessThan: i,
        getActive: o,
        getValue: a,
        update: e
    }
}(); /*!
 * Bootstrap v3.2.0 (http://getbootstrap.com)
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 */

/*!
 * Generated using the Bootstrap Customizer (http://getbootstrap.com/customize/?id=58000ab2fb0b1bc9f91e)
 * Config saved to config.json and https://gist.github.com/58000ab2fb0b1bc9f91e
 */
if (/*!
 * jQuery JavaScript Library v1.12.4
 * http://jquery.com/
 *
 * Includes Sizzle.js
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2016-05-20T17:17Z
 */
function(t, e) {
    "object" == typeof module && "object" == typeof module.exports ? module.exports = t.document ? e(t, !0) : function(t) {
        if (!t.document)
            throw new Error("jQuery requires a window with a document");
        return e(t)
    } : e(t)
}("undefined" != typeof window ? window : this, function(t, e) {
    function n(t) {
        var e = !!t && "length" in t && t.length,
            n = ft.type(t);
        return "function" !== n && !ft.isWindow(t) && ("array" === n || 0 === e || "number" == typeof e && e > 0 && e - 1 in t)
    }
    function i(t, e, n) {
        if (ft.isFunction(e))
            return ft.grep(t, function(t, i) {
                return !!e.call(t, i, t) !== n
            });
        if (e.nodeType)
            return ft.grep(t, function(t) {
                return t === e !== n
            });
        if ("string" == typeof e) {
            if (_t.test(e))
                return ft.filter(e, t, n);
            e = ft.filter(e, t)
        }
        return ft.grep(t, function(t) {
            return ft.inArray(t, e) > -1 !== n
        })
    }
    function o(t, e) {
        do {
            t = t[e]
        } while (t && 1 !== t.nodeType);
        return t
    }
    function a(t) {
        var e = {};
        return ft.each(t.match(kt) || [], function(t, n) {
            e[n] = !0
        }), e
    }
    function s() {
        it.addEventListener ? (it.removeEventListener("DOMContentLoaded", r), t.removeEventListener("load", r)) : (it.detachEvent("onreadystatechange", r), t.detachEvent("onload", r))
    }
    function r() {
        (it.addEventListener || "load" === t.event.type || "complete" === it.readyState) && (s(), ft.ready())
    }
    function l(t, e, n) {
        if (n === undefined && 1 === t.nodeType) {
            var i = "data-" + e.replace(Nt, "-$1").toLowerCase();
            if ("string" == typeof (n = t.getAttribute(i))) {
                try {
                    n = "true" === n || "false" !== n && ("null" === n ? null : +n + "" === n ? +n : Kt.test(n) ? ft.parseJSON(n) : n)
                } catch (t) {}
                ft.data(t, e, n)
            } else
                n = undefined
        }
        return n
    }
    function c(t) {
        var e;
        for (e in t)
            if (("data" !== e || !ft.isEmptyObject(t[e])) && "toJSON" !== e)
                return !1;
        return !0
    }
    function u(t, e, n, i) {
        if (St(t)) {
            var o,
                a,
                s = ft.expando,
                r = t.nodeType,
                l = r ? ft.cache : t,
                c = r ? t[s] : t[s] && s;
            if (c && l[c] && (i || l[c].data) || n !== undefined || "string" != typeof e)
                return c || (c = r ? t[s] = nt.pop() || ft.guid++ : s), l[c] || (l[c] = r ? {} : {
                    toJSON: ft.noop
                }), "object" != typeof e && "function" != typeof e || (i ? l[c] = ft.extend(l[c], e) : l[c].data = ft.extend(l[c].data, e)), a = l[c], i || (a.data || (a.data = {}), a = a.data), n !== undefined && (a[ft.camelCase(e)] = n), "string" == typeof e ? null == (o = a[e]) && (o = a[ft.camelCase(e)]) : o = a, o
        }
    }
    function d(t, e, n) {
        if (St(t)) {
            var i,
                o,
                a = t.nodeType,
                s = a ? ft.cache : t,
                r = a ? t[ft.expando] : ft.expando;
            if (s[r]) {
                if (e && (i = n ? s[r] : s[r].data)) {
                    ft.isArray(e) ? e = e.concat(ft.map(e, ft.camelCase)) : e in i ? e = [e] : (e = ft.camelCase(e), e = e in i ? [e] : e.split(" ")), o = e.length;
                    for (; o--;)
                        delete i[e[o]];
                    if (n ? !c(i) : !ft.isEmptyObject(i))
                        return
                }
                (n || (delete s[r].data, c(s[r]))) && (a ? ft.cleanData([t], !0) : dt.deleteExpando || s != s.window ? delete s[r] : s[r] = undefined)
            }
        }
    }
    function h(t, e, n, i) {
        var o,
            a = 1,
            s = 20,
            r = i ? function() {
                return i.cur()
            } : function() {
                return ft.css(t, e, "")
            },
            l = r(),
            c = n && n[3] || (ft.cssNumber[e] ? "" : "px"),
            u = (ft.cssNumber[e] || "px" !== c && +l) && Ft.exec(ft.css(t, e));
        if (u && u[3] !== c) {
            c = c || u[3], n = n || [], u = +l || 1;
            do {
                a = a || ".5", u /= a, ft.style(t, e, u + c)
            } while (a !== (a = r() / l) && 1 !== a && --s)
        }
        return n && (u = +u || +l || 0, o = n[1] ? u + (n[1] + 1) * n[2] : +n[2], i && (i.unit = c, i.start = u, i.end = o)), o
    }
    function f(t) {
        var e = jt.split("|"),
            n = t.createDocumentFragment();
        if (n.createElement)
            for (; e.length;)
                n.createElement(e.pop());
        return n
    }
    function p(t, e) {
        var n,
            i,
            o = 0,
            a = "undefined" != typeof t.getElementsByTagName ? t.getElementsByTagName(e || "*") : "undefined" != typeof t.querySelectorAll ? t.querySelectorAll(e || "*") : undefined;
        if (!a)
            for (a = [], n = t.childNodes || t; null != (i = n[o]); o++)
                !e || ft.nodeName(i, e) ? a.push(i) : ft.merge(a, p(i, e));
        return e === undefined || e && ft.nodeName(t, e) ? ft.merge([t], a) : a
    }
    function m(t, e) {
        for (var n, i = 0; null != (n = t[i]); i++)
            ft._data(n, "globalEval", !e || ft._data(e[i], "globalEval"))
    }
    function g(t) {
        Mt.test(t.type) && (t.defaultChecked = t.checked)
    }
    function v(t, e, n, i, o) {
        for (var a, s, r, l, c, u, d, h = t.length, v = f(e), b = [], E = 0; E < h; E++)
            if ((s = t[E]) || 0 === s)
                if ("object" === ft.type(s))
                    ft.merge(b, s.nodeType ? [s] : s);
                else if (qt.test(s)) {
                    for (l = l || v.appendChild(e.createElement("div")), c = (Bt.exec(s) || ["", ""])[1].toLowerCase(), d = Wt[c] || Wt._default, l.innerHTML = d[1] + ft.htmlPrefilter(s) + d[2], a = d[0]; a--;)
                        l = l.lastChild;
                    if (!dt.leadingWhitespace && zt.test(s) && b.push(e.createTextNode(zt.exec(s)[0])), !dt.tbody)
                        for (s = "table" !== c || Vt.test(s) ? "<table>" !== d[1] || Vt.test(s) ? 0 : l : l.firstChild, a = s && s.childNodes.length; a--;)
                            ft.nodeName(u = s.childNodes[a], "tbody") && !u.childNodes.length && s.removeChild(u);
                    for (ft.merge(b, l.childNodes), l.textContent = ""; l.firstChild;)
                        l.removeChild(l.firstChild);
                    l = v.lastChild
                } else
                    b.push(e.createTextNode(s));
        for (l && v.removeChild(l), dt.appendChecked || ft.grep(p(b, "input"), g), E = 0; s = b[E++];)
            if (i && ft.inArray(s, i) > -1)
                o && o.push(s);
            else if (r = ft.contains(s.ownerDocument, s), l = p(v.appendChild(s), "script"), r && m(l), n)
                for (a = 0; s = l[a++];)
                    Ht.test(s.type || "") && n.push(s);
        return l = null, v
    }
    function b() {
        return !0
    }
    function E() {
        return !1
    }
    function y() {
        try {
            return it.activeElement
        } catch (t) {}
    }
    function T(t, e, n, i, o, a) {
        var s,
            r;
        if ("object" == typeof e) {
            "string" != typeof n && (i = i || n, n = undefined);
            for (r in e)
                T(t, r, n, i, e[r], a);
            return t
        }
        if (null == i && null == o ? (o = n, i = n = undefined) : null == o && ("string" == typeof n ? (o = i, i = undefined) : (o = i, i = n, n = undefined)), !1 === o)
            o = E;
        else if (!o)
            return t;
        return 1 === a && (s = o, o = function(t) {
            return ft().off(t), s.apply(this, arguments)
        }, o.guid = s.guid || (s.guid = ft.guid++)), t.each(function() {
            ft.event.add(this, e, o, i, n)
        })
    }
    function C(t, e) {
        return ft.nodeName(t, "table") && ft.nodeName(11 !== e.nodeType ? e : e.firstChild, "tr") ? t.getElementsByTagName("tbody")[0] || t.appendChild(t.ownerDocument.createElement("tbody")) : t
    }
    function _(t) {
        return t.type = (null !== ft.find.attr(t, "type")) + "/" + t.type, t
    }
    function D(t) {
        var e = ie.exec(t.type);
        return e ? t.type = e[1] : t.removeAttribute("type"), t
    }
    function I(t, e) {
        if (1 === e.nodeType && ft.hasData(t)) {
            var n,
                i,
                o,
                a = ft._data(t),
                s = ft._data(e, a),
                r = a.events;
            if (r) {
                delete s.handle, s.events = {};
                for (n in r)
                    for (i = 0, o = r[n].length; i < o; i++)
                        ft.event.add(e, n, r[n][i])
            }
            s.data && (s.data = ft.extend({}, s.data))
        }
    }
    function O(t, e) {
        var n,
            i,
            o;
        if (1 === e.nodeType) {
            if (n = e.nodeName.toLowerCase(), !dt.noCloneEvent && e[ft.expando]) {
                o = ft._data(e);
                for (i in o.events)
                    ft.removeEvent(e, i, o.handle);
                e.removeAttribute(ft.expando)
            }
            "script" === n && e.text !== t.text ? (_(e).text = t.text, D(e)) : "object" === n ? (e.parentNode && (e.outerHTML = t.outerHTML), dt.html5Clone && t.innerHTML && !ft.trim(e.innerHTML) && (e.innerHTML = t.innerHTML)) : "input" === n && Mt.test(t.type) ? (e.defaultChecked = e.checked = t.checked, e.value !== t.value && (e.value = t.value)) : "option" === n ? e.defaultSelected = e.selected = t.defaultSelected : "input" !== n && "textarea" !== n || (e.defaultValue = t.defaultValue)
        }
    }
    function R(t, e, n, i) {
        e = at.apply([], e);
        var o,
            a,
            s,
            r,
            l,
            c,
            u = 0,
            d = t.length,
            h = d - 1,
            f = e[0],
            m = ft.isFunction(f);
        if (m || d > 1 && "string" == typeof f && !dt.checkClone && ne.test(f))
            return t.each(function(o) {
                var a = t.eq(o);
                m && (e[0] = f.call(this, o, a.html())), R(a, e, n, i)
            });
        if (d && (c = v(e, t[0].ownerDocument, !1, t, i), o = c.firstChild, 1 === c.childNodes.length && (c = o), o || i)) {
            for (r = ft.map(p(c, "script"), _), s = r.length; u < d; u++)
                a = c, u !== h && (a = ft.clone(a, !0, !0), s && ft.merge(r, p(a, "script"))), n.call(t[u], a, u);
            if (s)
                for (l = r[r.length - 1].ownerDocument, ft.map(r, D), u = 0; u < s; u++)
                    a = r[u], Ht.test(a.type || "") && !ft._data(a, "globalEval") && ft.contains(l, a) && (a.src ? ft._evalUrl && ft._evalUrl(a.src) : ft.globalEval((a.text || a.textContent || a.innerHTML || "").replace(oe, "")));
            c = o = null
        }
        return t
    }
    function k(t, e, n) {
        for (var i, o = e ? ft.filter(e, t) : t, a = 0; null != (i = o[a]); a++)
            n || 1 !== i.nodeType || ft.cleanData(p(i)), i.parentNode && (n && ft.contains(i.ownerDocument, i) && m(p(i, "script")), i.parentNode.removeChild(i));
        return t
    }
    function w(t, e) {
        var n = ft(e.createElement(t)).appendTo(e.body),
            i = ft.css(n[0], "display");
        return n.detach(), i
    }
    function x(t) {
        var e = it,
            n = le[t];
        return n || (n = w(t, e), "none" !== n && n || (re = (re || ft("<iframe frameborder='0' width='0' height='0'/>")).appendTo(e.documentElement), e = (re[0].contentWindow || re[0].contentDocument).document, e.write(), e.close(), n = w(t, e), re.detach()), le[t] = n), n
    }
    function S(t, e) {
        return {
            get: function() {
                return t() ? void delete this.get : (this.get = e).apply(this, arguments)
            }
        }
    }
    function K(t) {
        if (t in _e)
            return t;
        for (var e = t.charAt(0).toUpperCase() + t.slice(1), n = Ce.length; n--;)
            if ((t = Ce[n] + e) in _e)
                return t
    }
    function N(t, e) {
        for (var n, i, o, a = [], s = 0, r = t.length; s < r; s++)
            i = t[s], i.style && (a[s] = ft._data(i, "olddisplay"), n = i.style.display, e ? (a[s] || "none" !== n || (i.style.display = ""), "" === i.style.display && Lt(i) && (a[s] = ft._data(i, "olddisplay", x(i.nodeName)))) : (o = Lt(i), (n && "none" !== n || !o) && ft._data(i, "olddisplay", o ? n : ft.css(i, "display"))));
        for (s = 0; s < r; s++)
            i = t[s], i.style && (e && "none" !== i.style.display && "" !== i.style.display || (i.style.display = e ? a[s] || "" : "none"));
        return t
    }
    function A(t, e, n) {
        var i = Ee.exec(e);
        return i ? Math.max(0, i[1] - (n || 0)) + (i[2] || "px") : e
    }
    function F(t, e, n, i, o) {
        for (var a = n === (i ? "border" : "content") ? 4 : "width" === e ? 1 : 0, s = 0; a < 4; a += 2)
            "margin" === n && (s += ft.css(t, n + Pt[a], !0, o)), i ? ("content" === n && (s -= ft.css(t, "padding" + Pt[a], !0, o)), "margin" !== n && (s -= ft.css(t, "border" + Pt[a] + "Width", !0, o))) : (s += ft.css(t, "padding" + Pt[a], !0, o), "padding" !== n && (s += ft.css(t, "border" + Pt[a] + "Width", !0, o)));
        return s
    }
    function P(t, e, n) {
        var i = !0,
            o = "width" === e ? t.offsetWidth : t.offsetHeight,
            a = fe(t),
            s = dt.boxSizing && "border-box" === ft.css(t, "boxSizing", !1, a);
        if (o <= 0 || null == o) {
            if (o = pe(t, e, a), (o < 0 || null == o) && (o = t.style[e]), ue.test(o))
                return o;
            i = s && (dt.boxSizingReliable() || o === t.style[e]), o = parseFloat(o) || 0
        }
        return o + F(t, e, n || (s ? "border" : "content"), i, a) + "px"
    }
    function L(t, e, n, i, o) {
        return new L.prototype.init(t, e, n, i, o)
    }
    function $() {
        return t.setTimeout(function() {
            De = undefined
        }), De = ft.now()
    }
    function M(t, e) {
        var n,
            i = {
                height: t
            },
            o = 0;
        for (e = e ? 1 : 0; o < 4; o += 2 - e)
            n = Pt[o], i["margin" + n] = i["padding" + n] = t;
        return e && (i.opacity = i.width = t), i
    }
    function B(t, e, n) {
        for (var i, o = (j.tweeners[e] || []).concat(j.tweeners["*"]), a = 0, s = o.length; a < s; a++)
            if (i = o[a].call(n, e, t))
                return i
    }
    function H(t, e, n) {
        var i,
            o,
            a,
            s,
            r,
            l,
            c,
            u,
            d = this,
            h = {},
            f = t.style,
            p = t.nodeType && Lt(t),
            m = ft._data(t, "fxshow");
        n.queue || (r = ft._queueHooks(t, "fx"), null == r.unqueued && (r.unqueued = 0, l = r.empty.fire, r.empty.fire = function() {
            r.unqueued || l()
        }), r.unqueued++, d.always(function() {
            d.always(function() {
                r.unqueued--, ft.queue(t, "fx").length || r.empty.fire()
            })
        })), 1 === t.nodeType && ("height" in e || "width" in e) && (n.overflow = [f.overflow, f.overflowX, f.overflowY], c = ft.css(t, "display"), "inline" === (u = "none" === c ? ft._data(t, "olddisplay") || x(t.nodeName) : c) && "none" === ft.css(t, "float") && (dt.inlineBlockNeedsLayout && "inline" !== x(t.nodeName) ? f.zoom = 1 : f.display = "inline-block")), n.overflow && (f.overflow = "hidden", dt.shrinkWrapBlocks() || d.always(function() {
            f.overflow = n.overflow[0], f.overflowX = n.overflow[1], f.overflowY = n.overflow[2]
        }));
        for (i in e)
            if (o = e[i], Oe.exec(o)) {
                if (delete e[i], a = a || "toggle" === o, o === (p ? "hide" : "show")) {
                    if ("show" !== o || !m || m[i] === undefined)
                        continue;
                    p = !0
                }
                h[i] = m && m[i] || ft.style(t, i)
            } else
                c = undefined;
        if (ft.isEmptyObject(h))
            "inline" === ("none" === c ? x(t.nodeName) : c) && (f.display = c);
        else {
            m ? "hidden" in m && (p = m.hidden) : m = ft._data(t, "fxshow", {}), a && (m.hidden = !p), p ? ft(t).show() : d.done(function() {
                ft(t).hide()
            }), d.done(function() {
                var e;
                ft._removeData(t, "fxshow");
                for (e in h)
                    ft.style(t, e, h[e])
            });
            for (i in h)
                s = B(p ? m[i] : 0, i, d), i in m || (m[i] = s.start, p && (s.end = s.start, s.start = "width" === i || "height" === i ? 1 : 0))
        }
    }
    function z(t, e) {
        var n,
            i,
            o,
            a,
            s;
        for (n in t)
            if (i = ft.camelCase(n), o = e[i], a = t[n], ft.isArray(a) && (o = a[1], a = t[n] = a[0]), n !== i && (t[i] = a, delete t[n]), (s = ft.cssHooks[i]) && "expand" in s) {
                a = s.expand(a), delete t[i];
                for (n in a)
                    n in t || (t[n] = a[n], e[n] = o)
            } else
                e[i] = o
    }
    function j(t, e, n) {
        var i,
            o,
            a = 0,
            s = j.prefilters.length,
            r = ft.Deferred().always(function() {
                delete l.elem
            }),
            l = function() {
                if (o)
                    return !1;
                for (var e = De || $(), n = Math.max(0, c.startTime + c.duration - e), i = n / c.duration || 0, a = 1 - i, s = 0, l = c.tweens.length; s < l; s++)
                    c.tweens[s].run(a);
                return r.notifyWith(t, [c, a, n]), a < 1 && l ? n : (r.resolveWith(t, [c]), !1)
            },
            c = r.promise({
                elem: t,
                props: ft.extend({}, e),
                opts: ft.extend(!0, {
                    specialEasing: {},
                    easing: ft.easing._default
                }, n),
                originalProperties: e,
                originalOptions: n,
                startTime: De || $(),
                duration: n.duration,
                tweens: [],
                createTween: function(e, n) {
                    var i = ft.Tween(t, c.opts, e, n, c.opts.specialEasing[e] || c.opts.easing);
                    return c.tweens.push(i), i
                },
                stop: function(e) {
                    var n = 0,
                        i = e ? c.tweens.length : 0;
                    if (o)
                        return this;
                    for (o = !0; n < i; n++)
                        c.tweens[n].run(1);
                    return e ? (r.notifyWith(t, [c, 1, 0]), r.resolveWith(t, [c, e])) : r.rejectWith(t, [c, e]), this
                }
            }),
            u = c.props;
        for (z(u, c.opts.specialEasing); a < s; a++)
            if (i = j.prefilters[a].call(c, t, u, c.opts))
                return ft.isFunction(i.stop) && (ft._queueHooks(c.elem, c.opts.queue).stop = ft.proxy(i.stop, i)), i;
        return ft.map(u, B, c), ft.isFunction(c.opts.start) && c.opts.start.call(t, c), ft.fx.timer(ft.extend(l, {
            elem: t,
            anim: c,
            queue: c.opts.queue
        })), c.progress(c.opts.progress).done(c.opts.done, c.opts.complete).fail(c.opts.fail).always(c.opts.always)
    }
    function W(t) {
        return ft.attr(t, "class") || ""
    }
    function q(t) {
        return function(e, n) {
            "string" != typeof e && (n = e, e = "*");
            var i,
                o = 0,
                a = e.toLowerCase().match(kt) || [];
            if (ft.isFunction(n))
                for (; i = a[o++];)
                    "+" === i.charAt(0) ? (i = i.slice(1) || "*", (t[i] = t[i] || []).unshift(n)) : (t[i] = t[i] || []).push(n)
        }
    }
    function V(t, e, n, i) {
        function o(r) {
            var l;
            return a[r] = !0, ft.each(t[r] || [], function(t, r) {
                var c = r(e, n, i);
                return "string" != typeof c || s || a[c] ? s ? !(l = c) : void 0 : (e.dataTypes.unshift(c), o(c), !1)
            }), l
        }
        var a = {},
            s = t === Ze;
        return o(e.dataTypes[0]) || !a["*"] && o("*")
    }
    function U(t, e) {
        var n,
            i,
            o = ft.ajaxSettings.flatOptions || {};
        for (i in e)
            e[i] !== undefined && ((o[i] ? t : n || (n = {}))[i] = e[i]);
        return n && ft.extend(!0, t, n), t
    }
    function Y(t, e, n) {
        for (var i, o, a, s, r = t.contents, l = t.dataTypes; "*" === l[0];)
            l.shift(), o === undefined && (o = t.mimeType || e.getResponseHeader("Content-Type"));
        if (o)
            for (s in r)
                if (r[s] && r[s].test(o)) {
                    l.unshift(s);
                    break
                }
        if (l[0] in n)
            a = l[0];
        else {
            for (s in n) {
                if (!l[0] || t.converters[s + " " + l[0]]) {
                    a = s;
                    break
                }
                i || (i = s)
            }
            a = a || i
        }
        if (a)
            return a !== l[0] && l.unshift(a), n[a]
    }
    function X(t, e, n, i) {
        var o,
            a,
            s,
            r,
            l,
            c = {},
            u = t.dataTypes.slice();
        if (u[1])
            for (s in t.converters)
                c[s.toLowerCase()] = t.converters[s];
        for (a = u.shift(); a;)
            if (t.responseFields[a] && (n[t.responseFields[a]] = e), !l && i && t.dataFilter && (e = t.dataFilter(e, t.dataType)), l = a, a = u.shift())
                if ("*" === a)
                    a = l;
                else if ("*" !== l && l !== a) {
                    if (!(s = c[l + " " + a] || c["* " + a]))
                        for (o in c)
                            if (r = o.split(" "), r[1] === a && (s = c[l + " " + r[0]] || c["* " + r[0]])) {
                                !0 === s ? s = c[o] : !0 !== c[o] && (a = r[0], u.unshift(r[1]));
                                break
                            }
                    if (!0 !== s)
                        if (s && t["throws"])
                            e = s(e);
                        else
                            try {
                                e = s(e)
                            } catch (t) {
                                return {
                                    state: "parsererror",
                                    error: s ? t : "No conversion from " + l + " to " + a
                                }
                            }
                }
        return {
            state: "success",
            data: e
        }
    }
    function G(t) {
        return t.style && t.style.display || ft.css(t, "display")
    }
    function Z(t) {
        if (!ft.contains(t.ownerDocument || it, t))
            return !0;
        for (; t && 1 === t.nodeType;) {
            if ("none" === G(t) || "hidden" === t.type)
                return !0;
            t = t.parentNode
        }
        return !1
    }
    function Q(t, e, n, i) {
        var o;
        if (ft.isArray(e))
            ft.each(e, function(e, o) {
                n || nn.test(t) ? i(t, o) : Q(t + "[" + ("object" == typeof o && null != o ? e : "") + "]", o, n, i)
            });
        else if (n || "object" !== ft.type(e))
            i(t, e);
        else
            for (o in e)
                Q(t + "[" + o + "]", e[o], n, i)
    }
    function J() {
        try {
            return new t.XMLHttpRequest
        } catch (t) {}
    }
    function tt() {
        try {
            return new t.ActiveXObject("Microsoft.XMLHTTP")
        } catch (t) {}
    }
    function et(t) {
        return ft.isWindow(t) ? t : 9 === t.nodeType && (t.defaultView || t.parentWindow)
    }
    var nt = [],
        it = t.document,
        ot = nt.slice,
        at = nt.concat,
        st = nt.push,
        rt = nt.indexOf,
        lt = {},
        ct = lt.toString,
        ut = lt.hasOwnProperty,
        dt = {},
        ht = "1.12.4",
        ft = function(t, e) {
            return new ft.fn.init(t, e)
        },
        pt = /^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,
        mt = /^-ms-/,
        gt = /-([\da-z])/gi,
        vt = function(t, e) {
            return e.toUpperCase()
        };
    ft.fn = ft.prototype = {
        jquery: ht,
        constructor: ft,
        selector: "",
        length: 0,
        toArray: function() {
            return ot.call(this)
        },
        get: function(t) {
            return null != t ? t < 0 ? this[t + this.length] : this[t] : ot.call(this)
        },
        pushStack: function(t) {
            var e = ft.merge(this.constructor(), t);
            return e.prevObject = this, e.context = this.context, e
        },
        each: function(t) {
            return ft.each(this, t)
        },
        map: function(t) {
            return this.pushStack(ft.map(this, function(e, n) {
                return t.call(e, n, e)
            }))
        },
        slice: function() {
            return this.pushStack(ot.apply(this, arguments))
        },
        first: function() {
            return this.eq(0)
        },
        last: function() {
            return this.eq(-1)
        },
        eq: function(t) {
            var e = this.length,
                n = +t + (t < 0 ? e : 0);
            return this.pushStack(n >= 0 && n < e ? [this[n]] : [])
        },
        end: function() {
            return this.prevObject || this.constructor()
        },
        push: st,
        sort: nt.sort,
        splice: nt.splice
    }, ft.extend = ft.fn.extend = function() {
        var t,
            e,
            n,
            i,
            o,
            a,
            s = arguments[0] || {},
            r = 1,
            l = arguments.length,
            c = !1;
        for ("boolean" == typeof s && (c = s, s = arguments[r] || {}, r++), "object" == typeof s || ft.isFunction(s) || (s = {}), r === l && (s = this, r--); r < l; r++)
            if (null != (o = arguments[r]))
                for (i in o)
                    t = s[i], n = o[i], s !== n && (c && n && (ft.isPlainObject(n) || (e = ft.isArray(n))) ? (e ? (e = !1, a = t && ft.isArray(t) ? t : []) : a = t && ft.isPlainObject(t) ? t : {}, s[i] = ft.extend(c, a, n)) : n !== undefined && (s[i] = n));
        return s
    }, ft.extend({
        expando: "jQuery" + (ht + Math.random()).replace(/\D/g, ""),
        isReady: !0,
        error: function(t) {
            throw new Error(t)
        },
        noop: function() {},
        isFunction: function(t) {
            return "function" === ft.type(t)
        },
        isArray: Array.isArray || function(t) {
            return "array" === ft.type(t)
        },
        isWindow: function(t) {
            return null != t && t == t.window
        },
        isNumeric: function(t) {
            var e = t && t.toString();
            return !ft.isArray(t) && e - parseFloat(e) + 1 >= 0
        },
        isEmptyObject: function(t) {
            var e;
            for (e in t)
                return !1;
            return !0
        },
        isPlainObject: function(t) {
            var e;
            if (!t || "object" !== ft.type(t) || t.nodeType || ft.isWindow(t))
                return !1;
            try {
                if (t.constructor && !ut.call(t, "constructor") && !ut.call(t.constructor.prototype, "isPrototypeOf"))
                    return !1
            } catch (t) {
                return !1
            }
            if (!dt.ownFirst)
                for (e in t)
                    return ut.call(t, e);
            for (e in t)
                ;
            return e === undefined || ut.call(t, e)
        },
        type: function(t) {
            return null == t ? t + "" : "object" == typeof t || "function" == typeof t ? lt[ct.call(t)] || "object" : typeof t
        },
        globalEval: function(e) {
            e && ft.trim(e) && (t.execScript || function(e) {
                t.eval.call(t, e)
            })(e)
        },
        camelCase: function(t) {
            return t.replace(mt, "ms-").replace(gt, vt)
        },
        nodeName: function(t, e) {
            return t.nodeName && t.nodeName.toLowerCase() === e.toLowerCase()
        },
        each: function(t, e) {
            var i,
                o = 0;
            if (n(t))
                for (i = t.length; o < i && !1 !== e.call(t[o], o, t[o]); o++)
                    ;
            else
                for (o in t)
                    if (!1 === e.call(t[o], o, t[o]))
                        break;
            return t
        },
        trim: function(t) {
            return null == t ? "" : (t + "").replace(pt, "")
        },
        makeArray: function(t, e) {
            var i = e || [];
            return null != t && (n(Object(t)) ? ft.merge(i, "string" == typeof t ? [t] : t) : st.call(i, t)), i
        },
        inArray: function(t, e, n) {
            var i;
            if (e) {
                if (rt)
                    return rt.call(e, t, n);
                for (i = e.length, n = n ? n < 0 ? Math.max(0, i + n) : n : 0; n < i; n++)
                    if (n in e && e[n] === t)
                        return n
            }
            return -1
        },
        merge: function(t, e) {
            for (var n = +e.length, i = 0, o = t.length; i < n;)
                t[o++] = e[i++];
            if (n !== n)
                for (; e[i] !== undefined;)
                    t[o++] = e[i++];
            return t.length = o, t
        },
        grep: function(t, e, n) {
            for (var i, o = [], a = 0, s = t.length, r = !n; a < s; a++)
                (i = !e(t[a], a)) !== r && o.push(t[a]);
            return o
        },
        map: function(t, e, i) {
            var o,
                a,
                s = 0,
                r = [];
            if (n(t))
                for (o = t.length; s < o; s++)
                    null != (a = e(t[s], s, i)) && r.push(a);
            else
                for (s in t)
                    null != (a = e(t[s], s, i)) && r.push(a);
            return at.apply([], r)
        },
        guid: 1,
        proxy: function(t, e) {
            var n,
                i,
                o;
            return "string" == typeof e && (o = t[e], e = t, t = o), ft.isFunction(t) ? (n = ot.call(arguments, 2), i = function() {
                return t.apply(e || this, n.concat(ot.call(arguments)))
            }, i.guid = t.guid = t.guid || ft.guid++, i) : undefined
        },
        now: function() {
            return +new Date
        },
        support: dt
    }), "function" == typeof Symbol && (ft.fn[Symbol.iterator] = nt[Symbol.iterator]), ft.each("Boolean Number String Function Array Date RegExp Object Error Symbol".split(" "), function(t, e) {
        lt["[object " + e + "]"] = e.toLowerCase()
    });
    var bt = /*!
 * Sizzle CSS Selector Engine v2.2.1
 * http://sizzlejs.com/
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license
 * http://jquery.org/license
 *
 * Date: 2015-10-17
 */
    function(t) {
        function e(t, e, n, i) {
            var o,
                a,
                s,
                r,
                l,
                c,
                d,
                f,
                p = e && e.ownerDocument,
                m = e ? e.nodeType : 9;
            if (n = n || [], "string" != typeof t || !t || 1 !== m && 9 !== m && 11 !== m)
                return n;
            if (!i && ((e ? e.ownerDocument || e : B) !== K && S(e), e = e || K, A)) {
                if (11 !== m && (c = vt.exec(t)))
                    if (o = c[1]) {
                        if (9 === m) {
                            if (!(s = e.getElementById(o)))
                                return n;
                            if (s.id === o)
                                return n.push(s), n
                        } else if (p && (s = p.getElementById(o)) && $(e, s) && s.id === o)
                            return n.push(s), n
                    } else {
                        if (c[2])
                            return Q.apply(n, e.getElementsByTagName(t)), n;
                        if ((o = c[3]) && T.getElementsByClassName && e.getElementsByClassName)
                            return Q.apply(n, e.getElementsByClassName(o)), n
                    }
                if (T.qsa && !q[t + " "] && (!F || !F.test(t))) {
                    if (1 !== m)
                        p = e, f = t;
                    else if ("object" !== e.nodeName.toLowerCase()) {
                        for ((r = e.getAttribute("id")) ? r = r.replace(Et, "\\$&") : e.setAttribute("id", r = M), d = I(t), a = d.length, l = ht.test(r) ? "#" + r : "[id='" + r + "']"; a--;)
                            d[a] = l + " " + h(d[a]);
                        f = d.join(","), p = bt.test(t) && u(e.parentNode) || e
                    }
                    if (f)
                        try {
                            return Q.apply(n, p.querySelectorAll(f)), n
                        } catch (t) {} finally {
                            r === M && e.removeAttribute("id")
                        }
                }
            }
            return R(t.replace(rt, "$1"), e, n, i)
        }
        function n() {
            function t(n, i) {
                return e.push(n + " ") > C.cacheLength && delete t[e.shift()], t[n + " "] = i
            }
            var e = [];
            return t
        }
        function i(t) {
            return t[M] = !0, t
        }
        function o(t) {
            var e = K.createElement("div");
            try {
                return !!t(e)
            } catch (t) {
                return !1
            } finally {
                e.parentNode && e.parentNode.removeChild(e), e = null
            }
        }
        function a(t, e) {
            for (var n = t.split("|"), i = n.length; i--;)
                C.attrHandle[n[i]] = e
        }
        function s(t, e) {
            var n = e && t,
                i = n && 1 === t.nodeType && 1 === e.nodeType && (~e.sourceIndex || U) - (~t.sourceIndex || U);
            if (i)
                return i;
            if (n)
                for (; n = n.nextSibling;)
                    if (n === e)
                        return -1;
            return t ? 1 : -1
        }
        function r(t) {
            return function(e) {
                return "input" === e.nodeName.toLowerCase() && e.type === t
            }
        }
        function l(t) {
            return function(e) {
                var n = e.nodeName.toLowerCase();
                return ("input" === n || "button" === n) && e.type === t
            }
        }
        function c(t) {
            return i(function(e) {
                return e = +e, i(function(n, i) {
                    for (var o, a = t([], n.length, e), s = a.length; s--;)
                        n[o = a[s]] && (n[o] = !(i[o] = n[o]))
                })
            })
        }
        function u(t) {
            return t && "undefined" != typeof t.getElementsByTagName && t
        }
        function d() {}
        function h(t) {
            for (var e = 0, n = t.length, i = ""; e < n; e++)
                i += t[e].value;
            return i
        }
        function f(t, e, n) {
            var i = e.dir,
                o = n && "parentNode" === i,
                a = z++;
            return e.first ? function(e, n, a) {
                for (; e = e[i];)
                    if (1 === e.nodeType || o)
                        return t(e, n, a)
            } : function(e, n, s) {
                var r,
                    l,
                    c,
                    u = [H, a];
                if (s) {
                    for (; e = e[i];)
                        if ((1 === e.nodeType || o) && t(e, n, s))
                            return !0
                } else
                    for (; e = e[i];)
                        if (1 === e.nodeType || o) {
                            if (c = e[M] || (e[M] = {}), l = c[e.uniqueID] || (c[e.uniqueID] = {}), (r = l[i]) && r[0] === H && r[1] === a)
                                return u[2] = r[2];
                            if (l[i] = u, u[2] = t(e, n, s))
                                return !0
                        }
            }
        }
        function p(t) {
            return t.length > 1 ? function(e, n, i) {
                for (var o = t.length; o--;)
                    if (!t[o](e, n, i))
                        return !1;
                return !0
            } : t[0]
        }
        function m(t, n, i) {
            for (var o = 0, a = n.length; o < a; o++)
                e(t, n[o], i);
            return i
        }
        function g(t, e, n, i, o) {
            for (var a, s = [], r = 0, l = t.length, c = null != e; r < l; r++)
                (a = t[r]) && (n && !n(a, i, o) || (s.push(a), c && e.push(r)));
            return s
        }
        function v(t, e, n, o, a, s) {
            return o && !o[M] && (o = v(o)), a && !a[M] && (a = v(a, s)), i(function(i, s, r, l) {
                var c,
                    u,
                    d,
                    h = [],
                    f = [],
                    p = s.length,
                    v = i || m(e || "*", r.nodeType ? [r] : r, []),
                    b = !t || !i && e ? v : g(v, h, t, r, l),
                    E = n ? a || (i ? t : p || o) ? [] : s : b;
                if (n && n(b, E, r, l), o)
                    for (c = g(E, f), o(c, [], r, l), u = c.length; u--;)
                        (d = c[u]) && (E[f[u]] = !(b[f[u]] = d));
                if (i) {
                    if (a || t) {
                        if (a) {
                            for (c = [], u = E.length; u--;)
                                (d = E[u]) && c.push(b[u] = d);
                            a(null, E = [], c, l)
                        }
                        for (u = E.length; u--;)
                            (d = E[u]) && (c = a ? tt(i, d) : h[u]) > -1 && (i[c] = !(s[c] = d))
                    }
                } else
                    E = g(E === s ? E.splice(p, E.length) : E), a ? a(null, s, E, l) : Q.apply(s, E)
            })
        }
        function b(t) {
            for (var e, n, i, o = t.length, a = C.relative[t[0].type], s = a || C.relative[" "], r = a ? 1 : 0, l = f(function(t) {
                    return t === e
                }, s, !0), c = f(function(t) {
                    return tt(e, t) > -1
                }, s, !0), u = [function(t, n, i) {
                    var o = !a && (i || n !== k) || ((e = n).nodeType ? l(t, n, i) : c(t, n, i));
                    return e = null, o
                }]; r < o; r++)
                if (n = C.relative[t[r].type])
                    u = [f(p(u), n)];
                else {
                    if (n = C.filter[t[r].type].apply(null, t[r].matches), n[M]) {
                        for (i = ++r; i < o && !C.relative[t[i].type]; i++)
                            ;
                        return v(r > 1 && p(u), r > 1 && h(t.slice(0, r - 1).concat({
                            value: " " === t[r - 2].type ? "*" : ""
                        })).replace(rt, "$1"), n, r < i && b(t.slice(r, i)), i < o && b(t = t.slice(i)), i < o && h(t))
                    }
                    u.push(n)
                }
            return p(u)
        }
        function E(t, n) {
            var o = n.length > 0,
                a = t.length > 0,
                s = function(i, s, r, l, c) {
                    var u,
                        d,
                        h,
                        f = 0,
                        p = "0",
                        m = i && [],
                        v = [],
                        b = k,
                        E = i || a && C.find.TAG("*", c),
                        y = H += null == b ? 1 : Math.random() || .1,
                        T = E.length;
                    for (c && (k = s === K || s || c); p !== T && null != (u = E[p]); p++) {
                        if (a && u) {
                            for (d = 0, s || u.ownerDocument === K || (S(u), r = !A); h = t[d++];)
                                if (h(u, s || K, r)) {
                                    l.push(u);
                                    break
                                }
                            c && (H = y)
                        }
                        o && ((u = !h && u) && f--, i && m.push(u))
                    }
                    if (f += p, o && p !== f) {
                        for (d = 0; h = n[d++];)
                            h(m, v, s, r);
                        if (i) {
                            if (f > 0)
                                for (; p--;)
                                    m[p] || v[p] || (v[p] = G.call(l));
                            v = g(v)
                        }
                        Q.apply(l, v), c && !i && v.length > 0 && f + n.length > 1 && e.uniqueSort(l)
                    }
                    return c && (H = y, k = b), m
                };
            return o ? i(s) : s
        }
        var y,
            T,
            C,
            _,
            D,
            I,
            O,
            R,
            k,
            w,
            x,
            S,
            K,
            N,
            A,
            F,
            P,
            L,
            $,
            M = "sizzle" + 1 * new Date,
            B = t.document,
            H = 0,
            z = 0,
            j = n(),
            W = n(),
            q = n(),
            V = function(t, e) {
                return t === e && (x = !0), 0
            },
            U = 1 << 31,
            Y = {}.hasOwnProperty,
            X = [],
            G = X.pop,
            Z = X.push,
            Q = X.push,
            J = X.slice,
            tt = function(t, e) {
                for (var n = 0, i = t.length; n < i; n++)
                    if (t[n] === e)
                        return n;
                return -1
            },
            et = "checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",
            nt = "[\\x20\\t\\r\\n\\f]",
            it = "(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",
            ot = "\\[" + nt + "*(" + it + ")(?:" + nt + "*([*^$|!~]?=)" + nt + "*(?:'((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\"|(" + it + "))|)" + nt + "*\\]",
            at = ":(" + it + ")(?:\\((('((?:\\\\.|[^\\\\'])*)'|\"((?:\\\\.|[^\\\\\"])*)\")|((?:\\\\.|[^\\\\()[\\]]|" + ot + ")*)|.*)\\)|)",
            st = new RegExp(nt + "+", "g"),
            rt = new RegExp("^" + nt + "+|((?:^|[^\\\\])(?:\\\\.)*)" + nt + "+$", "g"),
            lt = new RegExp("^" + nt + "*," + nt + "*"),
            ct = new RegExp("^" + nt + "*([>+~]|" + nt + ")" + nt + "*"),
            ut = new RegExp("=" + nt + "*([^\\]'\"]*?)" + nt + "*\\]", "g"),
            dt = new RegExp(at),
            ht = new RegExp("^" + it + "$"),
            ft = {
                ID: new RegExp("^#(" + it + ")"),
                CLASS: new RegExp("^\\.(" + it + ")"),
                TAG: new RegExp("^(" + it + "|[*])"),
                ATTR: new RegExp("^" + ot),
                PSEUDO: new RegExp("^" + at),
                CHILD: new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\(" + nt + "*(even|odd|(([+-]|)(\\d*)n|)" + nt + "*(?:([+-]|)" + nt + "*(\\d+)|))" + nt + "*\\)|)", "i"),
                bool: new RegExp("^(?:" + et + ")$", "i"),
                needsContext: new RegExp("^" + nt + "*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\(" + nt + "*((?:-\\d)?\\d*)" + nt + "*\\)|)(?=[^-]|$)", "i")
            },
            pt = /^(?:input|select|textarea|button)$/i,
            mt = /^h\d$/i,
            gt = /^[^{]+\{\s*\[native \w/,
            vt = /^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,
            bt = /[+~]/,
            Et = /'|\\/g,
            yt = new RegExp("\\\\([\\da-f]{1,6}" + nt + "?|(" + nt + ")|.)", "ig"),
            Tt = function(t, e, n) {
                var i = "0x" + e - 65536;
                return i !== i || n ? e : i < 0 ? String.fromCharCode(i + 65536) : String.fromCharCode(i >> 10 | 55296, 1023 & i | 56320)
            },
            Ct = function() {
                S()
            };
        try {
            Q.apply(X = J.call(B.childNodes), B.childNodes), X[B.childNodes.length].nodeType
        } catch (t) {
            Q = {
                apply: X.length ? function(t, e) {
                    Z.apply(t, J.call(e))
                } : function(t, e) {
                    for (var n = t.length, i = 0; t[n++] = e[i++];)
                        ;
                    t.length = n - 1
                }
            }
        }
        T = e.support = {}, D = e.isXML = function(t) {
            var e = t && (t.ownerDocument || t).documentElement;
            return !!e && "HTML" !== e.nodeName
        }, S = e.setDocument = function(t) {
            var e,
                n,
                i = t ? t.ownerDocument || t : B;
            return i !== K && 9 === i.nodeType && i.documentElement ? (K = i, N = K.documentElement, A = !D(K), (n = K.defaultView) && n.top !== n && (n.addEventListener ? n.addEventListener("unload", Ct, !1) : n.attachEvent && n.attachEvent("onunload", Ct)), T.attributes = o(function(t) {
                return t.className = "i", !t.getAttribute("className")
            }), T.getElementsByTagName = o(function(t) {
                return t.appendChild(K.createComment("")), !t.getElementsByTagName("*").length
            }), T.getElementsByClassName = gt.test(K.getElementsByClassName), T.getById = o(function(t) {
                return N.appendChild(t).id = M, !K.getElementsByName || !K.getElementsByName(M).length
            }), T.getById ? (C.find.ID = function(t, e) {
                if ("undefined" != typeof e.getElementById && A) {
                    var n = e.getElementById(t);
                    return n ? [n] : []
                }
            }, C.filter.ID = function(t) {
                var e = t.replace(yt, Tt);
                return function(t) {
                    return t.getAttribute("id") === e
                }
            }) : (delete C.find.ID, C.filter.ID = function(t) {
                var e = t.replace(yt, Tt);
                return function(t) {
                    var n = "undefined" != typeof t.getAttributeNode && t.getAttributeNode("id");
                    return n && n.value === e
                }
            }), C.find.TAG = T.getElementsByTagName ? function(t, e) {
                return "undefined" != typeof e.getElementsByTagName ? e.getElementsByTagName(t) : T.qsa ? e.querySelectorAll(t) : void 0
            } : function(t, e) {
                var n,
                    i = [],
                    o = 0,
                    a = e.getElementsByTagName(t);
                if ("*" === t) {
                    for (; n = a[o++];)
                        1 === n.nodeType && i.push(n);
                    return i
                }
                return a
            }, C.find.CLASS = T.getElementsByClassName && function(t, e) {
                if ("undefined" != typeof e.getElementsByClassName && A)
                    return e.getElementsByClassName(t)
            }, P = [], F = [], (T.qsa = gt.test(K.querySelectorAll)) && (o(function(t) {
                N.appendChild(t).innerHTML = "<a id='" + M + "'></a><select id='" + M + "-\r\\' msallowcapture=''><option selected=''></option></select>", t.querySelectorAll("[msallowcapture^='']").length && F.push("[*^$]=" + nt + "*(?:''|\"\")"), t.querySelectorAll("[selected]").length || F.push("\\[" + nt + "*(?:value|" + et + ")"), t.querySelectorAll("[id~=" + M + "-]").length || F.push("~="), t.querySelectorAll(":checked").length || F.push(":checked"), t.querySelectorAll("a#" + M + "+*").length || F.push(".#.+[+~]")
            }), o(function(t) {
                var e = K.createElement("input");
                e.setAttribute("type", "hidden"), t.appendChild(e).setAttribute("name", "D"), t.querySelectorAll("[name=d]").length && F.push("name" + nt + "*[*^$|!~]?="), t.querySelectorAll(":enabled").length || F.push(":enabled", ":disabled"), t.querySelectorAll("*,:x"), F.push(",.*:")
            })), (T.matchesSelector = gt.test(L = N.matches || N.webkitMatchesSelector || N.mozMatchesSelector || N.oMatchesSelector || N.msMatchesSelector)) && o(function(t) {
                T.disconnectedMatch = L.call(t, "div"), L.call(t, "[s!='']:x"), P.push("!=", at)
            }), F = F.length && new RegExp(F.join("|")), P = P.length && new RegExp(P.join("|")), e = gt.test(N.compareDocumentPosition), $ = e || gt.test(N.contains) ? function(t, e) {
                var n = 9 === t.nodeType ? t.documentElement : t,
                    i = e && e.parentNode;
                return t === i || !(!i || 1 !== i.nodeType || !(n.contains ? n.contains(i) : t.compareDocumentPosition && 16 & t.compareDocumentPosition(i)))
            } : function(t, e) {
                if (e)
                    for (; e = e.parentNode;)
                        if (e === t)
                            return !0;
                return !1
            }, V = e ? function(t, e) {
                if (t === e)
                    return x = !0, 0;
                var n = !t.compareDocumentPosition - !e.compareDocumentPosition;
                return n || (n = (t.ownerDocument || t) === (e.ownerDocument || e) ? t.compareDocumentPosition(e) : 1, 1 & n || !T.sortDetached && e.compareDocumentPosition(t) === n ? t === K || t.ownerDocument === B && $(B, t) ? -1 : e === K || e.ownerDocument === B && $(B, e) ? 1 : w ? tt(w, t) - tt(w, e) : 0 : 4 & n ? -1 : 1)
            } : function(t, e) {
                if (t === e)
                    return x = !0, 0;
                var n,
                    i = 0,
                    o = t.parentNode,
                    a = e.parentNode,
                    r = [t],
                    l = [e];
                if (!o || !a)
                    return t === K ? -1 : e === K ? 1 : o ? -1 : a ? 1 : w ? tt(w, t) - tt(w, e) : 0;
                if (o === a)
                    return s(t, e);
                for (n = t; n = n.parentNode;)
                    r.unshift(n);
                for (n = e; n = n.parentNode;)
                    l.unshift(n);
                for (; r[i] === l[i];)
                    i++;
                return i ? s(r[i], l[i]) : r[i] === B ? -1 : l[i] === B ? 1 : 0
            }, K) : K
        }, e.matches = function(t, n) {
            return e(t, null, null, n)
        }, e.matchesSelector = function(t, n) {
            if ((t.ownerDocument || t) !== K && S(t), n = n.replace(ut, "='$1']"), T.matchesSelector && A && !q[n + " "] && (!P || !P.test(n)) && (!F || !F.test(n)))
                try {
                    var i = L.call(t, n);
                    if (i || T.disconnectedMatch || t.document && 11 !== t.document.nodeType)
                        return i
                } catch (t) {}
            return e(n, K, null, [t]).length > 0
        }, e.contains = function(t, e) {
            return (t.ownerDocument || t) !== K && S(t), $(t, e)
        }, e.attr = function(t, e) {
            (t.ownerDocument || t) !== K && S(t);
            var n = C.attrHandle[e.toLowerCase()],
                i = n && Y.call(C.attrHandle, e.toLowerCase()) ? n(t, e, !A) : undefined;
            return i !== undefined ? i : T.attributes || !A ? t.getAttribute(e) : (i = t.getAttributeNode(e)) && i.specified ? i.value : null
        }, e.error = function(t) {
            throw new Error("Syntax error, unrecognized expression: " + t)
        }, e.uniqueSort = function(t) {
            var e,
                n = [],
                i = 0,
                o = 0;
            if (x = !T.detectDuplicates, w = !T.sortStable && t.slice(0), t.sort(V), x) {
                for (; e = t[o++];)
                    e === t[o] && (i = n.push(o));
                for (; i--;)
                    t.splice(n[i], 1)
            }
            return w = null, t
        }, _ = e.getText = function(t) {
            var e,
                n = "",
                i = 0,
                o = t.nodeType;
            if (o) {
                if (1 === o || 9 === o || 11 === o) {
                    if ("string" == typeof t.textContent)
                        return t.textContent;
                    for (t = t.firstChild; t; t = t.nextSibling)
                        n += _(t)
                } else if (3 === o || 4 === o)
                    return t.nodeValue
            } else
                for (; e = t[i++];)
                    n += _(e);
            return n
        }, C = e.selectors = {
            cacheLength: 50,
            createPseudo: i,
            match: ft,
            attrHandle: {},
            find: {},
            relative: {
                ">": {
                    dir: "parentNode",
                    first: !0
                },
                " ": {
                    dir: "parentNode"
                },
                "+": {
                    dir: "previousSibling",
                    first: !0
                },
                "~": {
                    dir: "previousSibling"
                }
            },
            preFilter: {
                ATTR: function(t) {
                    return t[1] = t[1].replace(yt, Tt), t[3] = (t[3] || t[4] || t[5] || "").replace(yt, Tt), "~=" === t[2] && (t[3] = " " + t[3] + " "), t.slice(0, 4)
                },
                CHILD: function(t) {
                    return t[1] = t[1].toLowerCase(), "nth" === t[1].slice(0, 3) ? (t[3] || e.error(t[0]), t[4] = +(t[4] ? t[5] + (t[6] || 1) : 2 * ("even" === t[3] || "odd" === t[3])), t[5] = +(t[7] + t[8] || "odd" === t[3])) : t[3] && e.error(t[0]), t
                },
                PSEUDO: function(t) {
                    var e,
                        n = !t[6] && t[2];
                    return ft.CHILD.test(t[0]) ? null : (t[3] ? t[2] = t[4] || t[5] || "" : n && dt.test(n) && (e = I(n, !0)) && (e = n.indexOf(")", n.length - e) - n.length) && (t[0] = t[0].slice(0, e), t[2] = n.slice(0, e)), t.slice(0, 3))
                }
            },
            filter: {
                TAG: function(t) {
                    var e = t.replace(yt, Tt).toLowerCase();
                    return "*" === t ? function() {
                        return !0
                    } : function(t) {
                        return t.nodeName && t.nodeName.toLowerCase() === e
                    }
                },
                CLASS: function(t) {
                    var e = j[t + " "];
                    return e || (e = new RegExp("(^|" + nt + ")" + t + "(" + nt + "|$)")) && j(t, function(t) {
                            return e.test("string" == typeof t.className && t.className || "undefined" != typeof t.getAttribute && t.getAttribute("class") || "")
                        })
                },
                ATTR: function(t, n, i) {
                    return function(o) {
                        var a = e.attr(o, t);
                        return null == a ? "!=" === n : !n || (a += "", "=" === n ? a === i : "!=" === n ? a !== i : "^=" === n ? i && 0 === a.indexOf(i) : "*=" === n ? i && a.indexOf(i) > -1 : "$=" === n ? i && a.slice(-i.length) === i : "~=" === n ? (" " + a.replace(st, " ") + " ").indexOf(i) > -1 : "|=" === n && (a === i || a.slice(0, i.length + 1) === i + "-"))
                    }
                },
                CHILD: function(t, e, n, i, o) {
                    var a = "nth" !== t.slice(0, 3),
                        s = "last" !== t.slice(-4),
                        r = "of-type" === e;
                    return 1 === i && 0 === o ? function(t) {
                        return !!t.parentNode
                    } : function(e, n, l) {
                        var c,
                            u,
                            d,
                            h,
                            f,
                            p,
                            m = a !== s ? "nextSibling" : "previousSibling",
                            g = e.parentNode,
                            v = r && e.nodeName.toLowerCase(),
                            b = !l && !r,
                            E = !1;
                        if (g) {
                            if (a) {
                                for (; m;) {
                                    for (h = e; h = h[m];)
                                        if (r ? h.nodeName.toLowerCase() === v : 1 === h.nodeType)
                                            return !1;
                                    p = m = "only" === t && !p && "nextSibling"
                                }
                                return !0
                            }
                            if (p = [s ? g.firstChild : g.lastChild], s && b) {
                                for (h = g, d = h[M] || (h[M] = {}), u = d[h.uniqueID] || (d[h.uniqueID] = {}), c = u[t] || [], f = c[0] === H && c[1], E = f && c[2], h = f && g.childNodes[f]; h = ++f && h && h[m] || (E = f = 0) || p.pop();)
                                    if (1 === h.nodeType && ++E && h === e) {
                                        u[t] = [H, f, E];
                                        break
                                    }
                            } else if (b && (h = e, d = h[M] || (h[M] = {}), u = d[h.uniqueID] || (d[h.uniqueID] = {}), c = u[t] || [], f = c[0] === H && c[1], E = f), !1 === E)
                                for (; (h = ++f && h && h[m] || (E = f = 0) || p.pop()) && ((r ? h.nodeName.toLowerCase() !== v : 1 !== h.nodeType) || !++E || (b && (d = h[M] || (h[M] = {}), u = d[h.uniqueID] || (d[h.uniqueID] = {}), u[t] = [H, E]), h !== e));)
                                    ;
                            return (E -= o) === i || E % i == 0 && E / i >= 0
                        }
                    }
                },
                PSEUDO: function(t, n) {
                    var o,
                        a = C.pseudos[t] || C.setFilters[t.toLowerCase()] || e.error("unsupported pseudo: " + t);
                    return a[M] ? a(n) : a.length > 1 ? (o = [t, t, "", n], C.setFilters.hasOwnProperty(t.toLowerCase()) ? i(function(t, e) {
                        for (var i, o = a(t, n), s = o.length; s--;)
                            i = tt(t, o[s]), t[i] = !(e[i] = o[s])
                    }) : function(t) {
                        return a(t, 0, o)
                    }) : a
                }
            },
            pseudos: {
                not: i(function(t) {
                    var e = [],
                        n = [],
                        o = O(t.replace(rt, "$1"));
                    return o[M] ? i(function(t, e, n, i) {
                        for (var a, s = o(t, null, i, []), r = t.length; r--;)
                            (a = s[r]) && (t[r] = !(e[r] = a))
                    }) : function(t, i, a) {
                        return e[0] = t, o(e, null, a, n), e[0] = null, !n.pop()
                    }
                }),
                has: i(function(t) {
                    return function(n) {
                        return e(t, n).length > 0
                    }
                }),
                contains: i(function(t) {
                    return t = t.replace(yt, Tt), function(e) {
                        return (e.textContent || e.innerText || _(e)).indexOf(t) > -1
                    }
                }),
                lang: i(function(t) {
                    return ht.test(t || "") || e.error("unsupported lang: " + t), t = t.replace(yt, Tt).toLowerCase(), function(e) {
                        var n;
                        do {
                            if (n = A ? e.lang : e.getAttribute("xml:lang") || e.getAttribute("lang"))
                                return (n = n.toLowerCase()) === t || 0 === n.indexOf(t + "-")
                        } while ((e = e.parentNode) && 1 === e.nodeType);
                        return !1
                    }
                }),
                target: function(e) {
                    var n = t.location && t.location.hash;
                    return n && n.slice(1) === e.id
                },
                root: function(t) {
                    return t === N
                },
                focus: function(t) {
                    return t === K.activeElement && (!K.hasFocus || K.hasFocus()) && !!(t.type || t.href || ~t.tabIndex)
                },
                enabled: function(t) {
                    return !1 === t.disabled
                },
                disabled: function(t) {
                    return !0 === t.disabled
                },
                checked: function(t) {
                    var e = t.nodeName.toLowerCase();
                    return "input" === e && !!t.checked || "option" === e && !!t.selected
                },
                selected: function(t) {
                    return t.parentNode && t.parentNode.selectedIndex, !0 === t.selected
                },
                empty: function(t) {
                    for (t = t.firstChild; t; t = t.nextSibling)
                        if (t.nodeType < 6)
                            return !1;
                    return !0
                },
                parent: function(t) {
                    return !C.pseudos.empty(t)
                },
                header: function(t) {
                    return mt.test(t.nodeName)
                },
                input: function(t) {
                    return pt.test(t.nodeName)
                },
                button: function(t) {
                    var e = t.nodeName.toLowerCase();
                    return "input" === e && "button" === t.type || "button" === e
                },
                text: function(t) {
                    var e;
                    return "input" === t.nodeName.toLowerCase() && "text" === t.type && (null == (e = t.getAttribute("type")) || "text" === e.toLowerCase())
                },
                first: c(function() {
                    return [0]
                }),
                last: c(function(t, e) {
                    return [e - 1]
                }),
                eq: c(function(t, e, n) {
                    return [n < 0 ? n + e : n]
                }),
                even: c(function(t, e) {
                    for (var n = 0; n < e; n += 2)
                        t.push(n);
                    return t
                }),
                odd: c(function(t, e) {
                    for (var n = 1; n < e; n += 2)
                        t.push(n);
                    return t
                }),
                lt: c(function(t, e, n) {
                    for (var i = n < 0 ? n + e : n; --i >= 0;)
                        t.push(i);
                    return t
                }),
                gt: c(function(t, e, n) {
                    for (var i = n < 0 ? n + e : n; ++i < e;)
                        t.push(i);
                    return t
                })
            }
        }, C.pseudos.nth = C.pseudos.eq;
        for (y in {
            radio: !0,
            checkbox: !0,
            file: !0,
            password: !0,
            image: !0
        })
            C.pseudos[y] = r(y);
        for (y in {
            submit: !0,
            reset: !0
        })
            C.pseudos[y] = l(y);
        return d.prototype = C.filters = C.pseudos, C.setFilters = new d, I = e.tokenize = function(t, n) {
            var i,
                o,
                a,
                s,
                r,
                l,
                c,
                u = W[t + " "];
            if (u)
                return n ? 0 : u.slice(0);
            for (r = t, l = [], c = C.preFilter; r;) {
                i && !(o = lt.exec(r)) || (o && (r = r.slice(o[0].length) || r), l.push(a = [])), i = !1, (o = ct.exec(r)) && (i = o.shift(), a.push({
                    value: i,
                    type: o[0].replace(rt, " ")
                }), r = r.slice(i.length));
                for (s in C.filter)
                    !(o = ft[s].exec(r)) || c[s] && !(o = c[s](o)) || (i = o.shift(), a.push({
                        value: i,
                        type: s,
                        matches: o
                    }), r = r.slice(i.length));
                if (!i)
                    break
            }
            return n ? r.length : r ? e.error(t) : W(t, l).slice(0)
        }, O = e.compile = function(t, e) {
            var n,
                i = [],
                o = [],
                a = q[t + " "];
            if (!a) {
                for (e || (e = I(t)), n = e.length; n--;)
                    a = b(e[n]), a[M] ? i.push(a) : o.push(a);
                a = q(t, E(o, i)), a.selector = t
            }
            return a
        }, R = e.select = function(t, e, n, i) {
            var o,
                a,
                s,
                r,
                l,
                c = "function" == typeof t && t,
                d = !i && I(t = c.selector || t);
            if (n = n || [], 1 === d.length) {
                if (a = d[0] = d[0].slice(0), a.length > 2 && "ID" === (s = a[0]).type && T.getById && 9 === e.nodeType && A && C.relative[a[1].type]) {
                    if (!(e = (C.find.ID(s.matches[0].replace(yt, Tt), e) || [])[0]))
                        return n;
                    c && (e = e.parentNode), t = t.slice(a.shift().value.length)
                }
                for (o = ft.needsContext.test(t) ? 0 : a.length; o-- && (s = a[o], !C.relative[r = s.type]);)
                    if ((l = C.find[r]) && (i = l(s.matches[0].replace(yt, Tt), bt.test(a[0].type) && u(e.parentNode) || e))) {
                        if (a.splice(o, 1), !(t = i.length && h(a)))
                            return Q.apply(n, i), n;
                        break
                    }
            }
            return (c || O(t, d))(i, e, !A, n, !e || bt.test(t) && u(e.parentNode) || e), n
        }, T.sortStable = M.split("").sort(V).join("") === M, T.detectDuplicates = !!x, S(), T.sortDetached = o(function(t) {
            return 1 & t.compareDocumentPosition(K.createElement("div"))
        }), o(function(t) {
            return t.innerHTML = "<a href='#'></a>", "#" === t.firstChild.getAttribute("href")
        }) || a("type|href|height|width", function(t, e, n) {
            if (!n)
                return t.getAttribute(e, "type" === e.toLowerCase() ? 1 : 2)
        }), T.attributes && o(function(t) {
            return t.innerHTML = "<input/>", t.firstChild.setAttribute("value", ""), "" === t.firstChild.getAttribute("value")
        }) || a("value", function(t, e, n) {
            if (!n && "input" === t.nodeName.toLowerCase())
                return t.defaultValue
        }), o(function(t) {
            return null == t.getAttribute("disabled")
        }) || a(et, function(t, e, n) {
            var i;
            if (!n)
                return !0 === t[e] ? e.toLowerCase() : (i = t.getAttributeNode(e)) && i.specified ? i.value : null
        }), e
    }(t);
    ft.find = bt, ft.expr = bt.selectors, ft.expr[":"] = ft.expr.pseudos, ft.uniqueSort = ft.unique = bt.uniqueSort, ft.text = bt.getText, ft.isXMLDoc = bt.isXML, ft.contains = bt.contains;
    var Et = function(t, e, n) {
            for (var i = [], o = n !== undefined; (t = t[e]) && 9 !== t.nodeType;)
                if (1 === t.nodeType) {
                    if (o && ft(t).is(n))
                        break;
                    i.push(t)
                }
            return i
        },
        yt = function(t, e) {
            for (var n = []; t; t = t.nextSibling)
                1 === t.nodeType && t !== e && n.push(t);
            return n
        },
        Tt = ft.expr.match.needsContext,
        Ct = /^<([\w-]+)\s*\/?>(?:<\/\1>|)$/,
        _t = /^.[^:#\[\.,]*$/;
    ft.filter = function(t, e, n) {
        var i = e[0];
        return n && (t = ":not(" + t + ")"), 1 === e.length && 1 === i.nodeType ? ft.find.matchesSelector(i, t) ? [i] : [] : ft.find.matches(t, ft.grep(e, function(t) {
            return 1 === t.nodeType
        }))
    }, ft.fn.extend({
        find: function(t) {
            var e,
                n = [],
                i = this,
                o = i.length;
            if ("string" != typeof t)
                return this.pushStack(ft(t).filter(function() {
                    for (e = 0; e < o; e++)
                        if (ft.contains(i[e], this))
                            return !0
                }));
            for (e = 0; e < o; e++)
                ft.find(t, i[e], n);
            return n = this.pushStack(o > 1 ? ft.unique(n) : n), n.selector = this.selector ? this.selector + " " + t : t, n
        },
        filter: function(t) {
            return this.pushStack(i(this, t || [], !1))
        },
        not: function(t) {
            return this.pushStack(i(this, t || [], !0))
        },
        is: function(t) {
            return !!i(this, "string" == typeof t && Tt.test(t) ? ft(t) : t || [], !1).length
        }
    });
    var Dt,
        It = /^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/;
    (ft.fn.init = function(t, e, n) {
        var i,
            o;
        if (!t)
            return this;
        if (n = n || Dt, "string" == typeof t) {
            if (!(i = "<" === t.charAt(0) && ">" === t.charAt(t.length - 1) && t.length >= 3 ? [null, t, null] : It.exec(t)) || !i[1] && e)
                return !e || e.jquery ? (e || n).find(t) : this.constructor(e).find(t);
            if (i[1]) {
                if (e = e instanceof ft ? e[0] : e, ft.merge(this, ft.parseHTML(i[1], e && e.nodeType ? e.ownerDocument || e : it, !0)), Ct.test(i[1]) && ft.isPlainObject(e))
                    for (i in e)
                        ft.isFunction(this[i]) ? this[i](e[i]) : this.attr(i, e[i]);
                return this
            }
            if ((o = it.getElementById(i[2])) && o.parentNode) {
                if (o.id !== i[2])
                    return Dt.find(t);
                this.length = 1, this[0] = o
            }
            return this.context = it, this.selector = t, this
        }
        return t.nodeType ? (this.context = this[0] = t, this.length = 1, this) : ft.isFunction(t) ? "undefined" != typeof n.ready ? n.ready(t) : t(ft) : (t.selector !== undefined && (this.selector = t.selector, this.context = t.context), ft.makeArray(t, this))
    }).prototype = ft.fn, Dt = ft(it);
    var Ot = /^(?:parents|prev(?:Until|All))/,
        Rt = {
            children: !0,
            contents: !0,
            next: !0,
            prev: !0
        };
    ft.fn.extend({
        has: function(t) {
            var e,
                n = ft(t, this),
                i = n.length;
            return this.filter(function() {
                for (e = 0; e < i; e++)
                    if (ft.contains(this, n[e]))
                        return !0
            })
        },
        closest: function(t, e) {
            for (var n, i = 0, o = this.length, a = [], s = Tt.test(t) || "string" != typeof t ? ft(t, e || this.context) : 0; i < o; i++)
                for (n = this[i]; n && n !== e; n = n.parentNode)
                    if (n.nodeType < 11 && (s ? s.index(n) > -1 : 1 === n.nodeType && ft.find.matchesSelector(n, t))) {
                        a.push(n);
                        break
                    }
            return this.pushStack(a.length > 1 ? ft.uniqueSort(a) : a)
        },
        index: function(t) {
            return t ? "string" == typeof t ? ft.inArray(this[0], ft(t)) : ft.inArray(t.jquery ? t[0] : t, this) : this[0] && this[0].parentNode ? this.first().prevAll().length : -1
        },
        add: function(t, e) {
            return this.pushStack(ft.uniqueSort(ft.merge(this.get(), ft(t, e))))
        },
        addBack: function(t) {
            return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
        }
    }), ft.each({
        parent: function(t) {
            var e = t.parentNode;
            return e && 11 !== e.nodeType ? e : null
        },
        parents: function(t) {
            return Et(t, "parentNode")
        },
        parentsUntil: function(t, e, n) {
            return Et(t, "parentNode", n)
        },
        next: function(t) {
            return o(t, "nextSibling")
        },
        prev: function(t) {
            return o(t, "previousSibling")
        },
        nextAll: function(t) {
            return Et(t, "nextSibling")
        },
        prevAll: function(t) {
            return Et(t, "previousSibling")
        },
        nextUntil: function(t, e, n) {
            return Et(t, "nextSibling", n)
        },
        prevUntil: function(t, e, n) {
            return Et(t, "previousSibling", n)
        },
        siblings: function(t) {
            return yt((t.parentNode || {}).firstChild, t)
        },
        children: function(t) {
            return yt(t.firstChild)
        },
        contents: function(t) {
            return ft.nodeName(t, "iframe") ? t.contentDocument || t.contentWindow.document : ft.merge([], t.childNodes)
        }
    }, function(t, e) {
        ft.fn[t] = function(n, i) {
            var o = ft.map(this, e, n);
            return "Until" !== t.slice(-5) && (i = n), i && "string" == typeof i && (o = ft.filter(i, o)), this.length > 1 && (Rt[t] || (o = ft.uniqueSort(o)), Ot.test(t) && (o = o.reverse())), this.pushStack(o)
        }
    });
    var kt = /\S+/g;
    ft.Callbacks = function(t) {
        t = "string" == typeof t ? a(t) : ft.extend({}, t);
        var e,
            n,
            i,
            o,
            s = [],
            r = [],
            l = -1,
            c = function() {
                for (o = t.once, i = e = !0; r.length; l = -1)
                    for (n = r.shift(); ++l < s.length;)
                        !1 === s[l].apply(n[0], n[1]) && t.stopOnFalse && (l = s.length, n = !1);
                t.memory || (n = !1), e = !1, o && (s = n ? [] : "")
            },
            u = {
                add: function() {
                    return s && (n && !e && (l = s.length - 1, r.push(n)), function e(n) {
                        ft.each(n, function(n, i) {
                            ft.isFunction(i) ? t.unique && u.has(i) || s.push(i) : i && i.length && "string" !== ft.type(i) && e(i)
                        })
                    }(arguments), n && !e && c()), this
                },
                remove: function() {
                    return ft.each(arguments, function(t, e) {
                        for (var n; (n = ft.inArray(e, s, n)) > -1;)
                            s.splice(n, 1), n <= l && l--
                    }), this
                },
                has: function(t) {
                    return t ? ft.inArray(t, s) > -1 : s.length > 0
                },
                empty: function() {
                    return s && (s = []), this
                },
                disable: function() {
                    return o = r = [], s = n = "", this
                },
                disabled: function() {
                    return !s
                },
                lock: function() {
                    return o = !0, n || u.disable(), this
                },
                locked: function() {
                    return !!o
                },
                fireWith: function(t, n) {
                    return o || (n = n || [], n = [t, n.slice ? n.slice() : n], r.push(n), e || c()), this
                },
                fire: function() {
                    return u.fireWith(this, arguments), this
                },
                fired: function() {
                    return !!i
                }
            };
        return u
    }, ft.extend({
        Deferred: function(t) {
            var e = [["resolve", "done", ft.Callbacks("once memory"), "resolved"], ["reject", "fail", ft.Callbacks("once memory"), "rejected"], ["notify", "progress", ft.Callbacks("memory")]],
                n = "pending",
                i = {
                    state: function() {
                        return n
                    },
                    always: function() {
                        return o.done(arguments).fail(arguments), this
                    },
                    then: function() {
                        var t = arguments;
                        return ft.Deferred(function(n) {
                            ft.each(e, function(e, a) {
                                var s = ft.isFunction(t[e]) && t[e];
                                o[a[1]](function() {
                                    var t = s && s.apply(this, arguments);
                                    t && ft.isFunction(t.promise) ? t.promise().progress(n.notify).done(n.resolve).fail(n.reject) : n[a[0] + "With"](this === i ? n.promise() : this, s ? [t] : arguments)
                                })
                            }), t = null
                        }).promise()
                    },
                    promise: function(t) {
                        return null != t ? ft.extend(t, i) : i
                    }
                },
                o = {};
            return i.pipe = i.then, ft.each(e, function(t, a) {
                var s = a[2],
                    r = a[3];
                i[a[1]] = s.add, r && s.add(function() {
                    n = r
                }, e[1 ^ t][2].disable, e[2][2].lock), o[a[0]] = function() {
                    return o[a[0] + "With"](this === o ? i : this, arguments), this
                }, o[a[0] + "With"] = s.fireWith
            }), i.promise(o), t && t.call(o, o), o
        },
        when: function(t) {
            var e = 0,
                n = ot.call(arguments),
                i = n.length,
                o = 1 !== i || t && ft.isFunction(t.promise) ? i : 0,
                a = 1 === o ? t : ft.Deferred(),
                s = function(t, e, n) {
                    return function(i) {
                        e[t] = this, n[t] = arguments.length > 1 ? ot.call(arguments) : i, n === r ? a.notifyWith(e, n) : --o || a.resolveWith(e, n)
                    }
                },
                r,
                l,
                c;
            if (i > 1)
                for (r = new Array(i), l = new Array(i), c = new Array(i); e < i; e++)
                    n[e] && ft.isFunction(n[e].promise) ? n[e].promise().progress(s(e, l, r)).done(s(e, c, n)).fail(a.reject) : --o;
            return o || a.resolveWith(c, n), a.promise()
        }
    });
    var wt;
    ft.fn.ready = function(t) {
        return ft.ready.promise().done(t), this
    }, ft.extend({
        isReady: !1,
        readyWait: 1,
        holdReady: function(t) {
            t ? ft.readyWait++ : ft.ready(!0)
        },
        ready: function(t) {
            (!0 === t ? --ft.readyWait : ft.isReady) || (ft.isReady = !0, !0 !== t && --ft.readyWait > 0 || (wt.resolveWith(it, [ft]), ft.fn.triggerHandler && (ft(it).triggerHandler("ready"), ft(it).off("ready"))))
        }
    }), ft.ready.promise = function(e) {
        if (!wt)
            if (wt = ft.Deferred(), "complete" === it.readyState || "loading" !== it.readyState && !it.documentElement.doScroll)
                t.setTimeout(ft.ready);
            else if (it.addEventListener)
                it.addEventListener("DOMContentLoaded", r), t.addEventListener("load", r);
            else {
                it.attachEvent("onreadystatechange", r), t.attachEvent("onload", r);
                var n = !1;
                try {
                    n = null == t.frameElement && it.documentElement
                } catch (t) {}
                n && n.doScroll && function e() {
                    if (!ft.isReady) {
                        try {
                            n.doScroll("left")
                        } catch (n) {
                            return t.setTimeout(e, 50)
                        }
                        s(), ft.ready()
                    }
                }()
            }
        return wt.promise(e)
    }, ft.ready.promise();
    var xt;
    for (xt in ft(dt))
        break;
    dt.ownFirst = "0" === xt, dt.inlineBlockNeedsLayout = !1, ft(function() {
        var t,
            e,
            n,
            i;
        (n = it.getElementsByTagName("body")[0]) && n.style && (e = it.createElement("div"), i = it.createElement("div"), i.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(i).appendChild(e), "undefined" != typeof e.style.zoom && (e.style.cssText = "display:inline;margin:0;border:0;padding:1px;width:1px;zoom:1", dt.inlineBlockNeedsLayout = t = 3 === e.offsetWidth, t && (n.style.zoom = 1)), n.removeChild(i))
    }), function() {
        var t = it.createElement("div");
        dt.deleteExpando = !0;
        try {
            delete t.test
        } catch (t) {
            dt.deleteExpando = !1
        }
        t = null
    }();
    var St = function(t) {
            var e = ft.noData[(t.nodeName + " ").toLowerCase()],
                n = +t.nodeType || 1;
            return (1 === n || 9 === n) && (!e || !0 !== e && t.getAttribute("classid") === e)
        },
        Kt = /^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,
        Nt = /([A-Z])/g;
    ft.extend({
        cache: {},
        noData: {
            "applet ": !0,
            "embed ": !0,
            "object ": "clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"
        },
        hasData: function(t) {
            return !!(t = t.nodeType ? ft.cache[t[ft.expando]] : t[ft.expando]) && !c(t)
        },
        data: function(t, e, n) {
            return u(t, e, n)
        },
        removeData: function(t, e) {
            return d(t, e)
        },
        _data: function(t, e, n) {
            return u(t, e, n, !0)
        },
        _removeData: function(t, e) {
            return d(t, e, !0)
        }
    }), ft.fn.extend({
        data: function(t, e) {
            var n,
                i,
                o,
                a = this[0],
                s = a && a.attributes;
            if (t === undefined) {
                if (this.length && (o = ft.data(a), 1 === a.nodeType && !ft._data(a, "parsedAttrs"))) {
                    for (n = s.length; n--;)
                        s[n] && (i = s[n].name, 0 === i.indexOf("data-") && (i = ft.camelCase(i.slice(5)), l(a, i, o[i])));
                    ft._data(a, "parsedAttrs", !0)
                }
                return o
            }
            return "object" == typeof t ? this.each(function() {
                ft.data(this, t)
            }) : arguments.length > 1 ? this.each(function() {
                ft.data(this, t, e)
            }) : a ? l(a, t, ft.data(a, t)) : undefined
        },
        removeData: function(t) {
            return this.each(function() {
                ft.removeData(this, t)
            })
        }
    }), ft.extend({
        queue: function(t, e, n) {
            var i;
            if (t)
                return e = (e || "fx") + "queue", i = ft._data(t, e), n && (!i || ft.isArray(n) ? i = ft._data(t, e, ft.makeArray(n)) : i.push(n)), i || []
        },
        dequeue: function(t, e) {
            e = e || "fx";
            var n = ft.queue(t, e),
                i = n.length,
                o = n.shift(),
                a = ft._queueHooks(t, e),
                s = function() {
                    ft.dequeue(t, e)
                };
            "inprogress" === o && (o = n.shift(), i--), o && ("fx" === e && n.unshift("inprogress"), delete a.stop, o.call(t, s, a)), !i && a && a.empty.fire()
        },
        _queueHooks: function(t, e) {
            var n = e + "queueHooks";
            return ft._data(t, n) || ft._data(t, n, {
                    empty: ft.Callbacks("once memory").add(function() {
                        ft._removeData(t, e + "queue"), ft._removeData(t, n)
                    })
                })
        }
    }), ft.fn.extend({
        queue: function(t, e) {
            var n = 2;
            return "string" != typeof t && (e = t, t = "fx", n--), arguments.length < n ? ft.queue(this[0], t) : e === undefined ? this : this.each(function() {
                var n = ft.queue(this, t, e);
                ft._queueHooks(this, t), "fx" === t && "inprogress" !== n[0] && ft.dequeue(this, t)
            })
        },
        dequeue: function(t) {
            return this.each(function() {
                ft.dequeue(this, t)
            })
        },
        clearQueue: function(t) {
            return this.queue(t || "fx", [])
        },
        promise: function(t, e) {
            var n,
                i = 1,
                o = ft.Deferred(),
                a = this,
                s = this.length,
                r = function() {
                    --i || o.resolveWith(a, [a])
                };
            for ("string" != typeof t && (e = t, t = undefined), t = t || "fx"; s--;)
                (n = ft._data(a[s], t + "queueHooks")) && n.empty && (i++, n.empty.add(r));
            return r(), o.promise(e)
        }
    }), function() {
        var t;
        dt.shrinkWrapBlocks = function() {
            if (null != t)
                return t;
            t = !1;
            var e,
                n,
                i;
            return (n = it.getElementsByTagName("body")[0]) && n.style ? (e = it.createElement("div"), i = it.createElement("div"), i.style.cssText = "position:absolute;border:0;width:0;height:0;top:0;left:-9999px", n.appendChild(i).appendChild(e), "undefined" != typeof e.style.zoom && (e.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:1px;width:1px;zoom:1", e.appendChild(it.createElement("div")).style.width = "5px", t = 3 !== e.offsetWidth), n.removeChild(i), t) : void 0
        }
    }();
    var At = /[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,
        Ft = new RegExp("^(?:([+-])=|)(" + At + ")([a-z%]*)$", "i"),
        Pt = ["Top", "Right", "Bottom", "Left"],
        Lt = function(t, e) {
            return t = e || t, "none" === ft.css(t, "display") || !ft.contains(t.ownerDocument, t)
        },
        $t = function(t, e, n, i, o, a, s) {
            var r = 0,
                l = t.length,
                c = null == n;
            if ("object" === ft.type(n)) {
                o = !0;
                for (r in n)
                    $t(t, e, r, n[r], !0, a, s)
            } else if (i !== undefined && (o = !0, ft.isFunction(i) || (s = !0), c && (s ? (e.call(t, i), e = null) : (c = e, e = function(t, e, n) {
                return c.call(ft(t), n)
            })), e))
                for (; r < l; r++)
                    e(t[r], n, s ? i : i.call(t[r], r, e(t[r], n)));
            return o ? t : c ? e.call(t) : l ? e(t[0], n) : a
        },
        Mt = /^(?:checkbox|radio)$/i,
        Bt = /<([\w:-]+)/,
        Ht = /^$|\/(?:java|ecma)script/i,
        zt = /^\s+/,
        jt = "abbr|article|aside|audio|bdi|canvas|data|datalist|details|dialog|figcaption|figure|footer|header|hgroup|main|mark|meter|nav|output|picture|progress|section|summary|template|time|video";
    !function() {
        var t = it.createElement("div"),
            e = it.createDocumentFragment(),
            n = it.createElement("input");
        t.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", dt.leadingWhitespace = 3 === t.firstChild.nodeType, dt.tbody = !t.getElementsByTagName("tbody").length, dt.htmlSerialize = !!t.getElementsByTagName("link").length, dt.html5Clone = "<:nav></:nav>" !== it.createElement("nav").cloneNode(!0).outerHTML, n.type = "checkbox", n.checked = !0, e.appendChild(n), dt.appendChecked = n.checked, t.innerHTML = "<textarea>x</textarea>", dt.noCloneChecked = !!t.cloneNode(!0).lastChild.defaultValue, e.appendChild(t), n = it.createElement("input"), n.setAttribute("type", "radio"), n.setAttribute("checked", "checked"), n.setAttribute("name", "t"), t.appendChild(n), dt.checkClone = t.cloneNode(!0).cloneNode(!0).lastChild.checked, dt.noCloneEvent = !!t.addEventListener, t[ft.expando] = 1, dt.attributes = !t.getAttribute(ft.expando)
    }();
    var Wt = {
        option: [1, "<select multiple='multiple'>", "</select>"],
        legend: [1, "<fieldset>", "</fieldset>"],
        area: [1, "<map>", "</map>"],
        param: [1, "<object>", "</object>"],
        thead: [1, "<table>", "</table>"],
        tr: [2, "<table><tbody>", "</tbody></table>"],
        col: [2, "<table><tbody></tbody><colgroup>", "</colgroup></table>"],
        td: [3, "<table><tbody><tr>", "</tr></tbody></table>"],
        _default: dt.htmlSerialize ? [0, "", ""] : [1, "X<div>", "</div>"]
    };
    Wt.optgroup = Wt.option, Wt.tbody = Wt.tfoot = Wt.colgroup = Wt.caption = Wt.thead, Wt.th = Wt.td;
    var qt = /<|&#?\w+;/,
        Vt = /<tbody/i;
    !function() {
        var e,
            n,
            i = it.createElement("div");
        for (e in {
            submit: !0,
            change: !0,
            focusin: !0
        })
            n = "on" + e, (dt[e] = n in t) || (i.setAttribute(n, "t"), dt[e] = !1 === i.attributes[n].expando);
        i = null
    }();
    var Ut = /^(?:input|select|textarea)$/i,
        Yt = /^key/,
        Xt = /^(?:mouse|pointer|contextmenu|drag|drop)|click/,
        Gt = /^(?:focusinfocus|focusoutblur)$/,
        Zt = /^([^.]*)(?:\.(.+)|)/;
    ft.event = {
        global: {},
        add: function(t, e, n, i, o) {
            var a,
                s,
                r,
                l,
                c,
                u,
                d,
                h,
                f,
                p,
                m,
                g = ft._data(t);
            if (g) {
                for (n.handler && (l = n, n = l.handler, o = l.selector), n.guid || (n.guid = ft.guid++), (s = g.events) || (s = g.events = {}), (u = g.handle) || (u = g.handle = function(t) {
                    return void 0 === ft || t && ft.event.triggered === t.type ? undefined : ft.event.dispatch.apply(u.elem, arguments)
                }, u.elem = t), e = (e || "").match(kt) || [""], r = e.length; r--;)
                    a = Zt.exec(e[r]) || [], f = m = a[1], p = (a[2] || "").split(".").sort(), f && (c = ft.event.special[f] || {}, f = (o ? c.delegateType : c.bindType) || f, c = ft.event.special[f] || {}, d = ft.extend({
                        type: f,
                        origType: m,
                        data: i,
                        handler: n,
                        guid: n.guid,
                        selector: o,
                        needsContext: o && ft.expr.match.needsContext.test(o),
                        namespace: p.join(".")
                    }, l), (h = s[f]) || (h = s[f] = [], h.delegateCount = 0, c.setup && !1 !== c.setup.call(t, i, p, u) || (t.addEventListener ? t.addEventListener(f, u, !1) : t.attachEvent && t.attachEvent("on" + f, u))), c.add && (c.add.call(t, d), d.handler.guid || (d.handler.guid = n.guid)), o ? h.splice(h.delegateCount++, 0, d) : h.push(d), ft.event.global[f] = !0);
                t = null
            }
        },
        remove: function(t, e, n, i, o) {
            var a,
                s,
                r,
                l,
                c,
                u,
                d,
                h,
                f,
                p,
                m,
                g = ft.hasData(t) && ft._data(t);
            if (g && (u = g.events)) {
                for (e = (e || "").match(kt) || [""], c = e.length; c--;)
                    if (r = Zt.exec(e[c]) || [], f = m = r[1], p = (r[2] || "").split(".").sort(), f) {
                        for (d = ft.event.special[f] || {}, f = (i ? d.delegateType : d.bindType) || f, h = u[f] || [], r = r[2] && new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)"), l = a = h.length; a--;)
                            s = h[a], !o && m !== s.origType || n && n.guid !== s.guid || r && !r.test(s.namespace) || i && i !== s.selector && ("**" !== i || !s.selector) || (h.splice(a, 1), s.selector && h.delegateCount--, d.remove && d.remove.call(t, s));
                        l && !h.length && (d.teardown && !1 !== d.teardown.call(t, p, g.handle) || ft.removeEvent(t, f, g.handle), delete u[f])
                    } else
                        for (f in u)
                            ft.event.remove(t, f + e[c], n, i, !0);
                ft.isEmptyObject(u) && (delete g.handle, ft._removeData(t, "events"))
            }
        },
        trigger: function(e, n, i, o) {
            var a,
                s,
                r,
                l,
                c,
                u,
                d,
                h = [i || it],
                f = ut.call(e, "type") ? e.type : e,
                p = ut.call(e, "namespace") ? e.namespace.split(".") : [];
            if (r = u = i = i || it, 3 !== i.nodeType && 8 !== i.nodeType && !Gt.test(f + ft.event.triggered) && (f.indexOf(".") > -1 && (p = f.split("."), f = p.shift(), p.sort()), s = f.indexOf(":") < 0 && "on" + f, e = e[ft.expando] ? e : new ft.Event(f, "object" == typeof e && e), e.isTrigger = o ? 2 : 3, e.namespace = p.join("."), e.rnamespace = e.namespace ? new RegExp("(^|\\.)" + p.join("\\.(?:.*\\.|)") + "(\\.|$)") : null, e.result = undefined, e.target || (e.target = i), n = null == n ? [e] : ft.makeArray(n, [e]), c = ft.event.special[f] || {}, o || !c.trigger || !1 !== c.trigger.apply(i, n))) {
                if (!o && !c.noBubble && !ft.isWindow(i)) {
                    for (l = c.delegateType || f, Gt.test(l + f) || (r = r.parentNode); r; r = r.parentNode)
                        h.push(r), u = r;
                    u === (i.ownerDocument || it) && h.push(u.defaultView || u.parentWindow || t)
                }
                for (d = 0; (r = h[d++]) && !e.isPropagationStopped();)
                    e.type = d > 1 ? l : c.bindType || f, a = (ft._data(r, "events") || {})[e.type] && ft._data(r, "handle"), a && a.apply(r, n), (a = s && r[s]) && a.apply && St(r) && (e.result = a.apply(r, n), !1 === e.result && e.preventDefault());
                if (e.type = f, !o && !e.isDefaultPrevented() && (!c._default || !1 === c._default.apply(h.pop(), n)) && St(i) && s && i[f] && !ft.isWindow(i)) {
                    u = i[s], u && (i[s] = null), ft.event.triggered = f;
                    try {
                        i[f]()
                    } catch (t) {}
                    ft.event.triggered = undefined, u && (i[s] = u)
                }
                return e.result
            }
        },
        dispatch: function(t) {
            t = ft.event.fix(t);
            var e,
                n,
                i,
                o,
                a,
                s = [],
                r = ot.call(arguments),
                l = (ft._data(this, "events") || {})[t.type] || [],
                c = ft.event.special[t.type] || {};
            if (r[0] = t, t.delegateTarget = this, !c.preDispatch || !1 !== c.preDispatch.call(this, t)) {
                for (s = ft.event.handlers.call(this, t, l), e = 0; (o = s[e++]) && !t.isPropagationStopped();)
                    for (t.currentTarget = o.elem, n = 0; (a = o.handlers[n++]) && !t.isImmediatePropagationStopped();)
                        t.rnamespace && !t.rnamespace.test(a.namespace) || (t.handleObj = a, t.data = a.data, (i = ((ft.event.special[a.origType] || {}).handle || a.handler).apply(o.elem, r)) !== undefined && !1 === (t.result = i) && (t.preventDefault(), t.stopPropagation()));
                return c.postDispatch && c.postDispatch.call(this, t), t.result
            }
        },
        handlers: function(t, e) {
            var n,
                i,
                o,
                a,
                s = [],
                r = e.delegateCount,
                l = t.target;
            if (r && l.nodeType && ("click" !== t.type || isNaN(t.button) || t.button < 1))
                for (; l != this; l = l.parentNode || this)
                    if (1 === l.nodeType && (!0 !== l.disabled || "click" !== t.type)) {
                        for (i = [], n = 0; n < r; n++)
                            a = e[n], o = a.selector + " ", i[o] === undefined && (i[o] = a.needsContext ? ft(o, this).index(l) > -1 : ft.find(o, this, null, [l]).length), i[o] && i.push(a);
                        i.length && s.push({
                            elem: l,
                            handlers: i
                        })
                    }
            return r < e.length && s.push({
                elem: this,
                handlers: e.slice(r)
            }), s
        },
        fix: function(t) {
            if (t[ft.expando])
                return t;
            var e,
                n,
                i,
                o = t.type,
                a = t,
                s = this.fixHooks[o];
            for (s || (this.fixHooks[o] = s = Xt.test(o) ? this.mouseHooks : Yt.test(o) ? this.keyHooks : {}), i = s.props ? this.props.concat(s.props) : this.props, t = new ft.Event(a), e = i.length; e--;)
                n = i[e], t[n] = a[n];
            return t.target || (t.target = a.srcElement || it), 3 === t.target.nodeType && (t.target = t.target.parentNode), t.metaKey = !!t.metaKey, s.filter ? s.filter(t, a) : t
        },
        props: "altKey bubbles cancelable ctrlKey currentTarget detail eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),
        fixHooks: {},
        keyHooks: {
            props: "char charCode key keyCode".split(" "),
            filter: function(t, e) {
                return null == t.which && (t.which = null != e.charCode ? e.charCode : e.keyCode), t
            }
        },
        mouseHooks: {
            props: "button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),
            filter: function(t, e) {
                var n,
                    i,
                    o,
                    a = e.button,
                    s = e.fromElement;
                return null == t.pageX && null != e.clientX && (i = t.target.ownerDocument || it, o = i.documentElement, n = i.body, t.pageX = e.clientX + (o && o.scrollLeft || n && n.scrollLeft || 0) - (o && o.clientLeft || n && n.clientLeft || 0), t.pageY = e.clientY + (o && o.scrollTop || n && n.scrollTop || 0) - (o && o.clientTop || n && n.clientTop || 0)), !t.relatedTarget && s && (t.relatedTarget = s === t.target ? e.toElement : s), t.which || a === undefined || (t.which = 1 & a ? 1 : 2 & a ? 3 : 4 & a ? 2 : 0), t
            }
        },
        special: {
            load: {
                noBubble: !0
            },
            focus: {
                trigger: function() {
                    if (this !== y() && this.focus)
                        try {
                            return this.focus(), !1
                        } catch (t) {}
                },
                delegateType: "focusin"
            },
            blur: {
                trigger: function() {
                    if (this === y() && this.blur)
                        return this.blur(), !1
                },
                delegateType: "focusout"
            },
            click: {
                trigger: function() {
                    if (ft.nodeName(this, "input") && "checkbox" === this.type && this.click)
                        return this.click(), !1
                },
                _default: function(t) {
                    return ft.nodeName(t.target, "a")
                }
            },
            beforeunload: {
                postDispatch: function(t) {
                    t.result !== undefined && t.originalEvent && (t.originalEvent.returnValue = t.result)
                }
            }
        },
        simulate: function(t, e, n) {
            var i = ft.extend(new ft.Event, n, {
                type: t,
                isSimulated: !0
            });
            ft.event.trigger(i, null, e), i.isDefaultPrevented() && n.preventDefault()
        }
    }, ft.removeEvent = it.removeEventListener ? function(t, e, n) {
        t.removeEventListener && t.removeEventListener(e, n)
    } : function(t, e, n) {
        var i = "on" + e;
        t.detachEvent && ("undefined" == typeof t[i] && (t[i] = null), t.detachEvent(i, n))
    }, ft.Event = function(t, e) {
        if (!(this instanceof ft.Event))
            return new ft.Event(t, e);
        t && t.type ? (this.originalEvent = t, this.type = t.type, this.isDefaultPrevented = t.defaultPrevented || t.defaultPrevented === undefined && !1 === t.returnValue ? b : E) : this.type = t, e && ft.extend(this, e), this.timeStamp = t && t.timeStamp || ft.now(), this[ft.expando] = !0
    }, ft.Event.prototype = {
        constructor: ft.Event,
        isDefaultPrevented: E,
        isPropagationStopped: E,
        isImmediatePropagationStopped: E,
        preventDefault: function() {
            var t = this.originalEvent;
            this.isDefaultPrevented = b, t && (t.preventDefault ? t.preventDefault() : t.returnValue = !1)
        },
        stopPropagation: function() {
            var t = this.originalEvent;
            this.isPropagationStopped = b, t && !this.isSimulated && (t.stopPropagation && t.stopPropagation(), t.cancelBubble = !0)
        },
        stopImmediatePropagation: function() {
            var t = this.originalEvent;
            this.isImmediatePropagationStopped = b, t && t.stopImmediatePropagation && t.stopImmediatePropagation(), this.stopPropagation()
        }
    }, ft.each({
        mouseenter: "mouseover",
        mouseleave: "mouseout",
        pointerenter: "pointerover",
        pointerleave: "pointerout"
    }, function(t, e) {
        ft.event.special[t] = {
            delegateType: e,
            bindType: e,
            handle: function(t) {
                var n,
                    i = this,
                    o = t.relatedTarget,
                    a = t.handleObj;
                return o && (o === i || ft.contains(i, o)) || (t.type = a.origType, n = a.handler.apply(this, arguments), t.type = e), n
            }
        }
    }), dt.submit || (ft.event.special.submit = {
        setup: function() {
            if (ft.nodeName(this, "form"))
                return !1;
            ft.event.add(this, "click._submit keypress._submit", function(t) {
                var e = t.target,
                    n = ft.nodeName(e, "input") || ft.nodeName(e, "button") ? ft.prop(e, "form") : undefined;
                n && !ft._data(n, "submit") && (ft.event.add(n, "submit._submit", function(t) {
                    t._submitBubble = !0
                }), ft._data(n, "submit", !0))
            })
        },
        postDispatch: function(t) {
            t._submitBubble && (delete t._submitBubble, this.parentNode && !t.isTrigger && ft.event.simulate("submit", this.parentNode, t))
        },
        teardown: function() {
            if (ft.nodeName(this, "form"))
                return !1;
            ft.event.remove(this, "._submit")
        }
    }), dt.change || (ft.event.special.change = {
        setup: function() {
            if (Ut.test(this.nodeName))
                return "checkbox" !== this.type && "radio" !== this.type || (ft.event.add(this, "propertychange._change", function(t) {
                    "checked" === t.originalEvent.propertyName && (this._justChanged = !0)
                }), ft.event.add(this, "click._change", function(t) {
                    this._justChanged && !t.isTrigger && (this._justChanged = !1), ft.event.simulate("change", this, t)
                })), !1;
            ft.event.add(this, "beforeactivate._change", function(t) {
                var e = t.target;
                Ut.test(e.nodeName) && !ft._data(e, "change") && (ft.event.add(e, "change._change", function(t) {
                    !this.parentNode || t.isSimulated || t.isTrigger || ft.event.simulate("change", this.parentNode, t)
                }), ft._data(e, "change", !0))
            })
        },
        handle: function(t) {
            var e = t.target;
            if (this !== e || t.isSimulated || t.isTrigger || "radio" !== e.type && "checkbox" !== e.type)
                return t.handleObj.handler.apply(this, arguments)
        },
        teardown: function() {
            return ft.event.remove(this, "._change"), !Ut.test(this.nodeName)
        }
    }), dt.focusin || ft.each({
        focus: "focusin",
        blur: "focusout"
    }, function(t, e) {
        var n = function(t) {
            ft.event.simulate(e, t.target, ft.event.fix(t))
        };
        ft.event.special[e] = {
            setup: function() {
                var i = this.ownerDocument || this,
                    o = ft._data(i, e);
                o || i.addEventListener(t, n, !0), ft._data(i, e, (o || 0) + 1)
            },
            teardown: function() {
                var i = this.ownerDocument || this,
                    o = ft._data(i, e) - 1;
                o ? ft._data(i, e, o) : (i.removeEventListener(t, n, !0), ft._removeData(i, e))
            }
        }
    }), ft.fn.extend({
        on: function(t, e, n, i) {
            return T(this, t, e, n, i)
        },
        one: function(t, e, n, i) {
            return T(this, t, e, n, i, 1)
        },
        off: function(t, e, n) {
            var i,
                o;
            if (t && t.preventDefault && t.handleObj)
                return i = t.handleObj, ft(t.delegateTarget).off(i.namespace ? i.origType + "." + i.namespace : i.origType, i.selector, i.handler), this;
            if ("object" == typeof t) {
                for (o in t)
                    this.off(o, e, t[o]);
                return this
            }
            return !1 !== e && "function" != typeof e || (n = e, e = undefined), !1 === n && (n = E), this.each(function() {
                ft.event.remove(this, t, n, e)
            })
        },
        trigger: function(t, e) {
            return this.each(function() {
                ft.event.trigger(t, e, this)
            })
        },
        triggerHandler: function(t, e) {
            var n = this[0];
            if (n)
                return ft.event.trigger(t, e, n, !0)
        }
    });
    var Qt = / jQuery\d+="(?:null|\d+)"/g,
        Jt = new RegExp("<(?:" + jt + ")[\\s/>]", "i"),
        te = /<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:-]+)[^>]*)\/>/gi,
        ee = /<script|<style|<link/i,
        ne = /checked\s*(?:[^=]|=\s*.checked.)/i,
        ie = /^true\/(.*)/,
        oe = /^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,
        ae = f(it),
        se = ae.appendChild(it.createElement("div"));
    ft.extend({
        htmlPrefilter: function(t) {
            return t.replace(te, "<$1></$2>")
        },
        clone: function(t, e, n) {
            var i,
                o,
                a,
                s,
                r,
                l = ft.contains(t.ownerDocument, t);
            if (dt.html5Clone || ft.isXMLDoc(t) || !Jt.test("<" + t.nodeName + ">") ? a = t.cloneNode(!0) : (se.innerHTML = t.outerHTML, se.removeChild(a = se.firstChild)), !(dt.noCloneEvent && dt.noCloneChecked || 1 !== t.nodeType && 11 !== t.nodeType || ft.isXMLDoc(t)))
                for (i = p(a), r = p(t), s = 0; null != (o = r[s]); ++s)
                    i[s] && O(o, i[s]);
            if (e)
                if (n)
                    for (r = r || p(t), i = i || p(a), s = 0; null != (o = r[s]); s++)
                        I(o, i[s]);
                else
                    I(t, a);
            return i = p(a, "script"), i.length > 0 && m(i, !l && p(t, "script")), i = r = o = null, a
        },
        cleanData: function(t, e) {
            for (var n, i, o, a, s = 0, r = ft.expando, l = ft.cache, c = dt.attributes, u = ft.event.special; null != (n = t[s]); s++)
                if ((e || St(n)) && (o = n[r], a = o && l[o])) {
                    if (a.events)
                        for (i in a.events)
                            u[i] ? ft.event.remove(n, i) : ft.removeEvent(n, i, a.handle);
                    l[o] && (delete l[o], c || "undefined" == typeof n.removeAttribute ? n[r] = undefined : n.removeAttribute(r), nt.push(o))
                }
        }
    }), ft.fn.extend({
        domManip: R,
        detach: function(t) {
            return k(this, t, !0)
        },
        remove: function(t) {
            return k(this, t)
        },
        text: function(t) {
            return $t(this, function(t) {
                return t === undefined ? ft.text(this) : this.empty().append((this[0] && this[0].ownerDocument || it).createTextNode(t))
            }, null, t, arguments.length)
        },
        append: function() {
            return R(this, arguments, function(t) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    C(this, t).appendChild(t)
                }
            })
        },
        prepend: function() {
            return R(this, arguments, function(t) {
                if (1 === this.nodeType || 11 === this.nodeType || 9 === this.nodeType) {
                    var e = C(this, t);
                    e.insertBefore(t, e.firstChild)
                }
            })
        },
        before: function() {
            return R(this, arguments, function(t) {
                this.parentNode && this.parentNode.insertBefore(t, this)
            })
        },
        after: function() {
            return R(this, arguments, function(t) {
                this.parentNode && this.parentNode.insertBefore(t, this.nextSibling)
            })
        },
        empty: function() {
            for (var t, e = 0; null != (t = this[e]); e++) {
                for (1 === t.nodeType && ft.cleanData(p(t, !1)); t.firstChild;)
                    t.removeChild(t.firstChild);
                t.options && ft.nodeName(t, "select") && (t.options.length = 0)
            }
            return this
        },
        clone: function(t, e) {
            return t = null != t && t, e = null == e ? t : e, this.map(function() {
                return ft.clone(this, t, e)
            })
        },
        html: function(t) {
            return $t(this, function(t) {
                var e = this[0] || {},
                    n = 0,
                    i = this.length;
                if (t === undefined)
                    return 1 === e.nodeType ? e.innerHTML.replace(Qt, "") : undefined;
                if ("string" == typeof t && !ee.test(t) && (dt.htmlSerialize || !Jt.test(t)) && (dt.leadingWhitespace || !zt.test(t)) && !Wt[(Bt.exec(t) || ["", ""])[1].toLowerCase()]) {
                    t = ft.htmlPrefilter(t);
                    try {
                        for (; n < i; n++)
                            e = this[n] || {}, 1 === e.nodeType && (ft.cleanData(p(e, !1)), e.innerHTML = t);
                        e = 0
                    } catch (t) {}
                }
                e && this.empty().append(t)
            }, null, t, arguments.length)
        },
        replaceWith: function() {
            var t = [];
            return R(this, arguments, function(e) {
                var n = this.parentNode;
                ft.inArray(this, t) < 0 && (ft.cleanData(p(this)), n && n.replaceChild(e, this))
            }, t)
        }
    }), ft.each({
        appendTo: "append",
        prependTo: "prepend",
        insertBefore: "before",
        insertAfter: "after",
        replaceAll: "replaceWith"
    }, function(t, e) {
        ft.fn[t] = function(t) {
            for (var n, i = 0, o = [], a = ft(t), s = a.length - 1; i <= s; i++)
                n = i === s ? this : this.clone(!0), ft(a[i])[e](n), st.apply(o, n.get());
            return this.pushStack(o)
        }
    });
    var re,
        le = {
            HTML: "block",
            BODY: "block"
        },
        ce = /^margin/,
        ue = new RegExp("^(" + At + ")(?!px)[a-z%]+$", "i"),
        de = function(t, e, n, i) {
            var o,
                a,
                s = {};
            for (a in e)
                s[a] = t.style[a], t.style[a] = e[a];
            o = n.apply(t, i || []);
            for (a in e)
                t.style[a] = s[a];
            return o
        },
        he = it.documentElement;
    !function() {
        function e() {
            var e,
                u,
                d = it.documentElement;
            d.appendChild(l), c.style.cssText = "-webkit-box-sizing:border-box;box-sizing:border-box;position:relative;display:block;margin:auto;border:1px;padding:1px;top:1%;width:50%", n = o = r = !1, i = s = !0, t.getComputedStyle && (u = t.getComputedStyle(c), n = "1%" !== (u || {}).top, r = "2px" === (u || {}).marginLeft, o = "4px" === (u || {
                width: "4px"
            }).width, c.style.marginRight = "50%", i = "4px" === (u || {
                marginRight: "4px"
            }).marginRight, e = c.appendChild(it.createElement("div")), e.style.cssText = c.style.cssText = "-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;margin:0;border:0;padding:0", e.style.marginRight = e.style.width = "0", c.style.width = "1px", s = !parseFloat((t.getComputedStyle(e) || {}).marginRight), c.removeChild(e)), c.style.display = "none", a = 0 === c.getClientRects().length, a && (c.style.display = "", c.innerHTML = "<table><tr><td></td><td>t</td></tr></table>", c.childNodes[0].style.borderCollapse = "separate", e = c.getElementsByTagName("td"), e[0].style.cssText = "margin:0;border:0;padding:0;display:none", (a = 0 === e[0].offsetHeight) && (e[0].style.display = "", e[1].style.display = "none", a = 0 === e[0].offsetHeight)), d.removeChild(l)
        }
        var n,
            i,
            o,
            a,
            s,
            r,
            l = it.createElement("div"),
            c = it.createElement("div");
        c.style && (c.style.cssText = "float:left;opacity:.5", dt.opacity = "0.5" === c.style.opacity, dt.cssFloat = !!c.style.cssFloat, c.style.backgroundClip = "content-box", c.cloneNode(!0).style.backgroundClip = "", dt.clearCloneStyle = "content-box" === c.style.backgroundClip, l = it.createElement("div"), l.style.cssText = "border:0;width:8px;height:0;top:0;left:-9999px;padding:0;margin-top:1px;position:absolute", c.innerHTML = "", l.appendChild(c), dt.boxSizing = "" === c.style.boxSizing || "" === c.style.MozBoxSizing || "" === c.style.WebkitBoxSizing, ft.extend(dt, {
            reliableHiddenOffsets: function() {
                return null == n && e(), a
            },
            boxSizingReliable: function() {
                return null == n && e(), o
            },
            pixelMarginRight: function() {
                return null == n && e(), i
            },
            pixelPosition: function() {
                return null == n && e(), n
            },
            reliableMarginRight: function() {
                return null == n && e(), s
            },
            reliableMarginLeft: function() {
                return null == n && e(), r
            }
        }))
    }();
    var fe,
        pe,
        me = /^(top|right|bottom|left)$/;
    t.getComputedStyle ? (fe = function(e) {
        var n = e.ownerDocument.defaultView;
        return n && n.opener || (n = t), n.getComputedStyle(e)
    }, pe = function(t, e, n) {
        var i,
            o,
            a,
            s,
            r = t.style;
        return n = n || fe(t), s = n ? n.getPropertyValue(e) || n[e] : undefined, "" !== s && s !== undefined || ft.contains(t.ownerDocument, t) || (s = ft.style(t, e)), n && !dt.pixelMarginRight() && ue.test(s) && ce.test(e) && (i = r.width, o = r.minWidth, a = r.maxWidth, r.minWidth = r.maxWidth = r.width = s, s = n.width, r.width = i, r.minWidth = o, r.maxWidth = a), s === undefined ? s : s + ""
    }) : he.currentStyle && (fe = function(t) {
        return t.currentStyle
    }, pe = function(t, e, n) {
        var i,
            o,
            a,
            s,
            r = t.style;
        return n = n || fe(t), s = n ? n[e] : undefined, null == s && r && r[e] && (s = r[e]), ue.test(s) && !me.test(e) && (i = r.left, o = t.runtimeStyle, a = o && o.left, a && (o.left = t.currentStyle.left), r.left = "fontSize" === e ? "1em" : s, s = r.pixelLeft + "px", r.left = i, a && (o.left = a)), s === undefined ? s : s + "" || "auto"
    });
    var ge = /alpha\([^)]*\)/i,
        ve = /opacity\s*=\s*([^)]*)/i,
        be = /^(none|table(?!-c[ea]).+)/,
        Ee = new RegExp("^(" + At + ")(.*)$", "i"),
        ye = {
            position: "absolute",
            visibility: "hidden",
            display: "block"
        },
        Te = {
            letterSpacing: "0",
            fontWeight: "400"
        },
        Ce = ["Webkit", "O", "Moz", "ms"],
        _e = it.createElement("div").style;
    ft.extend({
        cssHooks: {
            opacity: {
                get: function(t, e) {
                    if (e) {
                        var n = pe(t, "opacity");
                        return "" === n ? "1" : n
                    }
                }
            }
        },
        cssNumber: {
            animationIterationCount: !0,
            columnCount: !0,
            fillOpacity: !0,
            flexGrow: !0,
            flexShrink: !0,
            fontWeight: !0,
            lineHeight: !0,
            opacity: !0,
            order: !0,
            orphans: !0,
            widows: !0,
            zIndex: !0,
            zoom: !0
        },
        cssProps: {
            "float": dt.cssFloat ? "cssFloat" : "styleFloat"
        },
        style: function(t, e, n, i) {
            if (t && 3 !== t.nodeType && 8 !== t.nodeType && t.style) {
                var o,
                    a,
                    s,
                    r = ft.camelCase(e),
                    l = t.style;
                if (e = ft.cssProps[r] || (ft.cssProps[r] = K(r) || r), s = ft.cssHooks[e] || ft.cssHooks[r], n === undefined)
                    return s && "get" in s && (o = s.get(t, !1, i)) !== undefined ? o : l[e];
                if (a = typeof n, "string" === a && (o = Ft.exec(n)) && o[1] && (n = h(t, e, o), a = "number"), null != n && n === n && ("number" === a && (n += o && o[3] || (ft.cssNumber[r] ? "" : "px")), dt.clearCloneStyle || "" !== n || 0 !== e.indexOf("background") || (l[e] = "inherit"), !(s && "set" in s && (n = s.set(t, n, i)) === undefined)))
                    try {
                        l[e] = n
                    } catch (t) {}
            }
        },
        css: function(t, e, n, i) {
            var o,
                a,
                s,
                r = ft.camelCase(e);
            return e = ft.cssProps[r] || (ft.cssProps[r] = K(r) || r), s = ft.cssHooks[e] || ft.cssHooks[r], s && "get" in s && (a = s.get(t, !0, n)), a === undefined && (a = pe(t, e, i)), "normal" === a && e in Te && (a = Te[e]), "" === n || n ? (o = parseFloat(a), !0 === n || isFinite(o) ? o || 0 : a) : a
        }
    }), ft.each(["height", "width"], function(t, e) {
        ft.cssHooks[e] = {
            get: function(t, n, i) {
                if (n)
                    return be.test(ft.css(t, "display")) && 0 === t.offsetWidth ? de(t, ye, function() {
                        return P(t, e, i)
                    }) : P(t, e, i)
            },
            set: function(t, n, i) {
                var o = i && fe(t);
                return A(t, n, i ? F(t, e, i, dt.boxSizing && "border-box" === ft.css(t, "boxSizing", !1, o), o) : 0)
            }
        }
    }), dt.opacity || (ft.cssHooks.opacity = {
        get: function(t, e) {
            return ve.test((e && t.currentStyle ? t.currentStyle.filter : t.style.filter) || "") ? .01 * parseFloat(RegExp.$1) + "" : e ? "1" : ""
        },
        set: function(t, e) {
            var n = t.style,
                i = t.currentStyle,
                o = ft.isNumeric(e) ? "alpha(opacity=" + 100 * e + ")" : "",
                a = i && i.filter || n.filter || "";
            n.zoom = 1, (e >= 1 || "" === e) && "" === ft.trim(a.replace(ge, "")) && n.removeAttribute && (n.removeAttribute("filter"), "" === e || i && !i.filter) || (n.filter = ge.test(a) ? a.replace(ge, o) : a + " " + o)
        }
    }), ft.cssHooks.marginRight = S(dt.reliableMarginRight, function(t, e) {
        if (e)
            return de(t, {
                display: "inline-block"
            }, pe, [t, "marginRight"])
    }), ft.cssHooks.marginLeft = S(dt.reliableMarginLeft, function(t, e) {
        if (e)
            return (parseFloat(pe(t, "marginLeft")) || (ft.contains(t.ownerDocument, t) ? t.getBoundingClientRect().left - de(t, {
                marginLeft: 0
            }, function() {
                return t.getBoundingClientRect().left
            }) : 0)) + "px"
    }), ft.each({
        margin: "",
        padding: "",
        border: "Width"
    }, function(t, e) {
        ft.cssHooks[t + e] = {
            expand: function(n) {
                for (var i = 0, o = {}, a = "string" == typeof n ? n.split(" ") : [n]; i < 4; i++)
                    o[t + Pt[i] + e] = a[i] || a[i - 2] || a[0];
                return o
            }
        }, ce.test(t) || (ft.cssHooks[t + e].set = A)
    }), ft.fn.extend({
        css: function(t, e) {
            return $t(this, function(t, e, n) {
                var i,
                    o,
                    a = {},
                    s = 0;
                if (ft.isArray(e)) {
                    for (i = fe(t), o = e.length; s < o; s++)
                        a[e[s]] = ft.css(t, e[s], !1, i);
                    return a
                }
                return n !== undefined ? ft.style(t, e, n) : ft.css(t, e)
            }, t, e, arguments.length > 1)
        },
        show: function() {
            return N(this, !0)
        },
        hide: function() {
            return N(this)
        },
        toggle: function(t) {
            return "boolean" == typeof t ? t ? this.show() : this.hide() : this.each(function() {
                Lt(this) ? ft(this).show() : ft(this).hide()
            })
        }
    }), ft.Tween = L, L.prototype = {
        constructor: L,
        init: function(t, e, n, i, o, a) {
            this.elem = t, this.prop = n, this.easing = o || ft.easing._default, this.options = e, this.start = this.now = this.cur(), this.end = i, this.unit = a || (ft.cssNumber[n] ? "" : "px")
        },
        cur: function() {
            var t = L.propHooks[this.prop];
            return t && t.get ? t.get(this) : L.propHooks._default.get(this)
        },
        run: function(t) {
            var e,
                n = L.propHooks[this.prop];
            return this.options.duration ? this.pos = e = ft.easing[this.easing](t, this.options.duration * t, 0, 1, this.options.duration) : this.pos = e = t, this.now = (this.end - this.start) * e + this.start, this.options.step && this.options.step.call(this.elem, this.now, this), n && n.set ? n.set(this) : L.propHooks._default.set(this), this
        }
    }, L.prototype.init.prototype = L.prototype, L.propHooks = {
        _default: {
            get: function(t) {
                var e;
                return 1 !== t.elem.nodeType || null != t.elem[t.prop] && null == t.elem.style[t.prop] ? t.elem[t.prop] : (e = ft.css(t.elem, t.prop, ""), e && "auto" !== e ? e : 0)
            },
            set: function(t) {
                ft.fx.step[t.prop] ? ft.fx.step[t.prop](t) : 1 !== t.elem.nodeType || null == t.elem.style[ft.cssProps[t.prop]] && !ft.cssHooks[t.prop] ? t.elem[t.prop] = t.now : ft.style(t.elem, t.prop, t.now + t.unit)
            }
        }
    }, L.propHooks.scrollTop = L.propHooks.scrollLeft = {
        set: function(t) {
            t.elem.nodeType && t.elem.parentNode && (t.elem[t.prop] = t.now)
        }
    }, ft.easing = {
        linear: function(t) {
            return t
        },
        swing: function(t) {
            return .5 - Math.cos(t * Math.PI) / 2
        },
        _default: "swing"
    }, ft.fx = L.prototype.init, ft.fx.step = {};
    var De,
        Ie,
        Oe = /^(?:toggle|show|hide)$/,
        Re = /queueHooks$/;
    ft.Animation = ft.extend(j, {
        tweeners: {
            "*": [function(t, e) {
                var n = this.createTween(t, e);
                return h(n.elem, t, Ft.exec(e), n), n
            }]
        },
        tweener: function(t, e) {
            ft.isFunction(t) ? (e = t, t = ["*"]) : t = t.match(kt);
            for (var n, i = 0, o = t.length; i < o; i++)
                n = t[i], j.tweeners[n] = j.tweeners[n] || [], j.tweeners[n].unshift(e)
        },
        prefilters: [H],
        prefilter: function(t, e) {
            e ? j.prefilters.unshift(t) : j.prefilters.push(t)
        }
    }), ft.speed = function(t, e, n) {
        var i = t && "object" == typeof t ? ft.extend({}, t) : {
            complete: n || !n && e || ft.isFunction(t) && t,
            duration: t,
            easing: n && e || e && !ft.isFunction(e) && e
        };
        return i.duration = ft.fx.off ? 0 : "number" == typeof i.duration ? i.duration : i.duration in ft.fx.speeds ? ft.fx.speeds[i.duration] : ft.fx.speeds._default, null != i.queue && !0 !== i.queue || (i.queue = "fx"), i.old = i.complete, i.complete = function() {
            ft.isFunction(i.old) && i.old.call(this), i.queue && ft.dequeue(this, i.queue)
        }, i
    }, ft.fn.extend({
        fadeTo: function(t, e, n, i) {
            return this.filter(Lt).css("opacity", 0).show().end().animate({
                opacity: e
            }, t, n, i)
        },
        animate: function(t, e, n, i) {
            var o = ft.isEmptyObject(t),
                a = ft.speed(e, n, i),
                s = function() {
                    var e = j(this, ft.extend({}, t), a);
                    (o || ft._data(this, "finish")) && e.stop(!0)
                };
            return s.finish = s, o || !1 === a.queue ? this.each(s) : this.queue(a.queue, s)
        },
        stop: function(t, e, n) {
            var i = function(t) {
                var e = t.stop;
                delete t.stop, e(n)
            };
            return "string" != typeof t && (n = e, e = t, t = undefined), e && !1 !== t && this.queue(t || "fx", []), this.each(function() {
                var e = !0,
                    o = null != t && t + "queueHooks",
                    a = ft.timers,
                    s = ft._data(this);
                if (o)
                    s[o] && s[o].stop && i(s[o]);
                else
                    for (o in s)
                        s[o] && s[o].stop && Re.test(o) && i(s[o]);
                for (o = a.length; o--;)
                    a[o].elem !== this || null != t && a[o].queue !== t || (a[o].anim.stop(n), e = !1, a.splice(o, 1));
                !e && n || ft.dequeue(this, t)
            })
        },
        finish: function(t) {
            return !1 !== t && (t = t || "fx"), this.each(function() {
                var e,
                    n = ft._data(this),
                    i = n[t + "queue"],
                    o = n[t + "queueHooks"],
                    a = ft.timers,
                    s = i ? i.length : 0;
                for (n.finish = !0, ft.queue(this, t, []), o && o.stop && o.stop.call(this, !0), e = a.length; e--;)
                    a[e].elem === this && a[e].queue === t && (a[e].anim.stop(!0), a.splice(e, 1));
                for (e = 0; e < s; e++)
                    i[e] && i[e].finish && i[e].finish.call(this);
                delete n.finish
            })
        }
    }), ft.each(["toggle", "show", "hide"], function(t, e) {
        var n = ft.fn[e];
        ft.fn[e] = function(t, i, o) {
            return null == t || "boolean" == typeof t ? n.apply(this, arguments) : this.animate(M(e, !0), t, i, o)
        }
    }), ft.each({
        slideDown: M("show"),
        slideUp: M("hide"),
        slideToggle: M("toggle"),
        fadeIn: {
            opacity: "show"
        },
        fadeOut: {
            opacity: "hide"
        },
        fadeToggle: {
            opacity: "toggle"
        }
    }, function(t, e) {
        ft.fn[t] = function(t, n, i) {
            return this.animate(e, t, n, i)
        }
    }), ft.timers = [], ft.fx.tick = function() {
        var t,
            e = ft.timers,
            n = 0;
        for (De = ft.now(); n < e.length; n++)
            (t = e[n])() || e[n] !== t || e.splice(n--, 1);
        e.length || ft.fx.stop(), De = undefined
    }, ft.fx.timer = function(t) {
        ft.timers.push(t), t() ? ft.fx.start() : ft.timers.pop()
    }, ft.fx.interval = 13, ft.fx.start = function() {
        Ie || (Ie = t.setInterval(ft.fx.tick, ft.fx.interval))
    }, ft.fx.stop = function() {
        t.clearInterval(Ie), Ie = null
    }, ft.fx.speeds = {
        slow: 600,
        fast: 200,
        _default: 400
    }, ft.fn.delay = function(e, n) {
        return e = ft.fx ? ft.fx.speeds[e] || e : e, n = n || "fx", this.queue(n, function(n, i) {
            var o = t.setTimeout(n, e);
            i.stop = function() {
                t.clearTimeout(o)
            }
        })
    }, function() {
        var t,
            e = it.createElement("input"),
            n = it.createElement("div"),
            i = it.createElement("select"),
            o = i.appendChild(it.createElement("option"));
        n = it.createElement("div"), n.setAttribute("className", "t"), n.innerHTML = "  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>", t = n.getElementsByTagName("a")[0], e.setAttribute("type", "checkbox"), n.appendChild(e), t = n.getElementsByTagName("a")[0], t.style.cssText = "top:1px", dt.getSetAttribute = "t" !== n.className, dt.style = /top/.test(t.getAttribute("style")), dt.hrefNormalized = "/a" === t.getAttribute("href"), dt.checkOn = !!e.value, dt.optSelected = o.selected, dt.enctype = !!it.createElement("form").enctype, i.disabled = !0, dt.optDisabled = !o.disabled, e = it.createElement("input"), e.setAttribute("value", ""), dt.input = "" === e.getAttribute("value"), e.value = "t", e.setAttribute("type", "radio"), dt.radioValue = "t" === e.value
    }();
    var ke = /\r/g,
        we = /[\x20\t\r\n\f]+/g;
    ft.fn.extend({
        val: function(t) {
            var e,
                n,
                i,
                o = this[0];
            {
                if (arguments.length)
                    return i = ft.isFunction(t), this.each(function(n) {
                        var o;
                        1 === this.nodeType && (o = i ? t.call(this, n, ft(this).val()) : t, null == o ? o = "" : "number" == typeof o ? o += "" : ft.isArray(o) && (o = ft.map(o, function(t) {
                            return null == t ? "" : t + ""
                        })), (e = ft.valHooks[this.type] || ft.valHooks[this.nodeName.toLowerCase()]) && "set" in e && e.set(this, o, "value") !== undefined || (this.value = o))
                    });
                if (o)
                    return (e = ft.valHooks[o.type] || ft.valHooks[o.nodeName.toLowerCase()]) && "get" in e && (n = e.get(o, "value")) !== undefined ? n : (n = o.value, "string" == typeof n ? n.replace(ke, "") : null == n ? "" : n)
            }
        }
    }), ft.extend({
        valHooks: {
            option: {
                get: function(t) {
                    var e = ft.find.attr(t, "value");
                    return null != e ? e : ft.trim(ft.text(t)).replace(we, " ")
                }
            },
            select: {
                get: function(t) {
                    for (var e, n, i = t.options, o = t.selectedIndex, a = "select-one" === t.type || o < 0, s = a ? null : [], r = a ? o + 1 : i.length, l = o < 0 ? r : a ? o : 0; l < r; l++)
                        if (n = i[l], (n.selected || l === o) && (dt.optDisabled ? !n.disabled : null === n.getAttribute("disabled")) && (!n.parentNode.disabled || !ft.nodeName(n.parentNode, "optgroup"))) {
                            if (e = ft(n).val(), a)
                                return e;
                            s.push(e)
                        }
                    return s
                },
                set: function(t, e) {
                    for (var n, i, o = t.options, a = ft.makeArray(e), s = o.length; s--;)
                        if (i = o[s], ft.inArray(ft.valHooks.option.get(i), a) > -1)
                            try {
                                i.selected = n = !0
                            } catch (t) {
                                i.scrollHeight
                            }
                        else
                            i.selected = !1;
                    return n || (t.selectedIndex = -1), o
                }
            }
        }
    }), ft.each(["radio", "checkbox"], function() {
        ft.valHooks[this] = {
            set: function(t, e) {
                if (ft.isArray(e))
                    return t.checked = ft.inArray(ft(t).val(), e) > -1
            }
        }, dt.checkOn || (ft.valHooks[this].get = function(t) {
            return null === t.getAttribute("value") ? "on" : t.value
        })
    });
    var xe,
        Se,
        Ke = ft.expr.attrHandle,
        Ne = /^(?:checked|selected)$/i,
        Ae = dt.getSetAttribute,
        Fe = dt.input;
    ft.fn.extend({
        attr: function(t, e) {
            return $t(this, ft.attr, t, e, arguments.length > 1)
        },
        removeAttr: function(t) {
            return this.each(function() {
                ft.removeAttr(this, t)
            })
        }
    }), ft.extend({
        attr: function(t, e, n) {
            var i,
                o,
                a = t.nodeType;
            if (3 !== a && 8 !== a && 2 !== a)
                return "undefined" == typeof t.getAttribute ? ft.prop(t, e, n) : (1 === a && ft.isXMLDoc(t) || (e = e.toLowerCase(), o = ft.attrHooks[e] || (ft.expr.match.bool.test(e) ? Se : xe)), n !== undefined ? null === n ? void ft.removeAttr(t, e) : o && "set" in o && (i = o.set(t, n, e)) !== undefined ? i : (t.setAttribute(e, n + ""), n) : o && "get" in o && null !== (i = o.get(t, e)) ? i : (i = ft.find.attr(t, e), null == i ? undefined : i))
        },
        attrHooks: {
            type: {
                set: function(t, e) {
                    if (!dt.radioValue && "radio" === e && ft.nodeName(t, "input")) {
                        var n = t.value;
                        return t.setAttribute("type", e), n && (t.value = n), e
                    }
                }
            }
        },
        removeAttr: function(t, e) {
            var n,
                i,
                o = 0,
                a = e && e.match(kt);
            if (a && 1 === t.nodeType)
                for (; n = a[o++];)
                    i = ft.propFix[n] || n, ft.expr.match.bool.test(n) ? Fe && Ae || !Ne.test(n) ? t[i] = !1 : t[ft.camelCase("default-" + n)] = t[i] = !1 : ft.attr(t, n, ""), t.removeAttribute(Ae ? n : i)
        }
    }), Se = {
        set: function(t, e, n) {
            return !1 === e ? ft.removeAttr(t, n) : Fe && Ae || !Ne.test(n) ? t.setAttribute(!Ae && ft.propFix[n] || n, n) : t[ft.camelCase("default-" + n)] = t[n] = !0, n
        }
    }, ft.each(ft.expr.match.bool.source.match(/\w+/g), function(t, e) {
        var n = Ke[e] || ft.find.attr;
        Fe && Ae || !Ne.test(e) ? Ke[e] = function(t, e, i) {
            var o,
                a;
            return i || (a = Ke[e], Ke[e] = o, o = null != n(t, e, i) ? e.toLowerCase() : null, Ke[e] = a), o
        } : Ke[e] = function(t, e, n) {
            if (!n)
                return t[ft.camelCase("default-" + e)] ? e.toLowerCase() : null
        }
    }), Fe && Ae || (ft.attrHooks.value = {
        set: function(t, e, n) {
            if (!ft.nodeName(t, "input"))
                return xe && xe.set(t, e, n);
            t.defaultValue = e
        }
    }), Ae || (xe = {
        set: function(t, e, n) {
            var i = t.getAttributeNode(n);
            if (i || t.setAttributeNode(i = t.ownerDocument.createAttribute(n)), i.value = e += "", "value" === n || e === t.getAttribute(n))
                return e
        }
    }, Ke.id = Ke.name = Ke.coords = function(t, e, n) {
        var i;
        if (!n)
            return (i = t.getAttributeNode(e)) && "" !== i.value ? i.value : null
    }, ft.valHooks.button = {
        get: function(t, e) {
            var n = t.getAttributeNode(e);
            if (n && n.specified)
                return n.value
        },
        set: xe.set
    }, ft.attrHooks.contenteditable = {
        set: function(t, e, n) {
            xe.set(t, "" !== e && e, n)
        }
    }, ft.each(["width", "height"], function(t, e) {
        ft.attrHooks[e] = {
            set: function(t, n) {
                if ("" === n)
                    return t.setAttribute(e, "auto"), n
            }
        }
    })), dt.style || (ft.attrHooks.style = {
        get: function(t) {
            return t.style.cssText || undefined
        },
        set: function(t, e) {
            return t.style.cssText = e + ""
        }
    });
    var Pe = /^(?:input|select|textarea|button|object)$/i,
        Le = /^(?:a|area)$/i;
    ft.fn.extend({
        prop: function(t, e) {
            return $t(this, ft.prop, t, e, arguments.length > 1)
        },
        removeProp: function(t) {
            return t = ft.propFix[t] || t, this.each(function() {
                try {
                    this[t] = undefined, delete this[t]
                } catch (t) {}
            })
        }
    }), ft.extend({
        prop: function(t, e, n) {
            var i,
                o,
                a = t.nodeType;
            if (3 !== a && 8 !== a && 2 !== a)
                return 1 === a && ft.isXMLDoc(t) || (e = ft.propFix[e] || e, o = ft.propHooks[e]), n !== undefined ? o && "set" in o && (i = o.set(t, n, e)) !== undefined ? i : t[e] = n : o && "get" in o && null !== (i = o.get(t, e)) ? i : t[e]
        },
        propHooks: {
            tabIndex: {
                get: function(t) {
                    var e = ft.find.attr(t, "tabindex");
                    return e ? parseInt(e, 10) : Pe.test(t.nodeName) || Le.test(t.nodeName) && t.href ? 0 : -1
                }
            }
        },
        propFix: {
            "for": "htmlFor",
            "class": "className"
        }
    }), dt.hrefNormalized || ft.each(["href", "src"], function(t, e) {
        ft.propHooks[e] = {
            get: function(t) {
                return t.getAttribute(e, 4)
            }
        }
    }), dt.optSelected || (ft.propHooks.selected = {
        get: function(t) {
            var e = t.parentNode;
            return e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex), null
        },
        set: function(t) {
            var e = t.parentNode;
            e && (e.selectedIndex, e.parentNode && e.parentNode.selectedIndex)
        }
    }), ft.each(["tabIndex", "readOnly", "maxLength", "cellSpacing", "cellPadding", "rowSpan", "colSpan", "useMap", "frameBorder", "contentEditable"], function() {
        ft.propFix[this.toLowerCase()] = this
    }), dt.enctype || (ft.propFix.enctype = "encoding");
    var $e = /[\t\r\n\f]/g;
    ft.fn.extend({
        addClass: function(t) {
            var e,
                n,
                i,
                o,
                a,
                s,
                r,
                l = 0;
            if (ft.isFunction(t))
                return this.each(function(e) {
                    ft(this).addClass(t.call(this, e, W(this)))
                });
            if ("string" == typeof t && t)
                for (e = t.match(kt) || []; n = this[l++];)
                    if (o = W(n), i = 1 === n.nodeType && (" " + o + " ").replace($e, " ")) {
                        for (s = 0; a = e[s++];)
                            i.indexOf(" " + a + " ") < 0 && (i += a + " ");
                        r = ft.trim(i), o !== r && ft.attr(n, "class", r)
                    }
            return this
        },
        removeClass: function(t) {
            var e,
                n,
                i,
                o,
                a,
                s,
                r,
                l = 0;
            if (ft.isFunction(t))
                return this.each(function(e) {
                    ft(this).removeClass(t.call(this, e, W(this)))
                });
            if (!arguments.length)
                return this.attr("class", "");
            if ("string" == typeof t && t)
                for (e = t.match(kt) || []; n = this[l++];)
                    if (o = W(n), i = 1 === n.nodeType && (" " + o + " ").replace($e, " ")) {
                        for (s = 0; a = e[s++];)
                            for (; i.indexOf(" " + a + " ") > -1;)
                                i = i.replace(" " + a + " ", " ");
                        r = ft.trim(i), o !== r && ft.attr(n, "class", r)
                    }
            return this
        },
        toggleClass: function(t, e) {
            var n = typeof t;
            return "boolean" == typeof e && "string" === n ? e ? this.addClass(t) : this.removeClass(t) : ft.isFunction(t) ? this.each(function(n) {
                ft(this).toggleClass(t.call(this, n, W(this), e), e)
            }) : this.each(function() {
                var e,
                    i,
                    o,
                    a;
                if ("string" === n)
                    for (i = 0, o = ft(this), a = t.match(kt) || []; e = a[i++];)
                        o.hasClass(e) ? o.removeClass(e) : o.addClass(e);
                else
                    t !== undefined && "boolean" !== n || (e = W(this), e && ft._data(this, "__className__", e), ft.attr(this, "class", e || !1 === t ? "" : ft._data(this, "__className__") || ""))
            })
        },
        hasClass: function(t) {
            var e,
                n,
                i = 0;
            for (e = " " + t + " "; n = this[i++];)
                if (1 === n.nodeType && (" " + W(n) + " ").replace($e, " ").indexOf(e) > -1)
                    return !0;
            return !1
        }
    }), ft.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "), function(t, e) {
        ft.fn[e] = function(t, n) {
            return arguments.length > 0 ? this.on(e, null, t, n) : this.trigger(e)
        }
    }), ft.fn.extend({
        hover: function(t, e) {
            return this.mouseenter(t).mouseleave(e || t)
        }
    });
    var Me = t.location,
        Be = ft.now(),
        He = /\?/,
        ze = /(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;
    ft.parseJSON = function(e) {
        if (t.JSON && t.JSON.parse)
            return t.JSON.parse(e + "");
        var n,
            i = null,
            o = ft.trim(e + "");
        return o && !ft.trim(o.replace(ze, function(t, e, o, a) {
            return n && e && (i = 0), 0 === i ? t : (n = o || e, i += !a - !o, "")
        })) ? Function("return " + o)() : ft.error("Invalid JSON: " + e)
    }, ft.parseXML = function(e) {
        var n,
            i;
        if (!e || "string" != typeof e)
            return null;
        try {
            t.DOMParser ? (i = new t.DOMParser, n = i.parseFromString(e, "text/xml")) : (n = new t.ActiveXObject("Microsoft.XMLDOM"), n.async = "false", n.loadXML(e))
        } catch (t) {
            n = undefined
        }
        return n && n.documentElement && !n.getElementsByTagName("parsererror").length || ft.error("Invalid XML: " + e), n
    };
    var je = /#.*$/,
        We = /([?&])_=[^&]*/,
        qe = /^(.*?):[ \t]*([^\r\n]*)\r?$/gm,
        Ve = /^(?:about|app|app-storage|.+-extension|file|res|widget):$/,
        Ue = /^(?:GET|HEAD)$/,
        Ye = /^\/\//,
        Xe = /^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,
        Ge = {},
        Ze = {},
        Qe = "*/".concat("*"),
        Je = Me.href,
        tn = Xe.exec(Je.toLowerCase()) || [];
    ft.extend({
        active: 0,
        lastModified: {},
        etag: {},
        ajaxSettings: {
            url: Je,
            type: "GET",
            isLocal: Ve.test(tn[1]),
            global: !0,
            processData: !0,
            async: !0,
            contentType: "application/x-www-form-urlencoded; charset=UTF-8",
            accepts: {
                "*": Qe,
                text: "text/plain",
                html: "text/html",
                xml: "application/xml, text/xml",
                json: "application/json, text/javascript"
            },
            contents: {
                xml: /\bxml\b/,
                html: /\bhtml/,
                json: /\bjson\b/
            },
            responseFields: {
                xml: "responseXML",
                text: "responseText",
                json: "responseJSON"
            },
            converters: {
                "* text": String,
                "text html": !0,
                "text json": ft.parseJSON,
                "text xml": ft.parseXML
            },
            flatOptions: {
                url: !0,
                context: !0
            }
        },
        ajaxSetup: function(t, e) {
            return e ? U(U(t, ft.ajaxSettings), e) : U(ft.ajaxSettings, t)
        },
        ajaxPrefilter: q(Ge),
        ajaxTransport: q(Ze),
        ajax: function(e, n) {
            function i(e, n, i, o) {
                var a,
                    d,
                    b,
                    E,
                    T,
                    _ = n;
                2 !== y && (y = 2, l && t.clearTimeout(l), u = undefined, r = o || "", C.readyState = e > 0 ? 4 : 0, a = e >= 200 && e < 300 || 304 === e, i && (E = Y(h, C, i)), E = X(h, E, C, a), a ? (h.ifModified && (T = C.getResponseHeader("Last-Modified"), T && (ft.lastModified[s] = T), (T = C.getResponseHeader("etag")) && (ft.etag[s] = T)), 204 === e || "HEAD" === h.type ? _ = "nocontent" : 304 === e ? _ = "notmodified" : (_ = E.state, d = E.data, b = E.error, a = !b)) : (b = _, !e && _ || (_ = "error", e < 0 && (e = 0))), C.status = e, C.statusText = (n || _) + "", a ? m.resolveWith(f, [d, _, C]) : m.rejectWith(f, [C, _, b]), C.statusCode(v), v = undefined, c && p.trigger(a ? "ajaxSuccess" : "ajaxError", [C, h, a ? d : b]), g.fireWith(f, [C, _]), c && (p.trigger("ajaxComplete", [C, h]), --ft.active || ft.event.trigger("ajaxStop")))
            }
            "object" == typeof e && (n = e, e = undefined), n = n || {};
            var o,
                a,
                s,
                r,
                l,
                c,
                u,
                d,
                h = ft.ajaxSetup({}, n),
                f = h.context || h,
                p = h.context && (f.nodeType || f.jquery) ? ft(f) : ft.event,
                m = ft.Deferred(),
                g = ft.Callbacks("once memory"),
                v = h.statusCode || {},
                b = {},
                E = {},
                y = 0,
                T = "canceled",
                C = {
                    readyState: 0,
                    getResponseHeader: function(t) {
                        var e;
                        if (2 === y) {
                            if (!d)
                                for (d = {}; e = qe.exec(r);)
                                    d[e[1].toLowerCase()] = e[2];
                            e = d[t.toLowerCase()]
                        }
                        return null == e ? null : e
                    },
                    getAllResponseHeaders: function() {
                        return 2 === y ? r : null
                    },
                    setRequestHeader: function(t, e) {
                        var n = t.toLowerCase();
                        return y || (t = E[n] = E[n] || t, b[t] = e), this
                    },
                    overrideMimeType: function(t) {
                        return y || (h.mimeType = t), this
                    },
                    statusCode: function(t) {
                        var e;
                        if (t)
                            if (y < 2)
                                for (e in t)
                                    v[e] = [v[e], t[e]];
                            else
                                C.always(t[C.status]);
                        return this
                    },
                    abort: function(t) {
                        var e = t || T;
                        return u && u.abort(e), i(0, e), this
                    }
                };
            if (m.promise(C).complete = g.add, C.success = C.done, C.error = C.fail, h.url = ((e || h.url || Je) + "").replace(je, "").replace(Ye, tn[1] + "//"), h.type = n.method || n.type || h.method || h.type, h.dataTypes = ft.trim(h.dataType || "*").toLowerCase().match(kt) || [""], null == h.crossDomain && (o = Xe.exec(h.url.toLowerCase()), h.crossDomain = !(!o || o[1] === tn[1] && o[2] === tn[2] && (o[3] || ("http:" === o[1] ? "80" : "443")) === (tn[3] || ("http:" === tn[1] ? "80" : "443")))), h.data && h.processData && "string" != typeof h.data && (h.data = ft.param(h.data, h.traditional)), V(Ge, h, n, C), 2 === y)
                return C;
            c = ft.event && h.global, c && 0 == ft.active++ && ft.event.trigger("ajaxStart"), h.type = h.type.toUpperCase(), h.hasContent = !Ue.test(h.type), s = h.url, h.hasContent || (h.data && (s = h.url += (He.test(s) ? "&" : "?") + h.data, delete h.data), !1 === h.cache && (h.url = We.test(s) ? s.replace(We, "$1_=" + Be++) : s + (He.test(s) ? "&" : "?") + "_=" + Be++)), h.ifModified && (ft.lastModified[s] && C.setRequestHeader("If-Modified-Since", ft.lastModified[s]), ft.etag[s] && C.setRequestHeader("If-None-Match", ft.etag[s])), (h.data && h.hasContent && !1 !== h.contentType || n.contentType) && C.setRequestHeader("Content-Type", h.contentType), C.setRequestHeader("Accept", h.dataTypes[0] && h.accepts[h.dataTypes[0]] ? h.accepts[h.dataTypes[0]] + ("*" !== h.dataTypes[0] ? ", " + Qe + "; q=0.01" : "") : h.accepts["*"]);
            for (a in h.headers)
                C.setRequestHeader(a, h.headers[a]);
            if (h.beforeSend && (!1 === h.beforeSend.call(f, C, h) || 2 === y))
                return C.abort();
            T = "abort";
            for (a in {
                success: 1,
                error: 1,
                complete: 1
            })
                C[a](h[a]);
            if (u = V(Ze, h, n, C)) {
                if (C.readyState = 1, c && p.trigger("ajaxSend", [C, h]), 2 === y)
                    return C;
                h.async && h.timeout > 0 && (l = t.setTimeout(function() {
                    C.abort("timeout")
                }, h.timeout));
                try {
                    y = 1, u.send(b, i)
                } catch (t) {
                    if (!(y < 2))
                        throw t;
                    i(-1, t)
                }
            } else
                i(-1, "No Transport");
            return C
        },
        getJSON: function(t, e, n) {
            return ft.get(t, e, n, "json")
        },
        getScript: function(t, e) {
            return ft.get(t, undefined, e, "script")
        }
    }), ft.each(["get", "post"], function(t, e) {
        ft[e] = function(t, n, i, o) {
            return ft.isFunction(n) && (o = o || i, i = n, n = undefined), ft.ajax(ft.extend({
                url: t,
                type: e,
                dataType: o,
                data: n,
                success: i
            }, ft.isPlainObject(t) && t))
        }
    }), ft._evalUrl = function(t) {
        return ft.ajax({
            url: t,
            type: "GET",
            dataType: "script",
            cache: !0,
            async: !1,
            global: !1,
            "throws": !0
        })
    }, ft.fn.extend({
        wrapAll: function(t) {
            if (ft.isFunction(t))
                return this.each(function(e) {
                    ft(this).wrapAll(t.call(this, e))
                });
            if (this[0]) {
                var e = ft(t, this[0].ownerDocument).eq(0).clone(!0);
                this[0].parentNode && e.insertBefore(this[0]), e.map(function() {
                    for (var t = this; t.firstChild && 1 === t.firstChild.nodeType;)
                        t = t.firstChild;
                    return t
                }).append(this)
            }
            return this
        },
        wrapInner: function(t) {
            return ft.isFunction(t) ? this.each(function(e) {
                ft(this).wrapInner(t.call(this, e))
            }) : this.each(function() {
                var e = ft(this),
                    n = e.contents();
                n.length ? n.wrapAll(t) : e.append(t)
            })
        },
        wrap: function(t) {
            var e = ft.isFunction(t);
            return this.each(function(n) {
                ft(this).wrapAll(e ? t.call(this, n) : t)
            })
        },
        unwrap: function() {
            return this.parent().each(function() {
                ft.nodeName(this, "body") || ft(this).replaceWith(this.childNodes)
            }).end()
        }
    }), ft.expr.filters.hidden = function(t) {
        return dt.reliableHiddenOffsets() ? t.offsetWidth <= 0 && t.offsetHeight <= 0 && !t.getClientRects().length : Z(t)
    }, ft.expr.filters.visible = function(t) {
        return !ft.expr.filters.hidden(t)
    };
    var en = /%20/g,
        nn = /\[\]$/,
        on = /\r?\n/g,
        an = /^(?:submit|button|image|reset|file)$/i,
        sn = /^(?:input|select|textarea|keygen)/i;
    ft.param = function(t, e) {
        var n,
            i = [],
            o = function(t, e) {
                e = ft.isFunction(e) ? e() : null == e ? "" : e, i[i.length] = encodeURIComponent(t) + "=" + encodeURIComponent(e)
            };
        if (e === undefined && (e = ft.ajaxSettings && ft.ajaxSettings.traditional), ft.isArray(t) || t.jquery && !ft.isPlainObject(t))
            ft.each(t, function() {
                o(this.name, this.value)
            });
        else
            for (n in t)
                Q(n, t[n], e, o);
        return i.join("&").replace(en, "+")
    }, ft.fn.extend({
        serialize: function() {
            return ft.param(this.serializeArray())
        },
        serializeArray: function() {
            return this.map(function() {
                var t = ft.prop(this, "elements");
                return t ? ft.makeArray(t) : this
            }).filter(function() {
                var t = this.type;
                return this.name && !ft(this).is(":disabled") && sn.test(this.nodeName) && !an.test(t) && (this.checked || !Mt.test(t))
            }).map(function(t, e) {
                var n = ft(this).val();
                return null == n ? null : ft.isArray(n) ? ft.map(n, function(t) {
                    return {
                        name: e.name,
                        value: t.replace(on, "\r\n")
                    }
                }) : {
                    name: e.name,
                    value: n.replace(on, "\r\n")
                }
            }).get()
        }
    }), ft.ajaxSettings.xhr = t.ActiveXObject !== undefined ? function() {
        return this.isLocal ? tt() : it.documentMode > 8 ? J() : /^(get|post|head|put|delete|options)$/i.test(this.type) && J() || tt()
    } : J;
    var rn = 0,
        ln = {},
        cn = ft.ajaxSettings.xhr();
    t.attachEvent && t.attachEvent("onunload", function() {
        for (var t in ln)
            ln[t](undefined, !0)
    }), dt.cors = !!cn && "withCredentials" in cn, cn = dt.ajax = !!cn, cn && ft.ajaxTransport(function(e) {
        if (!e.crossDomain || dt.cors) {
            var n;
            return {
                send: function(i, o) {
                    var a,
                        s = e.xhr(),
                        r = ++rn;
                    if (s.open(e.type, e.url, e.async, e.username, e.password), e.xhrFields)
                        for (a in e.xhrFields)
                            s[a] = e.xhrFields[a];
                    e.mimeType && s.overrideMimeType && s.overrideMimeType(e.mimeType), e.crossDomain || i["X-Requested-With"] || (i["X-Requested-With"] = "XMLHttpRequest");
                    for (a in i)
                        i[a] !== undefined && s.setRequestHeader(a, i[a] + "");
                    s.send(e.hasContent && e.data || null), n = function(t, i) {
                        var a,
                            l,
                            c;
                        if (n && (i || 4 === s.readyState))
                            if (delete ln[r], n = undefined, s.onreadystatechange = ft.noop, i)
                                4 !== s.readyState && s.abort();
                            else {
                                c = {}, a = s.status, "string" == typeof s.responseText && (c.text = s.responseText);
                                try {
                                    l = s.statusText
                                } catch (t) {
                                    l = ""
                                }
                                a || !e.isLocal || e.crossDomain ? 1223 === a && (a = 204) : a = c.text ? 200 : 404
                            }
                        c && o(a, l, c, s.getAllResponseHeaders())
                    }, e.async ? 4 === s.readyState ? t.setTimeout(n) : s.onreadystatechange = ln[r] = n : n()
                },
                abort: function() {
                    n && n(undefined, !0)
                }
            }
        }
    }), ft.ajaxSetup({
        accepts: {
            script: "text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"
        },
        contents: {
            script: /\b(?:java|ecma)script\b/
        },
        converters: {
            "text script": function(t) {
                return ft.globalEval(t), t
            }
        }
    }), ft.ajaxPrefilter("script", function(t) {
        t.cache === undefined && (t.cache = !1), t.crossDomain && (t.type = "GET", t.global = !1)
    }), ft.ajaxTransport("script", function(t) {
        if (t.crossDomain) {
            var e,
                n = it.head || ft("head")[0] || it.documentElement;
            return {
                send: function(i, o) {
                    e = it.createElement("script"), e.async = !0, t.scriptCharset && (e.charset = t.scriptCharset), e.src = t.url, e.onload = e.onreadystatechange = function(t, n) {
                        (n || !e.readyState || /loaded|complete/.test(e.readyState)) && (e.onload = e.onreadystatechange = null, e.parentNode && e.parentNode.removeChild(e), e = null, n || o(200, "success"))
                    }, n.insertBefore(e, n.firstChild)
                },
                abort: function() {
                    e && e.onload(undefined, !0)
                }
            }
        }
    });
    var un = [],
        dn = /(=)\?(?=&|$)|\?\?/;
    ft.ajaxSetup({
        jsonp: "callback",
        jsonpCallback: function() {
            var t = un.pop() || ft.expando + "_" + Be++;
            return this[t] = !0, t
        }
    }), ft.ajaxPrefilter("json jsonp", function(e, n, i) {
        var o,
            a,
            s,
            r = !1 !== e.jsonp && (dn.test(e.url) ? "url" : "string" == typeof e.data && 0 === (e.contentType || "").indexOf("application/x-www-form-urlencoded") && dn.test(e.data) && "data");
        if (r || "jsonp" === e.dataTypes[0])
            return o = e.jsonpCallback = ft.isFunction(e.jsonpCallback) ? e.jsonpCallback() : e.jsonpCallback, r ? e[r] = e[r].replace(dn, "$1" + o) : !1 !== e.jsonp && (e.url += (He.test(e.url) ? "&" : "?") + e.jsonp + "=" + o), e.converters["script json"] = function() {
                return s || ft.error(o + " was not called"), s[0]
            }, e.dataTypes[0] = "json", a = t[o], t[o] = function() {
                s = arguments
            }, i.always(function() {
                a === undefined ? ft(t).removeProp(o) : t[o] = a, e[o] && (e.jsonpCallback = n.jsonpCallback, un.push(o)), s && ft.isFunction(a) && a(s[0]), s = a = undefined
            }), "script"
    }), ft.parseHTML = function(t, e, n) {
        if (!t || "string" != typeof t)
            return null;
        "boolean" == typeof e && (n = e, e = !1), e = e || it;
        var i = Ct.exec(t),
            o = !n && [];
        return i ? [e.createElement(i[1])] : (i = v([t], e, o), o && o.length && ft(o).remove(), ft.merge([], i.childNodes))
    };
    var hn = ft.fn.load;
    ft.fn.load = function(t, e, n) {
        if ("string" != typeof t && hn)
            return hn.apply(this, arguments);
        var i,
            o,
            a,
            s = this,
            r = t.indexOf(" ");
        return r > -1 && (i = ft.trim(t.slice(r, t.length)), t = t.slice(0, r)), ft.isFunction(e) ? (n = e, e = undefined) : e && "object" == typeof e && (o = "POST"), s.length > 0 && ft.ajax({
            url: t,
            type: o || "GET",
            dataType: "html",
            data: e
        }).done(function(t) {
            a = arguments, s.html(i ? ft("<div>").append(ft.parseHTML(t)).find(i) : t)
        }).always(n && function(t, e) {
            s.each(function() {
                n.apply(this, a || [t.responseText, e, t])
            })
        }), this
    }, ft.each(["ajaxStart", "ajaxStop", "ajaxComplete", "ajaxError", "ajaxSuccess", "ajaxSend"], function(t, e) {
        ft.fn[e] = function(t) {
            return this.on(e, t)
        }
    }), ft.expr.filters.animated = function(t) {
        return ft.grep(ft.timers, function(e) {
            return t === e.elem
        }).length
    }, ft.offset = {
        setOffset: function(t, e, n) {
            var i,
                o,
                a,
                s,
                r,
                l,
                c,
                u = ft.css(t, "position"),
                d = ft(t),
                h = {};
            "static" === u && (t.style.position = "relative"), r = d.offset(), a = ft.css(t, "top"), l = ft.css(t, "left"), c = ("absolute" === u || "fixed" === u) && ft.inArray("auto", [a, l]) > -1, c ? (i = d.position(), s = i.top, o = i.left) : (s = parseFloat(a) || 0, o = parseFloat(l) || 0), ft.isFunction(e) && (e = e.call(t, n, ft.extend({}, r))), null != e.top && (h.top = e.top - r.top + s), null != e.left && (h.left = e.left - r.left + o), "using" in e ? e.using.call(t, h) : d.css(h)
        }
    }, ft.fn.extend({
        offset: function(t) {
            if (arguments.length)
                return t === undefined ? this : this.each(function(e) {
                    ft.offset.setOffset(this, t, e)
                });
            var e,
                n,
                i = {
                    top: 0,
                    left: 0
                },
                o = this[0],
                a = o && o.ownerDocument;
            if (a)
                return e = a.documentElement, ft.contains(e, o) ? ("undefined" != typeof o.getBoundingClientRect && (i = o.getBoundingClientRect()), n = et(a), {
                    top: i.top + (n.pageYOffset || e.scrollTop) - (e.clientTop || 0),
                    left: i.left + (n.pageXOffset || e.scrollLeft) - (e.clientLeft || 0)
                }) : i
        },
        position: function() {
            if (this[0]) {
                var t,
                    e,
                    n = {
                        top: 0,
                        left: 0
                    },
                    i = this[0];
                return "fixed" === ft.css(i, "position") ? e = i.getBoundingClientRect() : (t = this.offsetParent(), e = this.offset(), ft.nodeName(t[0], "html") || (n = t.offset()), n.top += ft.css(t[0], "borderTopWidth", !0), n.left += ft.css(t[0], "borderLeftWidth", !0)), {
                    top: e.top - n.top - ft.css(i, "marginTop", !0),
                    left: e.left - n.left - ft.css(i, "marginLeft", !0)
                }
            }
        },
        offsetParent: function() {
            return this.map(function() {
                for (var t = this.offsetParent; t && !ft.nodeName(t, "html") && "static" === ft.css(t, "position");)
                    t = t.offsetParent;
                return t || he
            })
        }
    }), ft.each({
        scrollLeft: "pageXOffset",
        scrollTop: "pageYOffset"
    }, function(t, e) {
        var n = /Y/.test(e);
        ft.fn[t] = function(i) {
            return $t(this, function(t, i, o) {
                var a = et(t);
                if (o === undefined)
                    return a ? e in a ? a[e] : a.document.documentElement[i] : t[i];
                a ? a.scrollTo(n ? ft(a).scrollLeft() : o, n ? o : ft(a).scrollTop()) : t[i] = o
            }, t, i, arguments.length, null)
        }
    }), ft.each(["top", "left"], function(t, e) {
        ft.cssHooks[e] = S(dt.pixelPosition, function(t, n) {
            if (n)
                return n = pe(t, e), ue.test(n) ? ft(t).position()[e] + "px" : n
        })
    }), ft.each({
        Height: "height",
        Width: "width"
    }, function(t, e) {
        ft.each({
            padding: "inner" + t,
            content: e,
            "": "outer" + t
        }, function(n, i) {
            ft.fn[i] = function(i, o) {
                var a = arguments.length && (n || "boolean" != typeof i),
                    s = n || (!0 === i || !0 === o ? "margin" : "border");
                return $t(this, function(e, n, i) {
                    var o;
                    return ft.isWindow(e) ? e.document.documentElement["client" + t] : 9 === e.nodeType ? (o = e.documentElement, Math.max(e.body["scroll" + t], o["scroll" + t], e.body["offset" + t], o["offset" + t], o["client" + t])) : i === undefined ? ft.css(e, n, s) : ft.style(e, n, i, s)
                }, e, a ? i : undefined, a, null)
            }
        })
    }), ft.fn.extend({
        bind: function(t, e, n) {
            return this.on(t, null, e, n)
        },
        unbind: function(t, e) {
            return this.off(t, null, e)
        },
        delegate: function(t, e, n, i) {
            return this.on(e, t, n, i)
        },
        undelegate: function(t, e, n) {
            return 1 === arguments.length ? this.off(t, "**") : this.off(e, t || "**", n)
        }
    }), ft.fn.size = function() {
        return this.length
    }, ft.fn.andSelf = ft.fn.addBack, "function" == typeof define && define.amd && define("jquery", [], function() {
        return ft
    });
    var fn = t.jQuery,
        pn = t.$;
    return ft.noConflict = function(e) {
        return t.$ === ft && (t.$ = pn), e && t.jQuery === ft && (t.jQuery = fn), ft
    }, e || (t.jQuery = t.$ = ft), ft
}), function(t, e) {
    "use strict";
    t.rails !== e && t.error("jquery-ujs has already been loaded!");
    var n,
        i = t(document);
    t.rails = n = {
        linkClickSelector: "a[data-confirm], a[data-method], a[data-remote]:not([disabled]), a[data-disable-with], a[data-disable]",
        buttonClickSelector: "button[data-remote]:not([form]):not(form button), button[data-confirm]:not([form]):not(form button)",
        inputChangeSelector: "select[data-remote], input[data-remote], textarea[data-remote]",
        formSubmitSelector: "form",
        formInputClickSelector: "form input[type=submit], form input[type=image], form button[type=submit], form button:not([type]), input[type=submit][form], input[type=image][form], button[type=submit][form], button[form]:not([type])",
        disableSelector: "input[data-disable-with]:enabled, button[data-disable-with]:enabled, textarea[data-disable-with]:enabled, input[data-disable]:enabled, button[data-disable]:enabled, textarea[data-disable]:enabled",
        enableSelector: "input[data-disable-with]:disabled, button[data-disable-with]:disabled, textarea[data-disable-with]:disabled, input[data-disable]:disabled, button[data-disable]:disabled, textarea[data-disable]:disabled",
        requiredInputSelector: "input[name][required]:not([disabled]), textarea[name][required]:not([disabled])",
        fileInputSelector: "input[name][type=file]:not([disabled])",
        linkDisableSelector: "a[data-disable-with], a[data-disable]",
        buttonDisableSelector: "button[data-remote][data-disable-with], button[data-remote][data-disable]",
        csrfToken: function() {
            return t("meta[name=csrf-token]").attr("content")
        },
        csrfParam: function() {
            return t("meta[name=csrf-param]").attr("content")
        },
        CSRFProtection: function(t) {
            var e = n.csrfToken();
            e && t.setRequestHeader("X-CSRF-Token", e)
        },
        refreshCSRFTokens: function() {
            t('form input[name="' + n.csrfParam() + '"]').val(n.csrfToken())
        },
        fire: function(e, n, i) {
            var o = t.Event(n);
            return e.trigger(o, i), !1 !== o.result
        },
        confirm: function(t) {
            return confirm(t)
        },
        ajax: function(e) {
            return t.ajax(e)
        },
        href: function(t) {
            return t[0].href
        },
        isRemote: function(t) {
            return t.data("remote") !== e && !1 !== t.data("remote")
        },
        handleRemote: function(i) {
            var o,
                a,
                s,
                r,
                l,
                c;
            if (n.fire(i, "ajax:before")) {
                if (r = i.data("with-credentials") || null, l = i.data("type") || t.ajaxSettings && t.ajaxSettings.dataType, i.is("form")) {
                    o = i.data("ujs:submit-button-formmethod") || i.attr("method"), a = i.data("ujs:submit-button-formaction") || i.attr("action"), s = t(i[0]).serializeArray();
                    var u = i.data("ujs:submit-button");
                    u && (s.push(u), i.data("ujs:submit-button", null)), i.data("ujs:submit-button-formmethod", null), i.data("ujs:submit-button-formaction", null)
                } else
                    i.is(n.inputChangeSelector) ? (o = i.data("method"), a = i.data("url"), s = i.serialize(), i.data("params") && (s = s + "&" + i.data("params"))) : i.is(n.buttonClickSelector) ? (o = i.data("method") || "get", a = i.data("url"), s = i.serialize(), i.data("params") && (s = s + "&" + i.data("params"))) : (o = i.data("method"), a = n.href(i), s = i.data("params") || null);
                return c = {
                    type: o || "GET",
                    data: s,
                    dataType: l,
                    beforeSend: function(t, o) {
                        if (o.dataType === e && t.setRequestHeader("accept", "*/*;q=0.5, " + o.accepts.script), !n.fire(i, "ajax:beforeSend", [t, o]))
                            return !1;
                        i.trigger("ajax:send", t)
                    },
                    success: function(t, e, n) {
                        i.trigger("ajax:success", [t, e, n])
                    },
                    complete: function(t, e) {
                        i.trigger("ajax:complete", [t, e])
                    },
                    error: function(t, e, n) {
                        i.trigger("ajax:error", [t, e, n])
                    },
                    crossDomain: n.isCrossDomain(a)
                }, r && (c.xhrFields = {
                    withCredentials: r
                }), a && (c.url = a), n.ajax(c)
            }
            return !1
        },
        isCrossDomain: function(t) {
            var e = document.createElement("a");
            e.href = location.href;
            var n = document.createElement("a");
            try {
                return n.href = t, n.href = n.href, !((!n.protocol || ":" === n.protocol) && !n.host || e.protocol + "//" + e.host == n.protocol + "//" + n.host)
            } catch (t) {
                return !0
            }
        },
        handleMethod: function(i) {
            var o = n.href(i),
                a = i.data("method"),
                s = i.attr("target"),
                r = n.csrfToken(),
                l = n.csrfParam(),
                c = t('<form method="post" action="' + o + '"></form>'),
                u = '<input name="_method" value="' + a + '" type="hidden" />';
            l === e || r === e || n.isCrossDomain(o) || (u += '<input name="' + l + '" value="' + r + '" type="hidden" />'), s && c.attr("target", s), c.hide().append(u).appendTo("body"), c.submit()
        },
        formElements: function(e, n) {
            return e.is("form") ? t(e[0].elements).filter(n) : e.find(n)
        },
        disableFormElements: function(e) {
            n.formElements(e, n.disableSelector).each(function() {
                n.disableFormElement(t(this))
            })
        },
        disableFormElement: function(t) {
            var n,
                i;
            n = t.is("button") ? "html" : "val", i = t.data("disable-with"), i !== e && (t.data("ujs:enable-with", t[n]()), t[n](i)), t.prop("disabled", !0), t.data("ujs:disabled", !0)
        },
        enableFormElements: function(e) {
            n.formElements(e, n.enableSelector).each(function() {
                n.enableFormElement(t(this))
            })
        },
        enableFormElement: function(t) {
            var n = t.is("button") ? "html" : "val";
            t.data("ujs:enable-with") !== e && (t[n](t.data("ujs:enable-with")), t.removeData("ujs:enable-with")), t.prop("disabled", !1), t.removeData("ujs:disabled")
        },
        allowAction: function(t) {
            var e = t.data("confirm"),
                i = !1,
                o;
            if (!e)
                return !0;
            if (n.fire(t, "confirm")) {
                try {
                    i = n.confirm(e)
                } catch (t) {
                    (console.error || console.log).call(console, t.stack || t)
                }
                o = n.fire(t, "confirm:complete", [i])
            }
            return i && o
        },
        blankInputs: function(e, n, i) {
            var o = t(),
                a,
                s,
                r,
                l,
                c = n || "input,textarea",
                u = e.find(c),
                d = {};
            return u.each(function() {
                a = t(this), a.is("input[type=radio]") ? (l = a.attr("name"), d[l] || (0 === e.find('input[type=radio]:checked[name="' + l + '"]').length && (r = e.find('input[type=radio][name="' + l + '"]'), o = o.add(r)), d[l] = l)) : (s = a.is("input[type=checkbox],input[type=radio]") ? a.is(":checked") : !!a.val()) === i && (o = o.add(a))
            }), !!o.length && o
        },
        nonBlankInputs: function(t, e) {
            return n.blankInputs(t, e, !0)
        },
        stopEverything: function(e) {
            return t(e.target).trigger("ujs:everythingStopped"), e.stopImmediatePropagation(), !1
        },
        disableElement: function(t) {
            var i = t.data("disable-with");
            i !== e && (t.data("ujs:enable-with", t.html()), t.html(i)), t.bind("click.railsDisable", function(t) {
                return n.stopEverything(t)
            }), t.data("ujs:disabled", !0)
        },
        enableElement: function(t) {
            t.data("ujs:enable-with") !== e && (t.html(t.data("ujs:enable-with")), t.removeData("ujs:enable-with")), t.unbind("click.railsDisable"), t.removeData("ujs:disabled")
        }
    }, n.fire(i, "rails:attachBindings") && (t.ajaxPrefilter(function(t, e, i) {
        t.crossDomain || n.CSRFProtection(i)
    }), t(window).on("pageshow.rails", function() {
        t(t.rails.enableSelector).each(function() {
            var e = t(this);
            e.data("ujs:disabled") && t.rails.enableFormElement(e)
        }), t(t.rails.linkDisableSelector).each(function() {
            var e = t(this);
            e.data("ujs:disabled") && t.rails.enableElement(e)
        })
    }), i.on("ajax:complete", n.linkDisableSelector, function() {
        n.enableElement(t(this))
    }), i.on("ajax:complete", n.buttonDisableSelector, function() {
        n.enableFormElement(t(this))
    }), i.on("click.rails", n.linkClickSelector, function(e) {
        var i = t(this),
            o = i.data("method"),
            a = i.data("params"),
            s = e.metaKey || e.ctrlKey;
        if (!n.allowAction(i))
            return n.stopEverything(e);
        if (!s && i.is(n.linkDisableSelector) && n.disableElement(i), n.isRemote(i)) {
            if (s && (!o || "GET" === o) && !a)
                return !0;
            var r = n.handleRemote(i);
            return !1 === r ? n.enableElement(i) : r.fail(function() {
                n.enableElement(i)
            }), !1
        }
        return o ? (n.handleMethod(i), !1) : void 0
    }), i.on("click.rails", n.buttonClickSelector, function(e) {
        var i = t(this);
        if (!n.allowAction(i) || !n.isRemote(i))
            return n.stopEverything(e);
        i.is(n.buttonDisableSelector) && n.disableFormElement(i);
        var o = n.handleRemote(i);
        return !1 === o ? n.enableFormElement(i) : o.fail(function() {
            n.enableFormElement(i)
        }), !1
    }), i.on("change.rails", n.inputChangeSelector, function(e) {
        var i = t(this);
        return n.allowAction(i) && n.isRemote(i) ? (n.handleRemote(i), !1) : n.stopEverything(e)
    }), i.on("submit.rails", n.formSubmitSelector, function(i) {
        var o = t(this),
            a = n.isRemote(o),
            s,
            r;
        if (!n.allowAction(o))
            return n.stopEverything(i);
        if (o.attr("novalidate") === e)
            if (o.data("ujs:formnovalidate-button") === e) {
                if ((s = n.blankInputs(o, n.requiredInputSelector, !1)) && n.fire(o, "ajax:aborted:required", [s]))
                    return n.stopEverything(i)
            } else
                o.data("ujs:formnovalidate-button", e);
        if (a) {
            if (r = n.nonBlankInputs(o, n.fileInputSelector)) {
                setTimeout(function() {
                    n.disableFormElements(o)
                }, 13);
                var l = n.fire(o, "ajax:aborted:file", [r]);
                return l || setTimeout(function() {
                    n.enableFormElements(o)
                }, 13), l
            }
            return n.handleRemote(o), !1
        }
        setTimeout(function() {
            n.disableFormElements(o)
        }, 13)
    }), i.on("click.rails", n.formInputClickSelector, function(e) {
        var i = t(this);
        if (!n.allowAction(i))
            return n.stopEverything(e);
        var o = i.attr("name"),
            a = o ? {
                name: o,
                value: i.val()
            } : null,
            s = i.closest("form");
        0 === s.length && (s = t("#" + i.attr("form"))), s.data("ujs:submit-button", a), s.data("ujs:formnovalidate-button", i.attr("formnovalidate")), s.data("ujs:submit-button-formaction", i.attr("formaction")), s.data("ujs:submit-button-formmethod", i.attr("formmethod"))
    }), i.on("ajax:send.rails", n.formSubmitSelector, function(e) {
        this === e.target && n.disableFormElements(t(this))
    }), i.on("ajax:complete.rails", n.formSubmitSelector, function(e) {
        this === e.target && n.enableFormElements(t(this))
    }), t(function() {
        n.refreshCSRFTokens()
    }))
}(jQuery), /*!
 * jQuery UI Widget 1.10.4+amd
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2014 jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(t, e) {
    var n = 0,
        i = Array.prototype.slice,
        o = t.cleanData;
    t.cleanData = function(e) {
        for (var n = 0, i; null != (i = e[n]); n++)
            try {
                t(i).triggerHandler("remove")
            } catch (t) {}
        o(e)
    }, t.widget = function(e, n, i) {
        var o,
            a,
            s,
            r,
            l = {},
            c = e.split(".")[0];
        e = e.split(".")[1], o = c + "-" + e, i || (i = n, n = t.Widget), t.expr[":"][o.toLowerCase()] = function(e) {
            return !!t.data(e, o)
        }, t[c] = t[c] || {}, a = t[c][e], s = t[c][e] = function(t, e) {
            if (!this._createWidget)
                return new s(t, e);
            arguments.length && this._createWidget(t, e)
        }, t.extend(s, a, {
            version: i.version,
            _proto: t.extend({}, i),
            _childConstructors: []
        }), r = new n, r.options = t.widget.extend({}, r.options), t.each(i, function(e, i) {
            if (!t.isFunction(i))
                return void (l[e] = i);
            l[e] = function() {
                var t = function() {
                        return n.prototype[e].apply(this, arguments)
                    },
                    o = function(t) {
                        return n.prototype[e].apply(this, t)
                    };
                return function() {
                    var e = this._super,
                        n = this._superApply,
                        a;
                    return this._super = t, this._superApply = o, a = i.apply(this, arguments), this._super = e, this._superApply = n, a
                }
            }()
        }), s.prototype = t.widget.extend(r, {
            widgetEventPrefix: a ? r.widgetEventPrefix || e : e
        }, l, {
            constructor: s,
            namespace: c,
            widgetName: e,
            widgetFullName: o
        }), a ? (t.each(a._childConstructors, function(e, n) {
            var i = n.prototype;
            t.widget(i.namespace + "." + i.widgetName, s, n._proto)
        }), delete a._childConstructors) : n._childConstructors.push(s), t.widget.bridge(e, s)
    }, t.widget.extend = function(n) {
        for (var o = i.call(arguments, 1), a = 0, s = o.length, r, l; a < s; a++)
            for (r in o[a])
                l = o[a][r], o[a].hasOwnProperty(r) && l !== e && (t.isPlainObject(l) ? n[r] = t.isPlainObject(n[r]) ? t.widget.extend({}, n[r], l) : t.widget.extend({}, l) : n[r] = l);
        return n
    }, t.widget.bridge = function(n, o) {
        var a = o.prototype.widgetFullName || n;
        t.fn[n] = function(s) {
            var r = "string" == typeof s,
                l = i.call(arguments, 1),
                c = this;
            return s = !r && l.length ? t.widget.extend.apply(null, [s].concat(l)) : s, r ? this.each(function() {
                var i,
                    o = t.data(this, a);
                return o ? t.isFunction(o[s]) && "_" !== s.charAt(0) ? (i = o[s].apply(o, l), i !== o && i !== e ? (c = i && i.jquery ? c.pushStack(i.get()) : i, !1) : void 0) : t.error("no such method '" + s + "' for " + n + " widget instance") : t.error("cannot call methods on " + n + " prior to initialization; attempted to call method '" + s + "'")
            }) : this.each(function() {
                var e = t.data(this, a);
                e ? e.option(s || {})._init() : t.data(this, a, new o(s, this))
            }), c
        }
    }, t.Widget = function() {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(e, i) {
            i = t(i || this.defaultElement || this)[0], this.element = t(i), this.uuid = n++, this.eventNamespace = "." + this.widgetName + this.uuid, this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this.bindings = t(), this.hoverable = t(), this.focusable = t(), i !== this && (t.data(i, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(t) {
                    t.target === i && this.destroy()
                }
            }), this.document = t(i.style ? i.ownerDocument : i.document || i), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function() {
            return this.element
        },
        option: function(n, i) {
            var o = n,
                a,
                s,
                r;
            if (0 === arguments.length)
                return t.widget.extend({}, this.options);
            if ("string" == typeof n)
                if (o = {}, a = n.split("."), n = a.shift(), a.length) {
                    for (s = o[n] = t.widget.extend({}, this.options[n]), r = 0; r < a.length - 1; r++)
                        s[a[r]] = s[a[r]] || {}, s = s[a[r]];
                    if (n = a.pop(), 1 === arguments.length)
                        return s[n] === e ? null : s[n];
                    s[n] = i
                } else {
                    if (1 === arguments.length)
                        return this.options[n] === e ? null : this.options[n];
                    o[n] = i
                }
            return this._setOptions(o), this
        },
        _setOptions: function(t) {
            var e;
            for (e in t)
                this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled ui-state-disabled", !!e).attr("aria-disabled", e), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")), this
        },
        enable: function() {
            return this._setOption("disabled", !1)
        },
        disable: function() {
            return this._setOption("disabled", !0)
        },
        _on: function(e, n, i) {
            var o,
                a = this;
            "boolean" != typeof e && (i = n, n = e, e = !1), i ? (n = o = t(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, o = this.widget()), t.each(i, function(i, s) {
                function r() {
                    if (e || !0 !== a.options.disabled && !t(this).hasClass("ui-state-disabled"))
                        return ("string" == typeof s ? a[s] : s).apply(a, arguments)
                }
                "string" != typeof s && (r.guid = s.guid = s.guid || r.guid || t.guid++);
                var l = i.match(/^(\w+)\s*(.*)$/),
                    c = l[1] + a.eventNamespace,
                    u = l[2];
                u ? o.delegate(u, c, r) : n.bind(c, r)
            })
        },
        _off: function(t, e) {
            e = (e || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, t.unbind(e).undelegate(e)
        },
        _delay: function(t, e) {
            function n() {
                return ("string" == typeof t ? i[t] : t).apply(i, arguments)
            }
            var i = this;
            return setTimeout(n, e || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function(e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function(e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(e, n, i) {
            var o,
                a,
                s = this.options[e];
            if (i = i || {}, n = t.Event(n), n.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), n.target = this.element[0], a = n.originalEvent)
                for (o in a)
                    o in n || (n[o] = a[o]);
            return this.element.trigger(n, i), !(t.isFunction(s) && !1 === s.apply(this.element[0], [n].concat(i)) || n.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(e, n) {
        t.Widget.prototype["_" + e] = function(i, o, a) {
            "string" == typeof o && (o = {
                effect: o
            });
            var s,
                r = o ? !0 === o || "number" == typeof o ? n : o.effect || n : e;
            o = o || {}, "number" == typeof o && (o = {
                duration: o
            }), s = !t.isEmptyObject(o), o.complete = a, o.delay && i.delay(o.delay), s && t.effects && t.effects.effect[r] ? i[e](o) : r !== e && i[r] ? i[r](o.duration, o.easing, a) : i.queue(function(n) {
                t(this)[e](), a && a.call(i[0]), n()
            })
        }
    })
}), /*! jQuery UI - v1.11.4 - 2016-04-06
* http://jqueryui.com
* Includes: core.js, widget.js, mouse.js, position.js, draggable.js, resizable.js, button.js, dialog.js, slider.js
* Copyright jQuery Foundation and other contributors; Licensed MIT */
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(t) {
    function e(e, i) {
        var o,
            a,
            s,
            r = e.nodeName.toLowerCase();
        return "area" === r ? (o = e.parentNode, a = o.name, !(!e.href || !a || "map" !== o.nodeName.toLowerCase()) && (!!(s = t("img[usemap='#" + a + "']")[0]) && n(s))) : (/^(input|select|textarea|button|object)$/.test(r) ? !e.disabled : "a" === r ? e.href || i : i) && n(e)
    }
    function n(e) {
        return t.expr.filters.visible(e) && !t(e).parents().addBack().filter(function() {
                return "hidden" === t.css(this, "visibility")
            }).length
    } /*!
 * jQuery UI Core 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/category/ui-core/
 */









    t.ui = t.ui || {}, t.extend(t.ui, {
        version: "1.11.4",
        keyCode: {
            BACKSPACE: 8,
            COMMA: 188,
            DELETE: 46,
            DOWN: 40,
            END: 35,
            ENTER: 13,
            ESCAPE: 27,
            HOME: 36,
            LEFT: 37,
            PAGE_DOWN: 34,
            PAGE_UP: 33,
            PERIOD: 190,
            RIGHT: 39,
            SPACE: 32,
            TAB: 9,
            UP: 38
        }
    }), t.fn.extend({
        scrollParent: function(e) {
            var n = this.css("position"),
                i = "absolute" === n,
                o = e ? /(auto|scroll|hidden)/ : /(auto|scroll)/,
                a = this.parents().filter(function() {
                    var e = t(this);
                    return (!i || "static" !== e.css("position")) && o.test(e.css("overflow") + e.css("overflow-y") + e.css("overflow-x"))
                }).eq(0);
            return "fixed" !== n && a.length ? a : t(this[0].ownerDocument || document)
        },
        uniqueId: function() {
            var t = 0;
            return function() {
                return this.each(function() {
                    this.id || (this.id = "ui-id-" + ++t)
                })
            }
        }(),
        removeUniqueId: function() {
            return this.each(function() {
                /^ui-id-\d+$/.test(this.id) && t(this).removeAttr("id")
            })
        }
    }), t.extend(t.expr[":"], {
        data: t.expr.createPseudo ? t.expr.createPseudo(function(e) {
            return function(n) {
                return !!t.data(n, e)
            }
        }) : function(e, n, i) {
            return !!t.data(e, i[3])
        },
        focusable: function(n) {
            return e(n, !isNaN(t.attr(n, "tabindex")))
        },
        tabbable: function(n) {
            var i = t.attr(n, "tabindex"),
                o = isNaN(i);
            return (o || i >= 0) && e(n, !o)
        }
    }), t("<a>").outerWidth(1).jquery || t.each(["Width", "Height"], function(e, n) {
        function i(e, n, i, a) {
            return t.each(o, function() {
                n -= parseFloat(t.css(e, "padding" + this)) || 0, i && (n -= parseFloat(t.css(e, "border" + this + "Width")) || 0), a && (n -= parseFloat(t.css(e, "margin" + this)) || 0)
            }), n
        }
        var o = "Width" === n ? ["Left", "Right"] : ["Top", "Bottom"],
            a = n.toLowerCase(),
            s = {
                innerWidth: t.fn.innerWidth,
                innerHeight: t.fn.innerHeight,
                outerWidth: t.fn.outerWidth,
                outerHeight: t.fn.outerHeight
            };
        t.fn["inner" + n] = function(e) {
            return e === undefined ? s["inner" + n].call(this) : this.each(function() {
                t(this).css(a, i(this, e) + "px")
            })
        }, t.fn["outer" + n] = function(e, o) {
            return "number" != typeof e ? s["outer" + n].call(this, e) : this.each(function() {
                t(this).css(a, i(this, e, !0, o) + "px")
            })
        }
    }), t.fn.addBack || (t.fn.addBack = function(t) {
        return this.add(null == t ? this.prevObject : this.prevObject.filter(t))
    }), t("<a>").data("a-b", "a").removeData("a-b").data("a-b") && (t.fn.removeData = function(e) {
        return function(n) {
            return arguments.length ? e.call(this, t.camelCase(n)) : e.call(this)
        }
    }(t.fn.removeData)), t.ui.ie = !!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()), t.fn.extend({
        focus: function(e) {
            return function(n, i) {
                return "number" == typeof n ? this.each(function() {
                    var e = this;
                    setTimeout(function() {
                        t(e).focus(), i && i.call(e)
                    }, n)
                }) : e.apply(this, arguments)
            }
        }(t.fn.focus),
        disableSelection: function() {
            var t = "onselectstart" in document.createElement("div") ? "selectstart" : "mousedown";
            return function() {
                return this.bind(t + ".ui-disableSelection", function(t) {
                    t.preventDefault()
                })
            }
        }(),
        enableSelection: function() {
            return this.unbind(".ui-disableSelection")
        },
        zIndex: function(e) {
            if (e !== undefined)
                return this.css("zIndex", e);
            if (this.length)
                for (var n = t(this[0]), i, o; n.length && n[0] !== document;) {
                    if (("absolute" === (i = n.css("position")) || "relative" === i || "fixed" === i) && (o = parseInt(n.css("zIndex"), 10), !isNaN(o) && 0 !== o))
                        return o;
                    n = n.parent()
                }
            return 0
        }
    }), t.ui.plugin = {
        add: function(e, n, i) {
            var o,
                a = t.ui[e].prototype;
            for (o in i)
                a.plugins[o] = a.plugins[o] || [], a.plugins[o].push([n, i[o]])
        },
        call: function(t, e, n, i) {
            var o,
                a = t.plugins[e];
            if (a && (i || t.element[0].parentNode && 11 !== t.element[0].parentNode.nodeType))
                for (o = 0; o < a.length; o++)
                    t.options[a[o][0]] && a[o][1].apply(t.element, n)
        }
    }; /*!
 * jQuery UI Widget 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/jQuery.widget/
 */









    var i = 0,
        o = Array.prototype.slice;
    t.cleanData = function(e) {
        return function(n) {
            var i,
                o,
                a;
            for (a = 0; null != (o = n[a]); a++)
                try {
                    i = t._data(o, "events"), i && i.remove && t(o).triggerHandler("remove")
                } catch (t) {}
            e(n)
        }
    }(t.cleanData), t.widget = function(e, n, i) {
        var o,
            a,
            s,
            r,
            l = {},
            c = e.split(".")[0];
        return e = e.split(".")[1], o = c + "-" + e, i || (i = n, n = t.Widget), t.expr[":"][o.toLowerCase()] = function(e) {
            return !!t.data(e, o)
        }, t[c] = t[c] || {}, a = t[c][e], s = t[c][e] = function(t, e) {
            if (!this._createWidget)
                return new s(t, e);
            arguments.length && this._createWidget(t, e)
        }, t.extend(s, a, {
            version: i.version,
            _proto: t.extend({}, i),
            _childConstructors: []
        }), r = new n, r.options = t.widget.extend({}, r.options), t.each(i, function(e, i) {
            if (!t.isFunction(i))
                return void (l[e] = i);
            l[e] = function() {
                var t = function() {
                        return n.prototype[e].apply(this, arguments)
                    },
                    o = function(t) {
                        return n.prototype[e].apply(this, t)
                    };
                return function() {
                    var e = this._super,
                        n = this._superApply,
                        a;
                    return this._super = t, this._superApply = o, a = i.apply(this, arguments), this._super = e, this._superApply = n, a
                }
            }()
        }), s.prototype = t.widget.extend(r, {
            widgetEventPrefix: a ? r.widgetEventPrefix || e : e
        }, l, {
            constructor: s,
            namespace: c,
            widgetName: e,
            widgetFullName: o
        }), a ? (t.each(a._childConstructors, function(e, n) {
            var i = n.prototype;
            t.widget(i.namespace + "." + i.widgetName, s, n._proto)
        }), delete a._childConstructors) : n._childConstructors.push(s), t.widget.bridge(e, s), s
    }, t.widget.extend = function(e) {
        for (var n = o.call(arguments, 1), i = 0, a = n.length, s, r; i < a; i++)
            for (s in n[i])
                r = n[i][s], n[i].hasOwnProperty(s) && r !== undefined && (t.isPlainObject(r) ? e[s] = t.isPlainObject(e[s]) ? t.widget.extend({}, e[s], r) : t.widget.extend({}, r) : e[s] = r);
        return e
    }, t.widget.bridge = function(e, n) {
        var i = n.prototype.widgetFullName || e;
        t.fn[e] = function(a) {
            var s = "string" == typeof a,
                r = o.call(arguments, 1),
                l = this;
            return s ? this.each(function() {
                var n,
                    o = t.data(this, i);
                return "instance" === a ? (l = o, !1) : o ? t.isFunction(o[a]) && "_" !== a.charAt(0) ? (n = o[a].apply(o, r), n !== o && n !== undefined ? (l = n && n.jquery ? l.pushStack(n.get()) : n, !1) : void 0) : t.error("no such method '" + a + "' for " + e + " widget instance") : t.error("cannot call methods on " + e + " prior to initialization; attempted to call method '" + a + "'")
            }) : (r.length && (a = t.widget.extend.apply(null, [a].concat(r))), this.each(function() {
                var e = t.data(this, i);
                e ? (e.option(a || {}), e._init && e._init()) : t.data(this, i, new n(a, this))
            })), l
        }
    }, t.Widget = function() {}, t.Widget._childConstructors = [], t.Widget.prototype = {
        widgetName: "widget",
        widgetEventPrefix: "",
        defaultElement: "<div>",
        options: {
            disabled: !1,
            create: null
        },
        _createWidget: function(e, n) {
            n = t(n || this.defaultElement || this)[0], this.element = t(n), this.uuid = i++, this.eventNamespace = "." + this.widgetName + this.uuid, this.bindings = t(), this.hoverable = t(), this.focusable = t(), n !== this && (t.data(n, this.widgetFullName, this), this._on(!0, this.element, {
                remove: function(t) {
                    t.target === n && this.destroy()
                }
            }), this.document = t(n.style ? n.ownerDocument : n.document || n), this.window = t(this.document[0].defaultView || this.document[0].parentWindow)), this.options = t.widget.extend({}, this.options, this._getCreateOptions(), e), this._create(), this._trigger("create", null, this._getCreateEventData()), this._init()
        },
        _getCreateOptions: t.noop,
        _getCreateEventData: t.noop,
        _create: t.noop,
        _init: t.noop,
        destroy: function() {
            this._destroy(), this.element.unbind(this.eventNamespace).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)), this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName + "-disabled ui-state-disabled"), this.bindings.unbind(this.eventNamespace), this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus")
        },
        _destroy: t.noop,
        widget: function() {
            return this.element
        },
        option: function(e, n) {
            var i = e,
                o,
                a,
                s;
            if (0 === arguments.length)
                return t.widget.extend({}, this.options);
            if ("string" == typeof e)
                if (i = {}, o = e.split("."), e = o.shift(), o.length) {
                    for (a = i[e] = t.widget.extend({}, this.options[e]), s = 0; s < o.length - 1; s++)
                        a[o[s]] = a[o[s]] || {}, a = a[o[s]];
                    if (e = o.pop(), 1 === arguments.length)
                        return a[e] === undefined ? null : a[e];
                    a[e] = n
                } else {
                    if (1 === arguments.length)
                        return this.options[e] === undefined ? null : this.options[e];
                    i[e] = n
                }
            return this._setOptions(i), this
        },
        _setOptions: function(t) {
            var e;
            for (e in t)
                this._setOption(e, t[e]);
            return this
        },
        _setOption: function(t, e) {
            return this.options[t] = e, "disabled" === t && (this.widget().toggleClass(this.widgetFullName + "-disabled", !!e), e && (this.hoverable.removeClass("ui-state-hover"), this.focusable.removeClass("ui-state-focus"))), this
        },
        enable: function() {
            return this._setOptions({
                disabled: !1
            })
        },
        disable: function() {
            return this._setOptions({
                disabled: !0
            })
        },
        _on: function(e, n, i) {
            var o,
                a = this;
            "boolean" != typeof e && (i = n, n = e, e = !1), i ? (n = o = t(n), this.bindings = this.bindings.add(n)) : (i = n, n = this.element, o = this.widget()), t.each(i, function(i, s) {
                function r() {
                    if (e || !0 !== a.options.disabled && !t(this).hasClass("ui-state-disabled"))
                        return ("string" == typeof s ? a[s] : s).apply(a, arguments)
                }
                "string" != typeof s && (r.guid = s.guid = s.guid || r.guid || t.guid++);
                var l = i.match(/^([\w:-]*)\s*(.*)$/),
                    c = l[1] + a.eventNamespace,
                    u = l[2];
                u ? o.delegate(u, c, r) : n.bind(c, r)
            })
        },
        _off: function(e, n) {
            n = (n || "").split(" ").join(this.eventNamespace + " ") + this.eventNamespace, e.unbind(n).undelegate(n), this.bindings = t(this.bindings.not(e).get()), this.focusable = t(this.focusable.not(e).get()), this.hoverable = t(this.hoverable.not(e).get())
        },
        _delay: function(t, e) {
            function n() {
                return ("string" == typeof t ? i[t] : t).apply(i, arguments)
            }
            var i = this;
            return setTimeout(n, e || 0)
        },
        _hoverable: function(e) {
            this.hoverable = this.hoverable.add(e), this._on(e, {
                mouseenter: function(e) {
                    t(e.currentTarget).addClass("ui-state-hover")
                },
                mouseleave: function(e) {
                    t(e.currentTarget).removeClass("ui-state-hover")
                }
            })
        },
        _focusable: function(e) {
            this.focusable = this.focusable.add(e), this._on(e, {
                focusin: function(e) {
                    t(e.currentTarget).addClass("ui-state-focus")
                },
                focusout: function(e) {
                    t(e.currentTarget).removeClass("ui-state-focus")
                }
            })
        },
        _trigger: function(e, n, i) {
            var o,
                a,
                s = this.options[e];
            if (i = i || {}, n = t.Event(n), n.type = (e === this.widgetEventPrefix ? e : this.widgetEventPrefix + e).toLowerCase(), n.target = this.element[0], a = n.originalEvent)
                for (o in a)
                    o in n || (n[o] = a[o]);
            return this.element.trigger(n, i), !(t.isFunction(s) && !1 === s.apply(this.element[0], [n].concat(i)) || n.isDefaultPrevented())
        }
    }, t.each({
        show: "fadeIn",
        hide: "fadeOut"
    }, function(e, n) {
        t.Widget.prototype["_" + e] = function(i, o, a) {
            "string" == typeof o && (o = {
                effect: o
            });
            var s,
                r = o ? !0 === o || "number" == typeof o ? n : o.effect || n : e;
            o = o || {}, "number" == typeof o && (o = {
                duration: o
            }), s = !t.isEmptyObject(o), o.complete = a, o.delay && i.delay(o.delay), s && t.effects && t.effects.effect[r] ? i[e](o) : r !== e && i[r] ? i[r](o.duration, o.easing, a) : i.queue(function(n) {
                t(this)[e](), a && a.call(i[0]), n()
            })
        }
    });
    var a = t.widget,
        s = !1;
    t(document).mouseup(function() {
        s = !1
    });
    var r = t.widget("ui.mouse", {
        version: "1.11.4",
        options: {
            cancel: "input,textarea,button,select,option",
            distance: 1,
            delay: 0
        },
        _mouseInit: function() {
            var e = this;
            this.element.bind("mousedown." + this.widgetName, function(t) {
                return e._mouseDown(t)
            }).bind("click." + this.widgetName, function(n) {
                if (!0 === t.data(n.target, e.widgetName + ".preventClickEvent"))
                    return t.removeData(n.target, e.widgetName + ".preventClickEvent"), n.stopImmediatePropagation(), !1
            }), this.started = !1
        },
        _mouseDestroy: function() {
            this.element.unbind("." + this.widgetName), this._mouseMoveDelegate && this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate)
        },
        _mouseDown: function(e) {
            if (!s) {
                this._mouseMoved = !1, this._mouseStarted && this._mouseUp(e), this._mouseDownEvent = e;
                var n = this,
                    i = 1 === e.which,
                    o = !("string" != typeof this.options.cancel || !e.target.nodeName) && t(e.target).closest(this.options.cancel).length;
                return !(i && !o && this._mouseCapture(e)) || (this.mouseDelayMet = !this.options.delay, this.mouseDelayMet || (this._mouseDelayTimer = setTimeout(function() {
                        n.mouseDelayMet = !0
                    }, this.options.delay)), this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(e), !this._mouseStarted) ? (e.preventDefault(), !0) : (!0 === t.data(e.target, this.widgetName + ".preventClickEvent") && t.removeData(e.target, this.widgetName + ".preventClickEvent"), this._mouseMoveDelegate = function(t) {
                        return n._mouseMove(t)
                    }, this._mouseUpDelegate = function(t) {
                        return n._mouseUp(t)
                    }, this.document.bind("mousemove." + this.widgetName, this._mouseMoveDelegate).bind("mouseup." + this.widgetName, this._mouseUpDelegate), e.preventDefault(), s = !0, !0))
            }
        },
        _mouseMove: function(e) {
            if (this._mouseMoved) {
                if (t.ui.ie && (!document.documentMode || document.documentMode < 9) && !e.button)
                    return this._mouseUp(e);
                if (!e.which)
                    return this._mouseUp(e)
            }
            return (e.which || e.button) && (this._mouseMoved = !0), this._mouseStarted ? (this._mouseDrag(e), e.preventDefault()) : (this._mouseDistanceMet(e) && this._mouseDelayMet(e) && (this._mouseStarted = !1 !== this._mouseStart(this._mouseDownEvent, e), this._mouseStarted ? this._mouseDrag(e) : this._mouseUp(e)), !this._mouseStarted)
        },
        _mouseUp: function(e) {
            return this.document.unbind("mousemove." + this.widgetName, this._mouseMoveDelegate).unbind("mouseup." + this.widgetName, this._mouseUpDelegate), this._mouseStarted && (this._mouseStarted = !1, e.target === this._mouseDownEvent.target && t.data(e.target, this.widgetName + ".preventClickEvent", !0), this._mouseStop(e)), s = !1, !1
        },
        _mouseDistanceMet: function(t) {
            return Math.max(Math.abs(this._mouseDownEvent.pageX - t.pageX), Math.abs(this._mouseDownEvent.pageY - t.pageY)) >= this.options.distance
        },
        _mouseDelayMet: function() {
            return this.mouseDelayMet
        },
        _mouseStart: function() {},
        _mouseDrag: function() {},
        _mouseStop: function() {},
        _mouseCapture: function() {
            return !0
        }
    }); /*!
 * jQuery UI Position 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/position/
 */









    !function() {
        function e(t, e, n) {
            return [parseFloat(t[0]) * (f.test(t[0]) ? e / 100 : 1), parseFloat(t[1]) * (f.test(t[1]) ? n / 100 : 1)]
        }
        function n(e, n) {
            return parseInt(t.css(e, n), 10) || 0
        }
        function i(e) {
            var n = e[0];
            return 9 === n.nodeType ? {
                width: e.width(),
                height: e.height(),
                offset: {
                    top: 0,
                    left: 0
                }
            } : t.isWindow(n) ? {
                width: e.width(),
                height: e.height(),
                offset: {
                    top: e.scrollTop(),
                    left: e.scrollLeft()
                }
            } : n.preventDefault ? {
                width: 0,
                height: 0,
                offset: {
                    top: n.pageY,
                    left: n.pageX
                }
            } : {
                width: e.outerWidth(),
                height: e.outerHeight(),
                offset: e.offset()
            }
        }
        t.ui = t.ui || {};
        var o,
            a,
            s = Math.max,
            r = Math.abs,
            l = Math.round,
            c = /left|center|right/,
            u = /top|center|bottom/,
            d = /[\+\-]\d+(\.[\d]+)?%?/,
            h = /^\w+/,
            f = /%$/,
            p = t.fn.position;
        t.position = {
            scrollbarWidth: function() {
                if (o !== undefined)
                    return o;
                var e,
                    n,
                    i = t("<div style='display:block;position:absolute;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),
                    a = i.children()[0];
                return t("body").append(i), e = a.offsetWidth, i.css("overflow", "scroll"), n = a.offsetWidth, e === n && (n = i[0].clientWidth), i.remove(), o = e - n
            },
            getScrollInfo: function(e) {
                var n = e.isWindow || e.isDocument ? "" : e.element.css("overflow-x"),
                    i = e.isWindow || e.isDocument ? "" : e.element.css("overflow-y"),
                    o = "scroll" === n || "auto" === n && e.width < e.element[0].scrollWidth;
                return {
                    width: "scroll" === i || "auto" === i && e.height < e.element[0].scrollHeight ? t.position.scrollbarWidth() : 0,
                    height: o ? t.position.scrollbarWidth() : 0
                }
            },
            getWithinInfo: function(e) {
                var n = t(e || window),
                    i = t.isWindow(n[0]),
                    o = !!n[0] && 9 === n[0].nodeType;
                return {
                    element: n,
                    isWindow: i,
                    isDocument: o,
                    offset: n.offset() || {
                        left: 0,
                        top: 0
                    },
                    scrollLeft: n.scrollLeft(),
                    scrollTop: n.scrollTop(),
                    width: i || o ? n.width() : n.outerWidth(),
                    height: i || o ? n.height() : n.outerHeight()
                }
            }
        }, t.fn.position = function(o) {
            if (!o || !o.of)
                return p.apply(this, arguments);
            o = t.extend({}, o);
            var f,
                m,
                g,
                v,
                b,
                E,
                y = t(o.of),
                T = t.position.getWithinInfo(o.within),
                C = t.position.getScrollInfo(T),
                _ = (o.collision || "flip").split(" "),
                D = {};
            return E = i(y), y[0].preventDefault && (o.at = "left top"), m = E.width, g = E.height, v = E.offset, b = t.extend({}, v), t.each(["my", "at"], function() {
                var t = (o[this] || "").split(" "),
                    e,
                    n;
                1 === t.length && (t = c.test(t[0]) ? t.concat(["center"]) : u.test(t[0]) ? ["center"].concat(t) : ["center", "center"]), t[0] = c.test(t[0]) ? t[0] : "center", t[1] = u.test(t[1]) ? t[1] : "center", e = d.exec(t[0]), n = d.exec(t[1]), D[this] = [e ? e[0] : 0, n ? n[0] : 0], o[this] = [h.exec(t[0])[0], h.exec(t[1])[0]]
            }), 1 === _.length && (_[1] = _[0]), "right" === o.at[0] ? b.left += m : "center" === o.at[0] && (b.left += m / 2), "bottom" === o.at[1] ? b.top += g : "center" === o.at[1] && (b.top += g / 2), f = e(D.at, m, g), b.left += f[0], b.top += f[1], this.each(function() {
                var i,
                    c,
                    u = t(this),
                    d = u.outerWidth(),
                    h = u.outerHeight(),
                    p = n(this, "marginLeft"),
                    E = n(this, "marginTop"),
                    I = d + p + n(this, "marginRight") + C.width,
                    O = h + E + n(this, "marginBottom") + C.height,
                    R = t.extend({}, b),
                    k = e(D.my, u.outerWidth(), u.outerHeight());
                "right" === o.my[0] ? R.left -= d : "center" === o.my[0] && (R.left -= d / 2), "bottom" === o.my[1] ? R.top -= h : "center" === o.my[1] && (R.top -= h / 2), R.left += k[0], R.top += k[1], a || (R.left = l(R.left), R.top = l(R.top)), i = {
                    marginLeft: p,
                    marginTop: E
                }, t.each(["left", "top"], function(e, n) {
                    t.ui.position[_[e]] && t.ui.position[_[e]][n](R, {
                        targetWidth: m,
                        targetHeight: g,
                        elemWidth: d,
                        elemHeight: h,
                        collisionPosition: i,
                        collisionWidth: I,
                        collisionHeight: O,
                        offset: [f[0] + k[0], f[1] + k[1]],
                        my: o.my,
                        at: o.at,
                        within: T,
                        elem: u
                    })
                }), o.using && (c = function(t) {
                    var e = v.left - R.left,
                        n = e + m - d,
                        i = v.top - R.top,
                        a = i + g - h,
                        l = {
                            target: {
                                element: y,
                                left: v.left,
                                top: v.top,
                                width: m,
                                height: g
                            },
                            element: {
                                element: u,
                                left: R.left,
                                top: R.top,
                                width: d,
                                height: h
                            },
                            horizontal: n < 0 ? "left" : e > 0 ? "right" : "center",
                            vertical: a < 0 ? "top" : i > 0 ? "bottom" : "middle"
                        };
                    m < d && r(e + n) < m && (l.horizontal = "center"), g < h && r(i + a) < g && (l.vertical = "middle"), s(r(e), r(n)) > s(r(i), r(a)) ? l.important = "horizontal" : l.important = "vertical", o.using.call(this, t, l)
                }), u.offset(t.extend(R, {
                    using: c
                }))
            })
        }, t.ui.position = {
            fit: {
                left: function(t, e) {
                    var n = e.within,
                        i = n.isWindow ? n.scrollLeft : n.offset.left,
                        o = n.width,
                        a = t.left - e.collisionPosition.marginLeft,
                        r = i - a,
                        l = a + e.collisionWidth - o - i,
                        c;
                    e.collisionWidth > o ? r > 0 && l <= 0 ? (c = t.left + r + e.collisionWidth - o - i, t.left += r - c) : t.left = l > 0 && r <= 0 ? i : r > l ? i + o - e.collisionWidth : i : r > 0 ? t.left += r : l > 0 ? t.left -= l : t.left = s(t.left - a, t.left)
                },
                top: function(t, e) {
                    var n = e.within,
                        i = n.isWindow ? n.scrollTop : n.offset.top,
                        o = e.within.height,
                        a = t.top - e.collisionPosition.marginTop,
                        r = i - a,
                        l = a + e.collisionHeight - o - i,
                        c;
                    e.collisionHeight > o ? r > 0 && l <= 0 ? (c = t.top + r + e.collisionHeight - o - i, t.top += r - c) : t.top = l > 0 && r <= 0 ? i : r > l ? i + o - e.collisionHeight : i : r > 0 ? t.top += r : l > 0 ? t.top -= l : t.top = s(t.top - a, t.top)
                }
            },
            flip: {
                left: function(t, e) {
                    var n = e.within,
                        i = n.offset.left + n.scrollLeft,
                        o = n.width,
                        a = n.isWindow ? n.scrollLeft : n.offset.left,
                        s = t.left - e.collisionPosition.marginLeft,
                        l = s - a,
                        c = s + e.collisionWidth - o - a,
                        u = "left" === e.my[0] ? -e.elemWidth : "right" === e.my[0] ? e.elemWidth : 0,
                        d = "left" === e.at[0] ? e.targetWidth : "right" === e.at[0] ? -e.targetWidth : 0,
                        h = -2 * e.offset[0],
                        f,
                        p;
                    l < 0 ? ((f = t.left + u + d + h + e.collisionWidth - o - i) < 0 || f < r(l)) && (t.left += u + d + h) : c > 0 && ((p = t.left - e.collisionPosition.marginLeft + u + d + h - a) > 0 || r(p) < c) && (t.left += u + d + h)
                },
                top: function(t, e) {
                    var n = e.within,
                        i = n.offset.top + n.scrollTop,
                        o = n.height,
                        a = n.isWindow ? n.scrollTop : n.offset.top,
                        s = t.top - e.collisionPosition.marginTop,
                        l = s - a,
                        c = s + e.collisionHeight - o - a,
                        u = "top" === e.my[1],
                        d = u ? -e.elemHeight : "bottom" === e.my[1] ? e.elemHeight : 0,
                        h = "top" === e.at[1] ? e.targetHeight : "bottom" === e.at[1] ? -e.targetHeight : 0,
                        f = -2 * e.offset[1],
                        p,
                        m;
                    l < 0 ? ((m = t.top + d + h + f + e.collisionHeight - o - i) < 0 || m < r(l)) && (t.top += d + h + f) : c > 0 && ((p = t.top - e.collisionPosition.marginTop + d + h + f - a) > 0 || r(p) < c) && (t.top += d + h + f)
                }
            },
            flipfit: {
                left: function() {
                    t.ui.position.flip.left.apply(this, arguments), t.ui.position.fit.left.apply(this, arguments)
                },
                top: function() {
                    t.ui.position.flip.top.apply(this, arguments), t.ui.position.fit.top.apply(this, arguments)
                }
            }
        }, function() {
            var e,
                n,
                i,
                o,
                s,
                r = document.getElementsByTagName("body")[0],
                l = document.createElement("div");
            e = document.createElement(r ? "div" : "body"), i = {
                visibility: "hidden",
                width: 0,
                height: 0,
                border: 0,
                margin: 0,
                background: "none"
            }, r && t.extend(i, {
                position: "absolute",
                left: "-1000px",
                top: "-1000px"
            });
            for (s in i)
                e.style[s] = i[s];
            e.appendChild(l), n = r || document.documentElement, n.insertBefore(e, n.firstChild), l.style.cssText = "position: absolute; left: 10.7432222px;", o = t(l).offset().left, a = o > 10 && o < 11, e.innerHTML = "", n.removeChild(e)
        }()
    }();
    var l = t.ui.position; /*!
 * jQuery UI Draggable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/draggable/
 */









    t.widget("ui.draggable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "drag",
        options: {
            addClasses: !0,
            appendTo: "parent",
            axis: !1,
            connectToSortable: !1,
            containment: !1,
            cursor: "auto",
            cursorAt: !1,
            grid: !1,
            handle: !1,
            helper: "original",
            iframeFix: !1,
            opacity: !1,
            refreshPositions: !1,
            revert: !1,
            revertDuration: 500,
            scope: "default",
            scroll: !0,
            scrollSensitivity: 20,
            scrollSpeed: 20,
            snap: !1,
            snapMode: "both",
            snapTolerance: 20,
            stack: !1,
            zIndex: !1,
            drag: null,
            start: null,
            stop: null
        },
        _create: function() {
            "original" === this.options.helper && this._setPositionRelative(), this.options.addClasses && this.element.addClass("ui-draggable"), this.options.disabled && this.element.addClass("ui-draggable-disabled"), this._setHandleClassName(), this._mouseInit()
        },
        _setOption: function(t, e) {
            this._super(t, e), "handle" === t && (this._removeHandleClassName(), this._setHandleClassName())
        },
        _destroy: function() {
            if ((this.helper || this.element).is(".ui-draggable-dragging"))
                return void (this.destroyOnClear = !0);
            this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"), this._removeHandleClassName(), this._mouseDestroy()
        },
        _mouseCapture: function(e) {
            var n = this.options;
            return this._blurActiveElement(e), !(this.helper || n.disabled || t(e.target).closest(".ui-resizable-handle").length > 0) && (this.handle = this._getHandle(e), !!this.handle && (this._blockFrames(!0 === n.iframeFix ? "iframe" : n.iframeFix), !0))
        },
        _blockFrames: function(e) {
            this.iframeBlocks = this.document.find(e).map(function() {
                var e = t(this);
                return t("<div>").css("position", "absolute").appendTo(e.parent()).outerWidth(e.outerWidth()).outerHeight(e.outerHeight()).offset(e.offset())[0]
            })
        },
        _unblockFrames: function() {
            this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
        },
        _blurActiveElement: function(e) {
            var n = this.document[0];
            if (this.handleElement.is(e.target))
                try {
                    n.activeElement && "body" !== n.activeElement.nodeName.toLowerCase() && t(n.activeElement).blur()
                } catch (t) {}
        },
        _mouseStart: function(e) {
            var n = this.options;
            return this.helper = this._createHelper(e), this.helper.addClass("ui-draggable-dragging"), this._cacheHelperProportions(), t.ui.ddmanager && (t.ui.ddmanager.current = this), this._cacheMargins(), this.cssPosition = this.helper.css("position"), this.scrollParent = this.helper.scrollParent(!0), this.offsetParent = this.helper.offsetParent(), this.hasFixedAncestor = this.helper.parents().filter(function() {
                return "fixed" === t(this).css("position")
            }).length > 0, this.positionAbs = this.element.offset(), this._refreshOffsets(e), this.originalPosition = this.position = this._generatePosition(e, !1), this.originalPageX = e.pageX, this.originalPageY = e.pageY, n.cursorAt && this._adjustOffsetFromHelper(n.cursorAt), this._setContainment(), !1 === this._trigger("start", e) ? (this._clear(), !1) : (this._cacheHelperProportions(), t.ui.ddmanager && !n.dropBehaviour && t.ui.ddmanager.prepareOffsets(this, e), this._normalizeRightBottom(), this._mouseDrag(e, !0), t.ui.ddmanager && t.ui.ddmanager.dragStart(this, e), !0)
        },
        _refreshOffsets: function(t) {
            this.offset = {
                top: this.positionAbs.top - this.margins.top,
                left: this.positionAbs.left - this.margins.left,
                scroll: !1,
                parent: this._getParentOffset(),
                relative: this._getRelativeOffset()
            }, this.offset.click = {
                left: t.pageX - this.offset.left,
                top: t.pageY - this.offset.top
            }
        },
        _mouseDrag: function(e, n) {
            if (this.hasFixedAncestor && (this.offset.parent = this._getParentOffset()), this.position = this._generatePosition(e, !0), this.positionAbs = this._convertPositionTo("absolute"), !n) {
                var i = this._uiHash();
                if (!1 === this._trigger("drag", e, i))
                    return this._mouseUp({}), !1;
                this.position = i.position
            }
            return this.helper[0].style.left = this.position.left + "px", this.helper[0].style.top = this.position.top + "px", t.ui.ddmanager && t.ui.ddmanager.drag(this, e), !1
        },
        _mouseStop: function(e) {
            var n = this,
                i = !1;
            return t.ui.ddmanager && !this.options.dropBehaviour && (i = t.ui.ddmanager.drop(this, e)), this.dropped && (i = this.dropped, this.dropped = !1), "invalid" === this.options.revert && !i || "valid" === this.options.revert && i || !0 === this.options.revert || t.isFunction(this.options.revert) && this.options.revert.call(this.element, i) ? t(this.helper).animate(this.originalPosition, parseInt(this.options.revertDuration, 10), function() {
                !1 !== n._trigger("stop", e) && n._clear()
            }) : !1 !== this._trigger("stop", e) && this._clear(), !1
        },
        _mouseUp: function(e) {
            return this._unblockFrames(), t.ui.ddmanager && t.ui.ddmanager.dragStop(this, e), this.handleElement.is(e.target) && this.element.focus(), t.ui.mouse.prototype._mouseUp.call(this, e)
        },
        cancel: function() {
            return this.helper.is(".ui-draggable-dragging") ? this._mouseUp({}) : this._clear(), this
        },
        _getHandle: function(e) {
            return !this.options.handle || !!t(e.target).closest(this.element.find(this.options.handle)).length
        },
        _setHandleClassName: function() {
            this.handleElement = this.options.handle ? this.element.find(this.options.handle) : this.element, this.handleElement.addClass("ui-draggable-handle")
        },
        _removeHandleClassName: function() {
            this.handleElement.removeClass("ui-draggable-handle")
        },
        _createHelper: function(e) {
            var n = this.options,
                i = t.isFunction(n.helper),
                o = i ? t(n.helper.apply(this.element[0], [e])) : "clone" === n.helper ? this.element.clone().removeAttr("id") : this.element;
            return o.parents("body").length || o.appendTo("parent" === n.appendTo ? this.element[0].parentNode : n.appendTo), i && o[0] === this.element[0] && this._setPositionRelative(), o[0] === this.element[0] || /(fixed|absolute)/.test(o.css("position")) || o.css("position", "absolute"), o
        },
        _setPositionRelative: function() {
            /^(?:r|a|f)/.test(this.element.css("position")) || (this.element[0].style.position = "relative")
        },
        _adjustOffsetFromHelper: function(e) {
            "string" == typeof e && (e = e.split(" ")), t.isArray(e) && (e = {
                left: +e[0],
                top: +e[1] || 0
            }), "left" in e && (this.offset.click.left = e.left + this.margins.left), "right" in e && (this.offset.click.left = this.helperProportions.width - e.right + this.margins.left), "top" in e && (this.offset.click.top = e.top + this.margins.top), "bottom" in e && (this.offset.click.top = this.helperProportions.height - e.bottom + this.margins.top)
        },
        _isRootNode: function(t) {
            return /(html|body)/i.test(t.tagName) || t === this.document[0]
        },
        _getParentOffset: function() {
            var e = this.offsetParent.offset(),
                n = this.document[0];
            return "absolute" === this.cssPosition && this.scrollParent[0] !== n && t.contains(this.scrollParent[0], this.offsetParent[0]) && (e.left += this.scrollParent.scrollLeft(), e.top += this.scrollParent.scrollTop()), this._isRootNode(this.offsetParent[0]) && (e = {
                top: 0,
                left: 0
            }), {
                top: e.top + (parseInt(this.offsetParent.css("borderTopWidth"), 10) || 0),
                left: e.left + (parseInt(this.offsetParent.css("borderLeftWidth"), 10) || 0)
            }
        },
        _getRelativeOffset: function() {
            if ("relative" !== this.cssPosition)
                return {
                    top: 0,
                    left: 0
                };
            var t = this.element.position(),
                e = this._isRootNode(this.scrollParent[0]);
            return {
                top: t.top - (parseInt(this.helper.css("top"), 10) || 0) + (e ? 0 : this.scrollParent.scrollTop()),
                left: t.left - (parseInt(this.helper.css("left"), 10) || 0) + (e ? 0 : this.scrollParent.scrollLeft())
            }
        },
        _cacheMargins: function() {
            this.margins = {
                left: parseInt(this.element.css("marginLeft"), 10) || 0,
                top: parseInt(this.element.css("marginTop"), 10) || 0,
                right: parseInt(this.element.css("marginRight"), 10) || 0,
                bottom: parseInt(this.element.css("marginBottom"), 10) || 0
            }
        },
        _cacheHelperProportions: function() {
            this.helperProportions = {
                width: this.helper.outerWidth(),
                height: this.helper.outerHeight()
            }
        },
        _setContainment: function() {
            var e,
                n,
                i,
                o = this.options,
                a = this.document[0];
            return this.relativeContainer = null, o.containment ? "window" === o.containment ? void (this.containment = [t(window).scrollLeft() - this.offset.relative.left - this.offset.parent.left, t(window).scrollTop() - this.offset.relative.top - this.offset.parent.top, t(window).scrollLeft() + t(window).width() - this.helperProportions.width - this.margins.left, t(window).scrollTop() + (t(window).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : "document" === o.containment ? void (this.containment = [0, 0, t(a).width() - this.helperProportions.width - this.margins.left, (t(a).height() || a.body.parentNode.scrollHeight) - this.helperProportions.height - this.margins.top]) : o.containment.constructor === Array ? void (this.containment = o.containment) : ("parent" === o.containment && (o.containment = this.helper[0].parentNode), n = t(o.containment), void ((i = n[0]) && (e = /(scroll|auto)/.test(n.css("overflow")), this.containment = [(parseInt(n.css("borderLeftWidth"), 10) || 0) + (parseInt(n.css("paddingLeft"), 10) || 0), (parseInt(n.css("borderTopWidth"), 10) || 0) + (parseInt(n.css("paddingTop"), 10) || 0), (e ? Math.max(i.scrollWidth, i.offsetWidth) : i.offsetWidth) - (parseInt(n.css("borderRightWidth"), 10) || 0) - (parseInt(n.css("paddingRight"), 10) || 0) - this.helperProportions.width - this.margins.left - this.margins.right, (e ? Math.max(i.scrollHeight, i.offsetHeight) : i.offsetHeight) - (parseInt(n.css("borderBottomWidth"), 10) || 0) - (parseInt(n.css("paddingBottom"), 10) || 0) - this.helperProportions.height - this.margins.top - this.margins.bottom], this.relativeContainer = n))) : void (this.containment = null)
        },
        _convertPositionTo: function(t, e) {
            e || (e = this.position);
            var n = "absolute" === t ? 1 : -1,
                i = this._isRootNode(this.scrollParent[0]);
            return {
                top: e.top + this.offset.relative.top * n + this.offset.parent.top * n - ("fixed" === this.cssPosition ? -this.offset.scroll.top : i ? 0 : this.offset.scroll.top) * n,
                left: e.left + this.offset.relative.left * n + this.offset.parent.left * n - ("fixed" === this.cssPosition ? -this.offset.scroll.left : i ? 0 : this.offset.scroll.left) * n
            }
        },
        _generatePosition: function(t, e) {
            var n,
                i,
                o,
                a,
                s = this.options,
                r = this._isRootNode(this.scrollParent[0]),
                l = t.pageX,
                c = t.pageY;
            return r && this.offset.scroll || (this.offset.scroll = {
                top: this.scrollParent.scrollTop(),
                left: this.scrollParent.scrollLeft()
            }), e && (this.containment && (this.relativeContainer ? (i = this.relativeContainer.offset(), n = [this.containment[0] + i.left, this.containment[1] + i.top, this.containment[2] + i.left, this.containment[3] + i.top]) : n = this.containment, t.pageX - this.offset.click.left < n[0] && (l = n[0] + this.offset.click.left), t.pageY - this.offset.click.top < n[1] && (c = n[1] + this.offset.click.top), t.pageX - this.offset.click.left > n[2] && (l = n[2] + this.offset.click.left), t.pageY - this.offset.click.top > n[3] && (c = n[3] + this.offset.click.top)), s.grid && (o = s.grid[1] ? this.originalPageY + Math.round((c - this.originalPageY) / s.grid[1]) * s.grid[1] : this.originalPageY, c = n ? o - this.offset.click.top >= n[1] || o - this.offset.click.top > n[3] ? o : o - this.offset.click.top >= n[1] ? o - s.grid[1] : o + s.grid[1] : o, a = s.grid[0] ? this.originalPageX + Math.round((l - this.originalPageX) / s.grid[0]) * s.grid[0] : this.originalPageX, l = n ? a - this.offset.click.left >= n[0] || a - this.offset.click.left > n[2] ? a : a - this.offset.click.left >= n[0] ? a - s.grid[0] : a + s.grid[0] : a), "y" === s.axis && (l = this.originalPageX), "x" === s.axis && (c = this.originalPageY)), {
                top: c - this.offset.click.top - this.offset.relative.top - this.offset.parent.top + ("fixed" === this.cssPosition ? -this.offset.scroll.top : r ? 0 : this.offset.scroll.top),
                left: l - this.offset.click.left - this.offset.relative.left - this.offset.parent.left + ("fixed" === this.cssPosition ? -this.offset.scroll.left : r ? 0 : this.offset.scroll.left)
            }
        },
        _clear: function() {
            this.helper.removeClass("ui-draggable-dragging"), this.helper[0] === this.element[0] || this.cancelHelperRemoval || this.helper.remove(), this.helper = null, this.cancelHelperRemoval = !1, this.destroyOnClear && this.destroy()
        },
        _normalizeRightBottom: function() {
            "y" !== this.options.axis && "auto" !== this.helper.css("right") && (this.helper.width(this.helper.width()), this.helper.css("right", "auto")), "x" !== this.options.axis && "auto" !== this.helper.css("bottom") && (this.helper.height(this.helper.height()), this.helper.css("bottom", "auto"))
        },
        _trigger: function(e, n, i) {
            return i = i || this._uiHash(), t.ui.plugin.call(this, e, [n, i, this], !0), /^(drag|start|stop)/.test(e) && (this.positionAbs = this._convertPositionTo("absolute"), i.offset = this.positionAbs), t.Widget.prototype._trigger.call(this, e, n, i)
        },
        plugins: {},
        _uiHash: function() {
            return {
                helper: this.helper,
                position: this.position,
                originalPosition: this.originalPosition,
                offset: this.positionAbs
            }
        }
    }), t.ui.plugin.add("draggable", "connectToSortable", {
        start: function(e, n, i) {
            var o = t.extend({}, n, {
                item: i.element
            });
            i.sortables = [], t(i.options.connectToSortable).each(function() {
                var n = t(this).sortable("instance");
                n && !n.options.disabled && (i.sortables.push(n), n.refreshPositions(), n._trigger("activate", e, o))
            })
        },
        stop: function(e, n, i) {
            var o = t.extend({}, n, {
                item: i.element
            });
            i.cancelHelperRemoval = !1, t.each(i.sortables, function() {
                var t = this;
                t.isOver ? (t.isOver = 0, i.cancelHelperRemoval = !0, t.cancelHelperRemoval = !1, t._storedCSS = {
                    position: t.placeholder.css("position"),
                    top: t.placeholder.css("top"),
                    left: t.placeholder.css("left")
                }, t._mouseStop(e), t.options.helper = t.options._helper) : (t.cancelHelperRemoval = !0, t._trigger("deactivate", e, o))
            })
        },
        drag: function(e, n, i) {
            t.each(i.sortables, function() {
                var o = !1,
                    a = this;
                a.positionAbs = i.positionAbs, a.helperProportions = i.helperProportions, a.offset.click = i.offset.click, a._intersectsWith(a.containerCache) && (o = !0, t.each(i.sortables, function() {
                    return this.positionAbs = i.positionAbs, this.helperProportions = i.helperProportions, this.offset.click = i.offset.click, this !== a && this._intersectsWith(this.containerCache) && t.contains(a.element[0], this.element[0]) && (o = !1), o
                })), o ? (a.isOver || (a.isOver = 1, i._parent = n.helper.parent(), a.currentItem = n.helper.appendTo(a.element).data("ui-sortable-item", !0), a.options._helper = a.options.helper, a.options.helper = function() {
                    return n.helper[0]
                }, e.target = a.currentItem[0], a._mouseCapture(e, !0), a._mouseStart(e, !0, !0), a.offset.click.top = i.offset.click.top, a.offset.click.left = i.offset.click.left, a.offset.parent.left -= i.offset.parent.left - a.offset.parent.left, a.offset.parent.top -= i.offset.parent.top - a.offset.parent.top, i._trigger("toSortable", e), i.dropped = a.element, t.each(i.sortables, function() {
                    this.refreshPositions()
                }), i.currentItem = i.element, a.fromOutside = i), a.currentItem && (a._mouseDrag(e), n.position = a.position)) : a.isOver && (a.isOver = 0, a.cancelHelperRemoval = !0, a.options._revert = a.options.revert, a.options.revert = !1, a._trigger("out", e, a._uiHash(a)), a._mouseStop(e, !0), a.options.revert = a.options._revert, a.options.helper = a.options._helper, a.placeholder && a.placeholder.remove(), n.helper.appendTo(i._parent), i._refreshOffsets(e), n.position = i._generatePosition(e, !0), i._trigger("fromSortable", e), i.dropped = !1, t.each(i.sortables, function() {
                    this.refreshPositions()
                }))
            })
        }
    }), t.ui.plugin.add("draggable", "cursor", {
        start: function(e, n, i) {
            var o = t("body"),
                a = i.options;
            o.css("cursor") && (a._cursor = o.css("cursor")), o.css("cursor", a.cursor)
        },
        stop: function(e, n, i) {
            var o = i.options;
            o._cursor && t("body").css("cursor", o._cursor)
        }
    }), t.ui.plugin.add("draggable", "opacity", {
        start: function(e, n, i) {
            var o = t(n.helper),
                a = i.options;
            o.css("opacity") && (a._opacity = o.css("opacity")), o.css("opacity", a.opacity)
        },
        stop: function(e, n, i) {
            var o = i.options;
            o._opacity && t(n.helper).css("opacity", o._opacity)
        }
    }), t.ui.plugin.add("draggable", "scroll", {
        start: function(t, e, n) {
            n.scrollParentNotHidden || (n.scrollParentNotHidden = n.helper.scrollParent(!1)), n.scrollParentNotHidden[0] !== n.document[0] && "HTML" !== n.scrollParentNotHidden[0].tagName && (n.overflowOffset = n.scrollParentNotHidden.offset())
        },
        drag: function(e, n, i) {
            var o = i.options,
                a = !1,
                s = i.scrollParentNotHidden[0],
                r = i.document[0];
            s !== r && "HTML" !== s.tagName ? (o.axis && "x" === o.axis || (i.overflowOffset.top + s.offsetHeight - e.pageY < o.scrollSensitivity ? s.scrollTop = a = s.scrollTop + o.scrollSpeed : e.pageY - i.overflowOffset.top < o.scrollSensitivity && (s.scrollTop = a = s.scrollTop - o.scrollSpeed)), o.axis && "y" === o.axis || (i.overflowOffset.left + s.offsetWidth - e.pageX < o.scrollSensitivity ? s.scrollLeft = a = s.scrollLeft + o.scrollSpeed : e.pageX - i.overflowOffset.left < o.scrollSensitivity && (s.scrollLeft = a = s.scrollLeft - o.scrollSpeed))) : (o.axis && "x" === o.axis || (e.pageY - t(r).scrollTop() < o.scrollSensitivity ? a = t(r).scrollTop(t(r).scrollTop() - o.scrollSpeed) : t(window).height() - (e.pageY - t(r).scrollTop()) < o.scrollSensitivity && (a = t(r).scrollTop(t(r).scrollTop() + o.scrollSpeed))), o.axis && "y" === o.axis || (e.pageX - t(r).scrollLeft() < o.scrollSensitivity ? a = t(r).scrollLeft(t(r).scrollLeft() - o.scrollSpeed) : t(window).width() - (e.pageX - t(r).scrollLeft()) < o.scrollSensitivity && (a = t(r).scrollLeft(t(r).scrollLeft() + o.scrollSpeed)))), !1 !== a && t.ui.ddmanager && !o.dropBehaviour && t.ui.ddmanager.prepareOffsets(i, e)
        }
    }), t.ui.plugin.add("draggable", "snap", {
        start: function(e, n, i) {
            var o = i.options;
            i.snapElements = [], t(o.snap.constructor !== String ? o.snap.items || ":data(ui-draggable)" : o.snap).each(function() {
                var e = t(this),
                    n = e.offset();
                this !== i.element[0] && i.snapElements.push({
                    item: this,
                    width: e.outerWidth(),
                    height: e.outerHeight(),
                    top: n.top,
                    left: n.left
                })
            })
        },
        drag: function(e, n, i) {
            var o,
                a,
                s,
                r,
                l,
                c,
                u,
                d,
                h,
                f,
                p = i.options,
                m = p.snapTolerance,
                g = n.offset.left,
                v = g + i.helperProportions.width,
                b = n.offset.top,
                E = b + i.helperProportions.height;
            for (h = i.snapElements.length - 1; h >= 0; h--)
                l = i.snapElements[h].left - i.margins.left, c = l + i.snapElements[h].width, u = i.snapElements[h].top - i.margins.top, d = u + i.snapElements[h].height, v < l - m || g > c + m || E < u - m || b > d + m || !t.contains(i.snapElements[h].item.ownerDocument, i.snapElements[h].item) ? (i.snapElements[h].snapping && i.options.snap.release && i.options.snap.release.call(i.element, e, t.extend(i._uiHash(), {
                    snapItem: i.snapElements[h].item
                })), i.snapElements[h].snapping = !1) : ("inner" !== p.snapMode && (o = Math.abs(u - E) <= m, a = Math.abs(d - b) <= m, s = Math.abs(l - v) <= m, r = Math.abs(c - g) <= m, o && (n.position.top = i._convertPositionTo("relative", {
                    top: u - i.helperProportions.height,
                    left: 0
                }).top), a && (n.position.top = i._convertPositionTo("relative", {
                    top: d,
                    left: 0
                }).top), s && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l - i.helperProportions.width
                }).left), r && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: c
                }).left)), f = o || a || s || r, "outer" !== p.snapMode && (o = Math.abs(u - b) <= m, a = Math.abs(d - E) <= m, s = Math.abs(l - g) <= m, r = Math.abs(c - v) <= m, o && (n.position.top = i._convertPositionTo("relative", {
                    top: u,
                    left: 0
                }).top), a && (n.position.top = i._convertPositionTo("relative", {
                    top: d - i.helperProportions.height,
                    left: 0
                }).top), s && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: l
                }).left), r && (n.position.left = i._convertPositionTo("relative", {
                    top: 0,
                    left: c - i.helperProportions.width
                }).left)), !i.snapElements[h].snapping && (o || a || s || r || f) && i.options.snap.snap && i.options.snap.snap.call(i.element, e, t.extend(i._uiHash(), {
                    snapItem: i.snapElements[h].item
                })), i.snapElements[h].snapping = o || a || s || r || f)
        }
    }), t.ui.plugin.add("draggable", "stack", {
        start: function(e, n, i) {
            var o,
                a = i.options,
                s = t.makeArray(t(a.stack)).sort(function(e, n) {
                    return (parseInt(t(e).css("zIndex"), 10) || 0) - (parseInt(t(n).css("zIndex"), 10) || 0)
                });
            s.length && (o = parseInt(t(s[0]).css("zIndex"), 10) || 0, t(s).each(function(e) {
                t(this).css("zIndex", o + e)
            }), this.css("zIndex", o + s.length))
        }
    }), t.ui.plugin.add("draggable", "zIndex", {
        start: function(e, n, i) {
            var o = t(n.helper),
                a = i.options;
            o.css("zIndex") && (a._zIndex = o.css("zIndex")), o.css("zIndex", a.zIndex)
        },
        stop: function(e, n, i) {
            var o = i.options;
            o._zIndex && t(n.helper).css("zIndex", o._zIndex)
        }
    });
    var c = t.ui.draggable; /*!
 * jQuery UI Resizable 1.11.4
 * http://jqueryui.com
 *
 * Copyright jQuery Foundation and other contributors
 * Released under the MIT license.
 * http://jquery.org/license
 *
 * http://api.jqueryui.com/resizable/
 */









    t.widget("ui.resizable", t.ui.mouse, {
        version: "1.11.4",
        widgetEventPrefix: "resize",
        options: {
            alsoResize: !1,
            animate: !1,
            animateDuration: "slow",
            animateEasing: "swing",
            aspectRatio: !1,
            autoHide: !1,
            containment: !1,
            ghost: !1,
            grid: !1,
            handles: "e,s,se",
            helper: !1,
            maxHeight: null,
            maxWidth: null,
            minHeight: 10,
            minWidth: 10,
            zIndex: 90,
            resize: null,
            start: null,
            stop: null
        },
        _num: function(t) {
            return parseInt(t, 10) || 0
        },
        _isNumber: function(t) {
            return !isNaN(parseInt(t, 10))
        },
        _hasScroll: function(e, n) {
            if ("hidden" === t(e).css("overflow"))
                return !1;
            var i = n && "left" === n ? "scrollLeft" : "scrollTop",
                o = !1;
            return e[i] > 0 || (e[i] = 1, o = e[i] > 0, e[i] = 0, o)
        },
        _create: function() {
            var e,
                n,
                i,
                o,
                a,
                s = this,
                r = this.options;
            if (this.element.addClass("ui-resizable"), t.extend(this, {
                _aspectRatio: !!r.aspectRatio,
                aspectRatio: r.aspectRatio,
                originalElement: this.element,
                _proportionallyResizeElements: [],
                _helper: r.helper || r.ghost || r.animate ? r.helper || "ui-resizable-helper" : null
            }), this.element[0].nodeName.match(/^(canvas|textarea|input|select|button|img)$/i) && (this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({
                position: this.element.css("position"),
                width: this.element.outerWidth(),
                height: this.element.outerHeight(),
                top: this.element.css("top"),
                left: this.element.css("left")
            })), this.element = this.element.parent().data("ui-resizable", this.element.resizable("instance")), this.elementIsWrapper = !0, this.element.css({
                marginLeft: this.originalElement.css("marginLeft"),
                marginTop: this.originalElement.css("marginTop"),
                marginRight: this.originalElement.css("marginRight"),
                marginBottom: this.originalElement.css("marginBottom")
            }), this.originalElement.css({
                marginLeft: 0,
                marginTop: 0,
                marginRight: 0,
                marginBottom: 0
            }), this.originalResizeStyle = this.originalElement.css("resize"), this.originalElement.css("resize", "none"), this._proportionallyResizeElements.push(this.originalElement.css({
                position: "static",
                zoom: 1,
                display: "block"
            })), this.originalElement.css({
                margin: this.originalElement.css("margin")
            }), this._proportionallyResize()), this.handles = r.handles || (t(".ui-resizable-handle", this.element).length ? {
                n: ".ui-resizable-n",
                e: ".ui-resizable-e",
                s: ".ui-resizable-s",
                w: ".ui-resizable-w",
                se: ".ui-resizable-se",
                sw: ".ui-resizable-sw",
                ne: ".ui-resizable-ne",
                nw: ".ui-resizable-nw"
            } : "e,s,se"), this._handles = t(), this.handles.constructor === String)
                for ("all" === this.handles && (this.handles = "n,e,s,w,se,sw,ne,nw"), e = this.handles.split(","), this.handles = {}, n = 0; n < e.length; n++)
                    i = t.trim(e[n]), a = "ui-resizable-" + i, o = t("<div class='ui-resizable-handle " + a + "'></div>"), o.css({
                        zIndex: r.zIndex
                    }), "se" === i && o.addClass("ui-icon ui-icon-gripsmall-diagonal-se"), this.handles[i] = ".ui-resizable-" + i, this.element.append(o);
            this._renderAxis = function(e) {
                var n,
                    i,
                    o,
                    a;
                e = e || this.element;
                for (n in this.handles)
                    this.handles[n].constructor === String ? this.handles[n] = this.element.children(this.handles[n]).first().show() : (this.handles[n].jquery || this.handles[n].nodeType) && (this.handles[n] = t(this.handles[n]), this._on(this.handles[n], {
                        mousedown: s._mouseDown
                    })), this.elementIsWrapper && this.originalElement[0].nodeName.match(/^(textarea|input|select|button)$/i) && (i = t(this.handles[n], this.element), a = /sw|ne|nw|se|n|s/.test(n) ? i.outerHeight() : i.outerWidth(), o = ["padding", /ne|nw|n/.test(n) ? "Top" : /se|sw|s/.test(n) ? "Bottom" : /^e$/.test(n) ? "Right" : "Left"].join(""), e.css(o, a), this._proportionallyResize()), this._handles = this._handles.add(this.handles[n])
            }, this._renderAxis(this.element), this._handles = this._handles.add(this.element.find(".ui-resizable-handle")), this._handles.disableSelection(), this._handles.mouseover(function() {
                s.resizing || (this.className && (o = this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)), s.axis = o && o[1] ? o[1] : "se")
            }), r.autoHide && (this._handles.hide(), t(this.element).addClass("ui-resizable-autohide").mouseenter(function() {
                r.disabled || (t(this).removeClass("ui-resizable-autohide"), s._handles.show())
            }).mouseleave(function() {
                r.disabled || s.resizing || (t(this).addClass("ui-resizable-autohide"), s._handles.hide())
            })), this._mouseInit()
        },
        _destroy: function() {
            this._mouseDestroy();
            var e,
                n = function(e) {
                    t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()
                };
            return this.elementIsWrapper && (n(this.element), e = this.element, this.originalElement.css({
                position: e.css("position"),
                width: e.outerWidth(),
                height: e.outerHeight(),
                top: e.css("top"),
                left: e.css("left")
            }).insertAfter(e), e.remove()), this.originalElement.css("resize", this.originalResizeStyle), n(this.originalElement), this
        },
        _mouseCapture: function(e) {
            var n,
                i,
                o = !1;
            for (n in this.handles)
                ((i = t(this.handles[n])[0]) === e.target || t.contains(i, e.target)) && (o = !0);
            return !this.options.disabled && o
        },
        _mouseStart: function(e) {
            var n,
                i,
                o,
                a = this.options,
                s = this.element;
            return this.resizing = !0, this._renderProxy(), n = this._num(this.helper.css("left")), i = this._num(this.helper.css("top")), a.containment && (n += t(a.containment).scrollLeft() || 0, i += t(a.containment).scrollTop() || 0), this.offset = this.helper.offset(), this.position = {
                left: n,
                top: i
            }, this.size = this._helper ? {
                width: this.helper.width(),
                height: this.helper.height()
            } : {
                width: s.width(),
                height: s.height()
            }, this.originalSize = this._helper ? {
                width: s.outerWidth(),
                height: s.outerHeight()
            } : {
                width: s.width(),
                height: s.height()
            }, this.sizeDiff = {
                width: s.outerWidth() - s.width(),
                height: s.outerHeight() - s.height()
            }, this.originalPosition = {
                left: n,
                top: i
            }, this.originalMousePosition = {
                left: e.pageX,
                top: e.pageY
            }, this.aspectRatio = "number" == typeof a.aspectRatio ? a.aspectRatio : this.originalSize.width / this.originalSize.height || 1, o = t(".ui-resizable-" + this.axis).css("cursor"), t("body").css("cursor", "auto" === o ? this.axis + "-resize" : o), s.addClass("ui-resizable-resizing"), this._propagate("start", e), !0
        },
        _mouseDrag: function(e) {
            var n,
                i,
                o = this.originalMousePosition,
                a = this.axis,
                s = e.pageX - o.left || 0,
                r = e.pageY - o.top || 0,
                l = this._change[a];
            return this._updatePrevProperties(), !!l && (n = l.apply(this, [e, s, r]), this._updateVirtualBoundaries(e.shiftKey), (this._aspectRatio || e.shiftKey) && (n = this._updateRatio(n, e)), n = this._respectSize(n, e), this._updateCache(n), this._propagate("resize", e), i = this._applyChanges(), !this._helper && this._proportionallyResizeElements.length && this._proportionallyResize(), t.isEmptyObject(i) || (this._updatePrevProperties(), this._trigger("resize", e, this.ui()), this._applyChanges()), !1)
        },
        _mouseStop: function(e) {
            this.resizing = !1;
            var n,
                i,
                o,
                a,
                s,
                r,
                l,
                c = this.options,
                u = this;
            return this._helper && (n = this._proportionallyResizeElements, i = n.length && /textarea/i.test(n[0].nodeName), o = i && this._hasScroll(n[0], "left") ? 0 : u.sizeDiff.height, a = i ? 0 : u.sizeDiff.width, s = {
                width: u.helper.width() - a,
                height: u.helper.height() - o
            }, r = parseInt(u.element.css("left"), 10) + (u.position.left - u.originalPosition.left) || null, l = parseInt(u.element.css("top"), 10) + (u.position.top - u.originalPosition.top) || null, c.animate || this.element.css(t.extend(s, {
                top: l,
                left: r
            })), u.helper.height(u.size.height), u.helper.width(u.size.width), this._helper && !c.animate && this._proportionallyResize()), t("body").css("cursor", "auto"), this.element.removeClass("ui-resizable-resizing"), this._propagate("stop", e), this._helper && this.helper.remove(), !1
        },
        _updatePrevProperties: function() {
            this.prevPosition = {
                top: this.position.top,
                left: this.position.left
            }, this.prevSize = {
                width: this.size.width,
                height: this.size.height
            }
        },
        _applyChanges: function() {
            var t = {};
            return this.position.top !== this.prevPosition.top && (t.top = this.position.top + "px"), this.position.left !== this.prevPosition.left && (t.left = this.position.left + "px"), this.size.width !== this.prevSize.width && (t.width = this.size.width + "px"), this.size.height !== this.prevSize.height && (t.height = this.size.height + "px"), this.helper.css(t), t
        },
        _updateVirtualBoundaries: function(t) {
            var e,
                n,
                i,
                o,
                a,
                s = this.options;
            a = {
                minWidth: this._isNumber(s.minWidth) ? s.minWidth : 0,
                maxWidth: this._isNumber(s.maxWidth) ? s.maxWidth : Infinity,
                minHeight: this._isNumber(s.minHeight) ? s.minHeight : 0,
                maxHeight: this._isNumber(s.maxHeight) ? s.maxHeight : Infinity
            }, (this._aspectRatio || t) && (e = a.minHeight * this.aspectRatio, i = a.minWidth / this.aspectRatio, n = a.maxHeight * this.aspectRatio, o = a.maxWidth / this.aspectRatio, e > a.minWidth && (a.minWidth = e), i > a.minHeight && (a.minHeight = i), n < a.maxWidth && (a.maxWidth = n), o < a.maxHeight && (a.maxHeight = o)), this._vBoundaries = a
        },
        _updateCache: function(t) {
            this.offset = this.helper.offset(), this._isNumber(t.left) && (this.position.left = t.left), this._isNumber(t.top) && (this.position.top = t.top), this._isNumber(t.height) && (this.size.height = t.height), this._isNumber(t.width) && (this.size.width = t.width)
        },
        _updateRatio: function(t) {
            var e = this.position,
                n = this.size,
                i = this.axis;
            return this._isNumber(t.height) ? t.width = t.height * this.aspectRatio : this._isNumber(t.width) && (t.height = t.width / this.aspectRatio), "sw" === i && (t.left = e.left + (n.width - t.width), t.top = null), "nw" === i && (t.top = e.top + (n.height - t.height), t.left = e.left + (n.width - t.width)), t
        },
        _respectSize: function(t) {
            var e = this._vBoundaries,
                n = this.axis,
                i = this._isNumber(t.width) && e.maxWidth && e.maxWidth < t.width,
                o = this._isNumber(t.height) && e.maxHeight && e.maxHeight < t.height,
                a = this._isNumber(t.width) && e.minWidth && e.minWidth > t.width,
                s = this._isNumber(t.height) && e.minHeight && e.minHeight > t.height,
                r = this.originalPosition.left + this.originalSize.width,
                l = this.position.top + this.size.height,
                c = /sw|nw|w/.test(n),
                u = /nw|ne|n/.test(n);
            return a && (t.width = e.minWidth), s && (t.height = e.minHeight), i && (t.width = e.maxWidth), o && (t.height = e.maxHeight), a && c && (t.left = r - e.minWidth), i && c && (t.left = r - e.maxWidth), s && u && (t.top = l - e.minHeight), o && u && (t.top = l - e.maxHeight), t.width || t.height || t.left || !t.top ? t.width || t.height || t.top || !t.left || (t.left = null) : t.top = null, t
        },
        _getPaddingPlusBorderDimensions: function(t) {
            for (var e = 0, n = [], i = [t.css("borderTopWidth"), t.css("borderRightWidth"), t.css("borderBottomWidth"), t.css("borderLeftWidth")], o = [t.css("paddingTop"), t.css("paddingRight"), t.css("paddingBottom"), t.css("paddingLeft")]; e < 4; e++)
                n[e] = parseInt(i[e], 10) || 0, n[e] += parseInt(o[e], 10) || 0;
            return {
                height: n[0] + n[2],
                width: n[1] + n[3]
            }
        },
        _proportionallyResize: function() {
            if (this._proportionallyResizeElements.length)
                for (var t, e = 0, n = this.helper || this.element; e < this._proportionallyResizeElements.length; e++)
                    t = this._proportionallyResizeElements[e], this.outerDimensions || (this.outerDimensions = this._getPaddingPlusBorderDimensions(t)), t.css({
                        height: n.height() - this.outerDimensions.height || 0,
                        width: n.width() - this.outerDimensions.width || 0
                    })
        },
        _renderProxy: function() {
            var e = this.element,
                n = this.options;
            this.elementOffset = e.offset(), this._helper ? (this.helper = this.helper || t("<div style='overflow:hidden;'></div>"), this.helper.addClass(this._helper).css({
                width: this.element.outerWidth() - 1,
                height: this.element.outerHeight() - 1,
                position: "absolute",
                left: this.elementOffset.left + "px",
                top: this.elementOffset.top + "px",
                zIndex: ++n.zIndex
            }), this.helper.appendTo("body").disableSelection()) : this.helper = this.element
        },
        _change: {
            e: function(t, e) {
                return {
                    width: this.originalSize.width + e
                }
            },
            w: function(t, e) {
                var n = this.originalSize;
                return {
                    left: this.originalPosition.left + e,
                    width: n.width - e
                }
            },
            n: function(t, e, n) {
                var i = this.originalSize;
                return {
                    top: this.originalPosition.top + n,
                    height: i.height - n
                }
            },
            s: function(t, e, n) {
                return {
                    height: this.originalSize.height + n
                }
            },
            se: function(e, n, i) {
                return t.extend(this._change.s.apply(this, arguments), this._change.e.apply(this, [e, n, i]))
            },
            sw: function(e, n, i) {
                return t.extend(this._change.s.apply(this, arguments), this._change.w.apply(this, [e, n, i]))
            },
            ne: function(e, n, i) {
                return t.extend(this._change.n.apply(this, arguments), this._change.e.apply(this, [e, n, i]))
            },
            nw: function(e, n, i) {
                return t.extend(this._change.n.apply(this, arguments), this._change.w.apply(this, [e, n, i]))
            }
        },
        _propagate: function(e, n) {
            t.ui.plugin.call(this, e, [n, this.ui()]), "resize" !== e && this._trigger(e, n, this.ui())
        },
        plugins: {},
        ui: function() {
            return {
                originalElement: this.originalElement,
                element: this.element,
                helper: this.helper,
                position: this.position,
                size: this.size,
                originalSize: this.originalSize,
                originalPosition: this.originalPosition
            }
        }
    }), t.ui.plugin.add("resizable", "animate", {
        stop: function(e) {
            var n = t(this).resizable("instance"),
                i = n.options,
                o = n._proportionallyResizeElements,
                a = o.length && /textarea/i.test(o[0].nodeName),
                s = a && n._hasScroll(o[0], "left") ? 0 : n.sizeDiff.height,
                r = a ? 0 : n.sizeDiff.width,
                l = {
                    width: n.size.width - r,
                    height: n.size.height - s
                },
                c = parseInt(n.element.css("left"), 10) + (n.position.left - n.originalPosition.left) || null,
                u = parseInt(n.element.css("top"), 10) + (n.position.top - n.originalPosition.top) || null;
            n.element.animate(t.extend(l, u && c ? {
                top: u,
                left: c
            } : {}), {
                duration: i.animateDuration,
                easing: i.animateEasing,
                step: function() {
                    var i = {
                        width: parseInt(n.element.css("width"), 10),
                        height: parseInt(n.element.css("height"), 10),
                        top: parseInt(n.element.css("top"), 10),
                        left: parseInt(n.element.css("left"), 10)
                    };
                    o && o.length && t(o[0]).css({
                        width: i.width,
                        height: i.height
                    }), n._updateCache(i), n._propagate("resize", e)
                }
            })
        }
    }), t.ui.plugin.add("resizable", "containment", {
        start: function() {
            var e,
                n,
                i,
                o,
                a,
                s,
                r,
                l = t(this).resizable("instance"),
                c = l.options,
                u = l.element,
                d = c.containment,
                h = d instanceof t ? d.get(0) : /parent/.test(d) ? u.parent().get(0) : d;
            h && (l.containerElement = t(h), /document/.test(d) || d === document ? (l.containerOffset = {
                left: 0,
                top: 0
            }, l.containerPosition = {
                left: 0,
                top: 0
            }, l.parentData = {
                element: t(document),
                left: 0,
                top: 0,
                width: t(document).width(),
                height: t(document).height() || document.body.parentNode.scrollHeight
            }) : (e = t(h), n = [], t(["Top", "Right", "Left", "Bottom"]).each(function(t, i) {
                n[t] = l._num(e.css("padding" + i))
            }), l.containerOffset = e.offset(), l.containerPosition = e.position(), l.containerSize = {
                height: e.innerHeight() - n[3],
                width: e.innerWidth() - n[1]
            }, i = l.containerOffset, o = l.containerSize.height, a = l.containerSize.width, s = l._hasScroll(h, "left") ? h.scrollWidth : a, r = l._hasScroll(h) ? h.scrollHeight : o, l.parentData = {
                element: h,
                left: i.left,
                top: i.top,
                width: s,
                height: r
            }))
        },
        resize: function(e) {
            var n,
                i,
                o,
                a,
                s = t(this).resizable("instance"),
                r = s.options,
                l = s.containerOffset,
                c = s.position,
                u = s._aspectRatio || e.shiftKey,
                d = {
                    top: 0,
                    left: 0
                },
                h = s.containerElement,
                f = !0;
            h[0] !== document && /static/.test(h.css("position")) && (d = l), c.left < (s._helper ? l.left : 0) && (s.size.width = s.size.width + (s._helper ? s.position.left - l.left : s.position.left - d.left), u && (s.size.height = s.size.width / s.aspectRatio, f = !1), s.position.left = r.helper ? l.left : 0), c.top < (s._helper ? l.top : 0) && (s.size.height = s.size.height + (s._helper ? s.position.top - l.top : s.position.top), u && (s.size.width = s.size.height * s.aspectRatio, f = !1), s.position.top = s._helper ? l.top : 0), o = s.containerElement.get(0) === s.element.parent().get(0), a = /relative|absolute/.test(s.containerElement.css("position")), o && a ? (s.offset.left = s.parentData.left + s.position.left, s.offset.top = s.parentData.top + s.position.top) : (s.offset.left = s.element.offset().left, s.offset.top = s.element.offset().top), n = Math.abs(s.sizeDiff.width + (s._helper ? s.offset.left - d.left : s.offset.left - l.left)), i = Math.abs(s.sizeDiff.height + (s._helper ? s.offset.top - d.top : s.offset.top - l.top)), n + s.size.width >= s.parentData.width && (s.size.width = s.parentData.width - n, u && (s.size.height = s.size.width / s.aspectRatio, f = !1)), i + s.size.height >= s.parentData.height && (s.size.height = s.parentData.height - i, u && (s.size.width = s.size.height * s.aspectRatio, f = !1)), f || (s.position.left = s.prevPosition.left, s.position.top = s.prevPosition.top, s.size.width = s.prevSize.width, s.size.height = s.prevSize.height)
        },
        stop: function() {
            var e = t(this).resizable("instance"),
                n = e.options,
                i = e.containerOffset,
                o = e.containerPosition,
                a = e.containerElement,
                s = t(e.helper),
                r = s.offset(),
                l = s.outerWidth() - e.sizeDiff.width,
                c = s.outerHeight() - e.sizeDiff.height;
            e._helper && !n.animate && /relative/.test(a.css("position")) && t(this).css({
                left: r.left - o.left - i.left,
                width: l,
                height: c
            }), e._helper && !n.animate && /static/.test(a.css("position")) && t(this).css({
                left: r.left - o.left - i.left,
                width: l,
                height: c
            })
        }
    }), t.ui.plugin.add("resizable", "alsoResize", {
        start: function() {
            var e = t(this).resizable("instance"),
                n = e.options;
            t(n.alsoResize).each(function() {
                var e = t(this);
                e.data("ui-resizable-alsoresize", {
                    width: parseInt(e.width(), 10),
                    height: parseInt(e.height(), 10),
                    left: parseInt(e.css("left"), 10),
                    top: parseInt(e.css("top"), 10)
                })
            })
        },
        resize: function(e, n) {
            var i = t(this).resizable("instance"),
                o = i.options,
                a = i.originalSize,
                s = i.originalPosition,
                r = {
                    height: i.size.height - a.height || 0,
                    width: i.size.width - a.width || 0,
                    top: i.position.top - s.top || 0,
                    left: i.position.left - s.left || 0
                };
            t(o.alsoResize).each(function() {
                var e = t(this),
                    i = t(this).data("ui-resizable-alsoresize"),
                    o = {},
                    a = e.parents(n.originalElement[0]).length ? ["width", "height"] : ["width", "height", "top", "left"];
                t.each(a, function(t, e) {
                    var n = (i[e] || 0) + (r[e] || 0);
                    n && n >= 0 && (o[e] = n || null)
                }), e.css(o)
            })
        },
        stop: function() {
            t(this).removeData("resizable-alsoresize")
        }
    }), t.ui.plugin.add("resizable", "ghost", {
        start: function() {
            var e = t(this).resizable("instance"),
                n = e.options,
                i = e.size;
            e.ghost = e.originalElement.clone(), e.ghost.css({
                opacity: .25,
                display: "block",
                position: "relative",
                height: i.height,
                width: i.width,
                margin: 0,
                left: 0,
                top: 0
            }).addClass("ui-resizable-ghost").addClass("string" == typeof n.ghost ? n.ghost : ""), e.ghost.appendTo(e.helper)
        },
        resize: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.ghost.css({
                position: "relative",
                height: e.size.height,
                width: e.size.width
            })
        },
        stop: function() {
            var e = t(this).resizable("instance");
            e.ghost && e.helper && e.helper.get(0).removeChild(e.ghost.get(0))
        }
    }), t.ui.plugin.add("resizable", "grid", {
        resize: function() {
            var e,
                n = t(this).resizable("instance"),
                i = n.options,
                o = n.size,
                a = n.originalSize,
                s = n.originalPosition,
                r = n.axis,
                l = "number" == typeof i.grid ? [i.grid, i.grid] : i.grid,
                c = l[0] || 1,
                u = l[1] || 1,
                d = Math.round((o.width - a.width) / c) * c,
                h = Math.round((o.height - a.height) / u) * u,
                f = a.width + d,
                p = a.height + h,
                m = i.maxWidth && i.maxWidth < f,
                g = i.maxHeight && i.maxHeight < p,
                v = i.minWidth && i.minWidth > f,
                b = i.minHeight && i.minHeight > p;
            i.grid = l, v && (f += c), b && (p += u), m && (f -= c), g && (p -= u), /^(se|s|e)$/.test(r) ? (n.size.width = f, n.size.height = p) : /^(ne)$/.test(r) ? (n.size.width = f, n.size.height = p, n.position.top = s.top - h) : /^(sw)$/.test(r) ? (n.size.width = f, n.size.height = p, n.position.left = s.left - d) : ((p - u <= 0 || f - c <= 0) && (e = n._getPaddingPlusBorderDimensions(this)), p - u > 0 ? (n.size.height = p, n.position.top = s.top - h) : (p = u - e.height, n.size.height = p, n.position.top = s.top + a.height - p), f - c > 0 ? (n.size.width = f, n.position.left = s.left - d) : (f = c - e.width, n.size.width = f, n.position.left = s.left + a.width - f))
        }
    });
    var u = t.ui.resizable,
        d,
        h = "ui-button ui-widget ui-state-default ui-corner-all",
        f = "ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",
        p = function() {
            var e = t(this);
            setTimeout(function() {
                e.find(":ui-button").button("refresh")
            }, 1)
        },
        m = function(e) {
            var n = e.name,
                i = e.form,
                o = t([]);
            return n && (n = n.replace(/'/g, "\\'"), o = i ? t(i).find("[name='" + n + "'][type=radio]") : t("[name='" + n + "'][type=radio]", e.ownerDocument).filter(function() {
                return !this.form
            })), o
        };
    t.widget("ui.button", {
        version: "1.11.4",
        defaultElement: "<button>",
        options: {
            disabled: null,
            text: !0,
            label: null,
            icons: {
                primary: null,
                secondary: null
            }
        },
        _create: function() {
            this.element.closest("form").unbind("reset" + this.eventNamespace).bind("reset" + this.eventNamespace, p), "boolean" != typeof this.options.disabled ? this.options.disabled = !!this.element.prop("disabled") : this.element.prop("disabled", this.options.disabled), this._determineButtonType(), this.hasTitle = !!this.buttonElement.attr("title");
            var e = this,
                n = this.options,
                i = "checkbox" === this.type || "radio" === this.type,
                o = i ? "" : "ui-state-active";
            null === n.label && (n.label = "input" === this.type ? this.buttonElement.val() : this.buttonElement.html()), this._hoverable(this.buttonElement), this.buttonElement.addClass(h).attr("role", "button").bind("mouseenter" + this.eventNamespace, function() {
                n.disabled || this === d && t(this).addClass("ui-state-active")
            }).bind("mouseleave" + this.eventNamespace, function() {
                n.disabled || t(this).removeClass(o)
            }).bind("click" + this.eventNamespace, function(t) {
                n.disabled && (t.preventDefault(), t.stopImmediatePropagation())
            }), this._on({
                focus: function() {
                    this.buttonElement.addClass("ui-state-focus")
                },
                blur: function() {
                    this.buttonElement.removeClass("ui-state-focus")
                }
            }), i && this.element.bind("change" + this.eventNamespace, function() {
                e.refresh()
            }), "checkbox" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (n.disabled)
                    return !1
            }) : "radio" === this.type ? this.buttonElement.bind("click" + this.eventNamespace, function() {
                if (n.disabled)
                    return !1;
                t(this).addClass("ui-state-active"), e.buttonElement.attr("aria-pressed", "true");
                var i = e.element[0];
                m(i).not(i).map(function() {
                    return t(this).button("widget")[0]
                }).removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : (this.buttonElement.bind("mousedown" + this.eventNamespace, function() {
                if (n.disabled)
                    return !1;
                t(this).addClass("ui-state-active"), d = this, e.document.one("mouseup", function() {
                    d = null
                })
            }).bind("mouseup" + this.eventNamespace, function() {
                if (n.disabled)
                    return !1;
                t(this).removeClass("ui-state-active")
            }).bind("keydown" + this.eventNamespace, function(e) {
                if (n.disabled)
                    return !1;
                e.keyCode !== t.ui.keyCode.SPACE && e.keyCode !== t.ui.keyCode.ENTER || t(this).addClass("ui-state-active")
            }).bind("keyup" + this.eventNamespace + " blur" + this.eventNamespace, function() {
                t(this).removeClass("ui-state-active")
            }), this.buttonElement.is("a") && this.buttonElement.keyup(function(e) {
                e.keyCode === t.ui.keyCode.SPACE && t(this).click()
            })), this._setOption("disabled", n.disabled), this._resetButton()
        },
        _determineButtonType: function() {
            var t,
                e,
                n;
            this.element.is("[type=checkbox]") ? this.type = "checkbox" : this.element.is("[type=radio]") ? this.type = "radio" : this.element.is("input") ? this.type = "input" : this.type = "button", "checkbox" === this.type || "radio" === this.type ? (t = this.element.parents().last(), e = "label[for='" + this.element.attr("id") + "']", this.buttonElement = t.find(e), this.buttonElement.length || (t = t.length ? t.siblings() : this.element.siblings(), this.buttonElement = t.filter(e), this.buttonElement.length || (this.buttonElement = t.find(e))), this.element.addClass("ui-helper-hidden-accessible"), n = this.element.is(":checked"), n && this.buttonElement.addClass("ui-state-active"), this.buttonElement.prop("aria-pressed", n)) : this.buttonElement = this.element
        },
        widget: function() {
            return this.buttonElement
        },
        _destroy: function() {
            this.element.removeClass("ui-helper-hidden-accessible"), this.buttonElement.removeClass(h + " ui-state-active " + f).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()), this.hasTitle || this.buttonElement.removeAttr("title")
        },
        _setOption: function(t, e) {
            if (this._super(t, e), "disabled" === t)
                return this.widget().toggleClass("ui-state-disabled", !!e), this.element.prop("disabled", !!e), void (e && ("checkbox" === this.type || "radio" === this.type ? this.buttonElement.removeClass("ui-state-focus") : this.buttonElement.removeClass("ui-state-focus ui-state-active")));
            this._resetButton()
        },
        refresh: function() {
            var e = this.element.is("input, button") ? this.element.is(":disabled") : this.element.hasClass("ui-button-disabled");
            e !== this.options.disabled && this._setOption("disabled", e), "radio" === this.type ? m(this.element[0]).each(function() {
                t(this).is(":checked") ? t(this).button("widget").addClass("ui-state-active").attr("aria-pressed", "true") : t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed", "false")
            }) : "checkbox" === this.type && (this.element.is(":checked") ? this.buttonElement.addClass("ui-state-active").attr("aria-pressed", "true") : this.buttonElement.removeClass("ui-state-active").attr("aria-pressed", "false"))
        },
        _resetButton: function() {
            if ("input" === this.type)
                return void (this.options.label && this.element.val(this.options.label));
            var e = this.buttonElement.removeClass(f),
                n = t("<span></span>", this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),
                i = this.options.icons,
                o = i.primary && i.secondary,
                a = [];
            i.primary || i.secondary ? (this.options.text && a.push("ui-button-text-icon" + (o ? "s" : i.primary ? "-primary" : "-secondary")), i.primary && e.prepend("<span class='ui-button-icon-primary ui-icon " + i.primary + "'></span>"), i.secondary && e.append("<span class='ui-button-icon-secondary ui-icon " + i.secondary + "'></span>"), this.options.text || (a.push(o ? "ui-button-icons-only" : "ui-button-icon-only"), this.hasTitle || e.attr("title", t.trim(n)))) : a.push("ui-button-text-only"), e.addClass(a.join(" "))
        }
    }), t.widget("ui.buttonset", {
        version: "1.11.4",
        options: {
            items: "button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"
        },
        _create: function() {
            this.element.addClass("ui-buttonset")
        },
        _init: function() {
            this.refresh()
        },
        _setOption: function(t, e) {
            "disabled" === t && this.buttons.button("option", t, e), this._super(t, e)
        },
        refresh: function() {
            var e = "rtl" === this.element.css("direction"),
                n = this.element.find(this.options.items),
                i = n.filter(":ui-button");
            n.not(":ui-button").button(), i.button("refresh"), this.buttons = n.map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e ? "ui-corner-right" : "ui-corner-left").end().filter(":last").addClass(e ? "ui-corner-left" : "ui-corner-right").end().end()
        },
        _destroy: function() {
            this.element.removeClass("ui-buttonset"), this.buttons.map(function() {
                return t(this).button("widget")[0]
            }).removeClass("ui-corner-left ui-corner-right").end().button("destroy")
        }
    });
    var g = t.ui.button,
        v = t.widget("ui.dialog", {
            version: "1.11.4",
            options: {
                appendTo: "body",
                autoOpen: !0,
                buttons: [],
                closeOnEscape: !0,
                closeText: "Close",
                dialogClass: "",
                draggable: !0,
                hide: null,
                height: "auto",
                maxHeight: null,
                maxWidth: null,
                minHeight: 150,
                minWidth: 150,
                modal: !1,
                position: {
                    my: "center",
                    at: "center",
                    of: window,
                    collision: "fit",
                    using: function(e) {
                        var n = t(this).css(e).offset().top;
                        n < 0 && t(this).css("top", e.top - n)
                    }
                },
                resizable: !0,
                show: null,
                title: null,
                width: 300,
                beforeClose: null,
                close: null,
                drag: null,
                dragStart: null,
                dragStop: null,
                focus: null,
                open: null,
                resize: null,
                resizeStart: null,
                resizeStop: null
            },
            sizeRelatedOptions: {
                buttons: !0,
                height: !0,
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0,
                width: !0
            },
            resizableRelatedOptions: {
                maxHeight: !0,
                maxWidth: !0,
                minHeight: !0,
                minWidth: !0
            },
            _create: function() {
                this.originalCss = {
                    display: this.element[0].style.display,
                    width: this.element[0].style.width,
                    minHeight: this.element[0].style.minHeight,
                    maxHeight: this.element[0].style.maxHeight,
                    height: this.element[0].style.height
                }, this.originalPosition = {
                    parent: this.element.parent(),
                    index: this.element.parent().children().index(this.element)
                }, this.originalTitle = this.element.attr("title"), this.options.title = this.options.title || this.originalTitle, this._createWrapper(), this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog), this._createTitlebar(), this._createButtonPane(), this.options.draggable && t.fn.draggable && this._makeDraggable(), this.options.resizable && t.fn.resizable && this._makeResizable(), this._isOpen = !1, this._trackFocus()
            },
            _init: function() {
                this.options.autoOpen && this.open()
            },
            _appendTo: function() {
                var e = this.options.appendTo;
                return e && (e.jquery || e.nodeType) ? t(e) : this.document.find(e || "body").eq(0)
            },
            _destroy: function() {
                var t,
                    e = this.originalPosition;
                this._untrackInstance(), this._destroyOverlay(), this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(), this.uiDialog.stop(!0, !0).remove(), this.originalTitle && this.element.attr("title", this.originalTitle), t = e.parent.children().eq(e.index), t.length && t[0] !== this.element[0] ? t.before(this.element) : e.parent.append(this.element)
            },
            widget: function() {
                return this.uiDialog
            },
            disable: t.noop,
            enable: t.noop,
            close: function(e) {
                var n,
                    i = this;
                if (this._isOpen && !1 !== this._trigger("beforeClose", e)) {
                    if (this._isOpen = !1, this._focusedElement = null, this._destroyOverlay(), this._untrackInstance(), !this.opener.filter(":focusable").focus().length)
                        try {
                            n = this.document[0].activeElement, n && "body" !== n.nodeName.toLowerCase() && t(n).blur()
                        } catch (t) {}
                    this._hide(this.uiDialog, this.options.hide, function() {
                        i._trigger("close", e)
                    })
                }
            },
            isOpen: function() {
                return this._isOpen
            },
            moveToTop: function() {
                this._moveToTop()
            },
            _moveToTop: function(e, n) {
                var i = !1,
                    o = this.uiDialog.siblings(".ui-front:visible").map(function() {
                        return +t(this).css("z-index")
                    }).get(),
                    a = Math.max.apply(null, o);
                return a >= +this.uiDialog.css("z-index") && (this.uiDialog.css("z-index", a + 1), i = !0), i && !n && this._trigger("focus", e), i
            },
            open: function() {
                var e = this;
                if (this._isOpen)
                    return void (this._moveToTop() && this._focusTabbable());
                this._isOpen = !0, this.opener = t(this.document[0].activeElement), this._size(), this._position(), this._createOverlay(), this._moveToTop(null, !0), this.overlay && this.overlay.css("z-index", this.uiDialog.css("z-index") - 1), this._show(this.uiDialog, this.options.show, function() {
                    e._focusTabbable(), e._trigger("focus")
                }), this._makeFocusTarget(), this._trigger("open")
            },
            _focusTabbable: function() {
                var t = this._focusedElement;
                t || (t = this.element.find("[autofocus]")), t.length || (t = this.element.find(":tabbable")), t.length || (t = this.uiDialogButtonPane.find(":tabbable")), t.length || (t = this.uiDialogTitlebarClose.filter(":tabbable")), t.length || (t = this.uiDialog), t.eq(0).focus()
            },
            _keepFocus: function(e) {
                function n() {
                    var e = this.document[0].activeElement;
                    this.uiDialog[0] === e || t.contains(this.uiDialog[0], e) || this._focusTabbable()
                }
                e.preventDefault(), n.call(this), this._delay(n)
            },
            _createWrapper: function() {
                this.uiDialog = t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front " + this.options.dialogClass).hide().attr({
                    tabIndex: -1,
                    role: "dialog"
                }).appendTo(this._appendTo()), this._on(this.uiDialog, {
                    keydown: function(e) {
                        if (this.options.closeOnEscape && !e.isDefaultPrevented() && e.keyCode && e.keyCode === t.ui.keyCode.ESCAPE)
                            return e.preventDefault(), void this.close(e);
                        if (e.keyCode === t.ui.keyCode.TAB && !e.isDefaultPrevented()) {
                            var n = this.uiDialog.find(":tabbable"),
                                i = n.filter(":first"),
                                o = n.filter(":last");
                            e.target !== o[0] && e.target !== this.uiDialog[0] || e.shiftKey ? e.target !== i[0] && e.target !== this.uiDialog[0] || !e.shiftKey || (this._delay(function() {
                                o.focus()
                            }), e.preventDefault()) : (this._delay(function() {
                                i.focus()
                            }), e.preventDefault())
                        }
                    },
                    mousedown: function(t) {
                        this._moveToTop(t) && this._focusTabbable()
                    }
                }), this.element.find("[aria-describedby]").length || this.uiDialog.attr({
                    "aria-describedby": this.element.uniqueId().attr("id")
                })
            },
            _createTitlebar: function() {
                var e;
                this.uiDialogTitlebar = t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog), this._on(this.uiDialogTitlebar, {
                    mousedown: function(e) {
                        t(e.target).closest(".ui-dialog-titlebar-close") || this.uiDialog.focus()
                    }
                }), this.uiDialogTitlebarClose = t("<button type='button'></button>").button({
                    label: this.options.closeText,
                    icons: {
                        primary: "ui-icon-closethick"
                    },
                    text: !1
                }).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar), this._on(this.uiDialogTitlebarClose, {
                    click: function(t) {
                        t.preventDefault(), this.close(t)
                    }
                }), e = t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar), this._title(e), this.uiDialog.attr({
                    "aria-labelledby": e.attr("id")
                })
            },
            _title: function(t) {
                this.options.title || t.html("&#160;"), t.text(this.options.title)
            },
            _createButtonPane: function() {
                this.uiDialogButtonPane = t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"), this.uiButtonSet = t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane), this._createButtons()
            },
            _createButtons: function() {
                var e = this,
                    n = this.options.buttons;
                if (this.uiDialogButtonPane.remove(), this.uiButtonSet.empty(), t.isEmptyObject(n) || t.isArray(n) && !n.length)
                    return void this.uiDialog.removeClass("ui-dialog-buttons");
                t.each(n, function(n, i) {
                    var o,
                        a;
                    i = t.isFunction(i) ? {
                        click: i,
                        text: n
                    } : i, i = t.extend({
                        type: "button"
                    }, i), o = i.click, i.click = function() {
                        o.apply(e.element[0], arguments)
                    }, a = {
                        icons: i.icons,
                        text: i.showText
                    }, delete i.icons, delete i.showText, t("<button></button>", i).button(a).appendTo(e.uiButtonSet)
                }), this.uiDialog.addClass("ui-dialog-buttons"), this.uiDialogButtonPane.appendTo(this.uiDialog)
            },
            _makeDraggable: function() {
                function e(t) {
                    return {
                        position: t.position,
                        offset: t.offset
                    }
                }
                var n = this,
                    i = this.options;
                this.uiDialog.draggable({
                    cancel: ".ui-dialog-content, .ui-dialog-titlebar-close",
                    handle: ".ui-dialog-titlebar",
                    containment: "document",
                    start: function(i, o) {
                        t(this).addClass("ui-dialog-dragging"), n._blockFrames(), n._trigger("dragStart", i, e(o))
                    },
                    drag: function(t, i) {
                        n._trigger("drag", t, e(i))
                    },
                    stop: function(o, a) {
                        var s = a.offset.left - n.document.scrollLeft(),
                            r = a.offset.top - n.document.scrollTop();
                        i.position = {
                            my: "left top",
                            at: "left" + (s >= 0 ? "+" : "") + s + " top" + (r >= 0 ? "+" : "") + r,
                            of: n.window
                        }, t(this).removeClass("ui-dialog-dragging"), n._unblockFrames(), n._trigger("dragStop", o, e(a))
                    }
                })
            },
            _makeResizable: function() {
                function e(t) {
                    return {
                        originalPosition: t.originalPosition,
                        originalSize: t.originalSize,
                        position: t.position,
                        size: t.size
                    }
                }
                var n = this,
                    i = this.options,
                    o = i.resizable,
                    a = this.uiDialog.css("position"),
                    s = "string" == typeof o ? o : "n,e,s,w,se,sw,ne,nw";
                this.uiDialog.resizable({
                    cancel: ".ui-dialog-content",
                    containment: "document",
                    alsoResize: this.element,
                    maxWidth: i.maxWidth,
                    maxHeight: i.maxHeight,
                    minWidth: i.minWidth,
                    minHeight: this._minHeight(),
                    handles: s,
                    start: function(i, o) {
                        t(this).addClass("ui-dialog-resizing"), n._blockFrames(),
                        n._trigger("resizeStart", i, e(o))
                    },
                    resize: function(t, i) {
                        n._trigger("resize", t, e(i))
                    },
                    stop: function(o, a) {
                        var s = n.uiDialog.offset(),
                            r = s.left - n.document.scrollLeft(),
                            l = s.top - n.document.scrollTop();
                        i.height = n.uiDialog.height(), i.width = n.uiDialog.width(), i.position = {
                            my: "left top",
                            at: "left" + (r >= 0 ? "+" : "") + r + " top" + (l >= 0 ? "+" : "") + l,
                            of: n.window
                        }, t(this).removeClass("ui-dialog-resizing"), n._unblockFrames(), n._trigger("resizeStop", o, e(a))
                    }
                }).css("position", a)
            },
            _trackFocus: function() {
                this._on(this.widget(), {
                    focusin: function(e) {
                        this._makeFocusTarget(), this._focusedElement = t(e.target)
                    }
                })
            },
            _makeFocusTarget: function() {
                this._untrackInstance(), this._trackingInstances().unshift(this)
            },
            _untrackInstance: function() {
                var e = this._trackingInstances(),
                    n = t.inArray(this, e);
                -1 !== n && e.splice(n, 1)
            },
            _trackingInstances: function() {
                var t = this.document.data("ui-dialog-instances");
                return t || (t = [], this.document.data("ui-dialog-instances", t)), t
            },
            _minHeight: function() {
                var t = this.options;
                return "auto" === t.height ? t.minHeight : Math.min(t.minHeight, t.height)
            },
            _position: function() {
                var t = this.uiDialog.is(":visible");
                t || this.uiDialog.show(), this.uiDialog.position(this.options.position), t || this.uiDialog.hide()
            },
            _setOptions: function(e) {
                var n = this,
                    i = !1,
                    o = {};
                t.each(e, function(t, e) {
                    n._setOption(t, e), t in n.sizeRelatedOptions && (i = !0), t in n.resizableRelatedOptions && (o[t] = e)
                }), i && (this._size(), this._position()), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", o)
            },
            _setOption: function(t, e) {
                var n,
                    i,
                    o = this.uiDialog;
                "dialogClass" === t && o.removeClass(this.options.dialogClass).addClass(e), "disabled" !== t && (this._super(t, e), "appendTo" === t && this.uiDialog.appendTo(this._appendTo()), "buttons" === t && this._createButtons(), "closeText" === t && this.uiDialogTitlebarClose.button({
                    label: "" + e
                }), "draggable" === t && (n = o.is(":data(ui-draggable)"), n && !e && o.draggable("destroy"), !n && e && this._makeDraggable()), "position" === t && this._position(), "resizable" === t && (i = o.is(":data(ui-resizable)"), i && !e && o.resizable("destroy"), i && "string" == typeof e && o.resizable("option", "handles", e), i || !1 === e || this._makeResizable()), "title" === t && this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))
            },
            _size: function() {
                var t,
                    e,
                    n,
                    i = this.options;
                this.element.show().css({
                    width: "auto",
                    minHeight: 0,
                    maxHeight: "none",
                    height: 0
                }), i.minWidth > i.width && (i.width = i.minWidth), t = this.uiDialog.css({
                    height: "auto",
                    width: i.width
                }).outerHeight(), e = Math.max(0, i.minHeight - t), n = "number" == typeof i.maxHeight ? Math.max(0, i.maxHeight - t) : "none", "auto" === i.height ? this.element.css({
                    minHeight: e,
                    maxHeight: n,
                    height: "auto"
                }) : this.element.height(Math.max(0, i.height - t)), this.uiDialog.is(":data(ui-resizable)") && this.uiDialog.resizable("option", "minHeight", this._minHeight())
            },
            _blockFrames: function() {
                this.iframeBlocks = this.document.find("iframe").map(function() {
                    var e = t(this);
                    return t("<div>").css({
                        position: "absolute",
                        width: e.outerWidth(),
                        height: e.outerHeight()
                    }).appendTo(e.parent()).offset(e.offset())[0]
                })
            },
            _unblockFrames: function() {
                this.iframeBlocks && (this.iframeBlocks.remove(), delete this.iframeBlocks)
            },
            _allowInteraction: function(e) {
                return !!t(e.target).closest(".ui-dialog").length || !!t(e.target).closest(".ui-datepicker").length
            },
            _createOverlay: function() {
                if (this.options.modal) {
                    var e = !0;
                    this._delay(function() {
                        e = !1
                    }), this.document.data("ui-dialog-overlays") || this._on(this.document, {
                        focusin: function(t) {
                            e || this._allowInteraction(t) || (t.preventDefault(), this._trackingInstances()[0]._focusTabbable())
                        }
                    }), this.overlay = t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()), this._on(this.overlay, {
                        mousedown: "_keepFocus"
                    }), this.document.data("ui-dialog-overlays", (this.document.data("ui-dialog-overlays") || 0) + 1)
                }
            },
            _destroyOverlay: function() {
                if (this.options.modal && this.overlay) {
                    var t = this.document.data("ui-dialog-overlays") - 1;
                    t ? this.document.data("ui-dialog-overlays", t) : this.document.unbind("focusin").removeData("ui-dialog-overlays"), this.overlay.remove(), this.overlay = null
                }
            }
        }),
        b = t.widget("ui.slider", t.ui.mouse, {
            version: "1.11.4",
            widgetEventPrefix: "slide",
            options: {
                animate: !1,
                distance: 0,
                max: 100,
                min: 0,
                orientation: "horizontal",
                range: !1,
                step: 1,
                value: 0,
                values: null,
                change: null,
                slide: null,
                start: null,
                stop: null
            },
            numPages: 5,
            _create: function() {
                this._keySliding = !1, this._mouseSliding = !1, this._animateOff = !0, this._handleIndex = null, this._detectOrientation(), this._mouseInit(), this._calculateNewMax(), this.element.addClass("ui-slider ui-slider-" + this.orientation + " ui-widget ui-widget-content ui-corner-all"), this._refresh(), this._setOption("disabled", this.options.disabled), this._animateOff = !1
            },
            _refresh: function() {
                this._createRange(), this._createHandles(), this._setupEvents(), this._refreshValue()
            },
            _createHandles: function() {
                var e,
                    n,
                    i = this.options,
                    o = this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),
                    a = [];
                for (n = i.values && i.values.length || 1, o.length > n && (o.slice(n).remove(), o = o.slice(0, n)), e = o.length; e < n; e++)
                    a.push("<span class='ui-slider-handle ui-state-default ui-corner-all' tabindex='0'></span>");
                this.handles = o.add(t(a.join("")).appendTo(this.element)), this.handle = this.handles.eq(0), this.handles.each(function(e) {
                    t(this).data("ui-slider-handle-index", e)
                })
            },
            _createRange: function() {
                var e = this.options,
                    n = "";
                e.range ? (!0 === e.range && (e.values ? e.values.length && 2 !== e.values.length ? e.values = [e.values[0], e.values[0]] : t.isArray(e.values) && (e.values = e.values.slice(0)) : e.values = [this._valueMin(), this._valueMin()]), this.range && this.range.length ? this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({
                    left: "",
                    bottom: ""
                }) : (this.range = t("<div></div>").appendTo(this.element), n = "ui-slider-range ui-widget-header ui-corner-all"), this.range.addClass(n + ("min" === e.range || "max" === e.range ? " ui-slider-range-" + e.range : ""))) : (this.range && this.range.remove(), this.range = null)
            },
            _setupEvents: function() {
                this._off(this.handles), this._on(this.handles, this._handleEvents), this._hoverable(this.handles), this._focusable(this.handles)
            },
            _destroy: function() {
                this.handles.remove(), this.range && this.range.remove(), this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"), this._mouseDestroy()
            },
            _mouseCapture: function(e) {
                var n,
                    i,
                    o,
                    a,
                    s,
                    r,
                    l,
                    c,
                    u = this,
                    d = this.options;
                return !d.disabled && (this.elementSize = {
                        width: this.element.outerWidth(),
                        height: this.element.outerHeight()
                    }, this.elementOffset = this.element.offset(), n = {
                        x: e.pageX,
                        y: e.pageY
                    }, i = this._normValueFromMouse(n), o = this._valueMax() - this._valueMin() + 1, this.handles.each(function(e) {
                        var n = Math.abs(i - u.values(e));
                        (o > n || o === n && (e === u._lastChangedValue || u.values(e) === d.min)) && (o = n, a = t(this), s = e)
                    }), !1 !== (r = this._start(e, s)) && (this._mouseSliding = !0, this._handleIndex = s, a.addClass("ui-state-active").focus(), l = a.offset(), c = !t(e.target).parents().addBack().is(".ui-slider-handle"), this._clickOffset = c ? {
                        left: 0,
                        top: 0
                    } : {
                        left: e.pageX - l.left - a.width() / 2,
                        top: e.pageY - l.top - a.height() / 2 - (parseInt(a.css("borderTopWidth"), 10) || 0) - (parseInt(a.css("borderBottomWidth"), 10) || 0) + (parseInt(a.css("marginTop"), 10) || 0)
                    }, this.handles.hasClass("ui-state-hover") || this._slide(e, s, i), this._animateOff = !0, !0))
            },
            _mouseStart: function() {
                return !0
            },
            _mouseDrag: function(t) {
                var e = {
                        x: t.pageX,
                        y: t.pageY
                    },
                    n = this._normValueFromMouse(e);
                return this._slide(t, this._handleIndex, n), !1
            },
            _mouseStop: function(t) {
                return this.handles.removeClass("ui-state-active"), this._mouseSliding = !1, this._stop(t, this._handleIndex), this._change(t, this._handleIndex), this._handleIndex = null, this._clickOffset = null, this._animateOff = !1, !1
            },
            _detectOrientation: function() {
                this.orientation = "vertical" === this.options.orientation ? "vertical" : "horizontal"
            },
            _normValueFromMouse: function(t) {
                var e,
                    n,
                    i,
                    o,
                    a;
                return "horizontal" === this.orientation ? (e = this.elementSize.width, n = t.x - this.elementOffset.left - (this._clickOffset ? this._clickOffset.left : 0)) : (e = this.elementSize.height, n = t.y - this.elementOffset.top - (this._clickOffset ? this._clickOffset.top : 0)), i = n / e, i > 1 && (i = 1), i < 0 && (i = 0), "vertical" === this.orientation && (i = 1 - i), o = this._valueMax() - this._valueMin(), a = this._valueMin() + i * o, this._trimAlignValue(a)
            },
            _start: function(t, e) {
                var n = {
                    handle: this.handles[e],
                    value: this.value()
                };
                return this.options.values && this.options.values.length && (n.value = this.values(e), n.values = this.values()), this._trigger("start", t, n)
            },
            _slide: function(t, e, n) {
                var i,
                    o,
                    a;
                this.options.values && this.options.values.length ? (i = this.values(e ? 0 : 1), 2 === this.options.values.length && !0 === this.options.range && (0 === e && n > i || 1 === e && n < i) && (n = i), n !== this.values(e) && (o = this.values(), o[e] = n, a = this._trigger("slide", t, {
                    handle: this.handles[e],
                    value: n,
                    values: o
                }), i = this.values(e ? 0 : 1), !1 !== a && this.values(e, n))) : n !== this.value() && !1 !== (a = this._trigger("slide", t, {
                    handle: this.handles[e],
                    value: n
                })) && this.value(n)
            },
            _stop: function(t, e) {
                var n = {
                    handle: this.handles[e],
                    value: this.value()
                };
                this.options.values && this.options.values.length && (n.value = this.values(e), n.values = this.values()), this._trigger("stop", t, n)
            },
            _change: function(t, e) {
                if (!this._keySliding && !this._mouseSliding) {
                    var n = {
                        handle: this.handles[e],
                        value: this.value()
                    };
                    this.options.values && this.options.values.length && (n.value = this.values(e), n.values = this.values()), this._lastChangedValue = e, this._trigger("change", t, n)
                }
            },
            value: function(t) {
                return arguments.length ? (this.options.value = this._trimAlignValue(t), this._refreshValue(), void this._change(null, 0)) : this._value()
            },
            values: function(e, n) {
                var i,
                    o,
                    a;
                if (arguments.length > 1)
                    return this.options.values[e] = this._trimAlignValue(n), this._refreshValue(), void this._change(null, e);
                if (!arguments.length)
                    return this._values();
                if (!t.isArray(arguments[0]))
                    return this.options.values && this.options.values.length ? this._values(e) : this.value();
                for (i = this.options.values, o = arguments[0], a = 0; a < i.length; a += 1)
                    i[a] = this._trimAlignValue(o[a]), this._change(null, a);
                this._refreshValue()
            },
            _setOption: function(e, n) {
                var i,
                    o = 0;
                switch ("range" === e && !0 === this.options.range && ("min" === n ? (this.options.value = this._values(0), this.options.values = null) : "max" === n && (this.options.value = this._values(this.options.values.length - 1), this.options.values = null)), t.isArray(this.options.values) && (o = this.options.values.length), "disabled" === e && this.element.toggleClass("ui-state-disabled", !!n), this._super(e, n), e) {
                case "orientation":
                    this._detectOrientation(), this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-" + this.orientation), this._refreshValue(), this.handles.css("horizontal" === n ? "bottom" : "left", "");
                    break;
                case "value":
                    this._animateOff = !0, this._refreshValue(), this._change(null, 0), this._animateOff = !1;
                    break;
                case "values":
                    for (this._animateOff = !0, this._refreshValue(), i = 0; i < o; i += 1)
                        this._change(null, i);
                    this._animateOff = !1;
                    break;
                case "step":
                case "min":
                case "max":
                    this._animateOff = !0, this._calculateNewMax(), this._refreshValue(), this._animateOff = !1;
                    break;
                case "range":
                    this._animateOff = !0, this._refresh(), this._animateOff = !1
                }
            },
            _value: function() {
                var t = this.options.value;
                return t = this._trimAlignValue(t)
            },
            _values: function(t) {
                var e,
                    n,
                    i;
                if (arguments.length)
                    return e = this.options.values[t], e = this._trimAlignValue(e);
                if (this.options.values && this.options.values.length) {
                    for (n = this.options.values.slice(), i = 0; i < n.length; i += 1)
                        n[i] = this._trimAlignValue(n[i]);
                    return n
                }
                return []
            },
            _trimAlignValue: function(t) {
                if (t <= this._valueMin())
                    return this._valueMin();
                if (t >= this._valueMax())
                    return this._valueMax();
                var e = this.options.step > 0 ? this.options.step : 1,
                    n = (t - this._valueMin()) % e,
                    i = t - n;
                return 2 * Math.abs(n) >= e && (i += n > 0 ? e : -e), parseFloat(i.toFixed(5))
            },
            _calculateNewMax: function() {
                var t = this.options.max,
                    e = this._valueMin(),
                    n = this.options.step;
                t = Math.floor(+(t - e).toFixed(this._precision()) / n) * n + e, this.max = parseFloat(t.toFixed(this._precision()))
            },
            _precision: function() {
                var t = this._precisionOf(this.options.step);
                return null !== this.options.min && (t = Math.max(t, this._precisionOf(this.options.min))), t
            },
            _precisionOf: function(t) {
                var e = t.toString(),
                    n = e.indexOf(".");
                return -1 === n ? 0 : e.length - n - 1
            },
            _valueMin: function() {
                return this.options.min
            },
            _valueMax: function() {
                return this.max
            },
            _refreshValue: function() {
                var e,
                    n,
                    i,
                    o,
                    a,
                    s = this.options.range,
                    r = this.options,
                    l = this,
                    c = !this._animateOff && r.animate,
                    u = {};
                this.options.values && this.options.values.length ? this.handles.each(function(i) {
                    n = (l.values(i) - l._valueMin()) / (l._valueMax() - l._valueMin()) * 100, u["horizontal" === l.orientation ? "left" : "bottom"] = n + "%", t(this).stop(1, 1)[c ? "animate" : "css"](u, r.animate), !0 === l.options.range && ("horizontal" === l.orientation ? (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
                        left: n + "%"
                    }, r.animate), 1 === i && l.range[c ? "animate" : "css"]({
                        width: n - e + "%"
                    }, {
                        queue: !1,
                        duration: r.animate
                    })) : (0 === i && l.range.stop(1, 1)[c ? "animate" : "css"]({
                        bottom: n + "%"
                    }, r.animate), 1 === i && l.range[c ? "animate" : "css"]({
                        height: n - e + "%"
                    }, {
                        queue: !1,
                        duration: r.animate
                    }))), e = n
                }) : (i = this.value(), o = this._valueMin(), a = this._valueMax(), n = a !== o ? (i - o) / (a - o) * 100 : 0, u["horizontal" === this.orientation ? "left" : "bottom"] = n + "%", this.handle.stop(1, 1)[c ? "animate" : "css"](u, r.animate), "min" === s && "horizontal" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
                    width: n + "%"
                }, r.animate), "max" === s && "horizontal" === this.orientation && this.range[c ? "animate" : "css"]({
                    width: 100 - n + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }), "min" === s && "vertical" === this.orientation && this.range.stop(1, 1)[c ? "animate" : "css"]({
                    height: n + "%"
                }, r.animate), "max" === s && "vertical" === this.orientation && this.range[c ? "animate" : "css"]({
                    height: 100 - n + "%"
                }, {
                    queue: !1,
                    duration: r.animate
                }))
            },
            _handleEvents: {
                keydown: function(e) {
                    var n,
                        i,
                        o,
                        a,
                        s = t(e.target).data("ui-slider-handle-index");
                    switch (e.keyCode) {
                    case t.ui.keyCode.HOME:
                    case t.ui.keyCode.END:
                    case t.ui.keyCode.PAGE_UP:
                    case t.ui.keyCode.PAGE_DOWN:
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (e.preventDefault(), !this._keySliding && (this._keySliding = !0, t(e.target).addClass("ui-state-active"), !1 === (n = this._start(e, s))))
                            return
                    }
                    switch (a = this.options.step, i = o = this.options.values && this.options.values.length ? this.values(s) : this.value(), e.keyCode) {
                    case t.ui.keyCode.HOME:
                        o = this._valueMin();
                        break;
                    case t.ui.keyCode.END:
                        o = this._valueMax();
                        break;
                    case t.ui.keyCode.PAGE_UP:
                        o = this._trimAlignValue(i + (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.PAGE_DOWN:
                        o = this._trimAlignValue(i - (this._valueMax() - this._valueMin()) / this.numPages);
                        break;
                    case t.ui.keyCode.UP:
                    case t.ui.keyCode.RIGHT:
                        if (i === this._valueMax())
                            return;
                        o = this._trimAlignValue(i + a);
                        break;
                    case t.ui.keyCode.DOWN:
                    case t.ui.keyCode.LEFT:
                        if (i === this._valueMin())
                            return;
                        o = this._trimAlignValue(i - a)
                    }
                    this._slide(e, s, o)
                },
                keyup: function(e) {
                    var n = t(e.target).data("ui-slider-handle-index");
                    this._keySliding && (this._keySliding = !1, this._stop(e, n), this._change(e, n), t(e.target).removeClass("ui-state-active"))
                }
            }
        })
}), /*
 * jQuery Iframe Transport Plugin 1.8.2
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2011, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(window.jQuery)
}(function(t) {
    "use strict";
    var e = 0;
    t.ajaxTransport("iframe", function(n) {
        if (n.async) {
            var i = n.initialIframeSrc || "javascript:false;",
                o,
                a,
                s;
            return {
                send: function(r, l) {
                    o = t('<form style="display:none;"></form>'), o.attr("accept-charset", n.formAcceptCharset), s = /\?/.test(n.url) ? "&" : "?", "DELETE" === n.type ? (n.url = n.url + s + "_method=DELETE", n.type = "POST") : "PUT" === n.type ? (n.url = n.url + s + "_method=PUT", n.type = "POST") : "PATCH" === n.type && (n.url = n.url + s + "_method=PATCH", n.type = "POST"), e += 1, a = t('<iframe src="' + i + '" name="iframe-transport-' + e + '"></iframe>').bind("load", function() {
                        var e,
                            s = t.isArray(n.paramName) ? n.paramName : [n.paramName];
                        a.unbind("load").bind("load", function() {
                            var e;
                            try {
                                if (e = a.contents(), !e.length || !e[0].firstChild)
                                    throw new Error
                            } catch (t) {
                                e = undefined
                            }
                            l(200, "success", {
                                iframe: e
                            }), t('<iframe src="' + i + '"></iframe>').appendTo(o), window.setTimeout(function() {
                                o.remove()
                            }, 0)
                        }), o.prop("target", a.prop("name")).prop("action", n.url).prop("method", n.type), n.formData && t.each(n.formData, function(e, n) {
                            t('<input type="hidden"/>').prop("name", n.name).val(n.value).appendTo(o)
                        }), n.fileInput && n.fileInput.length && "POST" === n.type && (e = n.fileInput.clone(), n.fileInput.after(function(t) {
                            return e[t]
                        }), n.paramName && n.fileInput.each(function(e) {
                            t(this).prop("name", s[e] || n.paramName)
                        }), o.append(n.fileInput).prop("enctype", "multipart/form-data").prop("encoding", "multipart/form-data"), n.fileInput.removeAttr("form")), o.submit(), e && e.length && n.fileInput.each(function(n, i) {
                            var o = t(e[n]);
                            t(i).prop("name", o.prop("name")).attr("form", o.attr("form")), o.replaceWith(i)
                        })
                    }), o.append(a).appendTo(document.body)
                },
                abort: function() {
                    a && a.unbind("load").prop("src", i), o && o.remove()
                }
            }
        }
    }), t.ajaxSetup({
        converters: {
            "iframe text": function(e) {
                return e && t(e[0].body).text()
            },
            "iframe json": function(e) {
                return e && t.parseJSON(t(e[0].body).text())
            },
            "iframe html": function(e) {
                return e && t(e[0].body).html()
            },
            "iframe xml": function(e) {
                var n = e && e[0];
                return n && t.isXMLDoc(n) ? n : t.parseXML(n.XMLDocument && n.XMLDocument.xml || t(n.body).html())
            },
            "iframe script": function(e) {
                return e && t.globalEval(t(e[0].body).text())
            }
        }
    })
}), /*
 * jQuery File Upload Plugin 5.40.1
 * https://github.com/blueimp/jQuery-File-Upload
 *
 * Copyright 2010, Sebastian Tschan
 * https://blueimp.net
 *
 * Licensed under the MIT license:
 * http://www.opensource.org/licenses/MIT
 */
function(t) {
    "use strict";
    "function" == typeof define && define.amd ? define(["jquery", "jquery.ui.widget"], t) : t(window.jQuery)
}(function(t) {
    "use strict";
    t.support.fileInput = !(new RegExp("(Android (1\\.[0156]|2\\.[01]))|(Windows Phone (OS 7|8\\.0))|(XBLWP)|(ZuneWP)|(WPDesktop)|(w(eb)?OSBrowser)|(webOS)|(Kindle/(1\\.0|2\\.[05]|3\\.0))").test(window.navigator.userAgent) || t('<input type="file">').prop("disabled")), t.support.xhrFileUpload = !(!window.ProgressEvent || !window.FileReader), t.support.xhrFormDataFileUpload = !!window.FormData, t.support.blobSlice = window.Blob && (Blob.prototype.slice || Blob.prototype.webkitSlice || Blob.prototype.mozSlice), t.widget("blueimp.fileupload", {
        options: {
            dropZone: t(document),
            pasteZone: null,
            fileInput: undefined,
            replaceFileInput: !0,
            paramName: undefined,
            singleFileUploads: !0,
            limitMultiFileUploads: undefined,
            limitMultiFileUploadSize: undefined,
            limitMultiFileUploadSizeOverhead: 512,
            sequentialUploads: !1,
            limitConcurrentUploads: undefined,
            forceIframeTransport: !1,
            redirect: undefined,
            redirectParamName: undefined,
            postMessage: undefined,
            multipart: !0,
            maxChunkSize: undefined,
            uploadedBytes: undefined,
            recalculateProgress: !0,
            progressInterval: 100,
            bitrateInterval: 500,
            autoUpload: !0,
            messages: {
                uploadedBytes: "Uploaded bytes exceed file size"
            },
            i18n: function(e, n) {
                return e = this.messages[e] || e.toString(), n && t.each(n, function(t, n) {
                    e = e.replace("{" + t + "}", n)
                }), e
            },
            formData: function(t) {
                return t.serializeArray()
            },
            add: function(e, n) {
                if (e.isDefaultPrevented())
                    return !1;
                (n.autoUpload || !1 !== n.autoUpload && t(this).fileupload("option", "autoUpload")) && n.process().done(function() {
                    n.submit()
                })
            },
            processData: !1,
            contentType: !1,
            cache: !1
        },
        _specialOptions: ["fileInput", "dropZone", "pasteZone", "multipart", "forceIframeTransport"],
        _blobSlice: t.support.blobSlice && function() {
            return (this.slice || this.webkitSlice || this.mozSlice).apply(this, arguments)
        },
        _BitrateTimer: function() {
            this.timestamp = Date.now ? Date.now() : (new Date).getTime(), this.loaded = 0, this.bitrate = 0, this.getBitrate = function(t, e, n) {
                var i = t - this.timestamp;
                return (!this.bitrate || !n || i > n) && (this.bitrate = (e - this.loaded) * (1e3 / i) * 8, this.loaded = e, this.timestamp = t), this.bitrate
            }
        },
        _isXHRUpload: function(e) {
            return !e.forceIframeTransport && (!e.multipart && t.support.xhrFileUpload || t.support.xhrFormDataFileUpload)
        },
        _getFormData: function(e) {
            var n;
            return "function" === t.type(e.formData) ? e.formData(e.form) : t.isArray(e.formData) ? e.formData : "object" === t.type(e.formData) ? (n = [], t.each(e.formData, function(t, e) {
                n.push({
                    name: t,
                    value: e
                })
            }), n) : []
        },
        _getTotal: function(e) {
            var n = 0;
            return t.each(e, function(t, e) {
                n += e.size || 1
            }), n
        },
        _initProgressObject: function(e) {
            var n = {
                loaded: 0,
                total: 0,
                bitrate: 0
            };
            e._progress ? t.extend(e._progress, n) : e._progress = n
        },
        _initResponseObject: function(t) {
            var e;
            if (t._response)
                for (e in t._response)
                    t._response.hasOwnProperty(e) && delete t._response[e];
            else
                t._response = {}
        },
        _onProgress: function(e, n) {
            if (e.lengthComputable) {
                var i = Date.now ? Date.now() : (new Date).getTime(),
                    o;
                if (n._time && n.progressInterval && i - n._time < n.progressInterval && e.loaded !== e.total)
                    return;
                n._time = i, o = Math.floor(e.loaded / e.total * (n.chunkSize || n._progress.total)) + (n.uploadedBytes || 0), this._progress.loaded += o - n._progress.loaded, this._progress.bitrate = this._bitrateTimer.getBitrate(i, this._progress.loaded, n.bitrateInterval), n._progress.loaded = n.loaded = o, n._progress.bitrate = n.bitrate = n._bitrateTimer.getBitrate(i, o, n.bitrateInterval), this._trigger("progress", t.Event("progress", {
                    delegatedEvent: e
                }), n), this._trigger("progressall", t.Event("progressall", {
                    delegatedEvent: e
                }), this._progress)
            }
        },
        _initProgressListener: function(e) {
            var n = this,
                i = e.xhr ? e.xhr() : t.ajaxSettings.xhr();
            i.upload && (t(i.upload).bind("progress", function(t) {
                var i = t.originalEvent;
                t.lengthComputable = i.lengthComputable, t.loaded = i.loaded, t.total = i.total, n._onProgress(t, e)
            }), e.xhr = function() {
                return i
            })
        },
        _isInstanceOf: function(t, e) {
            return Object.prototype.toString.call(e) === "[object " + t + "]"
        },
        _initXHRData: function(e) {
            var n = this,
                i,
                o = e.files[0],
                a = e.multipart || !t.support.xhrFileUpload,
                s = "array" === t.type(e.paramName) ? e.paramName[0] : e.paramName;
            e.headers = t.extend({}, e.headers), e.contentRange && (e.headers["Content-Range"] = e.contentRange), a && !e.blob && this._isInstanceOf("File", o) || (e.headers["Content-Disposition"] = 'attachment; filename="' + encodeURI(o.name) + '"'), a ? t.support.xhrFormDataFileUpload && (e.postMessage ? (i = this._getFormData(e), e.blob ? i.push({
                name: s,
                value: e.blob
            }) : t.each(e.files, function(n, o) {
                i.push({
                    name: "array" === t.type(e.paramName) && e.paramName[n] || s,
                    value: o
                })
            })) : (n._isInstanceOf("FormData", e.formData) ? i = e.formData : (i = new FormData, t.each(this._getFormData(e), function(t, e) {
                i.append(e.name, e.value)
            })), e.blob ? i.append(s, e.blob, o.name) : t.each(e.files, function(o, a) {
                (n._isInstanceOf("File", a) || n._isInstanceOf("Blob", a)) && i.append("array" === t.type(e.paramName) && e.paramName[o] || s, a, a.uploadName || a.name)
            })), e.data = i) : (e.contentType = o.type || "application/octet-stream", e.data = e.blob || o), e.blob = null
        },
        _initIframeSettings: function(e) {
            var n = t("<a></a>").prop("href", e.url).prop("host");
            e.dataType = "iframe " + (e.dataType || ""), e.formData = this._getFormData(e), e.redirect && n && n !== location.host && e.formData.push({
                name: e.redirectParamName || "redirect",
                value: e.redirect
            })
        },
        _initDataSettings: function(t) {
            this._isXHRUpload(t) ? (this._chunkedUpload(t, !0) || (t.data || this._initXHRData(t), this._initProgressListener(t)), t.postMessage && (t.dataType = "postmessage " + (t.dataType || ""))) : this._initIframeSettings(t)
        },
        _getParamName: function(e) {
            var n = t(e.fileInput),
                i = e.paramName;
            return i ? t.isArray(i) || (i = [i]) : (i = [], n.each(function() {
                for (var e = t(this), n = e.prop("name") || "files[]", o = (e.prop("files") || [1]).length; o;)
                    i.push(n), o -= 1
            }), i.length || (i = [n.prop("name") || "files[]"])), i
        },
        _initFormSettings: function(e) {
            e.form && e.form.length || (e.form = t(e.fileInput.prop("form")), e.form.length || (e.form = t(this.options.fileInput.prop("form")))), e.paramName = this._getParamName(e), e.url || (e.url = e.form.prop("action") || location.href), e.type = (e.type || "string" === t.type(e.form.prop("method")) && e.form.prop("method") || "").toUpperCase(), "POST" !== e.type && "PUT" !== e.type && "PATCH" !== e.type && (e.type = "POST"), e.formAcceptCharset || (e.formAcceptCharset = e.form.attr("accept-charset"))
        },
        _getAJAXSettings: function(e) {
            var n = t.extend({}, this.options, e);
            return this._initFormSettings(n), this._initDataSettings(n), n
        },
        _getDeferredState: function(t) {
            return t.state ? t.state() : t.isResolved() ? "resolved" : t.isRejected() ? "rejected" : "pending"
        },
        _enhancePromise: function(t) {
            return t.success = t.done, t.error = t.fail, t.complete = t.always, t
        },
        _getXHRPromise: function(e, n, i) {
            var o = t.Deferred(),
                a = o.promise();
            return n = n || this.options.context || a, !0 === e ? o.resolveWith(n, i) : !1 === e && o.rejectWith(n, i), a.abort = o.promise, this._enhancePromise(a)
        },
        _addConvenienceMethods: function(e, n) {
            var i = this,
                o = function(e) {
                    return t.Deferred().resolveWith(i, e).promise()
                };
            n.process = function(e, a) {
                return (e || a) && (n._processQueue = this._processQueue = (this._processQueue || o([this])).pipe(function() {
                    return n.errorThrown ? t.Deferred().rejectWith(i, [n]).promise() : o(arguments)
                }).pipe(e, a)), this._processQueue || o([this])
            }, n.submit = function() {
                return "pending" !== this.state() && (n.jqXHR = this.jqXHR = !1 !== i._trigger("submit", t.Event("submit", {
                    delegatedEvent: e
                }), this) && i._onSend(e, this)), this.jqXHR || i._getXHRPromise()
            }, n.abort = function() {
                return this.jqXHR ? this.jqXHR.abort() : (this.errorThrown = "abort", i._trigger("fail", null, this), i._getXHRPromise(!1))
            }, n.state = function() {
                return this.jqXHR ? i._getDeferredState(this.jqXHR) : this._processQueue ? i._getDeferredState(this._processQueue) : void 0
            }, n.processing = function() {
                return !this.jqXHR && this._processQueue && "pending" === i._getDeferredState(this._processQueue)
            }, n.progress = function() {
                return this._progress
            }, n.response = function() {
                return this._response
            }
        },
        _getUploadedBytes: function(t) {
            var e = t.getResponseHeader("Range"),
                n = e && e.split("-"),
                i = n && n.length > 1 && parseInt(n[1], 10);
            return i && i + 1
        },
        _chunkedUpload: function(e, n) {
            e.uploadedBytes = e.uploadedBytes || 0;
            var i = this,
                o = e.files[0],
                a = o.size,
                s = e.uploadedBytes,
                r = e.maxChunkSize || a,
                l = this._blobSlice,
                c = t.Deferred(),
                u = c.promise(),
                d,
                h;
            return !(!(this._isXHRUpload(e) && l && (s || r < a)) || e.data) && (!!n || (s >= a ? (o.error = e.i18n("uploadedBytes"), this._getXHRPromise(!1, e.context, [null, "error", o.error])) : (h = function() {
                    var n = t.extend({}, e),
                        u = n._progress.loaded;
                    n.blob = l.call(o, s, s + r, o.type), n.chunkSize = n.blob.size, n.contentRange = "bytes " + s + "-" + (s + n.chunkSize - 1) + "/" + a, i._initXHRData(n), i._initProgressListener(n), d = (!1 !== i._trigger("chunksend", null, n) && t.ajax(n) || i._getXHRPromise(!1, n.context)).done(function(o, r, l) {
                        s = i._getUploadedBytes(l) || s + n.chunkSize, u + n.chunkSize - n._progress.loaded && i._onProgress(t.Event("progress", {
                            lengthComputable: !0,
                            loaded: s - n.uploadedBytes,
                            total: s - n.uploadedBytes
                        }), n), e.uploadedBytes = n.uploadedBytes = s, n.result = o, n.textStatus = r, n.jqXHR = l, i._trigger("chunkdone", null, n), i._trigger("chunkalways", null, n), s < a ? h() : c.resolveWith(n.context, [o, r, l])
                    }).fail(function(t, e, o) {
                        n.jqXHR = t, n.textStatus = e, n.errorThrown = o, i._trigger("chunkfail", null, n), i._trigger("chunkalways", null, n), c.rejectWith(n.context, [t, e, o])
                    })
                }, this._enhancePromise(u), u.abort = function() {
                    return d.abort()
                }, h(), u)))
        },
        _beforeSend: function(t, e) {
            0 === this._active && (this._trigger("start"), this._bitrateTimer = new this._BitrateTimer, this._progress.loaded = this._progress.total = 0, this._progress.bitrate = 0), this._initResponseObject(e), this._initProgressObject(e), e._progress.loaded = e.loaded = e.uploadedBytes || 0, e._progress.total = e.total = this._getTotal(e.files) || 1, e._progress.bitrate = e.bitrate = 0, this._active += 1, this._progress.loaded += e.loaded, this._progress.total += e.total
        },
        _onDone: function(e, n, i, o) {
            var a = o._progress.total,
                s = o._response;
            o._progress.loaded < a && this._onProgress(t.Event("progress", {
                lengthComputable: !0,
                loaded: a,
                total: a
            }), o), s.result = o.result = e, s.textStatus = o.textStatus = n, s.jqXHR = o.jqXHR = i, this._trigger("done", null, o)
        },
        _onFail: function(t, e, n, i) {
            var o = i._response;
            i.recalculateProgress && (this._progress.loaded -= i._progress.loaded, this._progress.total -= i._progress.total), o.jqXHR = i.jqXHR = t, o.textStatus = i.textStatus = e, o.errorThrown = i.errorThrown = n, this._trigger("fail", null, i)
        },
        _onAlways: function(t, e, n, i) {
            this._trigger("always", null, i)
        },
        _onSend: function(e, n) {
            n.submit || this._addConvenienceMethods(e, n);
            var i = this,
                o,
                a,
                s,
                r,
                l = i._getAJAXSettings(n),
                c = function() {
                    return i._sending += 1, l._bitrateTimer = new i._BitrateTimer, o = o || ((a || !1 === i._trigger("send", t.Event("send", {
                        delegatedEvent: e
                    }), l)) && i._getXHRPromise(!1, l.context, a) || i._chunkedUpload(l) || t.ajax(l)).done(function(t, e, n) {
                        i._onDone(t, e, n, l)
                    }).fail(function(t, e, n) {
                        i._onFail(t, e, n, l)
                    }).always(function(t, e, n) {
                        if (i._onAlways(t, e, n, l), i._sending -= 1, i._active -= 1, l.limitConcurrentUploads && l.limitConcurrentUploads > i._sending)
                            for (var o = i._slots.shift(); o;) {
                                if ("pending" === i._getDeferredState(o)) {
                                    o.resolve();
                                    break
                                }
                                o = i._slots.shift()
                            }
                        0 === i._active && i._trigger("stop")
                    })
                };
            return this._beforeSend(e, l), this.options.sequentialUploads || this.options.limitConcurrentUploads && this.options.limitConcurrentUploads <= this._sending ? (this.options.limitConcurrentUploads > 1 ? (s = t.Deferred(), this._slots.push(s), r = s.pipe(c)) : (this._sequence = this._sequence.pipe(c, c), r = this._sequence), r.abort = function() {
                return a = [undefined, "abort", "abort"], o ? o.abort() : (s && s.rejectWith(l.context, a), c())
            }, this._enhancePromise(r)) : c()
        },
        _onAdd: function(e, n) {
            var i = this,
                o = !0,
                a = t.extend({}, this.options, n),
                s = n.files,
                r = s.length,
                l = a.limitMultiFileUploads,
                c = a.limitMultiFileUploadSize,
                u = a.limitMultiFileUploadSizeOverhead,
                d = 0,
                h = this._getParamName(a),
                f,
                p,
                m,
                g,
                v = 0;
            if (!c || r && s[0].size !== undefined || (c = undefined), (a.singleFileUploads || l || c) && this._isXHRUpload(a))
                if (a.singleFileUploads || c || !l)
                    if (!a.singleFileUploads && c)
                        for (m = [], f = [], g = 0; g < r; g += 1)
                            d += s[g].size + u, (g + 1 === r || d + s[g + 1].size + u > c || l && g + 1 - v >= l) && (m.push(s.slice(v, g + 1)), p = h.slice(v, g + 1), p.length || (p = h), f.push(p), v = g + 1, d = 0);
                    else
                        f = h;
                else
                    for (m = [], f = [], g = 0; g < r; g += l)
                        m.push(s.slice(g, g + l)), p = h.slice(g, g + l), p.length || (p = h), f.push(p);
            else
                m = [s], f = [h];
            return n.originalFiles = s, t.each(m || s, function(a, s) {
                var r = t.extend({}, n);
                return r.files = m ? s : [s], r.paramName = f[a], i._initResponseObject(r), i._initProgressObject(r), i._addConvenienceMethods(e, r), o = i._trigger("add", t.Event("add", {
                    delegatedEvent: e
                }), r)
            }), o
        },
        _replaceFileInput: function(e) {
            var n = e.clone(!0);
            t("<form></form>").append(n)[0].reset(), e.after(n).detach(), t.cleanData(e.unbind("remove")), this.options.fileInput = this.options.fileInput.map(function(t, i) {
                return i === e[0] ? n[0] : i
            }), e[0] === this.element[0] && (this.element = n)
        },
        _handleFileTreeEntry: function(e, n) {
            var i = this,
                o = t.Deferred(),
                a = function(t) {
                    t && !t.entry && (t.entry = e), o.resolve([t])
                },
                s;
            return n = n || "", e.isFile ? e._file ? (e._file.relativePath = n, o.resolve(e._file)) : e.file(function(t) {
                t.relativePath = n, o.resolve(t)
            }, a) : e.isDirectory ? (s = e.createReader(), s.readEntries(function(t) {
                i._handleFileTreeEntries(t, n + e.name + "/").done(function(t) {
                    o.resolve(t)
                }).fail(a)
            }, a)) : o.resolve([]), o.promise()
        },
        _handleFileTreeEntries: function(e, n) {
            var i = this;
            return t.when.apply(t, t.map(e, function(t) {
                return i._handleFileTreeEntry(t, n)
            })).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            })
        },
        _getDroppedFiles: function(e) {
            e = e || {};
            var n = e.items;
            return n && n.length && (n[0].webkitGetAsEntry || n[0].getAsEntry) ? this._handleFileTreeEntries(t.map(n, function(t) {
                var e;
                return t.webkitGetAsEntry ? (e = t.webkitGetAsEntry(), e && (e._file = t.getAsFile()), e) : t.getAsEntry()
            })) : t.Deferred().resolve(t.makeArray(e.files)).promise()
        },
        _getSingleFileInputFiles: function(e) {
            e = t(e);
            var n = e.prop("webkitEntries") || e.prop("entries"),
                i,
                o;
            if (n && n.length)
                return this._handleFileTreeEntries(n);
            if (i = t.makeArray(e.prop("files")), i.length)
                i[0].name === undefined && i[0].fileName && t.each(i, function(t, e) {
                    e.name = e.fileName, e.size = e.fileSize
                });
            else {
                if (!(o = e.prop("value")))
                    return t.Deferred().resolve([]).promise();
                i = [{
                    name: o.replace(/^.*\\/, "")
                }]
            }
            return t.Deferred().resolve(i).promise()
        },
        _getFileInputFiles: function(e) {
            return e instanceof t && 1 !== e.length ? t.when.apply(t, t.map(e, this._getSingleFileInputFiles)).pipe(function() {
                return Array.prototype.concat.apply([], arguments)
            }) : this._getSingleFileInputFiles(e)
        },
        _onChange: function(e) {
            var n = this,
                i = {
                    fileInput: t(e.target),
                    form: t(e.target.form)
                };
            this._getFileInputFiles(i.fileInput).always(function(o) {
                i.files = o, n.options.replaceFileInput && n._replaceFileInput(i.fileInput), !1 !== n._trigger("change", t.Event("change", {
                    delegatedEvent: e
                }), i) && n._onAdd(e, i)
            })
        },
        _onPaste: function(e) {
            var n = e.originalEvent && e.originalEvent.clipboardData && e.originalEvent.clipboardData.items,
                i = {
                    files: []
                };
            n && n.length && (t.each(n, function(t, e) {
                var n = e.getAsFile && e.getAsFile();
                n && i.files.push(n)
            }), !1 !== this._trigger("paste", t.Event("paste", {
                delegatedEvent: e
            }), i) && this._onAdd(e, i))
        },
        _onDrop: function(e) {
            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;
            var n = this,
                i = e.dataTransfer,
                o = {};
            i && i.files && i.files.length && (e.preventDefault(), this._getDroppedFiles(i).always(function(i) {
                o.files = i, !1 !== n._trigger("drop", t.Event("drop", {
                    delegatedEvent: e
                }), o) && n._onAdd(e, o)
            }))
        },
        _onDragOver: function(e) {
            e.dataTransfer = e.originalEvent && e.originalEvent.dataTransfer;
            var n = e.dataTransfer;
            n && -1 !== t.inArray("Files", n.types) && !1 !== this._trigger("dragover", t.Event("dragover", {
                delegatedEvent: e
            })) && (e.preventDefault(), n.dropEffect = "copy")
        },
        _initEventHandlers: function() {
            this._isXHRUpload(this.options) && (this._on(this.options.dropZone, {
                dragover: this._onDragOver,
                drop: this._onDrop
            }), this._on(this.options.pasteZone, {
                paste: this._onPaste
            })), t.support.fileInput && this._on(this.options.fileInput, {
                change: this._onChange
            })
        },
        _destroyEventHandlers: function() {
            this._off(this.options.dropZone, "dragover drop"), this._off(this.options.pasteZone, "paste"), this._off(this.options.fileInput, "change")
        },
        _setOption: function(e, n) {
            var i = -1 !== t.inArray(e, this._specialOptions);
            i && this._destroyEventHandlers(), this._super(e, n), i && (this._initSpecialOptions(), this._initEventHandlers())
        },
        _initSpecialOptions: function() {
            var e = this.options;
            e.fileInput === undefined ? e.fileInput = this.element.is('input[type="file"]') ? this.element : this.element.find('input[type="file"]') : e.fileInput instanceof t || (e.fileInput = t(e.fileInput)), e.dropZone instanceof t || (e.dropZone = t(e.dropZone)), e.pasteZone instanceof t || (e.pasteZone = t(e.pasteZone))
        },
        _getRegExp: function(t) {
            var e = t.split("/"),
                n = e.pop();
            return e.shift(), new RegExp(e.join("/"), n)
        },
        _isRegExpOption: function(e, n) {
            return "url" !== e && "string" === t.type(n) && /^\/.*\/[igm]{0,3}$/.test(n)
        },
        _initDataAttributes: function() {
            var e = this,
                n = this.options,
                i = t(this.element[0].cloneNode(!1));
            t.each(i.data(), function(t, o) {
                var a = "data-" + t.replace(/([a-z])([A-Z])/g, "$1-$2").toLowerCase();
                i.attr(a) && (e._isRegExpOption(t, o) && (o = e._getRegExp(o)), n[t] = o)
            })
        },
        _create: function() {
            this._initDataAttributes(), this._initSpecialOptions(), this._slots = [], this._sequence = this._getXHRPromise(!0), this._sending = this._active = 0, this._initProgressObject(this), this._initEventHandlers()
        },
        active: function() {
            return this._active
        },
        progress: function() {
            return this._progress
        },
        add: function(e) {
            var n = this;
            e && !this.options.disabled && (e.fileInput && !e.files ? this._getFileInputFiles(e.fileInput).always(function(t) {
                e.files = t, n._onAdd(null, e)
            }) : (e.files = t.makeArray(e.files), this._onAdd(null, e)))
        },
        send: function(e) {
            if (e && !this.options.disabled) {
                if (e.fileInput && !e.files) {
                    var n = this,
                        i = t.Deferred(),
                        o = i.promise(),
                        a,
                        s;
                    return o.abort = function() {
                        return s = !0, a ? a.abort() : (i.reject(null, "abort", "abort"), o)
                    }, this._getFileInputFiles(e.fileInput).always(function(t) {
                        if (!s) {
                            if (!t.length)
                                return void i.reject();
                            e.files = t, a = n._onSend(null, e).then(function(t, e, n) {
                                i.resolve(t, e, n)
                            }, function(t, e, n) {
                                i.reject(t, e, n)
                            })
                        }
                    }), this._enhancePromise(o)
                }
                if (e.files = t.makeArray(e.files), e.files.length)
                    return this._onSend(null, e)
            }
            return this._getXHRPromise(!1, e && e.context)
        }
    })
}), function(t, e, n) {
    function i(t) {
        var e = {},
            i = /^jQuery\d+$/;
        return n.each(t.attributes, function(t, n) {
            n.specified && !i.test(n.name) && (e[n.name] = n.value)
        }), e
    }
    function o(t, e) {
        var i = this,
            o = n(i);
        if (i.value == o.attr("placeholder") && o.hasClass("placeholder"))
            if (o.data("placeholder-password")) {
                if (o = o.hide().next().show().attr("id", o.removeAttr("id").data("placeholder-id")), !0 === t)
                    return o[0].value = e;
                o.focus()
            } else
                i.value = "", o.removeClass("placeholder"), i == s() && i.select()
    }
    function a() {
        var t,
            e = this,
            a = n(e),
            s = this.id;
        if ("" == e.value) {
            if ("password" == e.type) {
                if (!a.data("placeholder-textinput")) {
                    try {
                        t = a.clone().attr({
                            type: "text"
                        })
                    } catch (e) {
                        t = n("<input>").attr(n.extend(i(this), {
                            type: "text"
                        }))
                    }
                    t.removeAttr("name").data({
                        "placeholder-password": a,
                        "placeholder-id": s
                    }).bind("focus.placeholder", o), a.data({
                        "placeholder-textinput": t,
                        "placeholder-id": s
                    }).before(t)
                }
                a = a.removeAttr("id").hide().prev().attr("id", s).show()
            }
            a.addClass("placeholder"), a[0].value = a.attr("placeholder")
        } else
            a.removeClass("placeholder")
    }
    function s() {
        try {
            return e.activeElement
        } catch (t) {}
    }
    var r = "placeholder" in e.createElement("input"),
        l = "placeholder" in e.createElement("textarea"),
        c = n.fn,
        u = n.valHooks,
        d = n.propHooks,
        h,
        f;
    r && l ? (f = c.placeholder = function() {
        return this
    }, f.input = f.textarea = !0) : (f = c.placeholder = function() {
        var t = this;
        return t.filter((r ? "textarea" : ":input") + "[placeholder]").not(".placeholder").bind({
            "focus.placeholder": o,
            "blur.placeholder": a
        }).data("placeholder-enabled", !0).trigger("blur.placeholder"), t
    }, f.input = r, f.textarea = l, h = {
        get: function(t) {
            var e = n(t),
                i = e.data("placeholder-password");
            return i ? i[0].value : e.data("placeholder-enabled") && e.hasClass("placeholder") ? "" : t.value
        },
        set: function(t, e) {
            var i = n(t),
                r = i.data("placeholder-password");
            return r ? r[0].value = e : i.data("placeholder-enabled") ? ("" == e ? (t.value = e, t != s() && a.call(t)) : i.hasClass("placeholder") ? o.call(t, !0, e) || (t.value = e) : t.value = e, i) : t.value = e
        }
    }, r || (u.input = h, d.value = h), l || (u.textarea = h, d.value = h), n(function() {
        n(e).delegate("form", "submit.placeholder", function() {
            var t = n(".placeholder", this).each(o);
            setTimeout(function() {
                t.each(a)
            }, 10)
        })
    }), n(t).bind("beforeunload.placeholder", function() {
        n(".placeholder").each(function() {
            this.value = ""
        })
    }))
}(this, document, jQuery), /**
 * Timeago is a jQuery plugin that makes it easy to support automatically
 * updating fuzzy timestamps (e.g. "4 minutes ago" or "about 1 day ago").
 *
 * @name timeago
 * @version 1.5.2
 * @requires jQuery v1.2.3+
 * @author Ryan McGeary
 * @license MIT License - http://www.opensource.org/licenses/mit-license.php
 *
 * For usage and examples, visit:
 * http://timeago.yarp.com/
 *
 * Copyright (c) 2008-2015, Ryan McGeary (ryan -[at]- mcgeary [*dot*] org)
 */
function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof module && "object" == typeof module.exports ? require("jquery") : jQuery)
}(function(t) {
    function e() {
        var e = a.settings;
        if (e.autoDispose && !t.contains(document.documentElement, this))
            return t(this).timeago("dispose"), this;
        var s = n(this);
        return isNaN(s.datetime) || (0 == e.cutoff || Math.abs(o(s.datetime)) < e.cutoff) && t(this).text(i(s.datetime)), this
    }
    function n(e) {
        if (e = t(e), !e.data("timeago")) {
            e.data("timeago", {
                datetime: a.datetime(e)
            });
            var n = t.trim(e.text());
            a.settings.localeTitle ? e.attr("title", e.data("timeago").datetime.toLocaleString()) : !(n.length > 0) || a.isTime(e) && e.attr("title") || e.attr("title", n)
        }
        return e.data("timeago")
    }
    function i(t) {
        return a.inWords(o(t))
    }
    function o(t) {
        return (new Date).getTime() - t.getTime()
    }
    t.timeago = function(e) {
        return i(e instanceof Date ? e : "string" == typeof e ? t.timeago.parse(e) : "number" == typeof e ? new Date(e) : t.timeago.datetime(e))
    };
    var a = t.timeago;
    t.extend(t.timeago, {
        settings: {
            refreshMillis: 6e4,
            allowPast: !0,
            allowFuture: !1,
            localeTitle: !1,
            cutoff: 0,
            autoDispose: !0,
            strings: {
                prefixAgo: null,
                prefixFromNow: null,
                suffixAgo: "",
                suffixFromNow: "from now",
                inPast: "any moment now",
                seconds: "Just now",
                minute: "1 min",
                minutes: "%d mins",
                hour: "1 hr",
                hours: "%d hrs",
                day: "1 day",
                days: "%d days",
                month: "1 month",
                months: "%d months",
                year: "1 yr",
                years: "%d yrs",
                wordSeparator: " ",
                numbers: []
            }
        },
        inWords: function(e) {
            function n(n, o) {
                var a = t.isFunction(n) ? n(o, e) : n,
                    s = i.numbers && i.numbers[o] || o;
                return a.replace(/%d/i, s)
            }
            if (!this.settings.allowPast && !this.settings.allowFuture)
                throw "timeago allowPast and allowFuture settings can not both be set to false.";
            var i = this.settings.strings,
                o = i.prefixAgo,
                a = i.suffixAgo;
            if (this.settings.allowFuture && e < 0 && (o = i.prefixFromNow, a = i.suffixFromNow), !this.settings.allowPast && e >= 0)
                return this.settings.strings.inPast;
            var s = Math.abs(e) / 1e3,
                r = s / 60,
                l = r / 60,
                c = l / 24,
                u = c / 365,
                d = s < 45 && n(i.seconds, Math.round(s)) || s < 90 && n(i.minute, 1) || r < 45 && n(i.minutes, Math.round(r)) || r < 90 && n(i.hour, 1) || l < 24 && n(i.hours, Math.round(l)) || l < 42 && n(i.day, 1) || c < 30 && n(i.days, Math.round(c)) || c < 45 && n(i.month, 1) || c < 365 && n(i.months, Math.round(c / 30)) || u < 1.5 && n(i.year, 1) || n(i.years, Math.round(u)),
                h = i.wordSeparator || "";
            return i.wordSeparator === undefined && (h = " "), t.trim([o, d, a].join(h))
        },
        parse: function(e) {
            var n = t.trim(e);
            return n = n.replace(/\.\d+/, ""), n = n.replace(/-/, "/").replace(/-/, "/"), n = n.replace(/T/, " ").replace(/Z/, " UTC"), n = n.replace(/([\+\-]\d\d)\:?(\d\d)/, " $1$2"), n = n.replace(/([\+\-]\d\d)$/, " $100"), new Date(n)
        },
        datetime: function(e) {
            var n = a.isTime(e) ? t(e).attr("datetime") : t(e).attr("title");
            return a.parse(n)
        },
        isTime: function(e) {
            return "time" === t(e).get(0).tagName.toLowerCase()
        }
    });
    var s = {
        init: function() {
            var n = t.proxy(e, this);
            n();
            var i = a.settings;
            i.refreshMillis > 0 && (this._timeagoInterval = setInterval(n, i.refreshMillis))
        },
        update: function(n) {
            var i = n instanceof Date ? n : a.parse(n);
            t(this).data("timeago", {
                datetime: i
            }), a.settings.localeTitle && t(this).attr("title", i.toLocaleString()), e.apply(this)
        },
        updateFromDOM: function() {
            t(this).data("timeago", {
                datetime: a.parse(a.isTime(this) ? t(this).attr("datetime") : t(this).attr("title"))
            }), e.apply(this)
        },
        dispose: function() {
            this._timeagoInterval && (window.clearInterval(this._timeagoInterval), this._timeagoInterval = null)
        }
    };
    t.fn.timeago = function(t, e) {
        var n = t ? s[t] : s.init;
        if (!n)
            throw new Error("Unknown function name '" + t + "' for timeago");
        return this.each(function() {
            n.call(this, e)
        }), this
    }, document.createElement("abbr"), document.createElement("time")
}), function() {
    var t = this,
        e = t._,
        n = {},
        i = Array.prototype,
        o = Object.prototype,
        a = Function.prototype,
        s = i.push,
        r = i.slice,
        l = i.concat,
        c = o.toString,
        u = o.hasOwnProperty,
        d = i.forEach,
        h = i.map,
        f = i.reduce,
        p = i.reduceRight,
        m = i.filter,
        g = i.every,
        v = i.some,
        b = i.indexOf,
        E = i.lastIndexOf,
        y = Array.isArray,
        T = Object.keys,
        C = a.bind,
        _ = function(t) {
            return t instanceof _ ? t : this instanceof _ ? void (this._wrapped = t) : new _(t)
        };
    "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = _), exports._ = _) : t._ = _, _.VERSION = "1.5.2";
    var D = _.each = _.forEach = function(t, e, i) {
        if (null != t)
            if (d && t.forEach === d)
                t.forEach(e, i);
            else if (t.length === +t.length) {
                for (var o = 0, a = t.length; o < a; o++)
                    if (e.call(i, t[o], o, t) === n)
                        return
            } else
                for (var s = _.keys(t), o = 0, a = s.length; o < a; o++)
                    if (e.call(i, t[s[o]], s[o], t) === n)
                        return
    };
    _.map = _.collect = function(t, e, n) {
        var i = [];
        return null == t ? i : h && t.map === h ? t.map(e, n) : (D(t, function(t, o, a) {
            i.push(e.call(n, t, o, a))
        }), i)
    };
    var I = "Reduce of empty array with no initial value";
    _.reduce = _.foldl = _.inject = function(t, e, n, i) {
        var o = arguments.length > 2;
        if (null == t && (t = []), f && t.reduce === f)
            return i && (e = _.bind(e, i)), o ? t.reduce(e, n) : t.reduce(e);
        if (D(t, function(t, a, s) {
            o ? n = e.call(i, n, t, a, s) : (n = t, o = !0)
        }), !o)
            throw new TypeError(I);
        return n
    }, _.reduceRight = _.foldr = function(t, e, n, i) {
        var o = arguments.length > 2;
        if (null == t && (t = []), p && t.reduceRight === p)
            return i && (e = _.bind(e, i)), o ? t.reduceRight(e, n) : t.reduceRight(e);
        var a = t.length;
        if (a !== +a) {
            var s = _.keys(t);
            a = s.length
        }
        if (D(t, function(r, l, c) {
            l = s ? s[--a] : --a, o ? n = e.call(i, n, t[l], l, c) : (n = t[l], o = !0)
        }), !o)
            throw new TypeError(I);
        return n
    }, _.find = _.detect = function(t, e, n) {
        var i;
        return O(t, function(t, o, a) {
            if (e.call(n, t, o, a))
                return i = t, !0
        }), i
    }, _.filter = _.select = function(t, e, n) {
        var i = [];
        return null == t ? i : m && t.filter === m ? t.filter(e, n) : (D(t, function(t, o, a) {
            e.call(n, t, o, a) && i.push(t)
        }), i)
    }, _.reject = function(t, e, n) {
        return _.filter(t, function(t, i, o) {
            return !e.call(n, t, i, o)
        }, n)
    }, _.every = _.all = function(t, e, i) {
        e || (e = _.identity);
        var o = !0;
        return null == t ? o : g && t.every === g ? t.every(e, i) : (D(t, function(t, a, s) {
            if (!(o = o && e.call(i, t, a, s)))
                return n
        }), !!o)
    };
    var O = _.some = _.any = function(t, e, i) {
        e || (e = _.identity);
        var o = !1;
        return null == t ? o : v && t.some === v ? t.some(e, i) : (D(t, function(t, a, s) {
            if (o || (o = e.call(i, t, a, s)))
                return n
        }), !!o)
    };
    _.contains = _.include = function(t, e) {
        return null != t && (b && t.indexOf === b ? -1 != t.indexOf(e) : O(t, function(t) {
                return t === e
            }))
    }, _.invoke = function(t, e) {
        var n = r.call(arguments, 2),
            i = _.isFunction(e);
        return _.map(t, function(t) {
            return (i ? e : t[e]).apply(t, n)
        })
    }, _.pluck = function(t, e) {
        return _.map(t, function(t) {
            return t[e]
        })
    }, _.where = function(t, e, n) {
        return _.isEmpty(e) ? n ? void 0 : [] : _[n ? "find" : "filter"](t, function(t) {
            for (var n in e)
                if (e[n] !== t[n])
                    return !1;
            return !0
        })
    }, _.findWhere = function(t, e) {
        return _.where(t, e, !0)
    }, _.max = function(t, e, n) {
        if (!e && _.isArray(t) && t[0] === +t[0] && t.length < 65535)
            return Math.max.apply(Math, t);
        if (!e && _.isEmpty(t))
            return -Infinity;
        var i = {
            computed: -Infinity,
            value: -Infinity
        };
        return D(t, function(t, o, a) {
            var s = e ? e.call(n, t, o, a) : t;
            s > i.computed && (i = {
                value: t,
                computed: s
            })
        }), i.value
    }, _.min = function(t, e, n) {
        if (!e && _.isArray(t) && t[0] === +t[0] && t.length < 65535)
            return Math.min.apply(Math, t);
        if (!e && _.isEmpty(t))
            return Infinity;
        var i = {
            computed: Infinity,
            value: Infinity
        };
        return D(t, function(t, o, a) {
            var s = e ? e.call(n, t, o, a) : t;
            s < i.computed && (i = {
                value: t,
                computed: s
            })
        }), i.value
    }, _.shuffle = function(t) {
        var e,
            n = 0,
            i = [];
        return D(t, function(t) {
            e = _.random(n++), i[n - 1] = i[e], i[e] = t
        }), i
    }, _.sample = function(t, e, n) {
        return arguments.length < 2 || n ? t[_.random(t.length - 1)] : _.shuffle(t).slice(0, Math.max(0, e))
    };
    var R = function(t) {
        return _.isFunction(t) ? t : function(e) {
            return e[t]
        }
    };
    _.sortBy = function(t, e, n) {
        var i = R(e);
        return _.pluck(_.map(t, function(t, e, o) {
            return {
                value: t,
                index: e,
                criteria: i.call(n, t, e, o)
            }
        }).sort(function(t, e) {
            var n = t.criteria,
                i = e.criteria;
            if (n !== i) {
                if (n > i || void 0 === n)
                    return 1;
                if (n < i || void 0 === i)
                    return -1
            }
            return t.index - e.index
        }), "value")
    };
    var k = function(t) {
        return function(e, n, i) {
            var o = {},
                a = null == n ? _.identity : R(n);
            return D(e, function(n, s) {
                var r = a.call(i, n, s, e);
                t(o, r, n)
            }), o
        }
    };
    _.groupBy = k(function(t, e, n) {
        (_.has(t, e) ? t[e] : t[e] = []).push(n)
    }), _.indexBy = k(function(t, e, n) {
        t[e] = n
    }), _.countBy = k(function(t, e) {
        _.has(t, e) ? t[e]++ : t[e] = 1
    }), _.sortedIndex = function(t, e, n, i) {
        n = null == n ? _.identity : R(n);
        for (var o = n.call(i, e), a = 0, s = t.length; a < s;) {
            var r = a + s >>> 1;
            n.call(i, t[r]) < o ? a = r + 1 : s = r
        }
        return a
    }, _.toArray = function(t) {
        return t ? _.isArray(t) ? r.call(t) : t.length === +t.length ? _.map(t, _.identity) : _.values(t) : []
    }, _.size = function(t) {
        return null == t ? 0 : t.length === +t.length ? t.length : _.keys(t).length
    }, _.first = _.head = _.take = function(t, e, n) {
        if (null != t)
            return null == e || n ? t[0] : r.call(t, 0, e)
    }, _.initial = function(t, e, n) {
        return r.call(t, 0, t.length - (null == e || n ? 1 : e))
    }, _.last = function(t, e, n) {
        if (null != t)
            return null == e || n ? t[t.length - 1] : r.call(t, Math.max(t.length - e, 0))
    }, _.rest = _.tail = _.drop = function(t, e, n) {
        return r.call(t, null == e || n ? 1 : e)
    }, _.compact = function(t) {
        return _.filter(t, _.identity)
    };
    var w = function(t, e, n) {
        return e && _.every(t, _.isArray) ? l.apply(n, t) : (D(t, function(t) {
            _.isArray(t) || _.isArguments(t) ? e ? s.apply(n, t) : w(t, e, n) : n.push(t)
        }), n)
    };
    _.flatten = function(t, e) {
        return w(t, e, [])
    }, _.without = function(t) {
        return _.difference(t, r.call(arguments, 1))
    }, _.uniq = _.unique = function(t, e, n, i) {
        _.isFunction(e) && (i = n, n = e, e = !1);
        var o = n ? _.map(t, n, i) : t,
            a = [],
            s = [];
        return D(o, function(n, i) {
            (e ? i && s[s.length - 1] === n : _.contains(s, n)) || (s.push(n), a.push(t[i]))
        }), a
    }, _.union = function() {
        return _.uniq(_.flatten(arguments, !0))
    }, _.intersection = function(t) {
        var e = r.call(arguments, 1);
        return _.filter(_.uniq(t), function(t) {
            return _.every(e, function(e) {
                return _.indexOf(e, t) >= 0
            })
        })
    }, _.difference = function(t) {
        var e = l.apply(i, r.call(arguments, 1));
        return _.filter(t, function(t) {
            return !_.contains(e, t)
        })
    }, _.zip = function() {
        for (var t = _.max(_.pluck(arguments, "length").concat(0)), e = new Array(t), n = 0; n < t; n++)
            e[n] = _.pluck(arguments, "" + n);
        return e
    }, _.object = function(t, e) {
        if (null == t)
            return {};
        for (var n = {}, i = 0, o = t.length; i < o; i++)
            e ? n[t[i]] = e[i] : n[t[i][0]] = t[i][1];
        return n
    }, _.indexOf = function(t, e, n) {
        if (null == t)
            return -1;
        var i = 0,
            o = t.length;
        if (n) {
            if ("number" != typeof n)
                return i = _.sortedIndex(t, e), t[i] === e ? i : -1;
            i = n < 0 ? Math.max(0, o + n) : n
        }
        if (b && t.indexOf === b)
            return t.indexOf(e, n);
        for (; i < o; i++)
            if (t[i] === e)
                return i;
        return -1
    }, _.lastIndexOf = function(t, e, n) {
        if (null == t)
            return -1;
        var i = null != n;
        if (E && t.lastIndexOf === E)
            return i ? t.lastIndexOf(e, n) : t.lastIndexOf(e);
        for (var o = i ? n : t.length; o--;)
            if (t[o] === e)
                return o;
        return -1
    }, _.range = function(t, e, n) {
        arguments.length <= 1 && (e = t || 0, t = 0), n = arguments[2] || 1;
        for (var i = Math.max(Math.ceil((e - t) / n), 0), o = 0, a = new Array(i); o < i;)
            a[o++] = t, t += n;
        return a
    };
    var x = function() {};
    _.bind = function(t, e) {
        var n,
            i;
        if (C && t.bind === C)
            return C.apply(t, r.call(arguments, 1));
        if (!_.isFunction(t))
            throw new TypeError;
        return n = r.call(arguments, 2), i = function() {
            if (!(this instanceof i))
                return t.apply(e, n.concat(r.call(arguments)));
            x.prototype = t.prototype;
            var o = new x;
            x.prototype = null;
            var a = t.apply(o, n.concat(r.call(arguments)));
            return Object(a) === a ? a : o
        }
    }, _.partial = function(t) {
        var e = r.call(arguments, 1);
        return function() {
            return t.apply(this, e.concat(r.call(arguments)))
        }
    }, _.bindAll = function(t) {
        var e = r.call(arguments, 1);
        if (0 === e.length)
            throw new Error("bindAll must be passed function names");
        return D(e, function(e) {
            t[e] = _.bind(t[e], t)
        }), t
    }, _.memoize = function(t, e) {
        var n = {};
        return e || (e = _.identity), function() {
            var i = e.apply(this, arguments);
            return _.has(n, i) ? n[i] : n[i] = t.apply(this, arguments)
        }
    }, _.delay = function(t, e) {
        var n = r.call(arguments, 2);
        return setTimeout(function() {
            return t.apply(null, n)
        }, e)
    }, _.defer = function(t) {
        return _.delay.apply(_, [t, 1].concat(r.call(arguments, 1)))
    }, _.throttle = function(t, e, n) {
        var i,
            o,
            a,
            s = null,
            r = 0;
        n || (n = {});
        var l = function() {
            r = !1 === n.leading ? 0 : new Date, s = null, a = t.apply(i, o)
        };
        return function() {
            var c = new Date;
            r || !1 !== n.leading || (r = c);
            var u = e - (c - r);
            return i = this, o = arguments, u <= 0 ? (clearTimeout(s), s = null, r = c, a = t.apply(i, o)) : s || !1 === n.trailing || (s = setTimeout(l, u)), a
        }
    }, _.debounce = function(t, e, n) {
        var i,
            o,
            a,
            s,
            r;
        return function() {
            a = this, o = arguments, s = new Date;
            var l = function() {
                    var c = new Date - s;
                    c < e ? i = setTimeout(l, e - c) : (i = null, n || (r = t.apply(a, o)))
                },
                c = n && !i;
            return i || (i = setTimeout(l, e)), c && (r = t.apply(a, o)), r
        }
    }, _.once = function(t) {
        var e = !1,
            n;
        return function() {
            return e ? n : (e = !0, n = t.apply(this, arguments), t = null, n)
        }
    }, _.wrap = function(t, e) {
        return function() {
            var n = [t];
            return s.apply(n, arguments), e.apply(this, n)
        }
    }, _.compose = function() {
        var t = arguments;
        return function() {
            for (var e = arguments, n = t.length - 1; n >= 0; n--)
                e = [t[n].apply(this, e)];
            return e[0]
        }
    }, _.after = function(t, e) {
        return function() {
            if (--t < 1)
                return e.apply(this, arguments)
        }
    }, _.keys = T || function(t) {
        if (t !== Object(t))
            throw new TypeError("Invalid object");
        var e = [];
        for (var n in t)
            _.has(t, n) && e.push(n);
        return e
    }, _.values = function(t) {
        for (var e = _.keys(t), n = e.length, i = new Array(n), o = 0; o < n; o++)
            i[o] = t[e[o]];
        return i
    }, _.pairs = function(t) {
        for (var e = _.keys(t), n = e.length, i = new Array(n), o = 0; o < n; o++)
            i[o] = [e[o], t[e[o]]];
        return i
    }, _.invert = function(t) {
        for (var e = {}, n = _.keys(t), i = 0, o = n.length; i < o; i++)
            e[t[n[i]]] = n[i];
        return e
    }, _.functions = _.methods = function(t) {
        var e = [];
        for (var n in t)
            _.isFunction(t[n]) && e.push(n);
        return e.sort()
    }, _.extend = function(t) {
        return D(r.call(arguments, 1), function(e) {
            if (e)
                for (var n in e)
                    t[n] = e[n]
        }), t
    }, _.pick = function(t) {
        var e = {},
            n = l.apply(i, r.call(arguments, 1));
        return D(n, function(n) {
            n in t && (e[n] = t[n])
        }), e
    }, _.omit = function(t) {
        var e = {},
            n = l.apply(i, r.call(arguments, 1));
        for (var o in t)
            _.contains(n, o) || (e[o] = t[o]);
        return e
    }, _.defaults = function(t) {
        return D(r.call(arguments, 1), function(e) {
            if (e)
                for (var n in e)
                    void 0 === t[n] && (t[n] = e[n])
        }), t
    }, _.clone = function(t) {
        return _.isObject(t) ? _.isArray(t) ? t.slice() : _.extend({}, t) : t
    }, _.tap = function(t, e) {
        return e(t), t
    };
    var S = function(t, e, n, i) {
        if (t === e)
            return 0 !== t || 1 / t == 1 / e;
        if (null == t || null == e)
            return t === e;
        t instanceof _ && (t = t._wrapped), e instanceof _ && (e = e._wrapped);
        var o = c.call(t);
        if (o != c.call(e))
            return !1;
        switch (o) {
        case "[object String]":
            return t == String(e);
        case "[object Number]":
            return t != +t ? e != +e : 0 == t ? 1 / t == 1 / e : t == +e;
        case "[object Date]":
        case "[object Boolean]":
            return +t == +e;
        case "[object RegExp]":
            return t.source == e.source && t.global == e.global && t.multiline == e.multiline && t.ignoreCase == e.ignoreCase
        }
        if ("object" != typeof t || "object" != typeof e)
            return !1;
        for (var a = n.length; a--;)
            if (n[a] == t)
                return i[a] == e;
        var s = t.constructor,
            r = e.constructor;
        if (s !== r && !(_.isFunction(s) && s instanceof s && _.isFunction(r) && r instanceof r))
            return !1;
        n.push(t), i.push(e);
        var l = 0,
            u = !0;
        if ("[object Array]" == o) {
            if (l = t.length, u = l == e.length)
                for (; l-- && (u = S(t[l], e[l], n, i));)
                    ;
        } else {
            for (var d in t)
                if (_.has(t, d) && (l++, !(u = _.has(e, d) && S(t[d], e[d], n, i))))
                    break;
            if (u) {
                for (d in e)
                    if (_.has(e, d) && !l--)
                        break;
                u = !l
            }
        }
        return n.pop(), i.pop(), u
    };
    _.isEqual = function(t, e) {
        return S(t, e, [], [])
    }, _.isEmpty = function(t) {
        if (null == t)
            return !0;
        if (_.isArray(t) || _.isString(t))
            return 0 === t.length;
        for (var e in t)
            if (_.has(t, e))
                return !1;
        return !0
    }, _.isElement = function(t) {
        return !(!t || 1 !== t.nodeType)
    }, _.isArray = y || function(t) {
        return "[object Array]" == c.call(t)
    }, _.isObject = function(t) {
        return t === Object(t)
    }, D(["Arguments", "Function", "String", "Number", "Date", "RegExp"], function(t) {
        _["is" + t] = function(e) {
            return c.call(e) == "[object " + t + "]"
        }
    }), _.isArguments(arguments) || (_.isArguments = function(t) {
        return !(!t || !_.has(t, "callee"))
    }), "function" != typeof /./ && (_.isFunction = function(t) {
        return "function" == typeof t
    }), _.isFinite = function(t) {
        return isFinite(t) && !isNaN(parseFloat(t))
    }, _.isNaN = function(t) {
        return _.isNumber(t) && t != +t
    }, _.isBoolean = function(t) {
        return !0 === t || !1 === t || "[object Boolean]" == c.call(t)
    }, _.isNull = function(t) {
        return null === t
    }, _.isUndefined = function(t) {
        return void 0 === t
    }, _.has = function(t, e) {
        return u.call(t, e)
    }, _.noConflict = function() {
        return t._ = e, this
    }, _.identity = function(t) {
        return t
    }, _.times = function(t, e, n) {
        for (var i = Array(Math.max(0, t)), o = 0; o < t; o++)
            i[o] = e.call(n, o);
        return i
    }, _.random = function(t, e) {
        return null == e && (e = t, t = 0), t + Math.floor(Math.random() * (e - t + 1))
    };
    var K = {
        escape: {
            "&": "&amp;",
            "<": "&lt;",
            ">": "&gt;",
            '"': "&quot;",
            "'": "&#x27;"
        }
    };
    K.unescape = _.invert(K.escape);
    var N = {
        escape: new RegExp("[" + _.keys(K.escape).join("") + "]", "g"),
        unescape: new RegExp("(" + _.keys(K.unescape).join("|") + ")", "g")
    };
    _.each(["escape", "unescape"], function(t) {
        _[t] = function(e) {
            return null == e ? "" : ("" + e).replace(N[t], function(e) {
                return K[t][e]
            })
        }
    }), _.result = function(t, e) {
        if (null != t) {
            var n = t[e];
            return _.isFunction(n) ? n.call(t) : n
        }
    }, _.mixin = function(t) {
        D(_.functions(t), function(e) {
            var n = _[e] = t[e];
            _.prototype[e] = function() {
                var t = [this._wrapped];
                return s.apply(t, arguments), $.call(this, n.apply(_, t))
            }
        })
    };
    var A = 0;
    _.uniqueId = function(t) {
        var e = ++A + "";
        return t ? t + e : e
    }, _.templateSettings = {
        evaluate: /<%([\s\S]+?)%>/g,
        interpolate: /<%=([\s\S]+?)%>/g,
        escape: /<%-([\s\S]+?)%>/g
    };
    var F = /(.)^/,
        P = {
            "'": "'",
            "\\": "\\",
            "\r": "r",
            "\n": "n",
            "\t": "t",
            "\u2028": "u2028",
            "\u2029": "u2029"
        },
        L = /\\|'|\r|\n|\t|\u2028|\u2029/g;
    _.template = function(t, e, n) {
        var i;
        n = _.defaults({}, n, _.templateSettings);
        var o = new RegExp([(n.escape || F).source, (n.interpolate || F).source, (n.evaluate || F).source].join("|") + "|$", "g"),
            a = 0,
            s = "__p+='";
        t.replace(o, function(e, n, i, o, r) {
            return s += t.slice(a, r).replace(L, function(t) {
                return "\\" + P[t]
            }), n && (s += "'+\n((__t=(" + n + "))==null?'':_.escape(__t))+\n'"), i && (s += "'+\n((__t=(" + i + "))==null?'':__t)+\n'"), o && (s += "';\n" + o + "\n__p+='"), a = r + e.length, e
        }), s += "';\n", n.variable || (s = "with(obj||{}){\n" + s + "}\n"), s = "var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n" + s + "return __p;\n";
        try {
            i = new Function(n.variable || "obj", "_", s)
        } catch (t) {
            throw t.source = s, t
        }
        if (e)
            return i(e, _);
        var r = function(t) {
            return i.call(this, t, _)
        };
        return r.source = "function(" + (n.variable || "obj") + "){\n" + s + "}", r
    }, _.chain = function(t) {
        return _(t).chain()
    };
    var $ = function(t) {
        return this._chain ? _(t).chain() : t
    };
    _.mixin(_), D(["pop", "push", "reverse", "shift", "sort", "splice", "unshift"], function(t) {
        var e = i[t];
        _.prototype[t] = function() {
            var n = this._wrapped;
            return e.apply(n, arguments), "shift" != t && "splice" != t || 0 !== n.length || delete n[0], $.call(this, n)
        }
    }), D(["concat", "join", "slice"], function(t) {
        var e = i[t];
        _.prototype[t] = function() {
            return $.call(this, e.apply(this._wrapped, arguments))
        }
    }), _.extend(_.prototype, {
        chain: function() {
            return this._chain = !0, this
        },
        value: function() {
            return this._wrapped
        }
    })
}.call(this), function() {
    var t = this,
        e = t.Backbone,
        n = [],
        i = n.push,
        o = n.slice,
        a = n.splice,
        s;
    s = "undefined" != typeof exports ? exports : t.Backbone = {}, s.VERSION = "1.0.0";
    var r = t._;
    r || "undefined" == typeof require || (r = require("underscore")), s.$ = t.jQuery || t.Zepto || t.ender || t.$, s.noConflict = function() {
        return t.Backbone = e, this
    }, s.emulateHTTP = !1, s.emulateJSON = !1;
    var l = s.Events = {
            on: function(t, e, n) {
                return u(this, "on", t, [e, n]) && e ? (this._events || (this._events = {}), (this._events[t] || (this._events[t] = [])).push({
                    callback: e,
                    context: n,
                    ctx: n || this
                }), this) : this
            },
            once: function(t, e, n) {
                if (!u(this, "once", t, [e, n]) || !e)
                    return this;
                var i = this,
                    o = r.once(function() {
                        i.off(t, o), e.apply(this, arguments)
                    });
                return o._callback = e, this.on(t, o, n)
            },
            off: function(t, e, n) {
                var i,
                    o,
                    a,
                    s,
                    l,
                    c,
                    d,
                    h;
                if (!this._events || !u(this, "off", t, [e, n]))
                    return this;
                if (!t && !e && !n)
                    return this._events = {}, this;
                for (s = t ? [t] : r.keys(this._events), l = 0, c = s.length; l < c; l++)
                    if (t = s[l], a = this._events[t]) {
                        if (this._events[t] = i = [], e || n)
                            for (d = 0, h = a.length; d < h; d++)
                                o = a[d], (e && e !== o.callback && e !== o.callback._callback || n && n !== o.context) && i.push(o);
                        i.length || delete this._events[t]
                    }
                return this
            },
            trigger: function(t) {
                if (!this._events)
                    return this;
                var e = o.call(arguments, 1);
                if (!u(this, "trigger", t, e))
                    return this;
                var n = this._events[t],
                    i = this._events.all;
                return n && d(n, e), i && d(i, arguments), this
            },
            stopListening: function(t, e, n) {
                var i = this._listeners;
                if (!i)
                    return this;
                var o = !e && !n;
                "object" == typeof e && (n = this), t && ((i = {})[t._listenerId] = t);
                for (var a in i)
                    i[a].off(e, n, this), o && delete this._listeners[a];
                return this
            }
        },
        c = /\s+/,
        u = function(t, e, n, i) {
            if (!n)
                return !0;
            if ("object" == typeof n) {
                for (var o in n)
                    t[e].apply(t, [o, n[o]].concat(i));
                return !1
            }
            if (c.test(n)) {
                for (var a = n.split(c), s = 0, r = a.length; s < r; s++)
                    t[e].apply(t, [a[s]].concat(i));
                return !1
            }
            return !0
        },
        d = function(t, e) {
            var n,
                i = -1,
                o = t.length,
                a = e[0],
                s = e[1],
                r = e[2];
            switch (e.length) {
            case 0:
                for (; ++i < o;)
                    (n = t[i]).callback.call(n.ctx);
                return;
            case 1:
                for (; ++i < o;)
                    (n = t[i]).callback.call(n.ctx, a);
                return;
            case 2:
                for (; ++i < o;)
                    (n = t[i]).callback.call(n.ctx, a, s);
                return;
            case 3:
                for (; ++i < o;)
                    (n = t[i]).callback.call(n.ctx, a, s, r);
                return;
            default:
                for (; ++i < o;)
                    (n = t[i]).callback.apply(n.ctx, e)
            }
        },
        h = {
            listenTo: "on",
            listenToOnce: "once"
        };
    r.each(h, function(t, e) {
        l[e] = function(e, n, i) {
            return (this._listeners || (this._listeners = {}))[e._listenerId || (e._listenerId = r.uniqueId("l"))] = e, "object" == typeof n && (i = this), e[t](n, i, this), this
        }
    }), l.bind = l.on, l.unbind = l.off, r.extend(s, l);
    var f = s.Model = function(t, e) {
            var n,
                i = t || {};
            e || (e = {}), this.cid = r.uniqueId("c"), this.attributes = {}, r.extend(this, r.pick(e, p)), e.parse && (i = this.parse(i, e) || {}), (n = r.result(this, "defaults")) && (i = r.defaults({}, i, n)), this.set(i, e), this.changed = {}, this.initialize.apply(this, arguments)
        },
        p = ["url", "urlRoot", "collection"];
    r.extend(f.prototype, l, {
        changed: null,
        validationError: null,
        idAttribute: "id",
        initialize: function() {},
        toJSON: function(t) {
            return r.clone(this.attributes)
        },
        sync: function() {
            return s.sync.apply(this, arguments)
        },
        get: function(t) {
            return this.attributes[t]
        },
        escape: function(t) {
            return r.escape(this.get(t))
        },
        has: function(t) {
            return null != this.get(t)
        },
        set: function(t, e, n) {
            var i,
                o,
                a,
                s,
                l,
                c,
                u,
                d;
            if (null == t)
                return this;
            if ("object" == typeof t ? (o = t, n = e) : (o = {})[t] = e, n || (n = {}), !this._validate(o, n))
                return !1;
            a = n.unset, l = n.silent, s = [], c = this._changing, this._changing = !0, c || (this._previousAttributes = r.clone(this.attributes), this.changed = {}), d = this.attributes, u = this._previousAttributes, this.idAttribute in o && (this.id = o[this.idAttribute]);
            for (i in o)
                e = o[i], r.isEqual(d[i], e) || s.push(i), r.isEqual(u[i], e) ? delete this.changed[i] : this.changed[i] = e, a ? delete d[i] : d[i] = e;
            if (!l) {
                s.length && (this._pending = !0);
                for (var h = 0, f = s.length; h < f; h++)
                    this.trigger("change:" + s[h], this, d[s[h]], n)
            }
            if (c)
                return this;
            if (!l)
                for (; this._pending;)
                    this._pending = !1, this.trigger("change", this, n);
            return this._pending = !1, this._changing = !1, this
        },
        unset: function(t, e) {
            return this.set(t, void 0, r.extend({}, e, {
                unset: !0
            }))
        },
        clear: function(t) {
            var e = {};
            for (var n in this.attributes)
                e[n] = void 0;
            return this.set(e, r.extend({}, t, {
                unset: !0
            }))
        },
        hasChanged: function(t) {
            return null == t ? !r.isEmpty(this.changed) : r.has(this.changed, t)
        },
        changedAttributes: function(t) {
            if (!t)
                return !!this.hasChanged() && r.clone(this.changed);
            var e,
                n = !1,
                i = this._changing ? this._previousAttributes : this.attributes;
            for (var o in t)
                r.isEqual(i[o], e = t[o]) || ((n || (n = {}))[o] = e);
            return n
        },
        previous: function(t) {
            return null != t && this._previousAttributes ? this._previousAttributes[t] : null
        },
        previousAttributes: function() {
            return r.clone(this._previousAttributes)
        },
        fetch: function(t) {
            t = t ? r.clone(t) : {}, void 0 === t.parse && (t.parse = !0);
            var e = this,
                n = t.success;
            return t.success = function(i) {
                if (!e.set(e.parse(i, t), t))
                    return !1;
                n && n(e, i, t), e.trigger("sync", e, i, t)
            }, L(this, t), this.sync("read", this, t)
        },
        save: function(t, e, n) {
            var i,
                o,
                a,
                s = this.attributes;
            if (null == t || "object" == typeof t ? (i = t, n = e) : (i = {})[t] = e, i && (!n || !n.wait) && !this.set(i, n))
                return !1;
            if (n = r.extend({
                validate: !0
            }, n), !this._validate(i, n))
                return !1;
            i && n.wait && (this.attributes = r.extend({}, s, i)), void 0 === n.parse && (n.parse = !0);
            var l = this,
                c = n.success;
            return n.success = function(t) {
                l.attributes = s;
                var e = l.parse(t, n);
                if (n.wait && (e = r.extend(i || {}, e)), r.isObject(e) && !l.set(e, n))
                    return !1;
                c && c(l, t, n), l.trigger("sync", l, t, n)
            }, L(this, n), o = this.isNew() ? "create" : n.patch ? "patch" : "update", "patch" === o && (n.attrs = i), a = this.sync(o, this, n), i && n.wait && (this.attributes = s), a
        },
        destroy: function(t) {
            t = t ? r.clone(t) : {};
            var e = this,
                n = t.success,
                i = function() {
                    e.trigger("destroy", e, e.collection, t)
                };
            if (t.success = function(o) {
                (t.wait || e.isNew()) && i(), n && n(e, o, t), e.isNew() || e.trigger("sync", e, o, t)
            }, this.isNew())
                return t.success(), !1;
            L(this, t);
            var o = this.sync("delete", this, t);
            return t.wait || i(), o
        },
        url: function() {
            var t = r.result(this, "urlRoot") || r.result(this.collection, "url") || P();
            return this.isNew() ? t : t + ("/" === t.charAt(t.length - 1) ? "" : "/") + encodeURIComponent(this.id)
        },
        parse: function(t, e) {
            return t
        },
        clone: function() {
            return new this.constructor(this.attributes)
        },
        isNew: function() {
            return null == this.id
        },
        isValid: function(t) {
            return this._validate({}, r.extend(t || {}, {
                validate: !0
            }))
        },
        _validate: function(t, e) {
            if (!e.validate || !this.validate)
                return !0;
            t = r.extend({}, this.attributes, t);
            var n = this.validationError = this.validate(t, e) || null;
            return !n || (this.trigger("invalid", this, n, r.extend(e || {}, {
                    validationError: n
                })), !1)
        }
    });
    var m = ["keys", "values", "pairs", "invert", "pick", "omit"];
    r.each(m, function(t) {
        f.prototype[t] = function() {
            var e = o.call(arguments);
            return e.unshift(this.attributes), r[t].apply(r, e)
        }
    });
    var g = s.Collection = function(t, e) {
            e || (e = {}), e.url && (this.url = e.url), e.model && (this.model = e.model), void 0 !== e.comparator && (this.comparator = e.comparator), this._reset(), this.initialize.apply(this, arguments), t && this.reset(t, r.extend({
                silent: !0
            }, e))
        },
        v = {
            add: !0,
            remove: !0,
            merge: !0
        },
        b = {
            add: !0,
            merge: !1,
            remove: !1
        };
    r.extend(g.prototype, l, {
        model: f,
        initialize: function() {},
        toJSON: function(t) {
            return this.map(function(e) {
                return e.toJSON(t)
            })
        },
        sync: function() {
            return s.sync.apply(this, arguments)
        },
        add: function(t, e) {
            return this.set(t, r.defaults(e || {}, b))
        },
        remove: function(t, e) {
            t = r.isArray(t) ? t.slice() : [t], e || (e = {});
            var n,
                i,
                o,
                a;
            for (n = 0, i = t.length; n < i; n++)
                (a = this.get(t[n])) && (delete this._byId[a.id], delete this._byId[a.cid], o = this.indexOf(a), this.models.splice(o, 1), this.length--, e.silent || (e.index = o, a.trigger("remove", a, this, e)), this._removeReference(a));
            return this
        },
        set: function(t, e) {
            e = r.defaults(e || {}, v), e.parse && (t = this.parse(t, e)), r.isArray(t) || (t = t ? [t] : []);
            var n,
                o,
                s,
                l,
                c,
                u,
                d = e.at,
                h = this.comparator && null == d && !1 !== e.sort,
                f = r.isString(this.comparator) ? this.comparator : null,
                p = [],
                m = [],
                g = {};
            for (n = 0, o = t.length; n < o; n++)
                (s = this._prepareModel(t[n], e)) && ((c = this.get(s)) ? (e.remove && (g[c.cid] = !0), e.merge && (c.set(s.attributes, e), h && !u && c.hasChanged(f) && (u = !0))) : e.add && (p.push(s), s.on("all", this._onModelEvent, this), this._byId[s.cid] = s, null != s.id && (this._byId[s.id] = s)));
            if (e.remove) {
                for (n = 0, o = this.length; n < o; ++n)
                    g[(s = this.models[n]).cid] || m.push(s);
                m.length && this.remove(m, e)
            }
            if (p.length && (h && (u = !0), this.length += p.length, null != d ? a.apply(this.models, [d, 0].concat(p)) : i.apply(this.models, p)), u && this.sort({
                silent: !0
            }), e.silent)
                return this;
            for (n = 0, o = p.length; n < o; n++)
                (s = p[n]).trigger("add", s, this, e);
            return u && this.trigger("sort", this, e), this
        },
        reset: function(t, e) {
            e || (e = {});
            for (var n = 0, i = this.models.length; n < i; n++)
                this._removeReference(this.models[n]);
            return e.previousModels = this.models, this._reset(), this.add(t, r.extend({
                silent: !0
            }, e)), e.silent || this.trigger("reset", this, e), this
        },
        push: function(t, e) {
            return t = this._prepareModel(t, e), this.add(t, r.extend({
                at: this.length
            }, e)), t
        },
        pop: function(t) {
            var e = this.at(this.length - 1);
            return this.remove(e, t), e
        },
        unshift: function(t, e) {
            return t = this._prepareModel(t, e), this.add(t, r.extend({
                at: 0
            }, e)), t
        },
        shift: function(t) {
            var e = this.at(0);
            return this.remove(e, t), e
        },
        slice: function(t, e) {
            return this.models.slice(t, e)
        },
        get: function(t) {
            if (null != t)
                return this._byId[null != t.id ? t.id : t.cid || t]
        },
        at: function(t) {
            return this.models[t]
        },
        where: function(t, e) {
            return r.isEmpty(t) ? e ? void 0 : [] : this[e ? "find" : "filter"](function(e) {
                for (var n in t)
                    if (t[n] !== e.get(n))
                        return !1;
                return !0
            })
        },
        findWhere: function(t) {
            return this.where(t, !0)
        },
        sort: function(t) {
            if (!this.comparator)
                throw new Error("Cannot sort a set without a comparator");
            return t || (t = {}), r.isString(this.comparator) || 1 === this.comparator.length ? this.models = this.sortBy(this.comparator, this) : this.models.sort(r.bind(this.comparator, this)), t.silent || this.trigger("sort", this, t), this
        },
        sortedIndex: function(t, e, n) {
            e || (e = this.comparator);
            var i = r.isFunction(e) ? e : function(t) {
                return t.get(e)
            };
            return r.sortedIndex(this.models, t, i, n)
        },
        pluck: function(t) {
            return r.invoke(this.models, "get", t)
        },
        fetch: function(t) {
            t = t ? r.clone(t) : {}, void 0 === t.parse && (t.parse = !0);
            var e = t.success,
                n = this;
            return t.success = function(i) {
                var o = t.reset ? "reset" : "set";
                n[o](i, t), e && e(n, i, t), n.trigger("sync", n, i, t)
            }, L(this, t), this.sync("read", this, t)
        },
        create: function(t, e) {
            if (e = e ? r.clone(e) : {}, !(t = this._prepareModel(t, e)))
                return !1;
            e.wait || this.add(t, e);
            var n = this,
                i = e.success;
            return e.success = function(o) {
                e.wait && n.add(t, e), i && i(t, o, e)
            }, t.save(null, e), t
        },
        parse: function(t, e) {
            return t
        },
        clone: function() {
            return new this.constructor(this.models)
        },
        _reset: function() {
            this.length = 0, this.models = [], this._byId = {}
        },
        _prepareModel: function(t, e) {
            if (t instanceof f)
                return t.collection || (t.collection = this), t;
            e || (e = {}), e.collection = this;
            var n = new this.model(t, e);
            return n._validate(t, e) ? n : (this.trigger("invalid", this, t, e), !1)
        },
        _removeReference: function(t) {
            this === t.collection && delete t.collection, t.off("all", this._onModelEvent, this)
        },
        _onModelEvent: function(t, e, n, i) {
            ("add" !== t && "remove" !== t || n === this) && ("destroy" === t && this.remove(e, i), e && t === "change:" + e.idAttribute && (delete this._byId[e.previous(e.idAttribute)], null != e.id && (this._byId[e.id] = e)), this.trigger.apply(this, arguments))
        }
    });
    var E = ["forEach", "each", "map", "collect", "reduce", "foldl", "inject", "reduceRight", "foldr", "find", "detect", "filter", "select", "reject", "every", "all", "some", "any", "include", "contains", "invoke", "max", "min", "toArray", "size", "first", "head", "take", "initial", "rest", "tail", "drop", "last", "without", "indexOf", "shuffle", "lastIndexOf", "isEmpty", "chain"];
    r.each(E, function(t) {
        g.prototype[t] = function() {
            var e = o.call(arguments);
            return e.unshift(this.models), r[t].apply(r, e)
        }
    });
    var y = ["groupBy", "countBy", "sortBy"];
    r.each(y, function(t) {
        g.prototype[t] = function(e, n) {
            var i = r.isFunction(e) ? e : function(t) {
                return t.get(e)
            };
            return r[t](this.models, i, n)
        }
    });
    var T = s.View = function(t) {
            this.cid = r.uniqueId("view"), this._configure(t || {}), this._ensureElement(), this.initialize.apply(this, arguments), this.delegateEvents()
        },
        C = /^(\S+)\s*(.*)$/,
        _ = ["model", "collection", "el", "id", "attributes", "className", "tagName", "events"];
    r.extend(T.prototype, l, {
        tagName: "div",
        $: function(t) {
            return this.$el.find(t)
        },
        initialize: function() {},
        render: function() {
            return this
        },
        remove: function() {
            return this.$el.remove(), this.stopListening(), this
        },
        setElement: function(t, e) {
            return this.$el && this.undelegateEvents(), this.$el = t instanceof s.$ ? t : s.$(t), this.el = this.$el[0], !1 !== e && this.delegateEvents(), this
        },
        delegateEvents: function(t) {
            if (!t && !(t = r.result(this, "events")))
                return this;
            this.undelegateEvents();
            for (var e in t) {
                var n = t[e];
                if (r.isFunction(n) || (n = this[t[e]]), n) {
                    var i = e.match(C),
                        o = i[1],
                        a = i[2];
                    n = r.bind(n, this), o += ".delegateEvents" + this.cid, "" === a ? this.$el.on(o, n) : this.$el.on(o, a, n)
                }
            }
            return this
        },
        undelegateEvents: function() {
            return this.$el.off(".delegateEvents" + this.cid), this
        },
        _configure: function(t) {
            this.options && (t = r.extend({}, r.result(this, "options"), t)), r.extend(this, r.pick(t, _)), this.options = t
        },
        _ensureElement: function() {
            if (this.el)
                this.setElement(r.result(this, "el"), !1);
            else {
                var t = r.extend({}, r.result(this, "attributes"));
                this.id && (t.id = r.result(this, "id")), this.className && (t["class"] = r.result(this, "className"));
                var e = s.$("<" + r.result(this, "tagName") + ">").attr(t);
                this.setElement(e, !1)
            }
        }
    }), s.sync = function(t, e, n) {
        var i = D[t];
        r.defaults(n || (n = {}), {
            emulateHTTP: s.emulateHTTP,
            emulateJSON: s.emulateJSON
        });
        var o = {
            type: i,
            dataType: "json"
        };
        if (n.url || (o.url = r.result(e, "url") || P()), null != n.data || !e || "create" !== t && "update" !== t && "patch" !== t || (o.contentType = "application/json", o.data = JSON.stringify(n.attrs || e.toJSON(n))), n.emulateJSON && (o.contentType = "application/x-www-form-urlencoded", o.data = o.data ? {
            model: o.data
        } : {}), n.emulateHTTP && ("PUT" === i || "DELETE" === i || "PATCH" === i)) {
            o.type = "POST", n.emulateJSON && (o.data._method = i);
            var a = n.beforeSend;
            n.beforeSend = function(t) {
                if (t.setRequestHeader("X-HTTP-Method-Override", i), a)
                    return a.apply(this, arguments)
            }
        }
        "GET" === o.type || n.emulateJSON || (o.processData = !1), "PATCH" !== o.type || !window.ActiveXObject || window.external && window.external.msActiveXFilteringEnabled || (o.xhr = function() {
            return new ActiveXObject("Microsoft.XMLHTTP")
        });
        var l = n.xhr = s.ajax(r.extend(o, n));
        return e.trigger("request", e, l, n), l
    };
    var D = {
        create: "POST",
        update: "PUT",
        patch: "PATCH",
        "delete": "DELETE",
        read: "GET"
    };
    s.ajax = function() {
        return s.$.ajax.apply(s.$, arguments)
    };
    var I = s.Router = function(t) {
            t || (t = {}), t.routes && (this.routes = t.routes), this._bindRoutes(), this.initialize.apply(this, arguments)
        },
        O = /\((.*?)\)/g,
        R = /(\(\?)?:\w+/g,
        k = /\*\w+/g,
        w = /[\-{}\[\]+?.,\\\^$|#\s]/g;
    r.extend(I.prototype, l, {
        initialize: function() {},
        route: function(t, e, n) {
            r.isRegExp(t) || (t = this._routeToRegExp(t)), r.isFunction(e) && (n = e, e = ""), n || (n = this[e]);
            var i = this;
            return s.history.route(t, function(o) {
                var a = i._extractParameters(t, o);
                n && n.apply(i, a), i.trigger.apply(i, ["route:" + e].concat(a)), i.trigger("route", e, a), s.history.trigger("route", i, e, a)
            }), this
        },
        navigate: function(t, e) {
            return s.history.navigate(t, e), this
        },
        _bindRoutes: function() {
            if (this.routes) {
                this.routes = r.result(this, "routes");
                for (var t, e = r.keys(this.routes); null != (t = e.pop());)
                    this.route(t, this.routes[t])
            }
        },
        _routeToRegExp: function(t) {
            return t = t.replace(w, "\\$&").replace(O, "(?:$1)?").replace(R, function(t, e) {
                return e ? t : "([^/]+)"
            }).replace(k, "(.*?)"), new RegExp("^" + t + "$")
        },
        _extractParameters: function(t, e) {
            var n = t.exec(e).slice(1);
            return r.map(n, function(t) {
                return t ? decodeURIComponent(t) : null
            })
        }
    });
    var x = s.History = function() {
            this.handlers = [], r.bindAll(this, "checkUrl"), "undefined" != typeof window && (this.location = window.location, this.history = window.history)
        },
        S = /^[#\/]|\s+$/g,
        K = /^\/+|\/+$/g,
        N = /msie [\w.]+/,
        A = /\/$/;
    x.started = !1, r.extend(x.prototype, l, {
        interval: 50,
        getHash: function(t) {
            var e = (t || this).location.href.match(/#(.*)$/);
            return e ? e[1] : ""
        },
        getFragment: function(t, e) {
            if (null == t)
                if (this._hasPushState || !this._wantsHashChange || e) {
                    t = this.location.pathname;
                    var n = this.root.replace(A, "");
                    t.indexOf(n) || (t = t.substr(n.length))
                } else
                    t = this.getHash();
            return t.replace(S, "")
        },
        start: function(t) {
            if (x.started)
                throw new Error("Backbone.history has already been started");
            x.started = !0, this.options = r.extend({}, {
                root: "/"
            }, this.options, t), this.root = this.options.root, this._wantsHashChange = !1 !== this.options.hashChange, this._wantsPushState = !!this.options.pushState, this._hasPushState = !!(this.options.pushState && this.history && this.history.pushState);
            var e = this.getFragment(),
                n = document.documentMode,
                i = N.exec(navigator.userAgent.toLowerCase()) && (!n || n <= 7);
            this.root = ("/" + this.root + "/").replace(K, "/"), i && this._wantsHashChange && (this.iframe = s.$('<iframe src="javascript:0" tabindex="-1" />').hide().appendTo("body")[0].contentWindow, this.navigate(e)), this._hasPushState ? s.$(window).on("popstate", this.checkUrl) : this._wantsHashChange && "onhashchange" in window && !i ? s.$(window).on("hashchange", this.checkUrl) : this._wantsHashChange && (this._checkUrlInterval = setInterval(this.checkUrl, this.interval)), this.fragment = e;
            var o = this.location,
                a = o.pathname.replace(/[^\/]$/, "$&/") === this.root;
            return this._wantsHashChange && this._wantsPushState && !this._hasPushState && !a ? (this.fragment = this.getFragment(null, !0), this.location.replace(this.root + this.location.search + "#" + this.fragment), !0) : (this._wantsPushState && this._hasPushState && a && o.hash && (this.fragment = this.getHash().replace(S, ""), this.history.replaceState({}, document.title, this.root + this.fragment + o.search)), this.options.silent ? void 0 : this.loadUrl())
        },
        stop: function() {
            s.$(window).off("popstate", this.checkUrl).off("hashchange", this.checkUrl), clearInterval(this._checkUrlInterval), x.started = !1
        },
        route: function(t, e) {
            this.handlers.unshift({
                route: t,
                callback: e
            })
        },
        checkUrl: function(t) {
            var e = this.getFragment();
            if (e === this.fragment && this.iframe && (e = this.getFragment(this.getHash(this.iframe))), e === this.fragment)
                return !1;
            this.iframe && this.navigate(e), this.loadUrl() || this.loadUrl(this.getHash())
        },
        loadUrl: function(t) {
            var e = this.fragment = this.getFragment(t);
            return r.any(this.handlers, function(t) {
                if (t.route.test(e))
                    return t.callback(e), !0
            })
        },
        navigate: function(t, e) {
            if (!x.started)
                return !1;
            if (e && !0 !== e || (e = {
                trigger: e
            }), t = this.getFragment(t || ""), this.fragment !== t) {
                this.fragment = t;
                var n = this.root + t;
                if (this._hasPushState)
                    this.history[e.replace ? "replaceState" : "pushState"]({}, document.title, n);
                else {
                    if (!this._wantsHashChange)
                        return this.location.assign(n);
                    this._updateHash(this.location, t, e.replace), this.iframe && t !== this.getFragment(this.getHash(this.iframe)) && (e.replace || this.iframe.document.open().close(), this._updateHash(this.iframe.location, t, e.replace))
                }
                e.trigger && this.loadUrl(t)
            }
        },
        _updateHash: function(t, e, n) {
            if (n) {
                var i = t.href.replace(/(javascript:|#).*$/, "");
                t.replace(i + "#" + e)
            } else
                t.hash = "#" + e
        }
    }), s.history = new x;
    var F = function(t, e) {
        var n = this,
            i;
        i = t && r.has(t, "constructor") ? t.constructor : function() {
            return n.apply(this, arguments)
        }, r.extend(i, n, e);
        var o = function() {
            this.constructor = i
        };
        return o.prototype = n.prototype, i.prototype = new o, t && r.extend(i.prototype, t), i.__super__ = n.prototype, i
    };
    f.extend = g.extend = I.extend = T.extend = x.extend = F;
    var P = function() {
            throw new Error('A "url" property or function must be specified')
        },
        L = function(t, e) {
            var n = e.error;
            e.error = function(i) {
                n && n(t, i, e), t.trigger("error", t, i, e)
            }
        }
}.call(this), function(t) {
    !function(t, e) {
        function n(t, e) {
            return Object.prototype.hasOwnProperty.call(t, e)
        }
        function i(t) {
            return void 0 === t
        }
        var o = {},
            a = t.TraceKit,
            s = [].slice,
            r = "?";
        o.noConflict = function e() {
            return t.TraceKit = a, o
        }, o.wrap = function t(e) {
            function n() {
                try {
                    return e.apply(this, arguments)
                } catch (t) {
                    throw o.report(t), t
                }
            }
            return n
        }, o.report = function e() {
            function i(t) {
                c(), d.push(t)
            }
            function a(t) {
                for (var e = d.length - 1; e >= 0; --e)
                    d[e] === t && d.splice(e, 1)
            }
            function r(t, e) {
                var i = null;
                if (!e || o.collectWindowErrors) {
                    for (var a in d)
                        if (n(d, a))
                            try {
                                d[a].apply(null, [t].concat(s.call(arguments, 2)))
                            } catch (t) {
                                i = t
                            }
                    if (i)
                        throw i
                }
            }
            function l(t, e, n) {
                var i = null;
                if (f)
                    o.computeStackTrace.augmentStackTraceWithInitialElement(f, e, n, t), i = f, f = null, h = null;
                else {
                    var a = {
                        url: e,
                        line: n
                    };
                    a.func = o.computeStackTrace.guessFunctionName(a.url, a.line), a.context = o.computeStackTrace.gatherContext(a.url, a.line), i = {
                        mode: "onerror",
                        message: t,
                        url: document.location.href,
                        stack: [a],
                        useragent: navigator.userAgent
                    }
                }
                return r(i, "from window.onerror"), !!p && p.apply(this, arguments)
            }
            function c() {
                !0 !== m && (p = t.onerror, t.onerror = l, m = !0)
            }
            function u(e) {
                var n = s.call(arguments, 1);
                if (f) {
                    if (h === e)
                        return;
                    var i = f;
                    f = null, h = null, r.apply(null, [i, null].concat(n))
                }
                var a = o.computeStackTrace(e);
                throw f = a, h = e, t.setTimeout(function() {
                    h === e && (f = null, h = null, r.apply(null, [a, null].concat(n)))
                }, a.incomplete ? 2e3 : 0), e
            }
            var d = [],
                h = null,
                f = null,
                p,
                m;
            return u.subscribe = i, u.unsubscribe = a, u
        }(), o.computeStackTrace = function e() {
            function a(e) {
                function n() {
                    try {
                        return new t.XMLHttpRequest
                    } catch (e) {
                        return new t.ActiveXObject("Microsoft.XMLHTTP")
                    }
                }
                if (!o.remoteFetching)
                    return "";
                try {
                    var i = n();
                    return i.open("GET", e, !1), i.send(""), i.responseText
                } catch (t) {
                    return ""
                }
            }
            function s(t) {
                if (!n(_, t)) {
                    var e = "";
                    -1 !== t.indexOf(document.domain) && (e = a(t)), _[t] = e ? e.split("\n") : []
                }
                return _[t]
            }
            function l(t, e) {
                var n = /function ([^(]*)\(([^)]*)\)/,
                    o = /['"]?([0-9A-Za-z$_]+)['"]?\s*[:=]\s*(function|eval|new Function)/,
                    a = "",
                    l = 10,
                    c = s(t),
                    u;
                if (!c.length)
                    return r;
                for (var d = 0; d < l; ++d)
                    if (a = c[e - d] + a, !i(a)) {
                        if (u = o.exec(a))
                            return u[1];
                        if (u = n.exec(a))
                            return u[1]
                    }
                return r
            }
            function c(t, e) {
                var n = s(t);
                if (!n.length)
                    return null;
                var a = [],
                    r = Math.floor(o.linesOfContext / 2),
                    l = r + o.linesOfContext % 2,
                    c = Math.max(0, e - r - 1),
                    u = Math.min(n.length, e + l - 1);
                e -= 1;
                for (var d = c; d < u; ++d)
                    i(n[d]) || a.push(n[d]);
                return a.length > 0 ? a : null
            }
            function u(t) {
                return t.replace(/[\-\[\]{}()*+?.,\\\^$|#]/g, "\\$&")
            }
            function d(t) {
                return u(t).replace("<", "(?:<|&lt;)").replace(">", "(?:>|&gt;)").replace("&", "(?:&|&amp;)").replace('"', '(?:"|&quot;)').replace(/\s+/g, "\\s+")
            }
            function h(t, e) {
                for (var n, i, o = 0, a = e.length; o < a; ++o)
                    if ((n = s(e[o])).length && (n = n.join("\n"), i = t.exec(n)))
                        return {
                            url: e[o],
                            line: n.substring(0, i.index).split("\n").length,
                            column: i.index - n.lastIndexOf("\n", i.index) - 1
                        };
                return null
            }
            function f(t, e, n) {
                var i = s(e),
                    o = new RegExp("\\b" + u(t) + "\\b"),
                    a;
                return n -= 1, i && i.length > n && (a = o.exec(i[n])) ? a.index : null
            }
            function p(e) {
                for (var n = [t.location.href], i = document.getElementsByTagName("script"), o, a = "" + e, s = /^function(?:\s+([\w$]+))?\s*\(([\w\s,]*)\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/, r = /^function on([\w$]+)\s*\(event\)\s*\{\s*(\S[\s\S]*\S)\s*\}\s*$/, l, c, f, p = 0; p < i.length; ++p) {
                    var m = i[p];
                    m.src && n.push(m.src)
                }
                if (c = s.exec(a)) {
                    var g = c[1] ? "\\s+" + c[1] : "",
                        v = c[2].split(",").join("\\s*,\\s*");
                    o = u(c[3]).replace(/;$/, ";?"), l = new RegExp("function" + g + "\\s*\\(\\s*" + v + "\\s*\\)\\s*{\\s*" + o + "\\s*}")
                } else
                    l = new RegExp(u(a).replace(/\s+/g, "\\s+"));
                if (f = h(l, n))
                    return f;
                if (c = r.exec(a)) {
                    var b = c[1];
                    if (o = d(c[2]), l = new RegExp("on" + b + "=[\\'\"]\\s*" + o + "\\s*[\\'\"]", "i"), f = h(l, n[0]))
                        return f;
                    if (l = new RegExp(o), f = h(l, n))
                        return f
                }
                return null
            }
            function m(t) {
                if (!t.stack)
                    return null;
                for (var e = /^\s*at (?:((?:\[object object\])?\S+(?: \[as \S+\])?) )?\(?((?:file|http|https):.*?):(\d+)(?::(\d+))?\)?\s*$/i, n = /^\s*(\S*)(?:\((.*?)\))?@((?:file|http|https).*?):(\d+)(?::(\d+))?\s*$/i, i = t.stack.split("\n"), o = [], a, s, u = /^(.*) is undefined$/.exec(t.message), d = 0, h = i.length; d < h; ++d) {
                    if (a = n.exec(i[d]))
                        s = {
                            url: a[3],
                            func: a[1] || r,
                            args: a[2] ? a[2].split(",") : "",
                            line: +a[4],
                            column: a[5] ? +a[5] : null
                        };
                    else {
                        if (!(a = e.exec(i[d])))
                            continue;
                        s = {
                            url: a[2],
                            func: a[1] || r,
                            line: +a[3],
                            column: a[4] ? +a[4] : null
                        }
                    }
                    !s.func && s.line && (s.func = l(s.url, s.line)), s.line && (s.context = c(s.url, s.line)), o.push(s)
                }
                return o[0] && o[0].line && !o[0].column && u && (o[0].column = f(u[1], o[0].url, o[0].line)), o.length ? {
                    mode: "stack",
                    name: t.name,
                    message: t.message,
                    url: document.location.href,
                    stack: o,
                    useragent: navigator.userAgent
                } : null
            }
            function g(t) {
                for (var e = t.stacktrace, n = / line (\d+), column (\d+) in (?:<anonymous function: ([^>]+)>|([^\)]+))\((.*)\) in (.*):\s*$/i, i = e.split("\n"), o = [], a, s = 0, r = i.length; s < r; s += 2)
                    if (a = n.exec(i[s])) {
                        var u = {
                            line: +a[1],
                            column: +a[2],
                            func: a[3] || a[4],
                            args: a[5] ? a[5].split(",") : [],
                            url: a[6]
                        };
                        if (!u.func && u.line && (u.func = l(u.url, u.line)), u.line)
                            try {
                                u.context = c(u.url, u.line)
                            } catch (t) {}
                        u.context || (u.context = [i[s + 1]]), o.push(u)
                    }
                return o.length ? {
                    mode: "stacktrace",
                    name: t.name,
                    message: t.message,
                    url: document.location.href,
                    stack: o,
                    useragent: navigator.userAgent
                } : null
            }
            function v(e) {
                var i = e.message.split("\n");
                if (i.length < 4)
                    return null;
                var o = /^\s*Line (\d+) of linked script ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,
                    a = /^\s*Line (\d+) of inline#(\d+) script in ((?:file|http|https)\S+)(?:: in function (\S+))?\s*$/i,
                    r = /^\s*Line (\d+) of function script\s*$/i,
                    u = [],
                    f = document.getElementsByTagName("script"),
                    p = [],
                    m,
                    g,
                    v,
                    b;
                for (g in f)
                    n(f, g) && !f[g].src && p.push(f[g]);
                for (g = 2, v = i.length; g < v; g += 2) {
                    var E = null;
                    if (m = o.exec(i[g]))
                        E = {
                            url: m[2],
                            func: m[3],
                            line: +m[1]
                        };
                    else if (m = a.exec(i[g])) {
                        E = {
                            url: m[3],
                            func: m[4]
                        };
                        var y = +m[1],
                            T = p[m[2] - 1];
                        if (T && (b = s(E.url))) {
                            b = b.join("\n");
                            var C = b.indexOf(T.innerText);
                            C >= 0 && (E.line = y + b.substring(0, C).split("\n").length)
                        }
                    } else if (m = r.exec(i[g])) {
                        var _ = t.location.href.replace(/#.*$/, ""),
                            D = m[1],
                            I = new RegExp(d(i[g + 1]));
                        b = h(I, [_]), E = {
                            url: _,
                            line: b ? b.line : D,
                            func: ""
                        }
                    }
                    if (E) {
                        E.func || (E.func = l(E.url, E.line));
                        var O = c(E.url, E.line),
                            R = O ? O[Math.floor(O.length / 2)] : null;
                        O && R.replace(/^\s*/, "") === i[g + 1].replace(/^\s*/, "") ? E.context = O : E.context = [i[g + 1]], u.push(E)
                    }
                }
                return u.length ? {
                    mode: "multiline",
                    name: e.name,
                    message: i[0],
                    url: document.location.href,
                    stack: u,
                    useragent: navigator.userAgent
                } : null
            }
            function b(t, e, n, i) {
                var o = {
                    url: e,
                    line: n
                };
                if (o.url && o.line) {
                    t.incomplete = !1, o.func || (o.func = l(o.url, o.line)), o.context || (o.context = c(o.url, o.line));
                    var a = / '([^']+)' /.exec(i);
                    if (a && (o.column = f(a[1], o.url, o.line)), t.stack.length > 0 && t.stack[0].url === o.url) {
                        if (t.stack[0].line === o.line)
                            return !1;
                        if (!t.stack[0].line && t.stack[0].func === o.func)
                            return t.stack[0].line = o.line, t.stack[0].context = o.context, !1
                    }
                    return t.stack.unshift(o), t.partial = !0, !0
                }
                return t.incomplete = !0, !1
            }
            function E(t, e) {
                for (var n = /function\s+([_$a-zA-Z\xA0-\uFFFF][_$a-zA-Z0-9\xA0-\uFFFF]*)?\s*\(/i, i = [], a = {}, s = !1, c, u, d, h = E.caller; h && !s; h = h.caller)
                    if (h !== y && h !== o.report) {
                        if (u = {
                            url: null,
                            func: r,
                            line: null,
                            column: null
                        }, h.name ? u.func = h.name : (c = n.exec(h.toString())) && (u.func = c[1]), d = p(h)) {
                            u.url = d.url, u.line = d.line, u.func === r && (u.func = l(u.url, u.line));
                            var m = / '([^']+)' /.exec(t.message || t.description);
                            m && (u.column = f(m[1], d.url, d.line))
                        }
                        a["" + h] ? s = !0 : a["" + h] = !0, i.push(u)
                    }
                e && i.splice(0, e);
                var g = {
                    mode: "callers",
                    name: t.name,
                    message: t.message,
                    url: document.location.href,
                    stack: i,
                    useragent: navigator.userAgent
                };
                return b(g, t.sourceURL || t.fileName, t.line || t.lineNumber, t.message || t.description), g
            }
            function y(t, e) {
                var n = null;
                e = null == e ? 0 : +e;
                try {
                    if (n = g(t))
                        return n
                } catch (t) {
                    if (C)
                        throw t
                }
                try {
                    if (n = m(t))
                        return n
                } catch (t) {
                    if (C)
                        throw t
                }
                try {
                    if (n = v(t))
                        return n
                } catch (t) {
                    if (C)
                        throw t
                }
                try {
                    if (n = E(t, e + 1))
                        return n
                } catch (t) {
                    if (C)
                        throw t
                }
                return {
                    mode: "failed"
                }
            }
            function T(t) {
                t = 1 + (null == t ? 0 : +t);
                try {
                    throw new Error
                } catch (e) {
                    return y(e, t + 1)
                }
                return null
            }
            var C = !1,
                _ = {};
            return y.augmentStackTraceWithInitialElement = b, y.guessFunctionName = l, y.gatherContext = c, y.ofCaller = T, y
        }(), function e() {
            var n = function e(n) {
                var i = t[n];
                t[n] = function t() {
                    var e = s.call(arguments),
                        n = e[0];
                    return "function" == typeof n && (e[0] = o.wrap(n)), i.apply ? i.apply(this, e) : i(e[0], e[1])
                }
            };
            n("setTimeout"), n("setInterval")
        }(), o.remoteFetching || (o.remoteFetching = !0), o.collectWindowErrors || (o.collectWindowErrors = !0), (!o.linesOfContext || o.linesOfContext < 1) && (o.linesOfContext = 11), t.TraceKit = o
    }(t);
    var e;
    e = function() {
        function e(t) {
            var e,
                n,
                i;
            null == t && (t = {}), i = this.constructor.defaults;
            for (e in i)
                n = i[e], this[e] = n;
            for (e in t)
                n = t[e], this[e] = n
        }
        return e.defaults = {
            api_key: null,
            host: "api.honeybadger.io",
            ssl: !0,
            project_root: t.location.protocol + "//" + t.location.host,
            environment: "production",
            component: null,
            action: null,
            disabled: !0,
            onerror: !1
        }, e.prototype.reset = function() {
            var t,
                e,
                n;
            n = this.constructor.defaults;
            for (t in n)
                e = n[t], this[t] = e;
            return this
        }, e
    }();
    var n;
    n = function() {
        function t(t) {
            var e,
                n,
                o,
                a,
                s,
                r,
                l;
            this.options = null != t ? t : {}, this.error = this.options.error, this.stackInfo = this.options.stackInfo || this.error && i.TraceKit.computeStackTrace(this.error), this.trace = this._parseBacktrace(null != (o = this.stackInfo) ? o.stack : void 0), this["class"] = null != (a = this.stackInfo) ? a.name : void 0, this.message = null != (s = this.stackInfo) ? s.message : void 0, this.source = this.stackInfo && this._extractSource(this.stackInfo.stack), this.url = document.URL, this.project_root = i.configuration.project_root, this.environment = i.configuration.environment, this.component = i.configuration.component, this.action = i.configuration.action, this.context = {}, r = i.context;
            for (e in r)
                n = r[e], this.context[e] = n;
            if (this.options.context && "object" == typeof this.options.context) {
                l = this.options.context;
                for (e in l)
                    n = l[e], this.context[e] = n
            }
        }
        return t.prototype.toJSON = function() {
            return JSON.stringify({
                notifier: {
                    name: "honeybadger.js",
                    url: "https://github.com/honeybadger-io/honeybadger-js",
                    version: i.version,
                    language: "javascript"
                },
                error: {
                    "class": this["class"],
                    message: this.message,
                    backtrace: this.trace,
                    source: this.source
                },
                request: {
                    url: this.url,
                    component: this.component,
                    action: this.action,
                    context: this.context,
                    cgi_data: this._cgiData()
                },
                server: {
                    project_root: this.project_root,
                    environment_name: this.environment
                }
            })
        }, t.prototype._parseBacktrace = function(t) {
            var e,
                n,
                o,
                a,
                s,
                r;
            for (null == t && (t = []), e = [], o = 0, a = t.length; o < a; o++)
                n = t[o], null != (s = n.url) && s.match(/honeybadger(?:\.min)?\.js/) || e.push({
                    file: (null != (r = n.url) ? r.replace(i.configuration.project_root, "[PROJECT_ROOT]") : void 0) || "unknown",
                    number: n.line,
                    method: n.func
                });
            return e
        }, t.prototype._extractSource = function(t) {
            var e,
                n,
                i,
                o,
                a,
                s,
                r,
                l;
            for (null == t && (t = []), i = {}, l = null != (s = null != (r = t[0]) ? r.context : void 0) ? s : [], e = o = 0, a = l.length; o < a; e = ++o)
                n = l[e], i[e] = n;
            return i
        }, t.prototype._cgiData = function() {
            var t,
                e,
                n;
            t = {};
            for (e in navigator)
                (n = navigator[e]) instanceof Object || (t[e.split(/(?=[A-Z][a-z]*)/).join("_").toUpperCase()] = n);
            return t.HTTP_USER_AGENT = t.USER_AGENT, delete t.USER_AGENT, document.referrer.match(/\S/) && (t.HTTP_REFERER = document.referrer), t
        }, t
    }();
    var i,
        o = {}.hasOwnProperty;
    i = {
        version: "0.0.4",
        TraceKit: TraceKit.noConflict(),
        configured: !1,
        configure: function(t) {
            var e,
                n;
            null == t && (t = {}), !1 === this.configured && ("undefined" == typeof t.disabled && (t.disabled = !1), this.configured = !0);
            for (e in t)
                n = t[e], this.configuration[e] = n;
            return this.TraceKit.collectWindowErrors = this.configuration.onerror, this
        },
        configuration: new e,
        context: {},
        resetContext: function(t) {
            return null == t && (t = {}), this.context = t instanceof Object ? t : {}, this
        },
        setContext: function(t) {
            var e,
                n;
            if (null == t && (t = {}), t instanceof Object)
                for (e in t)
                    n = t[e], this.context[e] = n;
            return this
        },
        beforeNotifyHandlers: [],
        beforeNotify: function(t) {
            return this.beforeNotifyHandlers.push(t)
        },
        notify: function(t, e) {
            var i,
                a,
                s,
                r,
                l,
                c,
                u;
            if (null == e && (e = {}), !this.configured || !0 === this.configuration.disabled)
                return !1;
            if (t instanceof Error)
                e.error = t;
            else if ("string" == typeof t)
                e.error = new Error(t);
            else if (t instanceof Object)
                for (a in t)
                    r = t[a], e[a] = r;
            if (0 === function() {
                var t;
                t = [];
                for (a in e)
                    o.call(e, a) && t.push(a);
                return t
            }().length)
                return !1;
            for (s = new n(e), u = this.beforeNotifyHandlers, l = 0, c = u.length; l < c; l++)
                if (!1 === (i = u[l])(s))
                    return !1;
            return this._sendRequest(s.toJSON())
        },
        wrap: function(t) {
            return function() {
                var e;
                try {
                    return t.apply(this, arguments)
                } catch (t) {
                    throw e = t, i.notify(e), e
                }
            }
        },
        reset: function() {
            return this.resetContext(), this.configuration.reset(), this.TraceKit.collectWindowErrors = this.configuration.onerror, this.configured = !1, this
        },
        install: function() {
            return this.TraceKit.collectWindowErrors = this.configuration.onerror, this.TraceKit.report.subscribe(this._handleTraceKitSubscription), this
        },
        _sendRequest: function(t) {
            var e;
            return e = "http" + (this.configuration.ssl && "s" || "") + "://" + this.configuration.host + "/v1/notices.html", this._crossDomainPost(e, t)
        },
        _crossDomainPost: function(t, e) {
            var n,
                i,
                o,
                a;
            return i = document.createElement("iframe"), a = "_hb_" + (new Date).getTime(), document.body.appendChild(i), i.style.display = "none", i.contentWindow.name = a, n = document.createElement("form"), n.target = a, n.action = t, n.method = "POST", o = document.createElement("input"), o.type = "hidden", o.name = "payload", o.value = e, n.appendChild(o), o = document.createElement("input"), o.type = "hidden", o.name = "api_key", o.value = this.configuration.api_key, n.appendChild(o), document.body.appendChild(n), n.submit()
        },
        _handleTraceKitSubscription: function(t) {
            return i.notify({
                stackInfo: t
            })
        }
    }, t.Honeybadger = i, i.install()
}(window), function(t) {
    "use strict";
    function e() {
        var t = document.createElement("bootstrap"),
            e = {
                WebkitTransition: "webkitTransitionEnd",
                MozTransition: "transitionend",
                OTransition: "oTransitionEnd otransitionend",
                transition: "transitionend"
            };
        for (var n in e)
            if (t.style[n] !== undefined)
                return {
                    end: e[n]
                };
        return !1
    }
    t.fn.emulateTransitionEnd = function(e) {
        var n = !1,
            i = this;
        t(this).one("bsTransitionEnd", function() {
            n = !0
        });
        var o = function() {
            n || t(i).trigger(t.support.transition.end)
        };
        return setTimeout(o, e), this
    }, t(function() {
        t.support.transition = e(), t.support.transition && (t.event.special.bsTransitionEnd = {
            bindType: t.support.transition.end,
            delegateType: t.support.transition.end,
            handle: function(e) {
                if (t(e.target).is(this))
                    return e.handleObj.handler.apply(this, arguments)
            }
        })
    })
}(jQuery), function(t) {
    "use strict";
    function e(e, i) {
        return this.each(function() {
            var o = t(this),
                a = o.data("bs.modal"),
                s = t.extend({}, n.DEFAULTS, o.data(), "object" == typeof e && e);
            a || o.data("bs.modal", a = new n(this, s)), "string" == typeof e ? a[e](i) : s.show && a.show(i)
        })
    }
    var n = function(e, n) {
        this.options = n, this.$body = t(document.body), this.$element = t(e), this.$backdrop = this.isShown = null, this.scrollbarWidth = 0, this.options.remote && this.$element.find(".modal-content").load(this.options.remote, t.proxy(function() {
            this.$element.trigger("loaded.bs.modal")
        }, this))
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        backdrop: !0,
        keyboard: !0,
        show: !0
    }, n.prototype.toggle = function(t) {
        return this.isShown ? this.hide() : this.show(t)
    }, n.prototype.show = function(e) {
        var n = this,
            i = t.Event("show.bs.modal", {
                relatedTarget: e
            });
        this.$element.trigger(i), this.isShown || i.isDefaultPrevented() || (this.isShown = !0, this.checkScrollbar(), this.$body.addClass("modal-open"), this.setScrollbar(), this.escape(), this.$element.on("click.dismiss.bs.modal", '[data-dismiss="modal"]', t.proxy(this.hide, this)), this.backdrop(function() {
            var i = t.support.transition && n.$element.hasClass("fade");
            n.$element.parent().length || n.$element.appendTo(n.$body), n.$element.show().scrollTop(0), i && n.$element[0].offsetWidth, n.$element.addClass("in").attr("aria-hidden", !1), n.enforceFocus();
            var o = t.Event("shown.bs.modal", {
                relatedTarget: e
            });
            i ? n.$element.find(".modal-dialog").one("bsTransitionEnd", function() {
                n.$element.trigger("focus").trigger(o)
            }).emulateTransitionEnd(300) : n.$element.trigger("focus").trigger(o)
        }))
    }, n.prototype.hide = function(e) {
        e && e.preventDefault(), e = t.Event("hide.bs.modal"), this.$element.trigger(e), this.isShown && !e.isDefaultPrevented() && (this.isShown = !1, this.$body.removeClass("modal-open"), this.resetScrollbar(), this.escape(), t(document).off("focusin.bs.modal"), this.$element.removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal"), t.support.transition && this.$element.hasClass("fade") ? this.$element.one("bsTransitionEnd", t.proxy(this.hideModal, this)).emulateTransitionEnd(300) : this.hideModal())
    }, n.prototype.enforceFocus = function() {
        t(document).off("focusin.bs.modal").on("focusin.bs.modal", t.proxy(function(t) {
            this.$element[0] === t.target || this.$element.has(t.target).length || this.$element.trigger("focus")
        }, this))
    }, n.prototype.escape = function() {
        this.isShown && this.options.keyboard ? this.$element.on("keyup.dismiss.bs.modal", t.proxy(function(t) {
            27 == t.which && this.hide()
        }, this)) : this.isShown || this.$element.off("keyup.dismiss.bs.modal")
    }, n.prototype.hideModal = function() {
        var t = this;
        this.$element.hide(), this.backdrop(function() {
            t.$element.trigger("hidden.bs.modal")
        })
    }, n.prototype.removeBackdrop = function() {
        this.$backdrop && this.$backdrop.remove(), this.$backdrop = null
    }, n.prototype.backdrop = function(e) {
        var n = this,
            i = this.$element.hasClass("fade") ? "fade" : "";
        if (this.isShown && this.options.backdrop) {
            var o = t.support.transition && i;
            if (this.$backdrop = t('<div class="modal-backdrop ' + i + '" />').appendTo(this.$body), this.$element.on("click.dismiss.bs.modal", t.proxy(function(t) {
                t.target === t.currentTarget && ("static" == this.options.backdrop ? this.$element[0].focus.call(this.$element[0]) : this.hide.call(this))
            }, this)), o && this.$backdrop[0].offsetWidth, this.$backdrop.addClass("in"), !e)
                return;
            o ? this.$backdrop.one("bsTransitionEnd", e).emulateTransitionEnd(150) : e()
        } else if (!this.isShown && this.$backdrop) {
            this.$backdrop.removeClass("in");
            var a = function() {
                n.removeBackdrop(), e && e()
            };
            t.support.transition && this.$element.hasClass("fade") ? this.$backdrop.one("bsTransitionEnd", a).emulateTransitionEnd(150) : a()
        } else
            e && e()
    }, n.prototype.checkScrollbar = function() {
        document.body.clientWidth >= window.innerWidth || (this.scrollbarWidth = this.scrollbarWidth || this.measureScrollbar())
    }, n.prototype.setScrollbar = function() {
        var t = parseInt(this.$body.css("padding-right") || 0, 10);
        this.scrollbarWidth && this.$body.css("padding-right", t + this.scrollbarWidth)
    }, n.prototype.resetScrollbar = function() {
        this.$body.css("padding-right", "")
    }, n.prototype.measureScrollbar = function() {
        var t = document.createElement("div");
        t.className = "modal-scrollbar-measure", this.$body.append(t);
        var e = t.offsetWidth - t.clientWidth;
        return this.$body[0].removeChild(t), e
    };
    var i = t.fn.modal;
    t.fn.modal = e, t.fn.modal.Constructor = n, t.fn.modal.noConflict = function() {
        return t.fn.modal = i, this
    }, t(document).on("click.bs.modal.data-api", '[data-toggle="modal"]', function(n) {
        var i = t(this),
            o = i.attr("href"),
            a = t(i.attr("data-target") || o && o.replace(/.*(?=#[^\s]+$)/, "")),
            s = a.data("bs.modal") ? "toggle" : t.extend({
                remote: !/#/.test(o) && o
            }, a.data(), i.data());
        i.is("a") && n.preventDefault(), a.one("show.bs.modal", function(t) {
            t.isDefaultPrevented() || a.one("hidden.bs.modal", function() {
                i.is(":visible") && i.trigger("focus")
            })
        }), e.call(a, s, this)
    })
}(jQuery), function(t) {
    "use strict";
    function e(e) {
        return this.each(function() {
            var i = t(this),
                o = i.data("bs.tooltip"),
                a = "object" == typeof e && e;
            (o || "destroy" != e) && (o || i.data("bs.tooltip", o = new n(this, a)), "string" == typeof e && o[e]())
        })
    }
    var n = function(t, e) {
        this.type = this.options = this.enabled = this.timeout = this.hoverState = this.$element = null, this.init("tooltip", t, e)
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        animation: !0,
        placement: "top",
        selector: !1,
        template: '<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',
        trigger: "hover focus",
        title: "",
        delay: 0,
        html: !1,
        container: !1,
        viewport: {
            selector: "body",
            padding: 0
        }
    }, n.prototype.init = function(e, n, i) {
        this.enabled = !0, this.type = e, this.$element = t(n), this.options = this.getOptions(i), this.$viewport = this.options.viewport && t(this.options.viewport.selector || this.options.viewport);
        for (var o = this.options.trigger.split(" "), a = o.length; a--;) {
            var s = o[a];
            if ("click" == s)
                this.$element.on("click." + this.type, this.options.selector, t.proxy(this.toggle, this));
            else if ("manual" != s) {
                var r = "hover" == s ? "mouseenter" : "focusin",
                    l = "hover" == s ? "mouseleave" : "focusout";
                this.$element.on(r + "." + this.type, this.options.selector, t.proxy(this.enter, this)), this.$element.on(l + "." + this.type, this.options.selector, t.proxy(this.leave, this))
            }
        }
        this.options.selector ? this._options = t.extend({}, this.options, {
            trigger: "manual",
            selector: ""
        }) : this.fixTitle()
    }, n.prototype.getDefaults = function() {
        return n.DEFAULTS
    }, n.prototype.getOptions = function(e) {
        return e = t.extend({}, this.getDefaults(), this.$element.data(), e), e.delay && "number" == typeof e.delay && (e.delay = {
            show: e.delay,
            hide: e.delay
        }), e
    }, n.prototype.getDelegateOptions = function() {
        var e = {},
            n = this.getDefaults();
        return this._options && t.each(this._options, function(t, i) {
            n[t] != i && (e[t] = i)
        }), e
    }, n.prototype.enter = function(e) {
        var n = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type);
        if (n || (n = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "in", !n.options.delay || !n.options.delay.show)
            return n.show();
        n.timeout = setTimeout(function() {
            "in" == n.hoverState && n.show()
        }, n.options.delay.show)
    }, n.prototype.leave = function(e) {
        var n = e instanceof this.constructor ? e : t(e.currentTarget).data("bs." + this.type);
        if (n || (n = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, n)), clearTimeout(n.timeout), n.hoverState = "out", !n.options.delay || !n.options.delay.hide)
            return n.hide();
        n.timeout = setTimeout(function() {
            "out" == n.hoverState && n.hide()
        }, n.options.delay.hide)
    }, n.prototype.show = function() {
        var e = t.Event("show.bs." + this.type);
        if (this.hasContent() && this.enabled) {
            this.$element.trigger(e);
            var n = t.contains(document.documentElement, this.$element[0]);
            if (e.isDefaultPrevented() || !n)
                return;
            var i = this,
                o = this.tip(),
                a = this.getUID(this.type);
            this.setContent(), o.attr("id", a), this.$element.attr("aria-describedby", a), this.options.animation && o.addClass("fade");
            var s = "function" == typeof this.options.placement ? this.options.placement.call(this, o[0], this.$element[0]) : this.options.placement,
                r = /\s?auto?\s?/i,
                l = r.test(s);
            l && (s = s.replace(r, "") || "top"), o.detach().css({
                top: 0,
                left: 0,
                display: "block"
            }).addClass(s).data("bs." + this.type, this), this.options.container ? o.appendTo(this.options.container) : o.insertAfter(this.$element);
            var c = this.getPosition(),
                u = o[0].offsetWidth,
                d = o[0].offsetHeight;
            if (l) {
                var h = s,
                    f = this.$element.parent(),
                    p = this.getPosition(f);
                s = "bottom" == s && c.top + c.height + d - p.scroll > p.height ? "top" : "top" == s && c.top - p.scroll - d < 0 ? "bottom" : "right" == s && c.right + u > p.width ? "left" : "left" == s && c.left - u < p.left ? "right" : s, o.removeClass(h).addClass(s)
            }
            var m = this.getCalculatedOffset(s, c, u, d);
            this.applyPlacement(m, s);
            var g = function() {
                i.$element.trigger("shown.bs." + i.type), i.hoverState = null
            };
            t.support.transition && this.$tip.hasClass("fade") ? o.one("bsTransitionEnd", g).emulateTransitionEnd(150) : g()
        }
    }, n.prototype.applyPlacement = function(e, n) {
        var i = this.tip(),
            o = i[0].offsetWidth,
            a = i[0].offsetHeight,
            s = parseInt(i.css("margin-top"), 10),
            r = parseInt(i.css("margin-left"), 10);
        isNaN(s) && (s = 0), isNaN(r) && (r = 0), e.top = e.top + s, e.left = e.left + r, t.offset.setOffset(i[0], t.extend({
            using: function(t) {
                i.css({
                    top: Math.round(t.top),
                    left: Math.round(t.left)
                })
            }
        }, e), 0), i.addClass("in");
        var l = i[0].offsetWidth,
            c = i[0].offsetHeight;
        "top" == n && c != a && (e.top = e.top + a - c);
        var u = this.getViewportAdjustedDelta(n, e, l, c);
        u.left ? e.left += u.left : e.top += u.top;
        var d = u.left ? 2 * u.left - o + l : 2 * u.top - a + c,
            h = u.left ? "left" : "top",
            f = u.left ? "offsetWidth" : "offsetHeight";
        i.offset(e), this.replaceArrow(d, i[0][f], h)
    }, n.prototype.replaceArrow = function(t, e, n) {
        this.arrow().css(n, t ? 50 * (1 - t / e) + "%" : "")
    }, n.prototype.setContent = function() {
        var t = this.tip(),
            e = this.getTitle();
        t.find(".tooltip-inner")[this.options.html ? "html" : "text"](e), t.removeClass("fade in top bottom left right")
    }, n.prototype.hide = function() {
        function e() {
            "in" != n.hoverState && i.detach(), n.$element.trigger("hidden.bs." + n.type)
        }
        var n = this,
            i = this.tip(),
            o = t.Event("hide.bs." + this.type);
        if (this.$element.removeAttr("aria-describedby"), this.$element.trigger(o), !o.isDefaultPrevented())
            return i.removeClass("in"), t.support.transition && this.$tip.hasClass("fade") ? i.one("bsTransitionEnd", e).emulateTransitionEnd(150) : e(), this.hoverState = null, this
    }, n.prototype.fixTitle = function() {
        var t = this.$element;
        (t.attr("title") || "string" != typeof t.attr("data-original-title")) && t.attr("data-original-title", t.attr("title") || "").attr("title", "")
    }, n.prototype.hasContent = function() {
        return this.getTitle()
    }, n.prototype.getPosition = function(e) {
        e = e || this.$element;
        var n = e[0],
            i = "BODY" == n.tagName;
        return t.extend({}, "function" == typeof n.getBoundingClientRect ? n.getBoundingClientRect() : null, {
            scroll: i ? document.documentElement.scrollTop || document.body.scrollTop : e.scrollTop(),
            width: i ? t(window).width() : e.outerWidth(),
            height: i ? t(window).height() : e.outerHeight()
        }, i ? {
            top: 0,
            left: 0
        } : e.offset())
    }, n.prototype.getCalculatedOffset = function(t, e, n, i) {
        return "bottom" == t ? {
            top: e.top + e.height,
            left: e.left + e.width / 2 - n / 2
        } : "top" == t ? {
            top: e.top - i,
            left: e.left + e.width / 2 - n / 2
        } : "left" == t ? {
            top: e.top + e.height / 2 - i / 2,
            left: e.left - n
        } : {
            top: e.top + e.height / 2 - i / 2,
            left: e.left + e.width
        }
    }, n.prototype.getViewportAdjustedDelta = function(t, e, n, i) {
        var o = {
            top: 0,
            left: 0
        };
        if (!this.$viewport)
            return o;
        var a = this.options.viewport && this.options.viewport.padding || 0,
            s = this.getPosition(this.$viewport);
        if (/right|left/.test(t)) {
            var r = e.top - a - s.scroll,
                l = e.top + a - s.scroll + i;
            r < s.top ? o.top = s.top - r : l > s.top + s.height && (o.top = s.top + s.height - l)
        } else {
            var c = e.left - a,
                u = e.left + a + n;
            c < s.left ? o.left = s.left - c : u > s.width && (o.left = s.left + s.width - u)
        }
        return o
    }, n.prototype.getTitle = function() {
        var t,
            e = this.$element,
            n = this.options;
        return t = e.attr("data-original-title") || ("function" == typeof n.title ? n.title.call(e[0]) : n.title)
    }, n.prototype.getUID = function(t) {
        do {
            t += ~~(1e6 * Math.random())
        } while (document.getElementById(t));
        return t
    }, n.prototype.tip = function() {
        return this.$tip = this.$tip || t(this.options.template)
    }, n.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".tooltip-arrow")
    }, n.prototype.validate = function() {
        this.$element[0].parentNode || (this.hide(), this.$element = null, this.options = null)
    }, n.prototype.enable = function() {
        this.enabled = !0
    }, n.prototype.disable = function() {
        this.enabled = !1
    }, n.prototype.toggleEnabled = function() {
        this.enabled = !this.enabled
    }, n.prototype.toggle = function(e) {
        var n = this;
        e && ((n = t(e.currentTarget).data("bs." + this.type)) || (n = new this.constructor(e.currentTarget, this.getDelegateOptions()), t(e.currentTarget).data("bs." + this.type, n))), n.tip().hasClass("in") ? n.leave(n) : n.enter(n)
    }, n.prototype.destroy = function() {
        clearTimeout(this.timeout), this.hide().$element.off("." + this.type).removeData("bs." + this.type)
    };
    var i = t.fn.tooltip;
    t.fn.tooltip = e, t.fn.tooltip.Constructor = n, t.fn.tooltip.noConflict = function() {
        return t.fn.tooltip = i, this
    }
}(jQuery), "undefined" == typeof jQuery)
    throw new Error("Bootstrap's JavaScript requires jQuery"); /* ========================================================================
 * Bootstrap: carousel.js v3.2.0
 * http://getbootstrap.com/javascript/#carousel
 * ========================================================================
 * Copyright 2011-2014 Twitter, Inc.
 * Licensed under MIT (https://github.com/twbs/bootstrap/blob/master/LICENSE)
 * ======================================================================== */






+function(t) {
    "use strict";
    function e(e) {
        return this.each(function() {
            var i = t(this),
                o = i.data("bs.carousel"),
                a = t.extend({}, n.DEFAULTS, i.data(), "object" == typeof e && e),
                s = "string" == typeof e ? e : a.slide;
            o || i.data("bs.carousel", o = new n(this, a)), "number" == typeof e ? o.to(e) : s ? o[s]() : a.interval && o.pause().cycle()
        })
    }
    var n = function(e, n) {
        this.$element = t(e).on("keydown.bs.carousel", t.proxy(this.keydown, this)), this.$indicators = this.$element.find(".carousel-indicators"), this.options = n, this.paused = this.sliding = this.interval = this.$active = this.$items = null, "hover" == this.options.pause && this.$element.on("mouseenter.bs.carousel", t.proxy(this.pause, this)).on("mouseleave.bs.carousel", t.proxy(this.cycle, this))
    };
    n.VERSION = "3.2.0", n.DEFAULTS = {
        interval: 5e3,
        pause: "hover",
        wrap: !0
    }, n.prototype.keydown = function(t) {
        switch (t.which) {
        case 37:
            this.prev();
            break;
        case 39:
            this.next();
            break;
        default:
            return
        }
        t.preventDefault()
    }, n.prototype.cycle = function(e) {
        return e || (this.paused = !1), this.interval && clearInterval(this.interval), this.options.interval && !this.paused && (this.interval = setInterval(t.proxy(this.next, this), this.options.interval)), this
    }, n.prototype.getItemIndex = function(t) {
        return this.$items = t.parent().children(".item"), this.$items.index(t || this.$active)
    }, n.prototype.to = function(e) {
        var n = this,
            i = this.getItemIndex(this.$active = this.$element.find(".item.active"));
        if (!(e > this.$items.length - 1 || e < 0))
            return this.sliding ? this.$element.one("slid.bs.carousel", function() {
                n.to(e)
            }) : i == e ? this.pause().cycle() : this.slide(e > i ? "next" : "prev", t(this.$items[e]))
    }, n.prototype.pause = function(e) {
        return e || (this.paused = !0), this.$element.find(".next, .prev").length && t.support.transition && (this.$element.trigger(t.support.transition.end), this.cycle(!0)), this.interval = clearInterval(this.interval), this
    }, n.prototype.next = function() {
        if (!this.sliding)
            return this.slide("next")
    }, n.prototype.prev = function() {
        if (!this.sliding)
            return this.slide("prev")
    }, n.prototype.slide = function(e, n) {
        var i = this.$element.find(".item.active"),
            o = n || i[e](),
            a = this.interval,
            s = "next" == e ? "left" : "right",
            r = "next" == e ? "first" : "last",
            l = this;
        if (!o.length) {
            if (!this.options.wrap)
                return;
            o = this.$element.find(".item")[r]()
        }
        if (o.hasClass("active"))
            return this.sliding = !1;
        var c = o[0],
            u = t.Event("slide.bs.carousel", {
                relatedTarget: c,
                direction: s
            });
        if (this.$element.trigger(u), !u.isDefaultPrevented()) {
            if (this.sliding = !0, a && this.pause(), this.$indicators.length) {
                this.$indicators.find(".active").removeClass("active");
                var d = t(this.$indicators.children()[this.getItemIndex(o)]);
                d && d.addClass("active")
            }
            var h = t.Event("slid.bs.carousel", {
                relatedTarget: c,
                direction: s
            });
            return t.support.transition && this.$element.hasClass("slide") ? (o.addClass(e), o[0].offsetWidth, i.addClass(s), o.addClass(s), i.one("bsTransitionEnd", function() {
                o.removeClass([e, s].join(" ")).addClass("active"), i.removeClass(["active", s].join(" ")), l.sliding = !1, setTimeout(function() {
                    l.$element.trigger(h)
                }, 0)
            }).emulateTransitionEnd(1e3 * i.css("transition-duration").slice(0, -1))) : (i.removeClass("active"), o.addClass("active"), this.sliding = !1, this.$element.trigger(h)), a && this.cycle(), this
        }
    };
    var i = t.fn.carousel;
    t.fn.carousel = e, t.fn.carousel.Constructor = n, t.fn.carousel.noConflict = function() {
        return t.fn.carousel = i, this
    }, t(document).on("click.bs.carousel.data-api", "[data-slide], [data-slide-to]", function(n) {
        var i,
            o = t(this),
            a = t(o.attr("data-target") || (i = o.attr("href")) && i.replace(/.*(?=#[^\s]+$)/, ""));
        if (a.hasClass("carousel")) {
            var s = t.extend({}, a.data(), o.data()),
                r = o.attr("data-slide-to");
            r && (s.interval = !1), e.call(a, s), r && a.data("bs.carousel").to(r), n.preventDefault()
        }
    }), t(window).on("load", function() {
        t('[data-ride="carousel"]').each(function() {
            var n = t(this);
            e.call(n, n.data())
        })
    })
}(jQuery), function(t) {
    "use strict";
    function e(e) {
        return this.each(function() {
            var i = t(this),
                o = i.data("bs.popover"),
                a = "object" == typeof e && e;
            (o || "destroy" != e) && (o || i.data("bs.popover", o = new n(this, a)), "string" == typeof e && o[e]())
        })
    }
    var n = function(t, e) {
        this.init("popover", t, e)
    };
    if (!t.fn.tooltip)
        throw new Error("Popover requires tooltip.js");
    n.VERSION = "3.2.0", n.DEFAULTS = t.extend({}, t.fn.tooltip.Constructor.DEFAULTS, {
        placement: "right",
        trigger: "click",
        content: "",
        template: '<div class="popover" role="tooltip"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'
    }), n.prototype = t.extend({}, t.fn.tooltip.Constructor.prototype), n.prototype.constructor = n, n.prototype.getDefaults = function() {
        return n.DEFAULTS
    }, n.prototype.setContent = function() {
        var t = this.tip(),
            e = this.getTitle(),
            n = this.getContent();
        t.find(".popover-title")[this.options.html ? "html" : "text"](e), t.find(".popover-content").empty()[this.options.html ? "string" == typeof n ? "html" : "append" : "text"](n), t.removeClass("fade top bottom left right in"), t.find(".popover-title").html() || t.find(".popover-title").hide()
    }, n.prototype.hasContent = function() {
        return this.getTitle() || this.getContent()
    }, n.prototype.getContent = function() {
        var t = this.$element,
            e = this.options;
        return t.attr("data-content") || ("function" == typeof e.content ? e.content.call(t[0]) : e.content)
    }, n.prototype.arrow = function() {
        return this.$arrow = this.$arrow || this.tip().find(".arrow")
    }, n.prototype.tip = function() {
        return this.$tip || (this.$tip = t(this.options.template)), this.$tip
    };
    var i = t.fn.popover;
    t.fn.popover = e, t.fn.popover.Constructor = n, t.fn.popover.noConflict = function() {
        return t.fn.popover = i, this
    }
}(jQuery), function(t) {
    "use strict";
    function e(e) {
        return this.each(function() {
            var i = t(this),
                o = i.data("bs.tab");
            o || i.data("bs.tab", o = new n(this)), "string" == typeof e && o[e]()
        })
    }
    var n = function(e) {
        this.element = t(e)
    };
    n.VERSION = "3.2.0", n.prototype.show = function() {
        var e = this.element,
            n = e.closest("ul:not(.dropdown-menu)"),
            i = e.data("target");
        if (i || (i = e.attr("href"), i = i && i.replace(/.*(?=#[^\s]*$)/, "")), !e.parent("li").hasClass("active")) {
            var o = n.find(".active:last a")[0],
                a = t.Event("show.bs.tab", {
                    relatedTarget: o
                });
            if (e.trigger(a), !a.isDefaultPrevented()) {
                var s = t(i);
                this.activate(e.closest("li"), n), this.activate(s, s.parent(), function() {
                    e.trigger({
                        type: "shown.bs.tab",
                        relatedTarget: o
                    })
                })
            }
        }
    }, n.prototype.activate = function(e, n, i) {
        function o() {
            a.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"), e.addClass("active"), s ? (e[0].offsetWidth, e.addClass("in")) : e.removeClass("fade"), e.parent(".dropdown-menu") && e.closest("li.dropdown").addClass("active"), i && i()
        }
        var a = n.find("> .active"),
            s = i && t.support.transition && a.hasClass("fade");
        s ? a.one("bsTransitionEnd", o).emulateTransitionEnd(150) : o(), a.removeClass("in")
    };
    var i = t.fn.tab;
    t.fn.tab = e, t.fn.tab.Constructor = n, t.fn.tab.noConflict = function() {
        return t.fn.tab = i, this
    }, t(document).on("click.bs.tab.data-api", '[data-toggle="tab"], [data-toggle="pill"]', function(n) {
        n.preventDefault(), e.call(t(this), "show")
    })
}(jQuery), function(t) {
    "use strict";
    function e(n, i) {
        var o = t.proxy(this.process, this);
        this.$body = t("body"), this.$scrollElement = t(t(n).is("body") ? window : n), this.options = t.extend({}, e.DEFAULTS, i), this.selector = (this.options.target || "") + " .nav li > a", this.offsets = [], this.targets = [], this.activeTarget = null, this.scrollHeight = 0, this.$scrollElement.on("scroll.bs.scrollspy", o), this.refresh(), this.process()
    }
    function n(n) {
        return this.each(function() {
            var i = t(this),
                o = i.data("bs.scrollspy"),
                a = "object" == typeof n && n;
            o || i.data("bs.scrollspy", o = new e(this, a)), "string" == typeof n && o[n]()
        })
    }
    e.VERSION = "3.2.0", e.DEFAULTS = {
        offset: 10
    }, e.prototype.getScrollHeight = function() {
        return this.$scrollElement[0].scrollHeight || Math.max(this.$body[0].scrollHeight, document.documentElement.scrollHeight)
    }, e.prototype.refresh = function() {
        var e = "offset",
            n = 0;
        t.isWindow(this.$scrollElement[0]) || (e = "position", n = this.$scrollElement.scrollTop()), this.offsets = [], this.targets = [], this.scrollHeight = this.getScrollHeight();
        var i = this;
        this.$body.find(this.selector).map(function() {
            var i = t(this),
                o = i.data("target") || i.attr("href"),
                a = /^#./.test(o) && t(o);
            return a && a.length && a.is(":visible") && [[a[e]().top + n, o]] || null
        }).sort(function(t, e) {
            return t[0] - e[0]
        }).each(function() {
            i.offsets.push(this[0]), i.targets.push(this[1])
        })
    }, e.prototype.process = function() {
        var t = this.$scrollElement.scrollTop() + this.options.offset,
            e = this.getScrollHeight(),
            n = this.options.offset + e - this.$scrollElement.height(),
            i = this.offsets,
            o = this.targets,
            a = this.activeTarget,
            s;
        if (this.scrollHeight != e && this.refresh(), t >= n)
            return a != (s = o[o.length - 1]) && this.activate(s);
        if (a && t <= i[0])
            return a != (s = o[0]) && this.activate(s);
        for (s = i.length; s--;)
            a != o[s] && t >= i[s] && (!i[s + 1] || t <= i[s + 1]) && this.activate(o[s])
    }, e.prototype.activate = function(e) {
        this.activeTarget = e, t(this.selector).parentsUntil(this.options.target, ".active").removeClass("active");
        var n = this.selector + '[data-target="' + e + '"],' + this.selector + '[href="' + e + '"]',
            i = t(n).parents("li").addClass("active");
        i.parent(".dropdown-menu").length && (i = i.closest("li.dropdown").addClass("active")), i.trigger("activate.bs.scrollspy")
    };
    var i = t.fn.scrollspy;
    t.fn.scrollspy = n, t.fn.scrollspy.Constructor = e, t.fn.scrollspy.noConflict = function() {
        return t.fn.scrollspy = i, this
    }, t(window).on("load.bs.scrollspy.data-api", function() {
        t('[data-spy="scroll"]').each(function() {
            var e = t(this);
            n.call(e, e.data())
        })
    })
}(jQuery), function(t) {
    "use strict";
    function e(e) {
        return this.each(function() {
            var n = t(this),
                o = n.data("bs.alert");
            o || n.data("bs.alert", o = new i(this)), "string" == typeof e && o[e].call(n)
        })
    }
    var n = '[data-dismiss="alert"]',
        i = function(e) {
            t(e).on("click", n, this.close)
        };
    i.VERSION = "3.3.5", i.TRANSITION_DURATION = 150, i.prototype.close = function(e) {
        function n() {
            s.detach().trigger("closed.bs.alert").remove()
        }
        var o = t(this),
            a = o.attr("data-target");
        a || (a = o.attr("href"), a = a && a.replace(/.*(?=#[^\s]*$)/, ""));
        var s = t(a);
        e && e.preventDefault(), s.length || (s = o.closest(".alert")), s.trigger(e = t.Event("close.bs.alert")), e.isDefaultPrevented() || (s.removeClass("in"), t.support.transition && s.hasClass("fade") ? s.one("bsTransitionEnd", n).emulateTransitionEnd(i.TRANSITION_DURATION) : n())
    };
    var o = t.fn.alert;
    t.fn.alert = e, t.fn.alert.Constructor = i, t.fn.alert.noConflict = function() {
        return t.fn.alert = o, this
    }, t(document).on("click.bs.alert.data-api", n, i.prototype.close)
}(jQuery), /*!
 * accounting.js v0.3.2
 * Copyright 2011, Joss Crowcroft
 *
 * Freely distributable under the MIT license.
 * Portions of accounting.js are inspired or borrowed from underscore.js
 *
 * Full details and documentation:
 * http://josscrowcroft.github.com/accounting.js/
 */
function(t, e) {
    function n(t) {
        return !!("" === t || t && t.charCodeAt && t.substr)
    }
    function i(t) {
        return d ? d(t) : "[object Array]" === h.call(t)
    }
    function o(t) {
        return t && "[object Object]" === h.call(t)
    }
    function a(t, e) {
        var n;
        t = t || {}, e = e || {};
        for (n in e)
            e.hasOwnProperty(n) && null == t[n] && (t[n] = e[n]);
        return t
    }
    function s(t, e, n) {
        var i = [],
            o,
            a;
        if (!t)
            return i;
        if (u && t.map === u)
            return t.map(e, n);
        for (o = 0, a = t.length; o < a; o++)
            i[o] = e.call(n, t[o], o, t);
        return i
    }
    function r(t, e) {
        return t = Math.round(Math.abs(t)), isNaN(t) ? e : t
    }
    function l(t) {
        var e = c.settings.currency.format;
        return "function" == typeof t && (t = t()), n(t) && t.match("%v") ? {
            pos: t,
            neg: t.replace("-", "").replace("%v", "-%v"),
            zero: t
        } : t && t.pos && t.pos.match("%v") ? t : n(e) ? c.settings.currency.format = {
            pos: e,
            neg: e.replace("%v", "-%v"),
            zero: e
        } : e
    }
    var c = {};
    c.version = "0.3.2", c.settings = {
        currency: {
            symbol: "$",
            format: "%s%v",
            decimal: ".",
            thousand: ",",
            precision: 2,
            grouping: 3
        },
        number: {
            precision: 0,
            grouping: 3,
            thousand: ",",
            decimal: "."
        }
    };
    var u = Array.prototype.map,
        d = Array.isArray,
        h = Object.prototype.toString,
        f = c.unformat = c.parse = function(t, e) {
            if (i(t))
                return s(t, function(t) {
                    return f(t, e)
                });
            if ("number" == typeof (t = t || 0))
                return t;
            e = e || c.settings.number.decimal;
            var n = new RegExp("[^0-9-" + e + "]", ["g"]),
                o = parseFloat(("" + t).replace(/\((.*)\)/, "-$1").replace(n, "").replace(e, "."));
            return isNaN(o) ? 0 : o
        },
        p = c.toFixed = function(t, e) {
            e = r(e, c.settings.number.precision);
            var n = Math.pow(10, e);
            return (Math.round(c.unformat(t) * n) / n).toFixed(e)
        },
        m = c.formatNumber = function(t, e, n, l) {
            if (i(t))
                return s(t, function(t) {
                    return m(t, e, n, l)
                });
            t = f(t);
            var u = a(o(e) ? e : {
                    precision: e,
                    thousand: n,
                    decimal: l
                }, c.settings.number),
                d = r(u.precision),
                h = t < 0 ? "-" : "",
                g = parseInt(p(Math.abs(t || 0), d), 10) + "",
                v = g.length > 3 ? g.length % 3 : 0;
            return h + (v ? g.substr(0, v) + u.thousand : "") + g.substr(v).replace(/(\d{3})(?=\d)/g, "$1" + u.thousand) + (d ? u.decimal + p(Math.abs(t), d).split(".")[1] : "")
        },
        g = c.formatMoney = function(t, e, n, u, d, h) {
            if (i(t))
                return s(t, function(t) {
                    return g(t, e, n, u, d, h)
                });
            t = f(t);
            var p = a(o(e) ? e : {
                    symbol: e,
                    precision: n,
                    thousand: u,
                    decimal: d,
                    format: h
                }, c.settings.currency),
                v = l(p.format);
            return (t > 0 ? v.pos : t < 0 ? v.neg : v.zero).replace("%s", p.symbol).replace("%v", m(Math.abs(t), r(p.precision), p.thousand, p.decimal))
        };
    c.formatColumn = function(t, e, u, d, h, p) {
        if (!t)
            return [];
        var g = a(o(e) ? e : {
                symbol: e,
                precision: u,
                thousand: d,
                decimal: h,
                format: p
            }, c.settings.currency),
            v = l(g.format),
            b = v.pos.indexOf("%s") < v.pos.indexOf("%v"),
            E = 0;
        return s(s(t, function(t, e) {
            if (i(t))
                return c.formatColumn(t, g);
            t = f(t);
            var n = t > 0 ? v.pos : t < 0 ? v.neg : v.zero,
                o = n.replace("%s", g.symbol).replace("%v", m(Math.abs(t), r(g.precision), g.thousand, g.decimal));
            return o.length > E && (E = o.length), o
        }), function(t, e) {
            return n(t) && t.length < E ? b ? t.replace(g.symbol, g.symbol + new Array(E - t.length + 1).join(" ")) : new Array(E - t.length + 1).join(" ") + t : t
        })
    }, "undefined" != typeof exports ? ("undefined" != typeof module && module.exports && (exports = module.exports = c), exports.accounting = c) : "function" == typeof define && define.amd ? define([], function() {
        return c
    }) : (c.noConflict = function(n) {
        return function() {
            return t.accounting = n, c.noConflict = e, c
        }
    }(t.accounting), t.accounting = c)
}(this), /*!
 * imagesLoaded PACKAGED v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
/*!
 * EventEmitter v4.2.6 - git.io/ee
 * Oliver Caldwell
 * MIT license
 * @preserve
 */
function() {
    function t() {}
    function e(t, e) {
        for (var n = t.length; n--;)
            if (t[n].listener === e)
                return n;
        return -1
    }
    function n(t) {
        return function e() {
            return this[t].apply(this, arguments)
        }
    }
    var i = t.prototype,
        o = this,
        a = o.EventEmitter;
    i.getListeners = function t(e) {
        var n = this._getEvents(),
            i,
            o;
        if ("object" == typeof e) {
            i = {};
            for (o in n)
                n.hasOwnProperty(o) && e.test(o) && (i[o] = n[o])
        } else
            i = n[e] || (n[e] = []);
        return i
    }, i.flattenListeners = function t(e) {
        var n = [],
            i;
        for (i = 0; i < e.length; i += 1)
            n.push(e[i].listener);
        return n
    }, i.getListenersAsObject = function t(e) {
        var n = this.getListeners(e),
            i;
        return n instanceof Array && (i = {}, i[e] = n), i || n
    }, i.addListener = function t(n, i) {
        var o = this.getListenersAsObject(n),
            a = "object" == typeof i,
            s;
        for (s in o)
            o.hasOwnProperty(s) && -1 === e(o[s], i) && o[s].push(a ? i : {
                listener: i,
                once: !1
            });
        return this
    }, i.on = n("addListener"), i.addOnceListener = function t(e, n) {
        return this.addListener(e, {
            listener: n,
            once: !0
        })
    }, i.once = n("addOnceListener"), i.defineEvent = function t(e) {
        return this.getListeners(e), this
    }, i.defineEvents = function t(e) {
        for (var n = 0; n < e.length; n += 1)
            this.defineEvent(e[n]);
        return this
    }, i.removeListener = function t(n, i) {
        var o = this.getListenersAsObject(n),
            a,
            s;
        for (s in o)
            o.hasOwnProperty(s) && -1 !== (a = e(o[s], i)) && o[s].splice(a, 1);
        return this
    }, i.off = n("removeListener"), i.addListeners = function t(e, n) {
        return this.manipulateListeners(!1, e, n)
    }, i.removeListeners = function t(e, n) {
        return this.manipulateListeners(!0, e, n)
    }, i.manipulateListeners = function t(e, n, i) {
        var o,
            a,
            s = e ? this.removeListener : this.addListener,
            r = e ? this.removeListeners : this.addListeners;
        if ("object" != typeof n || n instanceof RegExp)
            for (o = i.length; o--;)
                s.call(this, n, i[o]);
        else
            for (o in n)
                n.hasOwnProperty(o) && (a = n[o]) && ("function" == typeof a ? s.call(this, o, a) : r.call(this, o, a));
        return this
    }, i.removeEvent = function t(e) {
        var n = typeof e,
            i = this._getEvents(),
            o;
        if ("string" === n)
            delete i[e];
        else if ("object" === n)
            for (o in i)
                i.hasOwnProperty(o) && e.test(o) && delete i[o];
        else
            delete this._events;
        return this
    }, i.removeAllListeners = n("removeEvent"), i.emitEvent = function t(e, n) {
        var i = this.getListenersAsObject(e),
            o,
            a,
            s,
            r;
        for (s in i)
            if (i.hasOwnProperty(s))
                for (a = i[s].length; a--;)
                    o = i[s][a], !0 === o.once && this.removeListener(e, o.listener), (r = o.listener.apply(this, n || [])) === this._getOnceReturnValue() && this.removeListener(e, o.listener);
        return this
    }, i.trigger = n("emitEvent"), i.emit = function t(e) {
        var n = Array.prototype.slice.call(arguments, 1);
        return this.emitEvent(e, n)
    }, i.setOnceReturnValue = function t(e) {
        return this._onceReturnValue = e, this
    }, i._getOnceReturnValue = function t() {
        return !this.hasOwnProperty("_onceReturnValue") || this._onceReturnValue
    }, i._getEvents = function t() {
        return this._events || (this._events = {})
    }, t.noConflict = function e() {
        return o.EventEmitter = a, t
    }, "function" == typeof define && define.amd ? define("eventEmitter/EventEmitter", [], function() {
        return t
    }) : "object" == typeof module && module.exports ? module.exports = t : this.EventEmitter = t
}.call(this), /*!
 * eventie v1.0.4
 * event binding helper
 *   eventie.bind( elem, 'click', myFn )
 *   eventie.unbind( elem, 'click', myFn )
 */
function(t) {
    function e(e) {
        var n = t.event;
        return n.target = n.target || n.srcElement || e, n
    }
    var n = document.documentElement,
        i = function() {};
    n.addEventListener ? i = function(t, e, n) {
        t.addEventListener(e, n, !1)
    } : n.attachEvent && (i = function(t, n, i) {
        t[n + i] = i.handleEvent ? function() {
            var n = e(t);
            i.handleEvent.call(i, n)
        } : function() {
            var n = e(t);
            i.call(t, n)
        }, t.attachEvent("on" + n, t[n + i])
    });
    var o = function() {};
    n.removeEventListener ? o = function(t, e, n) {
        t.removeEventListener(e, n, !1)
    } : n.detachEvent && (o = function(t, e, n) {
        t.detachEvent("on" + e, t[e + n]);
        try {
            delete t[e + n]
        } catch (i) {
            t[e + n] = undefined
        }
    });
    var a = {
        bind: i,
        unbind: o
    };
    "function" == typeof define && define.amd ? define("eventie/eventie", a) : t.eventie = a
}(this), /*!
 * imagesLoaded v3.1.8
 * JavaScript is all like "You images are done yet or what?"
 * MIT License
 */
function(t, e) {
    "function" == typeof define && define.amd ? define(["eventEmitter/EventEmitter", "eventie/eventie"], function(n, i) {
        return e(t, n, i)
    }) : "object" == typeof exports ? module.exports = e(t, require("wolfy87-eventemitter"), require("eventie")) : t.imagesLoaded = e(t, t.EventEmitter, t.eventie)
}(window, function t(e, n, i) {
    function o(t, e) {
        for (var n in e)
            t[n] = e[n];
        return t
    }
    function a(t) {
        return "[object Array]" === f.call(t)
    }
    function s(t) {
        var e = [];
        if (a(t))
            e = t;
        else if ("number" == typeof t.length)
            for (var n = 0, i = t.length; n < i; n++)
                e.push(t[n]);
        else
            e.push(t);
        return e
    }
    function r(t, e, n) {
        if (!(this instanceof r))
            return new r(t, e);
        "string" == typeof t && (t = document.querySelectorAll(t)), this.elements = s(t), this.options = o({}, this.options), "function" == typeof e ? n = e : o(this.options, e), n && this.on("always", n), this.getImages(), u && (this.jqDeferred = new u.Deferred);
        var i = this;
        setTimeout(function() {
            i.check()
        })
    }
    function l(t) {
        this.img = t
    }
    function c(t) {
        this.src = t, p[t] = this
    }
    var u = e.jQuery,
        d = e.console,
        h = void 0 !== d,
        f = Object.prototype.toString;
    r.prototype = new n, r.prototype.options = {}, r.prototype.getImages = function() {
        this.images = [];
        for (var t = 0, e = this.elements.length; t < e; t++) {
            var n = this.elements[t];
            "IMG" === n.nodeName && this.addImage(n);
            var i = n.nodeType;
            if (i && (1 === i || 9 === i || 11 === i))
                for (var o = n.querySelectorAll("img"), a = 0, s = o.length; a < s; a++) {
                    var r = o[a];
                    this.addImage(r)
                }
        }
    }, r.prototype.addImage = function(t) {
        var e = new l(t);
        this.images.push(e)
    }, r.prototype.check = function() {
        function t(t, o) {
            return e.options.debug && h && d.log("confirm", t, o), e.progress(t), n++, n === i && e.complete(), !0
        }
        var e = this,
            n = 0,
            i = this.images.length;
        if (this.hasAnyBroken = !1, !i)
            return void this.complete();
        for (var o = 0; o < i; o++) {
            var a = this.images[o];
            a.on("confirm", t), a.check()
        }
    }, r.prototype.progress = function(t) {
        this.hasAnyBroken = this.hasAnyBroken || !t.isLoaded;
        var e = this;
        setTimeout(function() {
            e.emit("progress", e, t), e.jqDeferred && e.jqDeferred.notify && e.jqDeferred.notify(e, t)
        })
    }, r.prototype.complete = function() {
        var t = this.hasAnyBroken ? "fail" : "done";
        this.isComplete = !0;
        var e = this;
        setTimeout(function() {
            if (e.emit(t, e), e.emit("always", e), e.jqDeferred) {
                var n = e.hasAnyBroken ? "reject" : "resolve";
                e.jqDeferred[n](e)
            }
        })
    }, u && (u.fn.imagesLoaded = function(t, e) {
        return new r(this, t, e).jqDeferred.promise(u(this))
    }), l.prototype = new n, l.prototype.check = function() {
        var t = p[this.img.src] || new c(this.img.src);
        if (t.isConfirmed)
            return void this.confirm(t.isLoaded, "cached was confirmed");
        if (this.img.complete && this.img.naturalWidth !== undefined)
            return void this.confirm(0 !== this.img.naturalWidth, "naturalWidth");
        var e = this;
        t.on("confirm", function(t, n) {
            return e.confirm(t.isLoaded, n), !0
        }), t.check()
    }, l.prototype.confirm = function(t, e) {
        this.isLoaded = t, this.emit("confirm", this, e)
    };
    var p = {};
    return c.prototype = new n, c.prototype.check = function() {
        if (!this.isChecked) {
            var t = new Image;
            i.bind(t, "load", this), i.bind(t, "error", this), t.src = this.src, this.isChecked = !0
        }
    }, c.prototype.handleEvent = function(t) {
        var e = "on" + t.type;
        this[e] && this[e](t)
    }, c.prototype.onload = function(t) {
        this.confirm(!0, "onload"), this.unbindProxyEvents(t)
    }, c.prototype.onerror = function(t) {
        this.confirm(!1, "onerror"), this.unbindProxyEvents(t)
    }, c.prototype.confirm = function(t, e) {
        this.isConfirmed = !0, this.isLoaded = t, this.emit("confirm", this, e)
    }, c.prototype.unbindProxyEvents = function(t) {
        i.unbind(t.target, "load", this), i.unbind(t.target, "error", this)
    }, r
}), /*
* In-Field Label jQuery Plugin
* http://fuelyourcoding.com/scripts/infield.html
*
* Copyright (c) 2009 Doug Neiner
* Dual licensed under the MIT and GPL licenses.
* Uses the same license as jQuery, see:
* http://docs.jquery.com/License
*
* @version 0.1
*/
function(t) {
    t.InFieldLabels = function(e, n, i) {
        var o = this;
        o.$label = t(e), o.label = e, o.$field = t(n), o.field = n, o.$label.data("InFieldLabels", o), o.showing = !0, o.init = function() {
            o.options = t.extend({}, t.InFieldLabels.defaultOptions, i), "" != o.$field.val() && (o.$label.hide(), o.showing = !1), o.$field.focus(function() {
                o.fadeOnFocus()
            }).blur(function() {
                o.checkForEmpty(!0)
            }).bind("keydown.infieldlabel", function(t) {
                o.hideOnChange(t)
            }).change(function(t) {
                o.checkForEmpty()
            }).bind("onPropertyChange", function() {
                o.checkForEmpty()
            })
        }, o.fadeOnFocus = function() {
            o.showing && o.setOpacity(o.options.fadeOpacity)
        }, o.setOpacity = function(t) {
            o.$label.stop().animate({
                opacity: t
            }, o.options.fadeDuration), o.showing = t > 0
        }, o.checkForEmpty = function(t) {
            "" == o.$field.val() ? (o.prepForShow(), o.setOpacity(t ? 1 : o.options.fadeOpacity)) : o.setOpacity(0)
        }, o.prepForShow = function(t) {
            o.showing || (o.$label.css({
                opacity: 0
            }).show(), o.$field.bind("keydown.infieldlabel", function(t) {
                o.hideOnChange(t)
            }))
        }, o.hideOnChange = function(t) {
            16 != t.keyCode && 9 != t.keyCode && (o.showing && (o.$label.hide(), o.showing = !1), o.$field.unbind("keydown.infieldlabel"))
        }, o.init()
    }, t.InFieldLabels.defaultOptions = {
        fadeOpacity: .5,
        fadeDuration: 300
    }, t.fn.inFieldLabels = function(e) {
        return this.each(function() {
            var n = t(this).attr("for");
            if (n) {
                var i = t("input#" + n + "[type='email'],input#" + n + "[type='text'],input#" + n + "[type='password'],textarea#" + n);
                0 != i.length && new t.InFieldLabels(this, i[0], e)
            }
        })
    }
}(jQuery), function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t(jQuery)
}(function(t) {
    t.extend(t.fn, {
        validate: function(e) {
            if (!this.length)
                return void (e && e.debug && window.console && console.warn("Nothing selected, can't validate, returning nothing."));
            var n = t.data(this[0], "validator");
            return n || (this.attr("novalidate", "novalidate"), n = new t.validator(e, this[0]), t.data(this[0], "validator", n), n.settings.onsubmit && (this.validateDelegate(":submit", "click", function(e) {
                    n.settings.submitHandler && (n.submitButton = e.target), t(e.target).hasClass("cancel") && (n.cancelSubmit = !0), void 0 !== t(e.target).attr("formnovalidate") && (n.cancelSubmit = !0)
                }), this.submit(function(e) {
                    function i() {
                        var i,
                            o;
                        return !n.settings.submitHandler || (n.submitButton && (i = t("<input type='hidden'/>").attr("name", n.submitButton.name).val(t(n.submitButton).val()).appendTo(n.currentForm)), o = n.settings.submitHandler.call(n, n.currentForm, e), n.submitButton && i.remove(), void 0 !== o && o)
                    }
                    return n.settings.debug && e.preventDefault(), n.cancelSubmit ? (n.cancelSubmit = !1, i()) : n.form() ? n.pendingRequest ? (n.formSubmitted = !0, !1) : i() : (n.focusInvalid(), !1)
                })), n)
        },
        valid: function() {
            var e,
                n;
            return t(this[0]).is("form") ? e = this.validate().form() : (e = !0, n = t(this[0].form).validate(), this.each(function() {
                e = n.element(this) && e
            })), e
        },
        removeAttrs: function(e) {
            var n = {},
                i = this;
            return t.each(e.split(/\s/), function(t, e) {
                n[e] = i.attr(e), i.removeAttr(e)
            }), n
        },
        rules: function(e, n) {
            var i,
                o,
                a,
                s,
                r,
                l,
                c = this[0];
            if (e)
                switch (i = t.data(c.form, "validator").settings, o = i.rules, a = t.validator.staticRules(c), e) {
                case "add":
                    t.extend(a, t.validator.normalizeRule(n)), delete a.messages, o[c.name] = a, n.messages && (i.messages[c.name] = t.extend(i.messages[c.name], n.messages));
                    break;
                case "remove":
                    return n ? (l = {}, t.each(n.split(/\s/), function(e, n) {
                        l[n] = a[n], delete a[n], "required" === n && t(c).removeAttr("aria-required")
                    }), l) : (delete o[c.name], a)
                }
            return s = t.validator.normalizeRules(t.extend({}, t.validator.classRules(c), t.validator.attributeRules(c), t.validator.dataRules(c), t.validator.staticRules(c)), c), s.required && (r = s.required, delete s.required, s = t.extend({
                required: r
            }, s), t(c).attr("aria-required", "true")), s.remote && (r = s.remote, delete s.remote, s = t.extend(s, {
                remote: r
            })), s
        }
    }), t.extend(t.expr[":"], {
        blank: function(e) {
            return !t.trim("" + t(e).val())
        },
        filled: function(e) {
            return !!t.trim("" + t(e).val())
        },
        unchecked: function(e) {
            return !t(e).prop("checked")
        }
    }), t.validator = function(e, n) {
        this.settings = t.extend(!0, {}, t.validator.defaults, e), this.currentForm = n, this.init()
    }, t.validator.format = function(e, n) {
        return 1 === arguments.length ? function() {
            var n = t.makeArray(arguments);
            return n.unshift(e), t.validator.format.apply(this, n)
        } : (arguments.length > 2 && n.constructor !== Array && (n = t.makeArray(arguments).slice(1)), n.constructor !== Array && (n = [n]), t.each(n, function(t, n) {
            e = e.replace(new RegExp("\\{" + t + "\\}", "g"), function() {
                return n
            })
        }), e)
    }, t.extend(t.validator, {
        defaults: {
            messages: {},
            groups: {},
            rules: {},
            errorClass: "error",
            validClass: "valid",
            errorElement: "label",
            focusCleanup: !1,
            focusInvalid: !0,
            errorContainer: t([]),
            errorLabelContainer: t([]),
            onsubmit: !0,
            ignore: ":hidden",
            ignoreTitle: !1,
            onfocusin: function(t) {
                this.lastActive = t, this.settings.focusCleanup && (this.settings.unhighlight && this.settings.unhighlight.call(this, t, this.settings.errorClass, this.settings.validClass), this.hideThese(this.errorsFor(t)))
            },
            onfocusout: function(t) {
                this.checkable(t) || !(t.name in this.submitted) && this.optional(t) || this.element(t)
            },
            onkeyup: function(t, e) {
                (9 !== e.which || "" !== this.elementValue(t)) && (t.name in this.submitted || t === this.lastElement) && this.element(t)
            },
            onclick: function(t) {
                t.name in this.submitted ? this.element(t) : t.parentNode.name in this.submitted && this.element(t.parentNode)
            },
            highlight: function(e, n, i) {
                "radio" === e.type ? this.findByName(e.name).addClass(n).removeClass(i) : t(e).addClass(n).removeClass(i)
            },
            unhighlight: function(e, n, i) {
                "radio" === e.type ? this.findByName(e.name).removeClass(n).addClass(i) : t(e).removeClass(n).addClass(i)
            }
        },
        setDefaults: function(e) {
            t.extend(t.validator.defaults, e)
        },
        messages: {
            required: "This field is required.",
            remote: "Please fix this field.",
            email: "Please enter a valid email address.",
            url: "Please enter a valid URL.",
            date: "Please enter a valid date.",
            dateISO: "Please enter a valid date ( ISO ).",
            number: "Please enter a valid number.",
            digits: "Please enter only digits.",
            creditcard: "Please enter a valid credit card number.",
            equalTo: "Please enter the same value again.",
            maxlength: t.validator.format("Please enter no more than {0} characters."),
            minlength: t.validator.format("Please enter at least {0} characters."),
            rangelength: t.validator.format("Please enter a value between {0} and {1} characters long."),
            range: t.validator.format("Please enter a value between {0} and {1}."),
            max: t.validator.format("Please enter a value less than or equal to {0}."),
            min: t.validator.format("Please enter a value greater than or equal to {0}.")
        },
        autoCreateRanges: !1,
        prototype: {
            init: function() {
                function e(e) {
                    var n = t.data(this[0].form, "validator"),
                        i = "on" + e.type.replace(/^validate/, ""),
                        o = n.settings;
                    o[i] && !this.is(o.ignore) && o[i].call(n, this[0], e)
                }
                this.labelContainer = t(this.settings.errorLabelContainer), this.errorContext = this.labelContainer.length && this.labelContainer || t(this.currentForm), this.containers = t(this.settings.errorContainer).add(this.settings.errorLabelContainer), this.submitted = {}, this.valueCache = {}, this.pendingRequest = 0, this.pending = {}, this.invalid = {}, this.reset();
                var n,
                    i = this.groups = {};
                t.each(this.settings.groups, function(e, n) {
                    "string" == typeof n && (n = n.split(/\s/)), t.each(n, function(t, n) {
                        i[n] = e
                    })
                }), n = this.settings.rules, t.each(n, function(e, i) {
                    n[e] = t.validator.normalizeRule(i)
                }), t(this.currentForm).validateDelegate(":text, [type='password'], [type='file'], select, textarea, [type='number'], [type='search'] ,[type='tel'], [type='url'], [type='email'], [type='datetime'], [type='date'], [type='month'], [type='week'], [type='time'], [type='datetime-local'], [type='range'], [type='color'], [type='radio'], [type='checkbox']", "focusin focusout keyup", e).validateDelegate("select, option, [type='radio'], [type='checkbox']", "click", e), this.settings.invalidHandler && t(this.currentForm).bind("invalid-form.validate", this.settings.invalidHandler), t(this.currentForm).find("[required], [data-rule-required], .required").attr("aria-required", "true")
            },
            form: function() {
                return this.checkForm(), t.extend(this.submitted, this.errorMap), this.invalid = t.extend({}, this.errorMap), this.valid() || t(this.currentForm).triggerHandler("invalid-form", [this]), this.showErrors(), this.valid()
            },
            checkForm: function() {
                this.prepareForm();
                for (var t = 0, e = this.currentElements = this.elements(); e[t]; t++)
                    this.check(e[t]);
                return this.valid()
            },
            element: function(e) {
                var n = this.clean(e),
                    i = this.validationTargetFor(n),
                    o = !0;
                return this.lastElement = i, void 0 === i ? delete this.invalid[n.name] : (this.prepareElement(i), this.currentElements = t(i), o = !1 !== this.check(i), o ? delete this.invalid[i.name] : this.invalid[i.name] = !0), t(e).attr("aria-invalid", !o), this.numberOfInvalids() || (this.toHide = this.toHide.add(this.containers)), this.showErrors(), o
            },
            showErrors: function(e) {
                if (e) {
                    t.extend(this.errorMap, e), this.errorList = [];
                    for (var n in e)
                        this.errorList.push({
                            message: e[n],
                            element: this.findByName(n)[0]
                        });
                    this.successList = t.grep(this.successList, function(t) {
                        return !(t.name in e)
                    })
                }
                this.settings.showErrors ? this.settings.showErrors.call(this, this.errorMap, this.errorList) : this.defaultShowErrors()
            },
            resetForm: function() {
                t.fn.resetForm && t(this.currentForm).resetForm(), this.submitted = {}, this.lastElement = null, this.prepareForm(), this.hideErrors(), this.elements().removeClass(this.settings.errorClass).removeData("previousValue").removeAttr("aria-invalid")
            },
            numberOfInvalids: function() {
                return this.objectLength(this.invalid)
            },
            objectLength: function(t) {
                var e,
                    n = 0;
                for (e in t)
                    n++;
                return n
            },
            hideErrors: function() {
                this.hideThese(this.toHide)
            },
            hideThese: function(t) {
                t.not(this.containers).text(""), this.addWrapper(t).hide()
            },
            valid: function() {
                return 0 === this.size()
            },
            size: function() {
                return this.errorList.length
            },
            focusInvalid: function() {
                if (this.settings.focusInvalid)
                    try {
                        t(this.findLastActive() || this.errorList.length && this.errorList[0].element || []).filter(":visible").focus().trigger("focusin")
                    } catch (t) {}
            },
            findLastActive: function() {
                var e = this.lastActive;
                return e && 1 === t.grep(this.errorList, function(t) {
                        return t.element.name === e.name
                    }).length && e
            },
            elements: function() {
                var e = this,
                    n = {};
                return t(this.currentForm).find("input, select, textarea").not(":submit, :reset, :image, [disabled], [readonly]").not(this.settings.ignore).filter(function() {
                    return !this.name && e.settings.debug && window.console && console.error("%o has no name assigned", this), !(this.name in n || !e.objectLength(t(this).rules())) && (n[this.name] = !0, !0)
                })
            },
            clean: function(e) {
                return t(e)[0]
            },
            errors: function() {
                var e = this.settings.errorClass.split(" ").join(".");
                return t(this.settings.errorElement + "." + e, this.errorContext)
            },
            reset: function() {
                this.successList = [], this.errorList = [], this.errorMap = {}, this.toShow = t([]), this.toHide = t([]), this.currentElements = t([])
            },
            prepareForm: function() {
                this.reset(), this.toHide = this.errors().add(this.containers)
            },
            prepareElement: function(t) {
                this.reset(), this.toHide = this.errorsFor(t)
            },
            elementValue: function(e) {
                var n,
                    i = t(e),
                    o = e.type;
                return "radio" === o || "checkbox" === o ? t("input[name='" + e.name + "']:checked").val() : "number" === o && "undefined" != typeof e.validity ? !e.validity.badInput && i.val() : (n = i.val(), "string" == typeof n ? n.replace(/\r/g, "") : n)
            },
            check: function(e) {
                e = this.validationTargetFor(this.clean(e));
                var n,
                    i,
                    o,
                    a = t(e).rules(),
                    s = t.map(a, function(t, e) {
                        return e
                    }).length,
                    r = !1,
                    l = this.elementValue(e);
                for (i in a) {
                    o = {
                        method: i,
                        parameters: a[i]
                    };
                    try {
                        if ("dependency-mismatch" === (n = t.validator.methods[i].call(this, l, e, o.parameters)) && 1 === s) {
                            r = !0;
                            continue
                        }
                        if (r = !1, "pending" === n)
                            return void (this.toHide = this.toHide.not(this.errorsFor(e)));
                        if (!n)
                            return this.formatAndAdd(e, o), !1
                    } catch (t) {
                        throw this.settings.debug && window.console && console.log("Exception occurred when checking element " + e.id + ", check the '" + o.method + "' method.", t), t
                    }
                }
                if (!r)
                    return this.objectLength(a) && this.successList.push(e), !0
            },
            customDataMessage: function(e, n) {
                return t(e).data("msg" + n.charAt(0).toUpperCase() + n.substring(1).toLowerCase()) || t(e).data("msg")
            },
            customMessage: function(t, e) {
                var n = this.settings.messages[t];
                return n && (n.constructor === String ? n : n[e])
            },
            findDefined: function() {
                for (var t = 0; t < arguments.length; t++)
                    if (void 0 !== arguments[t])
                        return arguments[t]
            },
            defaultMessage: function(e, n) {
                return this.findDefined(this.customMessage(e.name, n), this.customDataMessage(e, n), !this.settings.ignoreTitle && e.title || void 0, t.validator.messages[n], "<strong>Warning: No message defined for " + e.name + "</strong>")
            },
            formatAndAdd: function(e, n) {
                var i = this.defaultMessage(e, n.method),
                    o = /\$?\{(\d+)\}/g;
                "function" == typeof i ? i = i.call(this, n.parameters, e) : o.test(i) && (i = t.validator.format(i.replace(o, "{$1}"), n.parameters)), this.errorList.push({
                    message: i,
                    element: e,
                    method: n.method
                }), this.errorMap[e.name] = i, this.submitted[e.name] = i
            },
            addWrapper: function(t) {
                return this.settings.wrapper && (t = t.add(t.parent(this.settings.wrapper))), t
            },
            defaultShowErrors: function() {
                var t,
                    e,
                    n;
                for (t = 0; this.errorList[t]; t++)
                    n = this.errorList[t], this.settings.highlight && this.settings.highlight.call(this, n.element, this.settings.errorClass, this.settings.validClass), this.showLabel(n.element, n.message);
                if (this.errorList.length && (this.toShow = this.toShow.add(this.containers)), this.settings.success)
                    for (t = 0; this.successList[t]; t++)
                        this.showLabel(this.successList[t]);
                if (this.settings.unhighlight)
                    for (t = 0, e = this.validElements(); e[t]; t++)
                        this.settings.unhighlight.call(this, e[t], this.settings.errorClass, this.settings.validClass);
                this.toHide = this.toHide.not(this.toShow), this.hideErrors(), this.addWrapper(this.toShow).show()
            },
            validElements: function() {
                return this.currentElements.not(this.invalidElements())
            },
            invalidElements: function() {
                return t(this.errorList).map(function() {
                    return this.element
                })
            },
            showLabel: function(e, n) {
                var i,
                    o,
                    a,
                    s = this.errorsFor(e),
                    r = this.idOrName(e),
                    l = t(e).attr("aria-describedby");
                s.length ? (s.removeClass(this.settings.validClass).addClass(this.settings.errorClass), s.html(n)) : (s = t("<" + this.settings.errorElement + ">").attr("id", r + "-error").addClass(this.settings.errorClass).html(n || ""), i = s, this.settings.wrapper && (i = s.hide().show().wrap("<" + this.settings.wrapper + "/>").parent()), this.labelContainer.length ? this.labelContainer.append(i) : this.settings.errorPlacement ? this.settings.errorPlacement(i, t(e)) : i.insertAfter(e), s.is("label") ? s.attr("for", r) : 0 === s.parents("label[for='" + r + "']").length && (a = s.attr("id").replace(/(:|\.|\[|\])/g, "\\$1"), l ? l.match(new RegExp("\\b" + a + "\\b")) || (l += " " + a) : l = a, t(e).attr("aria-describedby", l), (o = this.groups[e.name]) && t.each(this.groups, function(e, n) {
                    n === o && t("[name='" + e + "']", this.currentForm).attr("aria-describedby", s.attr("id"))
                }))), !n && this.settings.success && (s.text(""), "string" == typeof this.settings.success ? s.addClass(this.settings.success) : this.settings.success(s, e)), this.toShow = this.toShow.add(s)
            },
            errorsFor: function(e) {
                var n = this.idOrName(e),
                    i = t(e).attr("aria-describedby"),
                    o = "label[for='" + n + "'], label[for='" + n + "'] *";
                return i && (o = o + ", #" + i.replace(/\s+/g, ", #")), this.errors().filter(o)
            },
            idOrName: function(t) {
                return this.groups[t.name] || (this.checkable(t) ? t.name : t.id || t.name)
            },
            validationTargetFor: function(e) {
                return this.checkable(e) && (e = this.findByName(e.name)), t(e).not(this.settings.ignore)[0]
            },
            checkable: function(t) {
                return /radio|checkbox/i.test(t.type)
            },
            findByName: function(e) {
                return t(this.currentForm).find("[name='" + e + "']")
            },
            getLength: function(e, n) {
                switch (n.nodeName.toLowerCase()) {
                case "select":
                    return t("option:selected", n).length;
                case "input":
                    if (this.checkable(n))
                        return this.findByName(n.name).filter(":checked").length
                }
                return e.length
            },
            depend: function(t, e) {
                return !this.dependTypes[typeof t] || this.dependTypes[typeof t](t, e)
            },
            dependTypes: {
                "boolean": function(t) {
                    return t
                },
                string: function(e, n) {
                    return !!t(e, n.form).length
                },
                "function": function(t, e) {
                    return t(e)
                }
            },
            optional: function(e) {
                var n = this.elementValue(e);
                return !t.validator.methods.required.call(this, n, e) && "dependency-mismatch"
            },
            startRequest: function(t) {
                this.pending[t.name] || (this.pendingRequest++, this.pending[t.name] = !0)
            },
            stopRequest: function(e, n) {
                this.pendingRequest--, this.pendingRequest < 0 && (this.pendingRequest = 0), delete this.pending[e.name], n && 0 === this.pendingRequest && this.formSubmitted && this.form() ? (t(this.currentForm).submit(), this.formSubmitted = !1) : !n && 0 === this.pendingRequest && this.formSubmitted && (t(this.currentForm).triggerHandler("invalid-form", [this]), this.formSubmitted = !1)
            },
            previousValue: function(e) {
                return t.data(e, "previousValue") || t.data(e, "previousValue", {
                        old: null,
                        valid: !0,
                        message: this.defaultMessage(e, "remote")
                    })
            }
        },
        classRuleSettings: {
            required: {
                required: !0
            },
            email: {
                email: !0
            },
            url: {
                url: !0
            },
            date: {
                date: !0
            },
            dateISO: {
                dateISO: !0
            },
            number: {
                number: !0
            },
            digits: {
                digits: !0
            },
            creditcard: {
                creditcard: !0
            }
        },
        addClassRules: function(e, n) {
            e.constructor === String ? this.classRuleSettings[e] = n : t.extend(this.classRuleSettings, e)
        },
        classRules: function(e) {
            var n = {},
                i = t(e).attr("class");
            return i && t.each(i.split(" "), function() {
                this in t.validator.classRuleSettings && t.extend(n, t.validator.classRuleSettings[this])
            }), n
        },
        attributeRules: function(e) {
            var n,
                i,
                o = {},
                a = t(e),
                s = e.getAttribute("type");
            for (n in t.validator.methods)
                "required" === n ? (i = e.getAttribute(n), "" === i && (i = !0), i = !!i) : i = a.attr(n), /min|max/.test(n) && (null === s || /number|range|text/.test(s)) && (i = Number(i)), i || 0 === i ? o[n] = i : s === n && "range" !== s && (o[n] = !0);
            return o.maxlength && /-1|2147483647|524288/.test(o.maxlength) && delete o.maxlength, o
        },
        dataRules: function(e) {
            var n,
                i,
                o = {},
                a = t(e);
            for (n in t.validator.methods)
                void 0 !== (i = a.data("rule" + n.charAt(0).toUpperCase() + n.substring(1).toLowerCase())) && (o[n] = i);
            return o
        },
        staticRules: function(e) {
            var n = {},
                i = t.data(e.form, "validator");
            return i.settings.rules && (n = t.validator.normalizeRule(i.settings.rules[e.name]) || {}), n
        },
        normalizeRules: function(e, n) {
            return t.each(e, function(i, o) {
                if (!1 === o)
                    return void delete e[i];
                if (o.param || o.depends) {
                    var a = !0;
                    switch (typeof o.depends) {
                    case "string":
                        a = !!t(o.depends, n.form).length;
                        break;
                    case "function":
                        a = o.depends.call(n, n)
                    }
                    a ? e[i] = void 0 === o.param || o.param : delete e[i]
                }
            }), t.each(e, function(i, o) {
                e[i] = t.isFunction(o) ? o(n) : o
            }), t.each(["minlength", "maxlength"], function() {
                e[this] && (e[this] = Number(e[this]))
            }), t.each(["rangelength", "range"], function() {
                var n;
                e[this] && (t.isArray(e[this]) ? e[this] = [Number(e[this][0]), Number(e[this][1])] : "string" == typeof e[this] && (n = e[this].replace(/[\[\]]/g, "").split(/[\s,]+/), e[this] = [Number(n[0]), Number(n[1])]))
            }), t.validator.autoCreateRanges && (null != e.min && null != e.max && (e.range = [e.min, e.max], delete e.min, delete e.max), null != e.minlength && null != e.maxlength && (e.rangelength = [e.minlength, e.maxlength], delete e.minlength, delete e.maxlength)), e
        },
        normalizeRule: function(e) {
            if ("string" == typeof e) {
                var n = {};
                t.each(e.split(/\s/), function() {
                    n[this] = !0
                }), e = n
            }
            return e
        },
        addMethod: function(e, n, i) {
            t.validator.methods[e] = n, t.validator.messages[e] = void 0 !== i ? i : t.validator.messages[e], n.length < 3 && t.validator.addClassRules(e, t.validator.normalizeRule(e))
        },
        methods: {
            required: function(e, n, i) {
                if (!this.depend(i, n))
                    return "dependency-mismatch";
                if ("select" === n.nodeName.toLowerCase()) {
                    var o = t(n).val();
                    return o && o.length > 0
                }
                return this.checkable(n) ? this.getLength(e, n) > 0 : t.trim(e).length > 0
            },
            email: function(t, e) {
                return this.optional(e) || /^[a-zA-Z0-9.!#$%&'*+\/=?^_`{|}~-]+@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/.test(t)
            },
            url: function(t, e) {
                return this.optional(e) || /^(https?|s?ftp):\/\/(((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:)*@)?(((\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5])\.(\d|[1-9]\d|1\d\d|2[0-4]\d|25[0-5]))|((([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|\d|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.)+(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])*([a-z]|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])))\.?)(:\d*)?)(\/((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)+(\/(([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)*)*)?)?(\?((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|[\uE000-\uF8FF]|\/|\?)*)?(#((([a-z]|\d|-|\.|_|~|[\u00A0-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF])|(%[\da-f]{2})|[!\$&'\(\)\*\+,;=]|:|@)|\/|\?)*)?$/i.test(t)
            },
            date: function(t, e) {
                return this.optional(e) || !/Invalid|NaN/.test(new Date(t).toString())
            },
            dateISO: function(t, e) {
                return this.optional(e) || /^\d{4}[\/\-](0?[1-9]|1[012])[\/\-](0?[1-9]|[12][0-9]|3[01])$/.test(t)
            },
            number: function(t, e) {
                return this.optional(e) || /^-?(?:\d+|\d{1,3}(?:,\d{3})+)?(?:\.\d+)?$/.test(t)
            },
            digits: function(t, e) {
                return this.optional(e) || /^\d+$/.test(t)
            },
            creditcard: function(t, e) {
                if (this.optional(e))
                    return "dependency-mismatch";
                if (/[^0-9 \-]+/.test(t))
                    return !1;
                var n,
                    i,
                    o = 0,
                    a = 0,
                    s = !1;
                if (t = t.replace(/\D/g, ""), t.length < 13 || t.length > 19)
                    return !1;
                for (n = t.length - 1; n >= 0; n--)
                    i = t.charAt(n), a = parseInt(i, 10), s && (a *= 2) > 9 && (a -= 9), o += a, s = !s;
                return o % 10 == 0
            },
            minlength: function(e, n, i) {
                var o = t.isArray(e) ? e.length : this.getLength(e, n);
                return this.optional(n) || o >= i
            },
            maxlength: function(e, n, i) {
                var o = t.isArray(e) ? e.length : this.getLength(e, n);
                return this.optional(n) || i >= o
            },
            rangelength: function(e, n, i) {
                var o = t.isArray(e) ? e.length : this.getLength(e, n);
                return this.optional(n) || o >= i[0] && o <= i[1]
            },
            min: function(t, e, n) {
                return this.optional(e) || t >= n
            },
            max: function(t, e, n) {
                return this.optional(e) || n >= t
            },
            range: function(t, e, n) {
                return this.optional(e) || t >= n[0] && t <= n[1]
            },
            equalTo: function(e, n, i) {
                var o = t(i);
                return this.settings.onfocusout && o.unbind(".validate-equalTo").bind("blur.validate-equalTo", function() {
                    t(n).valid()
                }), e === o.val()
            },
            remote: function(e, n, i) {
                if (this.optional(n))
                    return "dependency-mismatch";
                var o,
                    a,
                    s = this.previousValue(n);
                return this.settings.messages[n.name] || (this.settings.messages[n.name] = {}), s.originalMessage = this.settings.messages[n.name].remote, this.settings.messages[n.name].remote = s.message, i = "string" == typeof i && {
                    url: i
                } || i, s.old === e ? s.valid : (s.old = e, o = this, this.startRequest(n), a = {}, a[n.name] = e, t.ajax(t.extend(!0, {
                    url: i,
                    mode: "abort",
                    port: "validate" + n.name,
                    dataType: "json",
                    data: a,
                    context: o.currentForm,
                    success: function(i) {
                        var a,
                            r,
                            l,
                            c = !0 === i || "true" === i;
                        o.settings.messages[n.name].remote = s.originalMessage, c ? (l = o.formSubmitted, o.prepareElement(n), o.formSubmitted = l, o.successList.push(n), delete o.invalid[n.name], o.showErrors()) : (a = {}, r = i || o.defaultMessage(n, "remote"), a[n.name] = s.message = t.isFunction(r) ? r(e) : r, o.invalid[n.name] = !0, o.showErrors(a)), s.valid = c, o.stopRequest(n, c)
                    }
                }, i)), "pending")
            }
        }
    }), t.format = function() {
        throw "$.format has been deprecated. Please use $.validator.format instead."
    };
    var e,
        n = {};
    t.ajaxPrefilter ? t.ajaxPrefilter(function(t, e, i) {
        var o = t.port;
        "abort" === t.mode && (n[o] && n[o].abort(), n[o] = i)
    }) : (e = t.ajax, t.ajax = function(i) {
        var o = ("mode" in i ? i : t.ajaxSettings).mode,
            a = ("port" in i ? i : t.ajaxSettings).port;
        return "abort" === o ? (n[a] && n[a].abort(), n[a] = e.apply(this, arguments), n[a]) : e.apply(this, arguments)
    }), t.extend(t.fn, {
        validateDelegate: function(e, n, i) {
            return this.bind(n, function(n) {
                var o = t(n.target);
                return o.is(e) ? i.apply(o, arguments) : void 0
            })
        }
    })
}), function(t) {
    function e() {
        var e = t(".video-wrapper img");
        e.height() <= 0 && (e.height("auto"), e.height("100%"))
    }
    e(), t(".video-wrapper img").load(e)
}(jQuery), function(t) {
    var e = function(t) {
            var e = $(t),
                n = "hover";
            im.lessThan("desktop") && (n = "click"), e.popover({
                placement: "top",
                trigger: n,
                html: !0,
                delay: {
                    show: 50,
                    hide: 400
                }
            })
        },
        n = $.fn.popover.Constructor.prototype.leave;
    $.fn.popover.Constructor.prototype.leave = function(t) {
        var e = t instanceof this.constructor ? t : $(t.currentTarget)[this.type](this.getDelegateOptions()).data("bs." + this.type),
            i,
            o;
        n.call(this, t), t.currentTarget && (i = $(t.currentTarget).siblings(".popover"), o = e.timeout, i.one("mouseenter", function() {
            clearTimeout(o), i.one("mouseleave", function() {
                $.fn.popover.Constructor.prototype.leave.call(e, e)
            })
        }))
    }, t.FF.Popover = e
}(window), function(t) {
    function e(e) {
        this.el = e, this.$el = t(e), this.url = this.$el.attr("action"), this.bindEvents()
    }
    _.extend(e.prototype, {
        bindEvents: function() {
            this.$el.find('input[type="text"], input[type="email"], input[type="url"], input[type="number"], textarea').blur(t.proxy(this._saveFields, this)), this.$el.find("select").blur(t.proxy(this._saveFields, this)), this.$el.find('input[type="checkbox"]').change(t.proxy(this._saveFields, this))
        },
        _saveFields: function() {
            t.ajax(this.url, {
                data: this.$el.serialize(),
                type: "POST",
                dataType: "json"
            })
        }
    }), t.fn.autoSave = function() {
        return t(this).each(function() {
            new e(this)
        }), this
    }
}(jQuery), FF.CalculatePopupPosition = function(t, e, n, i, o, a) {
    return {
        left: Math.floor((t - n) / 2) + o,
        top: Math.floor((e - i) / 2) + a
    }
}, function(t) {
    function e(e) {
        var n = e.closest(".input");
        n.removeClass("field_with_errors"), n.find(".error").addClass("invisible");
        var i = n.find("[data-remove-error-for]").data("removeErrorFor");
        t("[data-remove-error-for=" + i + "]").first().closest(".field_with_errors").removeClass("field_with_errors"), t("[data-error-for=" + n.find("[data-remove-error-for]").data("removeErrorFor") + "]").addClass("invisible")
    }
    function n(n) {
        e(t(n.currentTarget))
    }
    t.fn.removeErrors = e, t.fn.errorRemover = function() {
        var e = t(this);
        return e.find("input").on("focus", n), e.find('input[type="checkbox"], input[type="radio"]').on("change", n), e.find("select").on("focus", n), e.find("textarea").on("focus", n), this
    }
}(jQuery), function(t) {
    function e(t, e) {
        t.filter(":checked").length > e - 1 ? t.filter(":not(:checked)").prop("disabled", "disabled") : t.filter(":disabled").prop("disabled", !1)
    }
    t.fn.maxChecked = function(n) {
        var i = this;
        return e(i, n), t(this).change(function(t) {
            e(i, n)
        }), this
    }
}(jQuery), FF.NumberRounder = function(t) {
    function e(t, e) {
        return Math.round(t * e) / e
    }
    this.roundToThousandths = function() {
        return e(t, 1e3)
    }
}, function(t) {
    function e(t) {
        return "You're offering <div class='side-info--info h1'>" + t + "%</div>"
    }
    function n(t, n, i) {
        var o = Number(n.val()),
            a = Number(i.val()),
            s = String(a / (a + o) * 100).substring(0, 5);
        o && a ? t.html(e(s)) : t.html("")
    }
    t.fn.ownershipPercentageUpdater = function() {
        var e = this,
            i = t(this.data("pre-money-valuation-selector")),
            o = t(this.data("campaign-goal-selector"));
        return i.keyup(function() {
            n(e, i, o)
        }), o.keyup(function() {
            n(e, i, o)
        }), n(e, i, o), this
    }
}(jQuery);
var PolyfillPlaceholder = function() {
    function t() {
        return "placeholder" in document.createElement("input")
    }
    t() || $("input, textarea").placeholder()
};
!function(t) {
    function e(t) {
        return 'Potential # of Investors <div class="side-info--info h1">' + t + "</div>"
    }
    function n(t, n, i) {
        var o = Number(n.val()),
            a = Number(i.val()),
            s = String(Math.floor(a / o));
        o && a ? t.html(e(s)) : t.text("")
    }
    t.fn.potentialInvestorsUpdater = function() {
        var e = this,
            i = t(this.data("minimum-investment-amount-selector")),
            o = t(this.data("campaign-goal-selector"));
        return i.keyup(function() {
            n(e, i, o)
        }), o.keyup(function() {
            n(e, i, o)
        }), n(e, i, o), this
    }
}(jQuery), function(t, e, n, i, o, a, s) {
    t.GoogleAnalyticsObject = o, t[o] = t[o] || function() {
        (t[o].q = t[o].q || []).push(arguments)
    }, t[o].l = 1 * new Date, a = e.createElement(n), s = e.getElementsByTagName(n)[0], a.async = 1, a.src = i, s.parentNode.insertBefore(a, s)
}(window, document, "script", "//www.google-analytics.com/analytics.js", "ga"), function(t) {
    "use strict";
    function e(t, e, n) {
        ga("send", "event", t, e, n)
    }
    t.FF.AnalyticsTracker = {
        modalShown: function(t) {
            e("modal", "shown", t)
        },
        subscriptionLandingPage: function() {
            e("Subscription", "SubscriptionLandingPage")
        },
        subscriptionWhatIsFFPage: function() {
            e("Subscription", "SubscriptionWhatIsFFPage")
        },
        subscriptionHomePage: function() {
            e("Subscription", "SubscriptionHomePage")
        },
        subscriptionBrowse: function() {
            e("Subscription", "SubscriptionBrowse")
        },
        subscriptionEmail: function() {
            e("Subscription", "SubscriptionEmail")
        },
        invest: function(t) {
            e("OfferingDetail", "Invest", t)
        },
        pitch: function(t) {
            e("OfferingDetail", "Pitch", t)
        },
        team: function(t) {
            e("OfferingDetail", "Team", t)
        },
        documents: function(t) {
            e("OfferingDetail", "Documents", t)
        },
        questions: function(t) {
            e("OfferingDetail", "Questions", t)
        },
        fundraising: function(t) {
            e("OfferingDetail", "Fundraising", t)
        },
        signedIn: function(t) {
            e("SignIn", "SignIn", t)
        },
        signInFailed: function(t) {
            e("SignIn", "SignInFailed", t)
        },
        registered: function(t) {
            e("CreateAccount", "AccountSuccess", t)
        },
        registerFailed: function(t) {
            e("CreateAccount", "AccountFailed", t)
        },
        videoStart: function(t) {
            e("video", "start", t)
        },
        videoFinish: function(t) {
            e("video", "finish", t)
        },
        outboundLink: function(t) {
            e("external", "click", t, 0, !0)
        },
        followStart: function(t) {
            e("OfferingDetail", "FollowStart", t)
        },
        unfollow: function(t) {
            e("OfferingDetail", "Unfollow", t)
        },
        followCreate: function(t) {
            e("OfferingDetail", "FollowCreate", t)
        },
        askAQuestionStart: function(t) {
            e("OfferingDetail", "AskAQuestionStart", t)
        },
        askAQuestionCreate: function(t) {
            e("OfferingDetail", "AskAQuestionCreate", t)
        },
        investAmount: function(t) {
            e("Investment", "CalculatorInvest", t)
        },
        profileIndividual: function(t) {
            e("Investment", "ProfileInvestIndividual", t)
        },
        profileEntity: function(t) {
            e("Investment", "ProfileInvestEntity", t)
        },
        profileEntityType: function(t, n) {
            n = "llc" === n ? "LLC" : n && n[0].toUpperCase() + n.slice(1), e("Investment", "Profile" + n, t)
        },
        profileLater: function(t) {
            e("Investment", "ProfileFinishLater", t)
        },
        profileSubmit: function(t) {
            e("Investment", "ProfileSubmit", t)
        },
        verifyIndividualIncome: function(t) {
            e("Investment", "AccreditationIndividualIncome", t)
        },
        verifyIndividualNetWorth: function(t) {
            e("Investment", "AccreditationIndividualNetWorth", t)
        },
        verifyIndividualThirdParty: function(t) {
            e("Investment", "AccreditationIndividualThirdParty", t)
        },
        verifyIndividualDocs: function(t) {
            e("Investment", "AccreditationIndividualDocs", t)
        },
        verifyIndividualDocsIndividual: function(t) {
            e("Investment", "AccreditationIndividualDocsIndividual", t)
        },
        verifyIndividualDocsJoint: function(t) {
            e("Investment", "AccreditationIndividualDocsJoint", t)
        },
        verifyEntityOffline: function(t) {
            e("Investment", "AccreditationEntityOffline", t)
        },
        verifyEntityThirdParty: function(t) {
            e("Investment", "AccreditationEntityThirdParty", t)
        },
        verifyLater: function(t) {
            e("Investment", "AccreditationFinishLater", t)
        },
        verifySubmit: function(t) {
            e("Investment", "AccreditationSubmit", t)
        },
        reviewLater: function(t) {
            e("Investment", "ReviewFinishLater", t)
        },
        reviewSubmit: function(t) {
            e("Investment", "ReviewSubmit", t)
        },
        signLater: function(t) {
            e("Investment", "SignCloseModal", t)
        },
        signSubmit: function(t) {
            e("Investment", "SignSuccess", t)
        },
        fundWire: function(t) {
            e("Investment", "FundWire", t)
        },
        fundCheck: function(t) {
            e("Investment", "FundCheck", t)
        },
        fundAch: function(t) {
            e("Investment", "FundAch", t)
        },
        fundCrypto: function(t) {
            e("Investment", "FundCrypto", t)
        },
        fundLater: function(t) {
            e("Investment", "FundFinishLater", t)
        },
        fundSubmit: function(t) {
            e("Investment", "FundSubmit", t)
        },
        dashEditAccreditation: function(t) {
            e("Dashboard", "EditAccreditation", t)
        },
        dashResendAccreditation: function(t) {
            e("Dashboard", "ResendAccreditation", t)
        },
        dashDownloadDocs: function(t) {
            e("Dashboard", "DownloadDocs", t)
        },
        dashEditPayment: function(t) {
            e("Dashboard", "EditPayment", t)
        },
        dashFundsSent: function(t) {
            e("Dashboard", "FundsSent", t)
        },
        successEditAccreditation: function(t) {
            e("SuccessPage", "EditAccreditation", t)
        },
        successDownloadDocs: function(t) {
            e("SuccessPage", "DownloadDocs", t)
        },
        successEditPayment: function(t) {
            e("SuccessPage", "EditPayment", t)
        },
        successFundsSent: function(t) {
            e("SuccessPage", "FundsSent", t)
        },
        browseSort: function(t) {
            e("Browse", "Sort", t)
        }
    }
}(window), function(t, e, n, i, o, a, s) {
    t.fbq || (o = t.fbq = function() {
        o.callMethod ? o.callMethod.apply(o, arguments) : o.queue.push(arguments)
    }, t._fbq || (t._fbq = o), o.push = o, o.loaded = !0, o.version = "2.0", o.queue = [], a = e.createElement(n), a.async = !0, a.src = i, s = e.getElementsByTagName(n)[0], s.parentNode.insertBefore(a, s))
}(window, document, "script", "https://connect.facebook.net/en_US/fbevents.js"), function(t) {
    function e(t, e, n) {
        var i = t.keyCode;
        return 27 == i ? (this.blur(), !1) : !(t.ctrlKey || 9 == i || 8 == i || 36 == i || 37 == i || 38 == i || 39 == i && (39 != i || "'" != e) || 40 == i || !e.match(n))
    }
    function n(t) {
        return t.ctrlKey || t.altKey || t.metaKey || t.keyCode == $.ui.keyCode.LEFT || t.keyCode == $.ui.keyCode.RIGHT || t.keyCode == $.ui.keyCode.TAB || t.keyCode == $.ui.keyCode.DEL || t.keyCode == $.ui.keyCode.BACKSPACE
    }
    function i(t) {
        t || (t = window.event);
        var e = null;
        return t.keyCode ? e = t.keyCode : t.which && (e = t.which), String.fromCharCode(e)
    }
    function o(t) {
        var e = document.activeElement.value.replace(/,/g, "");
        return e.slice(0, document.activeElement.selectionStart) + t + e.slice(document.activeElement.selectionEnd)
    }
    function a(t, a) {
        var s = o(""),
            l = i(t);
        if (e(t, l, r) && ("." != l || s.indexOf(".") < 0)) {
            var c = o(l);
            return a <= 0 || accounting.unformat(c) <= a
        }
        return n(t)
    }
    var s = /[1234567890]/g,
        r = /[0-9\.]/g,
        l = /[A-Za-z]/g;
    t.FF.restrictCharacters = e, t.FF.floatInput = a
}(window), $(document).ready(function() {
    function t(t) {
        t.wrap("<div class='table-wrapper' />");
        var e = t.clone();
        e.find("td:not(:first-child), th:not(:first-child)").css("display", "none"), e.removeClass("responsive"), t.closest(".table-wrapper").append(e), e.wrap("<div class='pinned' />"), t.wrap("<div class='scrollable' />")
    }
    function e(t) {
        t.closest(".table-wrapper").find(".pinned").remove(), t.unwrap(), t.unwrap()
    }
    var n = {},
        i = function() {
            if (im.lessThan("desktop"))
                return $("table.responsive").each(function(e, i) {
                    var o = $(i).attr("id");
                    n[o] || (n[o] = !0, t($(i)))
                }), !0;
            $("table.responsive").each(function(t, i) {
                var o = $(i).attr("id");
                n[o] && (n[o] = !1, e($(i)))
            })
        };
    $(window).load(i), $(window).bind("resize", i),
    window.FF.updateTables = function(t) {
        n[t] = !1, i(t)
    }
}), function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.moment = e()
}(this, function() {
    "use strict";
    function t() {
        return mi.apply(null, arguments)
    }
    function e(t) {
        mi = t
    }
    function n(t) {
        return t instanceof Array || "[object Array]" === Object.prototype.toString.call(t)
    }
    function i(t) {
        return null != t && "[object Object]" === Object.prototype.toString.call(t)
    }
    function o(t) {
        var e;
        for (e in t)
            return !1;
        return !0
    }
    function a(t) {
        return "number" == typeof t || "[object Number]" === Object.prototype.toString.call(t)
    }
    function s(t) {
        return t instanceof Date || "[object Date]" === Object.prototype.toString.call(t)
    }
    function r(t, e) {
        var n = [],
            i;
        for (i = 0; i < t.length; ++i)
            n.push(e(t[i], i));
        return n
    }
    function l(t, e) {
        return Object.prototype.hasOwnProperty.call(t, e)
    }
    function c(t, e) {
        for (var n in e)
            l(e, n) && (t[n] = e[n]);
        return l(e, "toString") && (t.toString = e.toString), l(e, "valueOf") && (t.valueOf = e.valueOf), t
    }
    function u(t, e, n, i) {
        return ve(t, e, n, i, !0).utc()
    }
    function d() {
        return {
            empty: !1,
            unusedTokens: [],
            unusedInput: [],
            overflow: -2,
            charsLeftOver: 0,
            nullInput: !1,
            invalidMonth: null,
            invalidFormat: !1,
            userInvalidated: !1,
            iso: !1,
            parsedDateParts: [],
            meridiem: null
        }
    }
    function h(t) {
        return null == t._pf && (t._pf = d()), t._pf
    }
    function f(t) {
        if (null == t._isValid) {
            var e = h(t),
                n = vi.call(e.parsedDateParts, function(t) {
                    return null != t
                }),
                i = !isNaN(t._d.getTime()) && e.overflow < 0 && !e.empty && !e.invalidMonth && !e.invalidWeekday && !e.nullInput && !e.invalidFormat && !e.userInvalidated && (!e.meridiem || e.meridiem && n);
            if (t._strict && (i = i && 0 === e.charsLeftOver && 0 === e.unusedTokens.length && e.bigHour === undefined), null != Object.isFrozen && Object.isFrozen(t))
                return i;
            t._isValid = i
        }
        return t._isValid
    }
    function p(t) {
        var e = u(NaN);
        return null != t ? c(h(e), t) : h(e).userInvalidated = !0, e
    }
    function m(t) {
        return void 0 === t
    }
    function g(t, e) {
        var n,
            i,
            o;
        if (m(e._isAMomentObject) || (t._isAMomentObject = e._isAMomentObject), m(e._i) || (t._i = e._i), m(e._f) || (t._f = e._f), m(e._l) || (t._l = e._l), m(e._strict) || (t._strict = e._strict), m(e._tzm) || (t._tzm = e._tzm), m(e._isUTC) || (t._isUTC = e._isUTC), m(e._offset) || (t._offset = e._offset), m(e._pf) || (t._pf = h(e)), m(e._locale) || (t._locale = e._locale), bi.length > 0)
            for (n in bi)
                i = bi[n], o = e[i], m(o) || (t[i] = o);
        return t
    }
    function v(e) {
        g(this, e), this._d = new Date(null != e._d ? e._d.getTime() : NaN), this.isValid() || (this._d = new Date(NaN)), !1 === Ei && (Ei = !0, t.updateOffset(this), Ei = !1)
    }
    function b(t) {
        return t instanceof v || null != t && null != t._isAMomentObject
    }
    function E(t) {
        return t < 0 ? Math.ceil(t) || 0 : Math.floor(t)
    }
    function y(t) {
        var e = +t,
            n = 0;
        return 0 !== e && isFinite(e) && (n = E(e)), n
    }
    function T(t, e, n) {
        var i = Math.min(t.length, e.length),
            o = Math.abs(t.length - e.length),
            a = 0,
            s;
        for (s = 0; s < i; s++)
            (n && t[s] !== e[s] || !n && y(t[s]) !== y(e[s])) && a++;
        return a + o
    }
    function C(e) {
        !1 === t.suppressDeprecationWarnings && "undefined" != typeof console && console.warn && console.warn("Deprecation warning: " + e)
    }
    function _(e, n) {
        var i = !0;
        return c(function() {
            if (null != t.deprecationHandler && t.deprecationHandler(null, e), i) {
                for (var o = [], a, s = 0; s < arguments.length; s++) {
                    if (a = "", "object" == typeof arguments[s]) {
                        a += "\n[" + s + "] ";
                        for (var r in arguments[0])
                            a += r + ": " + arguments[0][r] + ", ";
                        a = a.slice(0, -2)
                    } else
                        a = arguments[s];
                    o.push(a)
                }
                C(e + "\nArguments: " + Array.prototype.slice.call(o).join("") + "\n" + (new Error).stack), i = !1
            }
            return n.apply(this, arguments)
        }, n)
    }
    function D(e, n) {
        null != t.deprecationHandler && t.deprecationHandler(e, n), yi[e] || (C(n), yi[e] = !0)
    }
    function I(t) {
        return t instanceof Function || "[object Function]" === Object.prototype.toString.call(t)
    }
    function O(t) {
        var e,
            n;
        for (n in t)
            e = t[n], I(e) ? this[n] = e : this["_" + n] = e;
        this._config = t, this._ordinalParseLenient = new RegExp(this._ordinalParse.source + "|" + /\d{1,2}/.source)
    }
    function R(t, e) {
        var n = c({}, t),
            o;
        for (o in e)
            l(e, o) && (i(t[o]) && i(e[o]) ? (n[o] = {}, c(n[o], t[o]), c(n[o], e[o])) : null != e[o] ? n[o] = e[o] : delete n[o]);
        for (o in t)
            l(t, o) && !l(e, o) && i(t[o]) && (n[o] = c({}, n[o]));
        return n
    }
    function k(t) {
        null != t && this.set(t)
    }
    function w(t, e, n) {
        var i = this._calendar[t] || this._calendar.sameElse;
        return I(i) ? i.call(e, n) : i
    }
    function x(t) {
        var e = this._longDateFormat[t],
            n = this._longDateFormat[t.toUpperCase()];
        return e || !n ? e : (this._longDateFormat[t] = n.replace(/MMMM|MM|DD|dddd/g, function(t) {
            return t.slice(1)
        }), this._longDateFormat[t])
    }
    function S() {
        return this._invalidDate
    }
    function K(t) {
        return this._ordinal.replace("%d", t)
    }
    function N(t, e, n, i) {
        var o = this._relativeTime[n];
        return I(o) ? o(t, e, n, i) : o.replace(/%d/i, t)
    }
    function A(t, e) {
        var n = this._relativeTime[t > 0 ? "future" : "past"];
        return I(n) ? n(e) : n.replace(/%s/i, e)
    }
    function F(t, e) {
        var n = t.toLowerCase();
        wi[n] = wi[n + "s"] = wi[e] = t
    }
    function P(t) {
        return "string" == typeof t ? wi[t] || wi[t.toLowerCase()] : undefined
    }
    function L(t) {
        var e = {},
            n,
            i;
        for (i in t)
            l(t, i) && (n = P(i)) && (e[n] = t[i]);
        return e
    }
    function $(t, e) {
        xi[t] = e
    }
    function M(t) {
        var e = [];
        for (var n in t)
            e.push({
                unit: n,
                priority: xi[n]
            });
        return e.sort(function(t, e) {
            return t.priority - e.priority
        }), e
    }
    function B(e, n) {
        return function(i) {
            return null != i ? (z(this, e, i), t.updateOffset(this, n), this) : H(this, e)
        }
    }
    function H(t, e) {
        return t.isValid() ? t._d["get" + (t._isUTC ? "UTC" : "") + e]() : NaN
    }
    function z(t, e, n) {
        t.isValid() && t._d["set" + (t._isUTC ? "UTC" : "") + e](n)
    }
    function j(t) {
        return t = P(t), I(this[t]) ? this[t]() : this
    }
    function W(t, e) {
        if ("object" == typeof t) {
            t = L(t);
            for (var n = M(t), i = 0; i < n.length; i++)
                this[n[i].unit](t[n[i].unit])
        } else if (t = P(t), I(this[t]))
            return this[t](e);
        return this
    }
    function q(t, e, n) {
        var i = "" + Math.abs(t),
            o = e - i.length;
        return (t >= 0 ? n ? "+" : "" : "-") + Math.pow(10, Math.max(0, o)).toString().substr(1) + i
    }
    function V(t, e, n, i) {
        var o = i;
        "string" == typeof i && (o = function() {
            return this[i]()
        }), t && (Ai[t] = o), e && (Ai[e[0]] = function() {
            return q(o.apply(this, arguments), e[1], e[2])
        }), n && (Ai[n] = function() {
            return this.localeData().ordinal(o.apply(this, arguments), t)
        })
    }
    function U(t) {
        return t.match(/\[[\s\S]/) ? t.replace(/^\[|\]$/g, "") : t.replace(/\\/g, "")
    }
    function Y(t) {
        var e = t.match(Si),
            n,
            i;
        for (n = 0, i = e.length; n < i; n++)
            Ai[e[n]] ? e[n] = Ai[e[n]] : e[n] = U(e[n]);
        return function(n) {
            var o = "",
                a;
            for (a = 0; a < i; a++)
                o += e[a] instanceof Function ? e[a].call(n, t) : e[a];
            return o
        }
    }
    function X(t, e) {
        return t.isValid() ? (e = G(e, t.localeData()), Ni[e] = Ni[e] || Y(e), Ni[e](t)) : t.localeData().invalidDate()
    }
    function G(t, e) {
        function n(t) {
            return e.longDateFormat(t) || t
        }
        var i = 5;
        for (Ki.lastIndex = 0; i >= 0 && Ki.test(t);)
            t = t.replace(Ki, n), Ki.lastIndex = 0, i -= 1;
        return t
    }
    function Z(t, e, n) {
        Qi[t] = I(e) ? e : function(t, i) {
            return t && n ? n : e
        }
    }
    function Q(t, e) {
        return l(Qi, t) ? Qi[t](e._strict, e._locale) : new RegExp(J(t))
    }
    function J(t) {
        return tt(t.replace("\\", "").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g, function(t, e, n, i, o) {
            return e || n || i || o
        }))
    }
    function tt(t) {
        return t.replace(/[-\/\\^$*+?.()|[\]{}]/g, "\\$&")
    }
    function et(t, e) {
        var n,
            i = e;
        for ("string" == typeof t && (t = [t]), a(e) && (i = function(t, n) {
            n[e] = y(t)
        }), n = 0; n < t.length; n++)
            Ji[t[n]] = i
    }
    function nt(t, e) {
        et(t, function(t, n, i, o) {
            i._w = i._w || {}, e(t, i._w, i, o)
        })
    }
    function it(t, e, n) {
        null != e && l(Ji, t) && Ji[t](e, n._a, n, t)
    }
    function ot(t, e) {
        return new Date(Date.UTC(t, e + 1, 0)).getUTCDate()
    }
    function at(t, e) {
        return t ? n(this._months) ? this._months[t.month()] : this._months[(this._months.isFormat || ho).test(e) ? "format" : "standalone"][t.month()] : this._months
    }
    function st(t, e) {
        return t ? n(this._monthsShort) ? this._monthsShort[t.month()] : this._monthsShort[ho.test(e) ? "format" : "standalone"][t.month()] : this._monthsShort
    }
    function rt(t, e, n) {
        var i,
            o,
            a,
            s = t.toLocaleLowerCase();
        if (!this._monthsParse)
            for (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = [], i = 0; i < 12; ++i)
                a = u([2e3, i]), this._shortMonthsParse[i] = this.monthsShort(a, "").toLocaleLowerCase(), this._longMonthsParse[i] = this.months(a, "").toLocaleLowerCase();
        return n ? "MMM" === e ? (o = uo.call(this._shortMonthsParse, s), -1 !== o ? o : null) : (o = uo.call(this._longMonthsParse, s), -1 !== o ? o : null) : "MMM" === e ? -1 !== (o = uo.call(this._shortMonthsParse, s)) ? o : (o = uo.call(this._longMonthsParse, s), -1 !== o ? o : null) : -1 !== (o = uo.call(this._longMonthsParse, s)) ? o : (o = uo.call(this._shortMonthsParse, s), -1 !== o ? o : null)
    }
    function lt(t, e, n) {
        var i,
            o,
            a;
        if (this._monthsParseExact)
            return rt.call(this, t, e, n);
        for (this._monthsParse || (this._monthsParse = [], this._longMonthsParse = [], this._shortMonthsParse = []), i = 0; i < 12; i++) {
            if (o = u([2e3, i]), n && !this._longMonthsParse[i] && (this._longMonthsParse[i] = new RegExp("^" + this.months(o, "").replace(".", "") + "$", "i"), this._shortMonthsParse[i] = new RegExp("^" + this.monthsShort(o, "").replace(".", "") + "$", "i")), n || this._monthsParse[i] || (a = "^" + this.months(o, "") + "|^" + this.monthsShort(o, ""), this._monthsParse[i] = new RegExp(a.replace(".", ""), "i")), n && "MMMM" === e && this._longMonthsParse[i].test(t))
                return i;
            if (n && "MMM" === e && this._shortMonthsParse[i].test(t))
                return i;
            if (!n && this._monthsParse[i].test(t))
                return i
        }
    }
    function ct(t, e) {
        var n;
        if (!t.isValid())
            return t;
        if ("string" == typeof e)
            if (/^\d+$/.test(e))
                e = y(e);
            else if (e = t.localeData().monthsParse(e), !a(e))
                return t;
        return n = Math.min(t.date(), ot(t.year(), e)), t._d["set" + (t._isUTC ? "UTC" : "") + "Month"](e, n), t
    }
    function ut(e) {
        return null != e ? (ct(this, e), t.updateOffset(this, !0), this) : H(this, "Month")
    }
    function dt() {
        return ot(this.year(), this.month())
    }
    function ht(t) {
        return this._monthsParseExact ? (l(this, "_monthsRegex") || pt.call(this), t ? this._monthsShortStrictRegex : this._monthsShortRegex) : (l(this, "_monthsShortRegex") || (this._monthsShortRegex = mo), this._monthsShortStrictRegex && t ? this._monthsShortStrictRegex : this._monthsShortRegex)
    }
    function ft(t) {
        return this._monthsParseExact ? (l(this, "_monthsRegex") || pt.call(this), t ? this._monthsStrictRegex : this._monthsRegex) : (l(this, "_monthsRegex") || (this._monthsRegex = go), this._monthsStrictRegex && t ? this._monthsStrictRegex : this._monthsRegex)
    }
    function pt() {
        function t(t, e) {
            return e.length - t.length
        }
        var e = [],
            n = [],
            i = [],
            o,
            a;
        for (o = 0; o < 12; o++)
            a = u([2e3, o]), e.push(this.monthsShort(a, "")), n.push(this.months(a, "")), i.push(this.months(a, "")), i.push(this.monthsShort(a, ""));
        for (e.sort(t), n.sort(t), i.sort(t), o = 0; o < 12; o++)
            e[o] = tt(e[o]), n[o] = tt(n[o]);
        for (o = 0; o < 24; o++)
            i[o] = tt(i[o]);
        this._monthsRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._monthsShortRegex = this._monthsRegex, this._monthsStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._monthsShortStrictRegex = new RegExp("^(" + e.join("|") + ")", "i")
    }
    function mt(t) {
        return gt(t) ? 366 : 365
    }
    function gt(t) {
        return t % 4 == 0 && t % 100 != 0 || t % 400 == 0
    }
    function vt() {
        return gt(this.year())
    }
    function bt(t, e, n, i, o, a, s) {
        var r = new Date(t, e, n, i, o, a, s);
        return t < 100 && t >= 0 && isFinite(r.getFullYear()) && r.setFullYear(t), r
    }
    function Et(t) {
        var e = new Date(Date.UTC.apply(null, arguments));
        return t < 100 && t >= 0 && isFinite(e.getUTCFullYear()) && e.setUTCFullYear(t), e
    }
    function yt(t, e, n) {
        var i = 7 + e - n;
        return -(7 + Et(t, 0, i).getUTCDay() - e) % 7 + i - 1
    }
    function Tt(t, e, n, i, o) {
        var a = (7 + n - i) % 7,
            s = yt(t, i, o),
            r = 1 + 7 * (e - 1) + a + s,
            l,
            c;
        return r <= 0 ? (l = t - 1, c = mt(l) + r) : r > mt(t) ? (l = t + 1, c = r - mt(t)) : (l = t, c = r), {
            year: l,
            dayOfYear: c
        }
    }
    function Ct(t, e, n) {
        var i = yt(t.year(), e, n),
            o = Math.floor((t.dayOfYear() - i - 1) / 7) + 1,
            a,
            s;
        return o < 1 ? (s = t.year() - 1, a = o + _t(s, e, n)) : o > _t(t.year(), e, n) ? (a = o - _t(t.year(), e, n), s = t.year() + 1) : (s = t.year(), a = o), {
            week: a,
            year: s
        }
    }
    function _t(t, e, n) {
        var i = yt(t, e, n),
            o = yt(t + 1, e, n);
        return (mt(t) - i + o) / 7
    }
    function Dt(t) {
        return Ct(t, this._week.dow, this._week.doy).week
    }
    function It() {
        return this._week.dow
    }
    function Ot() {
        return this._week.doy
    }
    function Rt(t) {
        var e = this.localeData().week(this);
        return null == t ? e : this.add(7 * (t - e), "d")
    }
    function kt(t) {
        var e = Ct(this, 1, 4).week;
        return null == t ? e : this.add(7 * (t - e), "d")
    }
    function wt(t, e) {
        return "string" != typeof t ? t : isNaN(t) ? (t = e.weekdaysParse(t), "number" == typeof t ? t : null) : parseInt(t, 10)
    }
    function xt(t, e) {
        return "string" == typeof t ? e.weekdaysParse(t) % 7 || 7 : isNaN(t) ? null : t
    }
    function St(t, e) {
        return t ? n(this._weekdays) ? this._weekdays[t.day()] : this._weekdays[this._weekdays.isFormat.test(e) ? "format" : "standalone"][t.day()] : this._weekdays
    }
    function Kt(t) {
        return t ? this._weekdaysShort[t.day()] : this._weekdaysShort
    }
    function Nt(t) {
        return t ? this._weekdaysMin[t.day()] : this._weekdaysMin
    }
    function At(t, e, n) {
        var i,
            o,
            a,
            s = t.toLocaleLowerCase();
        if (!this._weekdaysParse)
            for (this._weekdaysParse = [], this._shortWeekdaysParse = [], this._minWeekdaysParse = [], i = 0; i < 7; ++i)
                a = u([2e3, 1]).day(i), this._minWeekdaysParse[i] = this.weekdaysMin(a, "").toLocaleLowerCase(), this._shortWeekdaysParse[i] = this.weekdaysShort(a, "").toLocaleLowerCase(), this._weekdaysParse[i] = this.weekdays(a, "").toLocaleLowerCase();
        return n ? "dddd" === e ? (o = uo.call(this._weekdaysParse, s), -1 !== o ? o : null) : "ddd" === e ? (o = uo.call(this._shortWeekdaysParse, s), -1 !== o ? o : null) : (o = uo.call(this._minWeekdaysParse, s), -1 !== o ? o : null) : "dddd" === e ? -1 !== (o = uo.call(this._weekdaysParse, s)) ? o : -1 !== (o = uo.call(this._shortWeekdaysParse, s)) ? o : (o = uo.call(this._minWeekdaysParse, s), -1 !== o ? o : null) : "ddd" === e ? -1 !== (o = uo.call(this._shortWeekdaysParse, s)) ? o : -1 !== (o = uo.call(this._weekdaysParse, s)) ? o : (o = uo.call(this._minWeekdaysParse, s), -1 !== o ? o : null) : -1 !== (o = uo.call(this._minWeekdaysParse, s)) ? o : -1 !== (o = uo.call(this._weekdaysParse, s)) ? o : (o = uo.call(this._shortWeekdaysParse, s), -1 !== o ? o : null)
    }
    function Ft(t, e, n) {
        var i,
            o,
            a;
        if (this._weekdaysParseExact)
            return At.call(this, t, e, n);
        for (this._weekdaysParse || (this._weekdaysParse = [], this._minWeekdaysParse = [], this._shortWeekdaysParse = [], this._fullWeekdaysParse = []), i = 0; i < 7; i++) {
            if (o = u([2e3, 1]).day(i), n && !this._fullWeekdaysParse[i] && (this._fullWeekdaysParse[i] = new RegExp("^" + this.weekdays(o, "").replace(".", ".?") + "$", "i"), this._shortWeekdaysParse[i] = new RegExp("^" + this.weekdaysShort(o, "").replace(".", ".?") + "$", "i"), this._minWeekdaysParse[i] = new RegExp("^" + this.weekdaysMin(o, "").replace(".", ".?") + "$", "i")), this._weekdaysParse[i] || (a = "^" + this.weekdays(o, "") + "|^" + this.weekdaysShort(o, "") + "|^" + this.weekdaysMin(o, ""), this._weekdaysParse[i] = new RegExp(a.replace(".", ""), "i")), n && "dddd" === e && this._fullWeekdaysParse[i].test(t))
                return i;
            if (n && "ddd" === e && this._shortWeekdaysParse[i].test(t))
                return i;
            if (n && "dd" === e && this._minWeekdaysParse[i].test(t))
                return i;
            if (!n && this._weekdaysParse[i].test(t))
                return i
        }
    }
    function Pt(t) {
        if (!this.isValid())
            return null != t ? this : NaN;
        var e = this._isUTC ? this._d.getUTCDay() : this._d.getDay();
        return null != t ? (t = wt(t, this.localeData()), this.add(t - e, "d")) : e
    }
    function Lt(t) {
        if (!this.isValid())
            return null != t ? this : NaN;
        var e = (this.day() + 7 - this.localeData()._week.dow) % 7;
        return null == t ? e : this.add(t - e, "d")
    }
    function $t(t) {
        if (!this.isValid())
            return null != t ? this : NaN;
        if (null != t) {
            var e = xt(t, this.localeData());
            return this.day(this.day() % 7 ? e : e - 7)
        }
        return this.day() || 7
    }
    function Mt(t) {
        return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || zt.call(this), t ? this._weekdaysStrictRegex : this._weekdaysRegex) : (l(this, "_weekdaysRegex") || (this._weekdaysRegex = Co), this._weekdaysStrictRegex && t ? this._weekdaysStrictRegex : this._weekdaysRegex)
    }
    function Bt(t) {
        return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || zt.call(this), t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex) : (l(this, "_weekdaysShortRegex") || (this._weekdaysShortRegex = _o), this._weekdaysShortStrictRegex && t ? this._weekdaysShortStrictRegex : this._weekdaysShortRegex)
    }
    function Ht(t) {
        return this._weekdaysParseExact ? (l(this, "_weekdaysRegex") || zt.call(this), t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex) : (l(this, "_weekdaysMinRegex") || (this._weekdaysMinRegex = Do), this._weekdaysMinStrictRegex && t ? this._weekdaysMinStrictRegex : this._weekdaysMinRegex)
    }
    function zt() {
        function t(t, e) {
            return e.length - t.length
        }
        var e = [],
            n = [],
            i = [],
            o = [],
            a,
            s,
            r,
            l,
            c;
        for (a = 0; a < 7; a++)
            s = u([2e3, 1]).day(a), r = this.weekdaysMin(s, ""), l = this.weekdaysShort(s, ""), c = this.weekdays(s, ""), e.push(r), n.push(l), i.push(c), o.push(r), o.push(l), o.push(c);
        for (e.sort(t), n.sort(t), i.sort(t), o.sort(t), a = 0; a < 7; a++)
            n[a] = tt(n[a]), i[a] = tt(i[a]), o[a] = tt(o[a]);
        this._weekdaysRegex = new RegExp("^(" + o.join("|") + ")", "i"), this._weekdaysShortRegex = this._weekdaysRegex, this._weekdaysMinRegex = this._weekdaysRegex, this._weekdaysStrictRegex = new RegExp("^(" + i.join("|") + ")", "i"), this._weekdaysShortStrictRegex = new RegExp("^(" + n.join("|") + ")", "i"), this._weekdaysMinStrictRegex = new RegExp("^(" + e.join("|") + ")", "i")
    }
    function jt() {
        return this.hours() % 12 || 12
    }
    function Wt() {
        return this.hours() || 24
    }
    function qt(t, e) {
        V(t, 0, 0, function() {
            return this.localeData().meridiem(this.hours(), this.minutes(), e)
        })
    }
    function Vt(t, e) {
        return e._meridiemParse
    }
    function Ut(t) {
        return "p" === (t + "").toLowerCase().charAt(0)
    }
    function Yt(t, e, n) {
        return t > 11 ? n ? "pm" : "PM" : n ? "am" : "AM"
    }
    function Xt(t) {
        return t ? t.toLowerCase().replace("_", "-") : t
    }
    function Gt(t) {
        for (var e = 0, n, i, o, a; e < t.length;) {
            for (a = Xt(t[e]).split("-"), n = a.length, i = Xt(t[e + 1]), i = i ? i.split("-") : null; n > 0;) {
                if (o = Zt(a.slice(0, n).join("-")))
                    return o;
                if (i && i.length >= n && T(a, i, !0) >= n - 1)
                    break;
                n--
            }
            e++
        }
        return null
    }
    function Zt(t) {
        var e = null;
        if (!ko[t] && "undefined" != typeof module && module && module.exports)
            try {
                e = xo._abbr, require("./locale/" + t), Qt(e)
            } catch (t) {}
        return ko[t]
    }
    function Qt(t, e) {
        var n;
        return t && (n = m(e) ? ee(t) : Jt(t, e)) && (xo = n), xo._abbr
    }
    function Jt(t, e) {
        if (null !== e) {
            var n = Ro;
            if (e.abbr = t, null != ko[t])
                D("defineLocaleOverride", "use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."), n = ko[t]._config;
            else if (null != e.parentLocale) {
                if (null == ko[e.parentLocale])
                    return wo[e.parentLocale] || (wo[e.parentLocale] = []), wo[e.parentLocale].push({
                        name: t,
                        config: e
                    }), null;
                n = ko[e.parentLocale]._config
            }
            return ko[t] = new k(R(n, e)), wo[t] && wo[t].forEach(function(t) {
                Jt(t.name, t.config)
            }), Qt(t), ko[t]
        }
        return delete ko[t], null
    }
    function te(t, e) {
        if (null != e) {
            var n,
                i = Ro;
            null != ko[t] && (i = ko[t]._config), e = R(i, e), n = new k(e), n.parentLocale = ko[t], ko[t] = n, Qt(t)
        } else
            null != ko[t] && (null != ko[t].parentLocale ? ko[t] = ko[t].parentLocale : null != ko[t] && delete ko[t]);
        return ko[t]
    }
    function ee(t) {
        var e;
        if (t && t._locale && t._locale._abbr && (t = t._locale._abbr), !t)
            return xo;
        if (!n(t)) {
            if (e = Zt(t))
                return e;
            t = [t]
        }
        return Gt(t)
    }
    function ne() {
        return Ci(ko)
    }
    function ie(t) {
        var e,
            n = t._a;
        return n && -2 === h(t).overflow && (e = n[eo] < 0 || n[eo] > 11 ? eo : n[no] < 1 || n[no] > ot(n[to], n[eo]) ? no : n[io] < 0 || n[io] > 24 || 24 === n[io] && (0 !== n[oo] || 0 !== n[ao] || 0 !== n[so]) ? io : n[oo] < 0 || n[oo] > 59 ? oo : n[ao] < 0 || n[ao] > 59 ? ao : n[so] < 0 || n[so] > 999 ? so : -1, h(t)._overflowDayOfYear && (e < to || e > no) && (e = no), h(t)._overflowWeeks && -1 === e && (e = ro), h(t)._overflowWeekday && -1 === e && (e = lo), h(t).overflow = e), t
    }
    function oe(t) {
        var e,
            n,
            i = t._i,
            o = So.exec(i) || Ko.exec(i),
            a,
            s,
            r,
            l;
        if (o) {
            for (h(t).iso = !0, e = 0, n = Ao.length; e < n; e++)
                if (Ao[e][1].exec(o[1])) {
                    s = Ao[e][0], a = !1 !== Ao[e][2];
                    break
                }
            if (null == s)
                return void (t._isValid = !1);
            if (o[3]) {
                for (e = 0, n = Fo.length; e < n; e++)
                    if (Fo[e][1].exec(o[3])) {
                        r = (o[2] || " ") + Fo[e][0];
                        break
                    }
                if (null == r)
                    return void (t._isValid = !1)
            }
            if (!a && null != r)
                return void (t._isValid = !1);
            if (o[4]) {
                if (!No.exec(o[4]))
                    return void (t._isValid = !1);
                l = "Z"
            }
            t._f = s + (r || "") + (l || ""), ue(t)
        } else
            t._isValid = !1
    }
    function ae(e) {
        var n = Po.exec(e._i);
        if (null !== n)
            return void (e._d = new Date(+n[1]));
        oe(e), !1 === e._isValid && (delete e._isValid, t.createFromInputFallback(e))
    }
    function se(t, e, n) {
        return null != t ? t : null != e ? e : n
    }
    function re(e) {
        var n = new Date(t.now());
        return e._useUTC ? [n.getUTCFullYear(), n.getUTCMonth(), n.getUTCDate()] : [n.getFullYear(), n.getMonth(), n.getDate()]
    }
    function le(t) {
        var e,
            n,
            i = [],
            o,
            a;
        if (!t._d) {
            for (o = re(t), t._w && null == t._a[no] && null == t._a[eo] && ce(t), t._dayOfYear && (a = se(t._a[to], o[to]), t._dayOfYear > mt(a) && (h(t)._overflowDayOfYear = !0), n = Et(a, 0, t._dayOfYear), t._a[eo] = n.getUTCMonth(), t._a[no] = n.getUTCDate()), e = 0; e < 3 && null == t._a[e]; ++e)
                t._a[e] = i[e] = o[e];
            for (; e < 7; e++)
                t._a[e] = i[e] = null == t._a[e] ? 2 === e ? 1 : 0 : t._a[e];
            24 === t._a[io] && 0 === t._a[oo] && 0 === t._a[ao] && 0 === t._a[so] && (t._nextDay = !0, t._a[io] = 0), t._d = (t._useUTC ? Et : bt).apply(null, i), null != t._tzm && t._d.setUTCMinutes(t._d.getUTCMinutes() - t._tzm), t._nextDay && (t._a[io] = 24)
        }
    }
    function ce(t) {
        var e,
            n,
            i,
            o,
            a,
            s,
            r,
            l;
        if (e = t._w, null != e.GG || null != e.W || null != e.E)
            a = 1, s = 4, n = se(e.GG, t._a[to], Ct(be(), 1, 4).year), i = se(e.W, 1), ((o = se(e.E, 1)) < 1 || o > 7) && (l = !0);
        else {
            a = t._locale._week.dow, s = t._locale._week.doy;
            var c = Ct(be(), a, s);
            n = se(e.gg, t._a[to], c.year), i = se(e.w, c.week), null != e.d ? ((o = e.d) < 0 || o > 6) && (l = !0) : null != e.e ? (o = e.e + a, (e.e < 0 || e.e > 6) && (l = !0)) : o = a
        }
        i < 1 || i > _t(n, a, s) ? h(t)._overflowWeeks = !0 : null != l ? h(t)._overflowWeekday = !0 : (r = Tt(n, i, o, a, s), t._a[to] = r.year, t._dayOfYear = r.dayOfYear)
    }
    function ue(e) {
        if (e._f === t.ISO_8601)
            return void oe(e);
        e._a = [], h(e).empty = !0;
        var n = "" + e._i,
            i,
            o,
            a,
            s,
            r,
            l = n.length,
            c = 0;
        for (a = G(e._f, e._locale).match(Si) || [], i = 0; i < a.length; i++)
            s = a[i], o = (n.match(Q(s, e)) || [])[0], o && (r = n.substr(0, n.indexOf(o)), r.length > 0 && h(e).unusedInput.push(r), n = n.slice(n.indexOf(o) + o.length), c += o.length), Ai[s] ? (o ? h(e).empty = !1 : h(e).unusedTokens.push(s), it(s, o, e)) : e._strict && !o && h(e).unusedTokens.push(s);
        h(e).charsLeftOver = l - c, n.length > 0 && h(e).unusedInput.push(n), e._a[io] <= 12 && !0 === h(e).bigHour && e._a[io] > 0 && (h(e).bigHour = undefined), h(e).parsedDateParts = e._a.slice(0), h(e).meridiem = e._meridiem, e._a[io] = de(e._locale, e._a[io], e._meridiem), le(e), ie(e)
    }
    function de(t, e, n) {
        var i;
        return null == n ? e : null != t.meridiemHour ? t.meridiemHour(e, n) : null != t.isPM ? (i = t.isPM(n), i && e < 12 && (e += 12), i || 12 !== e || (e = 0), e) : e
    }
    function he(t) {
        var e,
            n,
            i,
            o,
            a;
        if (0 === t._f.length)
            return h(t).invalidFormat = !0, void (t._d = new Date(NaN));
        for (o = 0; o < t._f.length; o++)
            a = 0, e = g({}, t), null != t._useUTC && (e._useUTC = t._useUTC), e._f = t._f[o], ue(e), f(e) && (a += h(e).charsLeftOver, a += 10 * h(e).unusedTokens.length, h(e).score = a, (null == i || a < i) && (i = a, n = e));
        c(t, n || e)
    }
    function fe(t) {
        if (!t._d) {
            var e = L(t._i);
            t._a = r([e.year, e.month, e.day || e.date, e.hour, e.minute, e.second, e.millisecond], function(t) {
                return t && parseInt(t, 10)
            }), le(t)
        }
    }
    function pe(t) {
        var e = new v(ie(me(t)));
        return e._nextDay && (e.add(1, "d"), e._nextDay = undefined), e
    }
    function me(t) {
        var e = t._i,
            i = t._f;
        return t._locale = t._locale || ee(t._l), null === e || i === undefined && "" === e ? p({
            nullInput: !0
        }) : ("string" == typeof e && (t._i = e = t._locale.preparse(e)), b(e) ? new v(ie(e)) : (s(e) ? t._d = e : n(i) ? he(t) : i ? ue(t) : ge(t), f(t) || (t._d = null), t))
    }
    function ge(e) {
        var i = e._i;
        i === undefined ? e._d = new Date(t.now()) : s(i) ? e._d = new Date(i.valueOf()) : "string" == typeof i ? ae(e) : n(i) ? (e._a = r(i.slice(0), function(t) {
            return parseInt(t, 10)
        }), le(e)) : "object" == typeof i ? fe(e) : a(i) ? e._d = new Date(i) : t.createFromInputFallback(e)
    }
    function ve(t, e, a, s, r) {
        var l = {};
        return !0 !== a && !1 !== a || (s = a, a = undefined), (i(t) && o(t) || n(t) && 0 === t.length) && (t = undefined), l._isAMomentObject = !0, l._useUTC = l._isUTC = r, l._l = a, l._i = t, l._f = e, l._strict = s, pe(l)
    }
    function be(t, e, n, i) {
        return ve(t, e, n, i, !1)
    }
    function Ee(t, e) {
        var i,
            o;
        if (1 === e.length && n(e[0]) && (e = e[0]), !e.length)
            return be();
        for (i = e[0], o = 1; o < e.length; ++o)
            e[o].isValid() && !e[o][t](i) || (i = e[o]);
        return i
    }
    function ye() {
        return Ee("isBefore", [].slice.call(arguments, 0))
    }
    function Te() {
        return Ee("isAfter", [].slice.call(arguments, 0))
    }
    function Ce(t) {
        var e = L(t),
            n = e.year || 0,
            i = e.quarter || 0,
            o = e.month || 0,
            a = e.week || 0,
            s = e.day || 0,
            r = e.hour || 0,
            l = e.minute || 0,
            c = e.second || 0,
            u = e.millisecond || 0;
        this._milliseconds = +u + 1e3 * c + 6e4 * l + 1e3 * r * 60 * 60, this._days = +s + 7 * a, this._months = +o + 3 * i + 12 * n, this._data = {}, this._locale = ee(), this._bubble()
    }
    function _e(t) {
        return t instanceof Ce
    }
    function De(t) {
        return t < 0 ? -1 * Math.round(-1 * t) : Math.round(t)
    }
    function Ie(t, e) {
        V(t, 0, 0, function() {
            var t = this.utcOffset(),
                n = "+";
            return t < 0 && (t = -t, n = "-"), n + q(~~(t / 60), 2) + e + q(~~t % 60, 2)
        })
    }
    function Oe(t, e) {
        var n = (e || "").match(t);
        if (null === n)
            return null;
        var i = n[n.length - 1] || [],
            o = (i + "").match(Bo) || ["-", 0, 0],
            a = 60 * o[1] + y(o[2]);
        return 0 === a ? 0 : "+" === o[0] ? a : -a
    }
    function Re(e, n) {
        var i,
            o;
        return n._isUTC ? (i = n.clone(), o = (b(e) || s(e) ? e.valueOf() : be(e).valueOf()) - i.valueOf(), i._d.setTime(i._d.valueOf() + o), t.updateOffset(i, !1), i) : be(e).local()
    }
    function ke(t) {
        return 15 * -Math.round(t._d.getTimezoneOffset() / 15)
    }
    function we(e, n) {
        var i = this._offset || 0,
            o;
        if (!this.isValid())
            return null != e ? this : NaN;
        if (null != e) {
            if ("string" == typeof e) {
                if (null === (e = Oe(Xi, e)))
                    return this
            } else
                Math.abs(e) < 16 && (e *= 60);
            return !this._isUTC && n && (o = ke(this)), this._offset = e, this._isUTC = !0, null != o && this.add(o, "m"), i !== e && (!n || this._changeInProgress ? qe(this, Be(e - i, "m"), 1, !1) : this._changeInProgress || (this._changeInProgress = !0, t.updateOffset(this, !0), this._changeInProgress = null)), this
        }
        return this._isUTC ? i : ke(this)
    }
    function xe(t, e) {
        return null != t ? ("string" != typeof t && (t = -t), this.utcOffset(t, e), this) : -this.utcOffset()
    }
    function Se(t) {
        return this.utcOffset(0, t)
    }
    function Ke(t) {
        return this._isUTC && (this.utcOffset(0, t), this._isUTC = !1, t && this.subtract(ke(this), "m")), this
    }
    function Ne() {
        if (null != this._tzm)
            this.utcOffset(this._tzm);
        else if ("string" == typeof this._i) {
            var t = Oe(Yi, this._i);
            null != t ? this.utcOffset(t) : this.utcOffset(0, !0)
        }
        return this
    }
    function Ae(t) {
        return !!this.isValid() && (t = t ? be(t).utcOffset() : 0, (this.utcOffset() - t) % 60 == 0)
    }
    function Fe() {
        return this.utcOffset() > this.clone().month(0).utcOffset() || this.utcOffset() > this.clone().month(5).utcOffset()
    }
    function Pe() {
        if (!m(this._isDSTShifted))
            return this._isDSTShifted;
        var t = {};
        if (g(t, this), t = me(t), t._a) {
            var e = t._isUTC ? u(t._a) : be(t._a);
            this._isDSTShifted = this.isValid() && T(t._a, e.toArray()) > 0
        } else
            this._isDSTShifted = !1;
        return this._isDSTShifted
    }
    function Le() {
        return !!this.isValid() && !this._isUTC
    }
    function $e() {
        return !!this.isValid() && this._isUTC
    }
    function Me() {
        return !!this.isValid() && (this._isUTC && 0 === this._offset)
    }
    function Be(t, e) {
        var n = t,
            i = null,
            o,
            s,
            r;
        return _e(t) ? n = {
            ms: t._milliseconds,
            d: t._days,
            M: t._months
        } : a(t) ? (n = {}, e ? n[e] = t : n.milliseconds = t) : (i = Ho.exec(t)) ? (o = "-" === i[1] ? -1 : 1, n = {
            y: 0,
            d: y(i[no]) * o,
            h: y(i[io]) * o,
            m: y(i[oo]) * o,
            s: y(i[ao]) * o,
            ms: y(De(1e3 * i[so])) * o
        }) : (i = zo.exec(t)) ? (o = "-" === i[1] ? -1 : 1, n = {
            y: He(i[2], o),
            M: He(i[3], o),
            w: He(i[4], o),
            d: He(i[5], o),
            h: He(i[6], o),
            m: He(i[7], o),
            s: He(i[8], o)
        }) : null == n ? n = {} : "object" == typeof n && ("from" in n || "to" in n) && (r = je(be(n.from), be(n.to)), n = {}, n.ms = r.milliseconds, n.M = r.months), s = new Ce(n), _e(t) && l(t, "_locale") && (s._locale = t._locale), s
    }
    function He(t, e) {
        var n = t && parseFloat(t.replace(",", "."));
        return (isNaN(n) ? 0 : n) * e
    }
    function ze(t, e) {
        var n = {
            milliseconds: 0,
            months: 0
        };
        return n.months = e.month() - t.month() + 12 * (e.year() - t.year()), t.clone().add(n.months, "M").isAfter(e) && --n.months, n.milliseconds = +e - +t.clone().add(n.months, "M"), n
    }
    function je(t, e) {
        var n;
        return t.isValid() && e.isValid() ? (e = Re(e, t), t.isBefore(e) ? n = ze(t, e) : (n = ze(e, t), n.milliseconds = -n.milliseconds, n.months = -n.months), n) : {
            milliseconds: 0,
            months: 0
        }
    }
    function We(t, e) {
        return function(n, i) {
            var o,
                a;
            return null === i || isNaN(+i) || (D(e, "moment()." + e + "(period, number) is deprecated. Please use moment()." + e + "(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."), a = n, n = i, i = a), n = "string" == typeof n ? +n : n, o = Be(n, i), qe(this, o, t), this
        }
    }
    function qe(e, n, i, o) {
        var a = n._milliseconds,
            s = De(n._days),
            r = De(n._months);
        e.isValid() && (o = null == o || o, a && e._d.setTime(e._d.valueOf() + a * i), s && z(e, "Date", H(e, "Date") + s * i), r && ct(e, H(e, "Month") + r * i), o && t.updateOffset(e, s || r))
    }
    function Ve(t, e) {
        var n = t.diff(e, "days", !0);
        return n < -6 ? "sameElse" : n < -1 ? "lastWeek" : n < 0 ? "lastDay" : n < 1 ? "sameDay" : n < 2 ? "nextDay" : n < 7 ? "nextWeek" : "sameElse"
    }
    function Ue(e, n) {
        var i = e || be(),
            o = Re(i, this).startOf("day"),
            a = t.calendarFormat(this, o) || "sameElse",
            s = n && (I(n[a]) ? n[a].call(this, i) : n[a]);
        return this.format(s || this.localeData().calendar(a, this, be(i)))
    }
    function Ye() {
        return new v(this)
    }
    function Xe(t, e) {
        var n = b(t) ? t : be(t);
        return !(!this.isValid() || !n.isValid()) && (e = P(m(e) ? "millisecond" : e), "millisecond" === e ? this.valueOf() > n.valueOf() : n.valueOf() < this.clone().startOf(e).valueOf())
    }
    function Ge(t, e) {
        var n = b(t) ? t : be(t);
        return !(!this.isValid() || !n.isValid()) && (e = P(m(e) ? "millisecond" : e), "millisecond" === e ? this.valueOf() < n.valueOf() : this.clone().endOf(e).valueOf() < n.valueOf())
    }
    function Ze(t, e, n, i) {
        return i = i || "()", ("(" === i[0] ? this.isAfter(t, n) : !this.isBefore(t, n)) && (")" === i[1] ? this.isBefore(e, n) : !this.isAfter(e, n))
    }
    function Qe(t, e) {
        var n = b(t) ? t : be(t),
            i;
        return !(!this.isValid() || !n.isValid()) && (e = P(e || "millisecond"), "millisecond" === e ? this.valueOf() === n.valueOf() : (i = n.valueOf(), this.clone().startOf(e).valueOf() <= i && i <= this.clone().endOf(e).valueOf()))
    }
    function Je(t, e) {
        return this.isSame(t, e) || this.isAfter(t, e)
    }
    function tn(t, e) {
        return this.isSame(t, e) || this.isBefore(t, e)
    }
    function en(t, e, n) {
        var i,
            o,
            a,
            s;
        return this.isValid() ? (i = Re(t, this), i.isValid() ? (o = 6e4 * (i.utcOffset() - this.utcOffset()), e = P(e), "year" === e || "month" === e || "quarter" === e ? (s = nn(this, i), "quarter" === e ? s /= 3 : "year" === e && (s /= 12)) : (a = this - i, s = "second" === e ? a / 1e3 : "minute" === e ? a / 6e4 : "hour" === e ? a / 36e5 : "day" === e ? (a - o) / 864e5 : "week" === e ? (a - o) / 6048e5 : a), n ? s : E(s)) : NaN) : NaN
    }
    function nn(t, e) {
        var n = 12 * (e.year() - t.year()) + (e.month() - t.month()),
            i = t.clone().add(n, "months"),
            o,
            a;
        return e - i < 0 ? (o = t.clone().add(n - 1, "months"), a = (e - i) / (i - o)) : (o = t.clone().add(n + 1, "months"), a = (e - i) / (o - i)), -(n + a) || 0
    }
    function on() {
        return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")
    }
    function an() {
        var t = this.clone().utc();
        return 0 < t.year() && t.year() <= 9999 ? I(Date.prototype.toISOString) ? this.toDate().toISOString() : X(t, "YYYY-MM-DD[T]HH:mm:ss.SSS[Z]") : X(t, "YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")
    }
    function sn() {
        if (!this.isValid())
            return "moment.invalid(/* " + this._i + " */)";
        var t = "moment",
            e = "";
        this.isLocal() || (t = 0 === this.utcOffset() ? "moment.utc" : "moment.parseZone", e = "Z");
        var n = "[" + t + '("]',
            i = 0 < this.year() && this.year() <= 9999 ? "YYYY" : "YYYYYY",
            o = e + '[")]';
        return this.format(n + i + "-MM-DD[T]HH:mm:ss.SSS" + o)
    }
    function rn(e) {
        e || (e = this.isUtc() ? t.defaultFormatUtc : t.defaultFormat);
        var n = X(this, e);
        return this.localeData().postformat(n)
    }
    function ln(t, e) {
        return this.isValid() && (b(t) && t.isValid() || be(t).isValid()) ? Be({
            to: this,
            from: t
        }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
    }
    function cn(t) {
        return this.from(be(), t)
    }
    function un(t, e) {
        return this.isValid() && (b(t) && t.isValid() || be(t).isValid()) ? Be({
            from: this,
            to: t
        }).locale(this.locale()).humanize(!e) : this.localeData().invalidDate()
    }
    function dn(t) {
        return this.to(be(), t)
    }
    function hn(t) {
        var e;
        return t === undefined ? this._locale._abbr : (e = ee(t), null != e && (this._locale = e), this)
    }
    function fn() {
        return this._locale
    }
    function pn(t) {
        switch (t = P(t)) {
        case "year":
            this.month(0);
        case "quarter":
        case "month":
            this.date(1);
        case "week":
        case "isoWeek":
        case "day":
        case "date":
            this.hours(0);
        case "hour":
            this.minutes(0);
        case "minute":
            this.seconds(0);
        case "second":
            this.milliseconds(0)
        }
        return "week" === t && this.weekday(0), "isoWeek" === t && this.isoWeekday(1), "quarter" === t && this.month(3 * Math.floor(this.month() / 3)), this
    }
    function mn(t) {
        return (t = P(t)) === undefined || "millisecond" === t ? this : ("date" === t && (t = "day"), this.startOf(t).add(1, "isoWeek" === t ? "week" : t).subtract(1, "ms"))
    }
    function gn() {
        return this._d.valueOf() - 6e4 * (this._offset || 0)
    }
    function vn() {
        return Math.floor(this.valueOf() / 1e3)
    }
    function bn() {
        return new Date(this.valueOf())
    }
    function En() {
        var t = this;
        return [t.year(), t.month(), t.date(), t.hour(), t.minute(), t.second(), t.millisecond()]
    }
    function yn() {
        var t = this;
        return {
            years: t.year(),
            months: t.month(),
            date: t.date(),
            hours: t.hours(),
            minutes: t.minutes(),
            seconds: t.seconds(),
            milliseconds: t.milliseconds()
        }
    }
    function Tn() {
        return this.isValid() ? this.toISOString() : null
    }
    function Cn() {
        return f(this)
    }
    function _n() {
        return c({}, h(this))
    }
    function Dn() {
        return h(this).overflow
    }
    function In() {
        return {
            input: this._i,
            format: this._f,
            locale: this._locale,
            isUTC: this._isUTC,
            strict: this._strict
        }
    }
    function On(t, e) {
        V(0, [t, t.length], 0, e)
    }
    function Rn(t) {
        return Sn.call(this, t, this.week(), this.weekday(), this.localeData()._week.dow, this.localeData()._week.doy)
    }
    function kn(t) {
        return Sn.call(this, t, this.isoWeek(), this.isoWeekday(), 1, 4)
    }
    function wn() {
        return _t(this.year(), 1, 4)
    }
    function xn() {
        var t = this.localeData()._week;
        return _t(this.year(), t.dow, t.doy)
    }
    function Sn(t, e, n, i, o) {
        var a;
        return null == t ? Ct(this, i, o).year : (a = _t(t, i, o), e > a && (e = a), Kn.call(this, t, e, n, i, o))
    }
    function Kn(t, e, n, i, o) {
        var a = Tt(t, e, n, i, o),
            s = Et(a.year, 0, a.dayOfYear);
        return this.year(s.getUTCFullYear()), this.month(s.getUTCMonth()), this.date(s.getUTCDate()), this
    }
    function Nn(t) {
        return null == t ? Math.ceil((this.month() + 1) / 3) : this.month(3 * (t - 1) + this.month() % 3)
    }
    function An(t) {
        var e = Math.round((this.clone().startOf("day") - this.clone().startOf("year")) / 864e5) + 1;
        return null == t ? e : this.add(t - e, "d")
    }
    function Fn(t, e) {
        e[so] = y(1e3 * ("0." + t))
    }
    function Pn() {
        return this._isUTC ? "UTC" : ""
    }
    function Ln() {
        return this._isUTC ? "Coordinated Universal Time" : ""
    }
    function $n(t) {
        return be(1e3 * t)
    }
    function Mn() {
        return be.apply(null, arguments).parseZone()
    }
    function Bn(t) {
        return t
    }
    function Hn(t, e, n, i) {
        var o = ee(),
            a = u().set(i, e);
        return o[n](a, t)
    }
    function zn(t, e, n) {
        if (a(t) && (e = t, t = undefined), t = t || "", null != e)
            return Hn(t, e, n, "month");
        var i,
            o = [];
        for (i = 0; i < 12; i++)
            o[i] = Hn(t, i, n, "month");
        return o
    }
    function jn(t, e, n, i) {
        "boolean" == typeof t ? (a(e) && (n = e, e = undefined), e = e || "") : (e = t, n = e, t = !1, a(e) && (n = e, e = undefined), e = e || "");
        var o = ee(),
            s = t ? o._week.dow : 0;
        if (null != n)
            return Hn(e, (n + s) % 7, i, "day");
        var r,
            l = [];
        for (r = 0; r < 7; r++)
            l[r] = Hn(e, (r + s) % 7, i, "day");
        return l
    }
    function Wn(t, e) {
        return zn(t, e, "months")
    }
    function qn(t, e) {
        return zn(t, e, "monthsShort")
    }
    function Vn(t, e, n) {
        return jn(t, e, n, "weekdays")
    }
    function Un(t, e, n) {
        return jn(t, e, n, "weekdaysShort")
    }
    function Yn(t, e, n) {
        return jn(t, e, n, "weekdaysMin")
    }
    function Xn() {
        var t = this._data;
        return this._milliseconds = Jo(this._milliseconds), this._days = Jo(this._days), this._months = Jo(this._months), t.milliseconds = Jo(t.milliseconds), t.seconds = Jo(t.seconds), t.minutes = Jo(t.minutes), t.hours = Jo(t.hours),
        t.months = Jo(t.months), t.years = Jo(t.years), this
    }
    function Gn(t, e, n, i) {
        var o = Be(e, n);
        return t._milliseconds += i * o._milliseconds, t._days += i * o._days, t._months += i * o._months, t._bubble()
    }
    function Zn(t, e) {
        return Gn(this, t, e, 1)
    }
    function Qn(t, e) {
        return Gn(this, t, e, -1)
    }
    function Jn(t) {
        return t < 0 ? Math.floor(t) : Math.ceil(t)
    }
    function ti() {
        var t = this._milliseconds,
            e = this._days,
            n = this._months,
            i = this._data,
            o,
            a,
            s,
            r,
            l;
        return t >= 0 && e >= 0 && n >= 0 || t <= 0 && e <= 0 && n <= 0 || (t += 864e5 * Jn(ni(n) + e), e = 0, n = 0), i.milliseconds = t % 1e3, o = E(t / 1e3), i.seconds = o % 60, a = E(o / 60), i.minutes = a % 60, s = E(a / 60), i.hours = s % 24, e += E(s / 24), l = E(ei(e)), n += l, e -= Jn(ni(l)), r = E(n / 12), n %= 12, i.days = e, i.months = n, i.years = r, this
    }
    function ei(t) {
        return 4800 * t / 146097
    }
    function ni(t) {
        return 146097 * t / 4800
    }
    function ii(t) {
        var e,
            n,
            i = this._milliseconds;
        if ("month" === (t = P(t)) || "year" === t)
            return e = this._days + i / 864e5, n = this._months + ei(e), "month" === t ? n : n / 12;
        switch (e = this._days + Math.round(ni(this._months)), t) {
        case "week":
            return e / 7 + i / 6048e5;
        case "day":
            return e + i / 864e5;
        case "hour":
            return 24 * e + i / 36e5;
        case "minute":
            return 1440 * e + i / 6e4;
        case "second":
            return 86400 * e + i / 1e3;
        case "millisecond":
            return Math.floor(864e5 * e) + i;
        default:
            throw new Error("Unknown unit " + t)
        }
    }
    function oi() {
        return this._milliseconds + 864e5 * this._days + this._months % 12 * 2592e6 + 31536e6 * y(this._months / 12)
    }
    function ai(t) {
        return function() {
            return this.as(t)
        }
    }
    function si(t) {
        return t = P(t), this[t + "s"]()
    }
    function ri(t) {
        return function() {
            return this._data[t]
        }
    }
    function li() {
        return E(this.days() / 7)
    }
    function ci(t, e, n, i, o) {
        return o.relativeTime(e || 1, !!n, t, i)
    }
    function ui(t, e, n) {
        var i = Be(t).abs(),
            o = ma(i.as("s")),
            a = ma(i.as("m")),
            s = ma(i.as("h")),
            r = ma(i.as("d")),
            l = ma(i.as("M")),
            c = ma(i.as("y")),
            u = o < ga.s && ["s", o] || a <= 1 && ["m"] || a < ga.m && ["mm", a] || s <= 1 && ["h"] || s < ga.h && ["hh", s] || r <= 1 && ["d"] || r < ga.d && ["dd", r] || l <= 1 && ["M"] || l < ga.M && ["MM", l] || c <= 1 && ["y"] || ["yy", c];
        return u[2] = e, u[3] = +t > 0, u[4] = n, ci.apply(null, u)
    }
    function di(t) {
        return t === undefined ? ma : "function" == typeof t && (ma = t, !0)
    }
    function hi(t, e) {
        return ga[t] !== undefined && (e === undefined ? ga[t] : (ga[t] = e, !0))
    }
    function fi(t) {
        var e = this.localeData(),
            n = ui(this, !t, e);
        return t && (n = e.pastFuture(+this, n)), e.postformat(n)
    }
    function pi() {
        var t = va(this._milliseconds) / 1e3,
            e = va(this._days),
            n = va(this._months),
            i,
            o,
            a;
        i = E(t / 60), o = E(i / 60), t %= 60, i %= 60, a = E(n / 12), n %= 12;
        var s = a,
            r = n,
            l = e,
            c = o,
            u = i,
            d = t,
            h = this.asSeconds();
        return h ? (h < 0 ? "-" : "") + "P" + (s ? s + "Y" : "") + (r ? r + "M" : "") + (l ? l + "D" : "") + (c || u || d ? "T" : "") + (c ? c + "H" : "") + (u ? u + "M" : "") + (d ? d + "S" : "") : "P0D"
    }
    var mi,
        gi;
    gi = Array.prototype.some ? Array.prototype.some : function(t) {
        for (var e = Object(this), n = e.length >>> 0, i = 0; i < n; i++)
            if (i in e && t.call(this, e[i], i, e))
                return !0;
        return !1
    };
    var vi = gi,
        bi = t.momentProperties = [],
        Ei = !1,
        yi = {};
    t.suppressDeprecationWarnings = !1, t.deprecationHandler = null;
    var Ti;
    Ti = Object.keys ? Object.keys : function(t) {
        var e,
            n = [];
        for (e in t)
            l(t, e) && n.push(e);
        return n
    };
    var Ci = Ti,
        _i = {
            sameDay: "[Today at] LT",
            nextDay: "[Tomorrow at] LT",
            nextWeek: "dddd [at] LT",
            lastDay: "[Yesterday at] LT",
            lastWeek: "[Last] dddd [at] LT",
            sameElse: "L"
        },
        Di = {
            LTS: "h:mm:ss A",
            LT: "h:mm A",
            L: "MM/DD/YYYY",
            LL: "MMMM D, YYYY",
            LLL: "MMMM D, YYYY h:mm A",
            LLLL: "dddd, MMMM D, YYYY h:mm A"
        },
        Ii = "Invalid date",
        Oi = "%d",
        Ri = /\d{1,2}/,
        ki = {
            future: "in %s",
            past: "%s ago",
            s: "a few seconds",
            m: "a minute",
            mm: "%d minutes",
            h: "an hour",
            hh: "%d hours",
            d: "a day",
            dd: "%d days",
            M: "a month",
            MM: "%d months",
            y: "a year",
            yy: "%d years"
        },
        wi = {},
        xi = {},
        Si = /(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,
        Ki = /(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,
        Ni = {},
        Ai = {},
        Fi = /\d/,
        Pi = /\d\d/,
        Li = /\d{3}/,
        $i = /\d{4}/,
        Mi = /[+-]?\d{6}/,
        Bi = /\d\d?/,
        Hi = /\d\d\d\d?/,
        zi = /\d\d\d\d\d\d?/,
        ji = /\d{1,3}/,
        Wi = /\d{1,4}/,
        qi = /[+-]?\d{1,6}/,
        Vi = /\d+/,
        Ui = /[+-]?\d+/,
        Yi = /Z|[+-]\d\d:?\d\d/gi,
        Xi = /Z|[+-]\d\d(?::?\d\d)?/gi,
        Gi = /[+-]?\d+(\.\d{1,3})?/,
        Zi = /[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,
        Qi = {},
        Ji = {},
        to = 0,
        eo = 1,
        no = 2,
        io = 3,
        oo = 4,
        ao = 5,
        so = 6,
        ro = 7,
        lo = 8,
        co;
    co = Array.prototype.indexOf ? Array.prototype.indexOf : function(t) {
        var e;
        for (e = 0; e < this.length; ++e)
            if (this[e] === t)
                return e;
        return -1
    };
    var uo = co;
    V("M", ["MM", 2], "Mo", function() {
        return this.month() + 1
    }), V("MMM", 0, 0, function(t) {
        return this.localeData().monthsShort(this, t)
    }), V("MMMM", 0, 0, function(t) {
        return this.localeData().months(this, t)
    }), F("month", "M"), $("month", 8), Z("M", Bi), Z("MM", Bi, Pi), Z("MMM", function(t, e) {
        return e.monthsShortRegex(t)
    }), Z("MMMM", function(t, e) {
        return e.monthsRegex(t)
    }), et(["M", "MM"], function(t, e) {
        e[eo] = y(t) - 1
    }), et(["MMM", "MMMM"], function(t, e, n, i) {
        var o = n._locale.monthsParse(t, i, n._strict);
        null != o ? e[eo] = o : h(n).invalidMonth = t
    });
    var ho = /D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,
        fo = "January_February_March_April_May_June_July_August_September_October_November_December".split("_"),
        po = "Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),
        mo = Zi,
        go = Zi;
    V("Y", 0, 0, function() {
        var t = this.year();
        return t <= 9999 ? "" + t : "+" + t
    }), V(0, ["YY", 2], 0, function() {
        return this.year() % 100
    }), V(0, ["YYYY", 4], 0, "year"), V(0, ["YYYYY", 5], 0, "year"), V(0, ["YYYYYY", 6, !0], 0, "year"), F("year", "y"), $("year", 1), Z("Y", Ui), Z("YY", Bi, Pi), Z("YYYY", Wi, $i), Z("YYYYY", qi, Mi), Z("YYYYYY", qi, Mi), et(["YYYYY", "YYYYYY"], to), et("YYYY", function(e, n) {
        n[to] = 2 === e.length ? t.parseTwoDigitYear(e) : y(e)
    }), et("YY", function(e, n) {
        n[to] = t.parseTwoDigitYear(e)
    }), et("Y", function(t, e) {
        e[to] = parseInt(t, 10)
    }), t.parseTwoDigitYear = function(t) {
        return y(t) + (y(t) > 68 ? 1900 : 2e3)
    };
    var vo = B("FullYear", !0);
    V("w", ["ww", 2], "wo", "week"), V("W", ["WW", 2], "Wo", "isoWeek"), F("week", "w"), F("isoWeek", "W"), $("week", 5), $("isoWeek", 5), Z("w", Bi), Z("ww", Bi, Pi), Z("W", Bi), Z("WW", Bi, Pi), nt(["w", "ww", "W", "WW"], function(t, e, n, i) {
        e[i.substr(0, 1)] = y(t)
    });
    var bo = {
        dow: 0,
        doy: 6
    };
    V("d", 0, "do", "day"), V("dd", 0, 0, function(t) {
        return this.localeData().weekdaysMin(this, t)
    }), V("ddd", 0, 0, function(t) {
        return this.localeData().weekdaysShort(this, t)
    }), V("dddd", 0, 0, function(t) {
        return this.localeData().weekdays(this, t)
    }), V("e", 0, 0, "weekday"), V("E", 0, 0, "isoWeekday"), F("day", "d"), F("weekday", "e"), F("isoWeekday", "E"), $("day", 11), $("weekday", 11), $("isoWeekday", 11), Z("d", Bi), Z("e", Bi), Z("E", Bi), Z("dd", function(t, e) {
        return e.weekdaysMinRegex(t)
    }), Z("ddd", function(t, e) {
        return e.weekdaysShortRegex(t)
    }), Z("dddd", function(t, e) {
        return e.weekdaysRegex(t)
    }), nt(["dd", "ddd", "dddd"], function(t, e, n, i) {
        var o = n._locale.weekdaysParse(t, i, n._strict);
        null != o ? e.d = o : h(n).invalidWeekday = t
    }), nt(["d", "e", "E"], function(t, e, n, i) {
        e[i] = y(t)
    });
    var Eo = "Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),
        yo = "Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),
        To = "Su_Mo_Tu_We_Th_Fr_Sa".split("_"),
        Co = Zi,
        _o = Zi,
        Do = Zi;
    V("H", ["HH", 2], 0, "hour"), V("h", ["hh", 2], 0, jt), V("k", ["kk", 2], 0, Wt), V("hmm", 0, 0, function() {
        return "" + jt.apply(this) + q(this.minutes(), 2)
    }), V("hmmss", 0, 0, function() {
        return "" + jt.apply(this) + q(this.minutes(), 2) + q(this.seconds(), 2)
    }), V("Hmm", 0, 0, function() {
        return "" + this.hours() + q(this.minutes(), 2)
    }), V("Hmmss", 0, 0, function() {
        return "" + this.hours() + q(this.minutes(), 2) + q(this.seconds(), 2)
    }), qt("a", !0), qt("A", !1), F("hour", "h"), $("hour", 13), Z("a", Vt), Z("A", Vt), Z("H", Bi), Z("h", Bi), Z("HH", Bi, Pi), Z("hh", Bi, Pi), Z("hmm", Hi), Z("hmmss", zi), Z("Hmm", Hi), Z("Hmmss", zi), et(["H", "HH"], io), et(["a", "A"], function(t, e, n) {
        n._isPm = n._locale.isPM(t), n._meridiem = t
    }), et(["h", "hh"], function(t, e, n) {
        e[io] = y(t), h(n).bigHour = !0
    }), et("hmm", function(t, e, n) {
        var i = t.length - 2;
        e[io] = y(t.substr(0, i)), e[oo] = y(t.substr(i)), h(n).bigHour = !0
    }), et("hmmss", function(t, e, n) {
        var i = t.length - 4,
            o = t.length - 2;
        e[io] = y(t.substr(0, i)), e[oo] = y(t.substr(i, 2)), e[ao] = y(t.substr(o)), h(n).bigHour = !0
    }), et("Hmm", function(t, e, n) {
        var i = t.length - 2;
        e[io] = y(t.substr(0, i)), e[oo] = y(t.substr(i))
    }), et("Hmmss", function(t, e, n) {
        var i = t.length - 4,
            o = t.length - 2;
        e[io] = y(t.substr(0, i)), e[oo] = y(t.substr(i, 2)), e[ao] = y(t.substr(o))
    });
    var Io = /[ap]\.?m?\.?/i,
        Oo = B("Hours", !0),
        Ro = {
            calendar: _i,
            longDateFormat: Di,
            invalidDate: Ii,
            ordinal: Oi,
            ordinalParse: Ri,
            relativeTime: ki,
            months: fo,
            monthsShort: po,
            week: bo,
            weekdays: Eo,
            weekdaysMin: To,
            weekdaysShort: yo,
            meridiemParse: Io
        },
        ko = {},
        wo = {},
        xo,
        So = /^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        Ko = /^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,
        No = /Z|[+-]\d\d(?::?\d\d)?/,
        Ao = [["YYYYYY-MM-DD", /[+-]\d{6}-\d\d-\d\d/], ["YYYY-MM-DD", /\d{4}-\d\d-\d\d/], ["GGGG-[W]WW-E", /\d{4}-W\d\d-\d/], ["GGGG-[W]WW", /\d{4}-W\d\d/, !1], ["YYYY-DDD", /\d{4}-\d{3}/], ["YYYY-MM", /\d{4}-\d\d/, !1], ["YYYYYYMMDD", /[+-]\d{10}/], ["YYYYMMDD", /\d{8}/], ["GGGG[W]WWE", /\d{4}W\d{3}/], ["GGGG[W]WW", /\d{4}W\d{2}/, !1], ["YYYYDDD", /\d{7}/]],
        Fo = [["HH:mm:ss.SSSS", /\d\d:\d\d:\d\d\.\d+/], ["HH:mm:ss,SSSS", /\d\d:\d\d:\d\d,\d+/], ["HH:mm:ss", /\d\d:\d\d:\d\d/], ["HH:mm", /\d\d:\d\d/], ["HHmmss.SSSS", /\d\d\d\d\d\d\.\d+/], ["HHmmss,SSSS", /\d\d\d\d\d\d,\d+/], ["HHmmss", /\d\d\d\d\d\d/], ["HHmm", /\d\d\d\d/], ["HH", /\d\d/]],
        Po = /^\/?Date\((\-?\d+)/i;
    t.createFromInputFallback = _("value provided is not in a recognized ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non ISO date formats are discouraged and will be removed in an upcoming major release. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.", function(t) {
        t._d = new Date(t._i + (t._useUTC ? " UTC" : ""))
    }), t.ISO_8601 = function() {};
    var Lo = _("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var t = be.apply(null, arguments);
            return this.isValid() && t.isValid() ? t < this ? this : t : p()
        }),
        $o = _("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/", function() {
            var t = be.apply(null, arguments);
            return this.isValid() && t.isValid() ? t > this ? this : t : p()
        }),
        Mo = function() {
            return Date.now ? Date.now() : +new Date
        };
    Ie("Z", ":"), Ie("ZZ", ""), Z("Z", Xi), Z("ZZ", Xi), et(["Z", "ZZ"], function(t, e, n) {
        n._useUTC = !0, n._tzm = Oe(Xi, t)
    });
    var Bo = /([\+\-]|\d\d)/gi;
    t.updateOffset = function() {};
    var Ho = /^(\-)?(?:(\d*)[. ])?(\d+)\:(\d+)(?:\:(\d+)(\.\d*)?)?$/,
        zo = /^(-)?P(?:(-?[0-9,.]*)Y)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)W)?(?:(-?[0-9,.]*)D)?(?:T(?:(-?[0-9,.]*)H)?(?:(-?[0-9,.]*)M)?(?:(-?[0-9,.]*)S)?)?$/;
    Be.fn = Ce.prototype;
    var jo = We(1, "add"),
        Wo = We(-1, "subtract");
    t.defaultFormat = "YYYY-MM-DDTHH:mm:ssZ", t.defaultFormatUtc = "YYYY-MM-DDTHH:mm:ss[Z]";
    var qo = _("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.", function(t) {
        return t === undefined ? this.localeData() : this.locale(t)
    });
    V(0, ["gg", 2], 0, function() {
        return this.weekYear() % 100
    }), V(0, ["GG", 2], 0, function() {
        return this.isoWeekYear() % 100
    }), On("gggg", "weekYear"), On("ggggg", "weekYear"), On("GGGG", "isoWeekYear"), On("GGGGG", "isoWeekYear"), F("weekYear", "gg"), F("isoWeekYear", "GG"), $("weekYear", 1), $("isoWeekYear", 1), Z("G", Ui), Z("g", Ui), Z("GG", Bi, Pi), Z("gg", Bi, Pi), Z("GGGG", Wi, $i), Z("gggg", Wi, $i), Z("GGGGG", qi, Mi), Z("ggggg", qi, Mi), nt(["gggg", "ggggg", "GGGG", "GGGGG"], function(t, e, n, i) {
        e[i.substr(0, 2)] = y(t)
    }), nt(["gg", "GG"], function(e, n, i, o) {
        n[o] = t.parseTwoDigitYear(e)
    }), V("Q", 0, "Qo", "quarter"), F("quarter", "Q"), $("quarter", 7), Z("Q", Fi), et("Q", function(t, e) {
        e[eo] = 3 * (y(t) - 1)
    }), V("D", ["DD", 2], "Do", "date"), F("date", "D"), $("date", 9), Z("D", Bi), Z("DD", Bi, Pi), Z("Do", function(t, e) {
        return t ? e._ordinalParse : e._ordinalParseLenient
    }), et(["D", "DD"], no), et("Do", function(t, e) {
        e[no] = y(t.match(Bi)[0], 10)
    });
    var Vo = B("Date", !0);
    V("DDD", ["DDDD", 3], "DDDo", "dayOfYear"), F("dayOfYear", "DDD"), $("dayOfYear", 4), Z("DDD", ji), Z("DDDD", Li), et(["DDD", "DDDD"], function(t, e, n) {
        n._dayOfYear = y(t)
    }), V("m", ["mm", 2], 0, "minute"), F("minute", "m"), $("minute", 14), Z("m", Bi), Z("mm", Bi, Pi), et(["m", "mm"], oo);
    var Uo = B("Minutes", !1);
    V("s", ["ss", 2], 0, "second"), F("second", "s"), $("second", 15), Z("s", Bi), Z("ss", Bi, Pi), et(["s", "ss"], ao);
    var Yo = B("Seconds", !1);
    V("S", 0, 0, function() {
        return ~~(this.millisecond() / 100)
    }), V(0, ["SS", 2], 0, function() {
        return ~~(this.millisecond() / 10)
    }), V(0, ["SSS", 3], 0, "millisecond"), V(0, ["SSSS", 4], 0, function() {
        return 10 * this.millisecond()
    }), V(0, ["SSSSS", 5], 0, function() {
        return 100 * this.millisecond()
    }), V(0, ["SSSSSS", 6], 0, function() {
        return 1e3 * this.millisecond()
    }), V(0, ["SSSSSSS", 7], 0, function() {
        return 1e4 * this.millisecond()
    }), V(0, ["SSSSSSSS", 8], 0, function() {
        return 1e5 * this.millisecond()
    }), V(0, ["SSSSSSSSS", 9], 0, function() {
        return 1e6 * this.millisecond()
    }), F("millisecond", "ms"), $("millisecond", 16), Z("S", ji, Fi), Z("SS", ji, Pi), Z("SSS", ji, Li);
    var Xo;
    for (Xo = "SSSS"; Xo.length <= 9; Xo += "S")
        Z(Xo, Vi);
    for (Xo = "S"; Xo.length <= 9; Xo += "S")
        et(Xo, Fn);
    var Go = B("Milliseconds", !1);
    V("z", 0, 0, "zoneAbbr"), V("zz", 0, 0, "zoneName");
    var Zo = v.prototype;
    Zo.add = jo, Zo.calendar = Ue, Zo.clone = Ye, Zo.diff = en, Zo.endOf = mn, Zo.format = rn, Zo.from = ln, Zo.fromNow = cn, Zo.to = un, Zo.toNow = dn, Zo.get = j, Zo.invalidAt = Dn, Zo.isAfter = Xe, Zo.isBefore = Ge, Zo.isBetween = Ze, Zo.isSame = Qe, Zo.isSameOrAfter = Je, Zo.isSameOrBefore = tn, Zo.isValid = Cn, Zo.lang = qo, Zo.locale = hn, Zo.localeData = fn, Zo.max = $o, Zo.min = Lo, Zo.parsingFlags = _n, Zo.set = W, Zo.startOf = pn, Zo.subtract = Wo, Zo.toArray = En, Zo.toObject = yn, Zo.toDate = bn, Zo.toISOString = an, Zo.inspect = sn, Zo.toJSON = Tn, Zo.toString = on, Zo.unix = vn, Zo.valueOf = gn, Zo.creationData = In, Zo.year = vo, Zo.isLeapYear = vt, Zo.weekYear = Rn, Zo.isoWeekYear = kn, Zo.quarter = Zo.quarters = Nn, Zo.month = ut, Zo.daysInMonth = dt, Zo.week = Zo.weeks = Rt, Zo.isoWeek = Zo.isoWeeks = kt, Zo.weeksInYear = xn, Zo.isoWeeksInYear = wn, Zo.date = Vo, Zo.day = Zo.days = Pt, Zo.weekday = Lt, Zo.isoWeekday = $t, Zo.dayOfYear = An, Zo.hour = Zo.hours = Oo, Zo.minute = Zo.minutes = Uo, Zo.second = Zo.seconds = Yo, Zo.millisecond = Zo.milliseconds = Go, Zo.utcOffset = we, Zo.utc = Se, Zo.local = Ke, Zo.parseZone = Ne, Zo.hasAlignedHourOffset = Ae, Zo.isDST = Fe, Zo.isLocal = Le, Zo.isUtcOffset = $e, Zo.isUtc = Me, Zo.isUTC = Me, Zo.zoneAbbr = Pn, Zo.zoneName = Ln, Zo.dates = _("dates accessor is deprecated. Use date instead.", Vo), Zo.months = _("months accessor is deprecated. Use month instead", ut), Zo.years = _("years accessor is deprecated. Use year instead", vo), Zo.zone = _("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/", xe), Zo.isDSTShifted = _("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information", Pe);
    var Qo = k.prototype;
    Qo.calendar = w, Qo.longDateFormat = x, Qo.invalidDate = S, Qo.ordinal = K, Qo.preparse = Bn, Qo.postformat = Bn, Qo.relativeTime = N, Qo.pastFuture = A, Qo.set = O, Qo.months = at, Qo.monthsShort = st, Qo.monthsParse = lt, Qo.monthsRegex = ft, Qo.monthsShortRegex = ht, Qo.week = Dt, Qo.firstDayOfYear = Ot, Qo.firstDayOfWeek = It, Qo.weekdays = St, Qo.weekdaysMin = Nt, Qo.weekdaysShort = Kt, Qo.weekdaysParse = Ft, Qo.weekdaysRegex = Mt, Qo.weekdaysShortRegex = Bt, Qo.weekdaysMinRegex = Ht, Qo.isPM = Ut, Qo.meridiem = Yt, Qt("en", {
        ordinalParse: /\d{1,2}(th|st|nd|rd)/,
        ordinal: function(t) {
            var e = t % 10;
            return t + (1 === y(t % 100 / 10) ? "th" : 1 === e ? "st" : 2 === e ? "nd" : 3 === e ? "rd" : "th")
        }
    }), t.lang = _("moment.lang is deprecated. Use moment.locale instead.", Qt), t.langData = _("moment.langData is deprecated. Use moment.localeData instead.", ee);
    var Jo = Math.abs,
        ta = ai("ms"),
        ea = ai("s"),
        na = ai("m"),
        ia = ai("h"),
        oa = ai("d"),
        aa = ai("w"),
        sa = ai("M"),
        ra = ai("y"),
        la = ri("milliseconds"),
        ca = ri("seconds"),
        ua = ri("minutes"),
        da = ri("hours"),
        ha = ri("days"),
        fa = ri("months"),
        pa = ri("years"),
        ma = Math.round,
        ga = {
            s: 45,
            m: 45,
            h: 22,
            d: 26,
            M: 11
        },
        va = Math.abs,
        ba = Ce.prototype;
    return ba.abs = Xn, ba.add = Zn, ba.subtract = Qn, ba.as = ii, ba.asMilliseconds = ta, ba.asSeconds = ea, ba.asMinutes = na, ba.asHours = ia, ba.asDays = oa, ba.asWeeks = aa, ba.asMonths = sa, ba.asYears = ra, ba.valueOf = oi, ba._bubble = ti, ba.get = si, ba.milliseconds = la, ba.seconds = ca, ba.minutes = ua, ba.hours = da, ba.days = ha, ba.weeks = li, ba.months = fa, ba.years = pa, ba.humanize = fi, ba.toISOString = pi, ba.toString = pi, ba.toJSON = pi, ba.locale = hn, ba.localeData = fn, ba.toIsoString = _("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)", pi), ba.lang = qo, V("X", 0, 0, "unix"), V("x", 0, 0, "valueOf"), Z("x", Ui), Z("X", Gi), et("X", function(t, e, n) {
        n._d = new Date(1e3 * parseFloat(t, 10))
    }), et("x", function(t, e, n) {
        n._d = new Date(y(t))
    }), t.version = "2.17.1", e(be), t.fn = Zo, t.min = ye, t.max = Te, t.now = Mo, t.utc = u, t.unix = $n, t.months = Wn, t.isDate = s, t.locale = Qt, t.invalid = p, t.duration = Be, t.isMoment = b, t.weekdays = Vn, t.parseZone = Mn, t.localeData = ee, t.isDuration = _e, t.monthsShort = qn, t.weekdaysMin = Yn, t.defineLocale = Jt, t.updateLocale = te, t.locales = ne, t.weekdaysShort = Un, t.normalizeUnits = P, t.relativeTimeRounding = di, t.relativeTimeThreshold = hi, t.calendarFormat = Ve, t.prototype = Zo, t
}), function(t, e) {
    "function" == typeof define && define.amd ? define(["moment"], e) : "object" == typeof exports ? module.exports = e.call(t, require("moment")) : t.Chart = e.call(t, t.moment)
}(this, function(t) {
    /*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
    /*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
    /*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
    /*!
 * Chart.js
 * http://chartjs.org/
 * Version: 2.0.0-beta2
 *
 * Copyright 2015 Nick Downie
 * Released under the MIT license
 * https://github.com/nnnick/Chart.js/blob/master/LICENSE.md
 */
    return function t(e, n, i) {
        function o(s, r) {
            if (!n[s]) {
                if (!e[s]) {
                    var l = "function" == typeof require && require;
                    if (!r && l)
                        return l(s, !0);
                    if (a)
                        return a(s, !0);
                    var c = new Error("Cannot find module '" + s + "'");
                    throw c.code = "MODULE_NOT_FOUND", c
                }
                var u = n[s] = {
                    exports: {}
                };
                e[s][0].call(u.exports, function(t) {
                    var n = e[s][1][t];
                    return o(n || t)
                }, u, u.exports, t, e, n, i)
            }
            return n[s].exports
        }
        for (var a = "function" == typeof require && require, s = 0; s < i.length; s++)
            o(i[s]);
        return o
    }({
        1: [function(t, e, n) {
            !function() {
                var n = t("color-convert"),
                    i = t("color-string"),
                    o = function(t) {
                        if (t instanceof o)
                            return t;
                        if (!(this instanceof o))
                            return new o(t);
                        if (this.values = {
                            rgb: [0, 0, 0],
                            hsl: [0, 0, 0],
                            hsv: [0, 0, 0],
                            hwb: [0, 0, 0],
                            cmyk: [0, 0, 0, 0],
                            alpha: 1
                        }, "string" == typeof t) {
                            var e = i.getRgba(t);
                            if (e)
                                this.setValues("rgb", e);
                            else if (e = i.getHsla(t))
                                this.setValues("hsl", e);
                            else {
                                if (!(e = i.getHwb(t)))
                                    throw new Error('Unable to parse color from string "' + t + '"');
                                this.setValues("hwb", e)
                            }
                        } else if ("object" == typeof t) {
                            var e = t;
                            if (void 0 !== e.r || void 0 !== e.red)
                                this.setValues("rgb", e);
                            else if (void 0 !== e.l || void 0 !== e.lightness)
                                this.setValues("hsl", e);
                            else if (void 0 !== e.v || void 0 !== e.value)
                                this.setValues("hsv", e);
                            else if (void 0 !== e.w || void 0 !== e.whiteness)
                                this.setValues("hwb", e);
                            else {
                                if (void 0 === e.c && void 0 === e.cyan)
                                    throw new Error("Unable to parse color from object " + JSON.stringify(t));
                                this.setValues("cmyk", e)
                            }
                        }
                    };
                o.prototype = {
                    rgb: function(t) {
                        return this.setSpace("rgb", arguments)
                    },
                    hsl: function(t) {
                        return this.setSpace("hsl", arguments)
                    },
                    hsv: function(t) {
                        return this.setSpace("hsv", arguments)
                    },
                    hwb: function(t) {
                        return this.setSpace("hwb", arguments)
                    },
                    cmyk: function(t) {
                        return this.setSpace("cmyk", arguments)
                    },
                    rgbArray: function() {
                        return this.values.rgb
                    },
                    hslArray: function() {
                        return this.values.hsl
                    },
                    hsvArray: function() {
                        return this.values.hsv
                    },
                    hwbArray: function() {
                        return 1 !== this.values.alpha ? this.values.hwb.concat([this.values.alpha]) : this.values.hwb
                    },
                    cmykArray: function() {
                        return this.values.cmyk
                    },
                    rgbaArray: function() {
                        return this.values.rgb.concat([this.values.alpha])
                    },
                    hslaArray: function() {
                        return this.values.hsl.concat([this.values.alpha])
                    },
                    alpha: function(t) {
                        return void 0 === t ? this.values.alpha : (this.setValues("alpha", t), this)
                    },
                    red: function(t) {
                        return this.setChannel("rgb", 0, t)
                    },
                    green: function(t) {
                        return this.setChannel("rgb", 1, t)
                    },
                    blue: function(t) {
                        return this.setChannel("rgb", 2, t)
                    },
                    hue: function(t) {
                        return this.setChannel("hsl", 0, t)
                    },
                    saturation: function(t) {
                        return this.setChannel("hsl", 1, t)
                    },
                    lightness: function(t) {
                        return this.setChannel("hsl", 2, t)
                    },
                    saturationv: function(t) {
                        return this.setChannel("hsv", 1, t)
                    },
                    whiteness: function(t) {
                        return this.setChannel("hwb", 1, t)
                    },
                    blackness: function(t) {
                        return this.setChannel("hwb", 2, t)
                    },
                    value: function(t) {
                        return this.setChannel("hsv", 2, t)
                    },
                    cyan: function(t) {
                        return this.setChannel("cmyk", 0, t)
                    },
                    magenta: function(t) {
                        return this.setChannel("cmyk", 1, t)
                    },
                    yellow: function(t) {
                        return this.setChannel("cmyk", 2, t)
                    },
                    black: function(t) {
                        return this.setChannel("cmyk", 3, t)
                    },
                    hexString: function() {
                        return i.hexString(this.values.rgb)
                    },
                    rgbString: function() {
                        return i.rgbString(this.values.rgb, this.values.alpha)
                    },
                    rgbaString: function() {
                        return i.rgbaString(this.values.rgb, this.values.alpha)
                    },
                    percentString: function() {
                        return i.percentString(this.values.rgb, this.values.alpha)
                    },
                    hslString: function() {
                        return i.hslString(this.values.hsl, this.values.alpha)
                    },
                    hslaString: function() {
                        return i.hslaString(this.values.hsl, this.values.alpha)
                    },
                    hwbString: function() {
                        return i.hwbString(this.values.hwb, this.values.alpha)
                    },
                    keyword: function() {
                        return i.keyword(this.values.rgb, this.values.alpha)
                    },
                    rgbNumber: function() {
                        return this.values.rgb[0] << 16 | this.values.rgb[1] << 8 | this.values.rgb[2]
                    },
                    luminosity: function() {
                        for (var t = this.values.rgb, e = [], n = 0; n < t.length; n++) {
                            var i = t[n] / 255;
                            e[n] = .03928 >= i ? i / 12.92 : Math.pow((i + .055) / 1.055, 2.4)
                        }
                        return .2126 * e[0] + .7152 * e[1] + .0722 * e[2]
                    },
                    contrast: function(t) {
                        var e = this.luminosity(),
                            n = t.luminosity();
                        return e > n ? (e + .05) / (n + .05) : (n + .05) / (e + .05)
                    },
                    level: function(t) {
                        var e = this.contrast(t);
                        return e >= 7.1 ? "AAA" : e >= 4.5 ? "AA" : ""
                    },
                    dark: function() {
                        var t = this.values.rgb;
                        return 128 > (299 * t[0] + 587 * t[1] + 114 * t[2]) / 1e3
                    },
                    light: function() {
                        return !this.dark()
                    },
                    negate: function() {
                        for (var t = [], e = 0; 3 > e; e++)
                            t[e] = 255 - this.values.rgb[e];
                        return this.setValues("rgb", t), this
                    },
                    lighten: function(t) {
                        return this.values.hsl[2] += this.values.hsl[2] * t, this.setValues("hsl", this.values.hsl), this
                    },
                    darken: function(t) {
                        return this.values.hsl[2] -= this.values.hsl[2] * t, this.setValues("hsl", this.values.hsl), this
                    },
                    saturate: function(t) {
                        return this.values.hsl[1] += this.values.hsl[1] * t, this.setValues("hsl", this.values.hsl), this
                    },
                    desaturate: function(t) {
                        return this.values.hsl[1] -= this.values.hsl[1] * t, this.setValues("hsl", this.values.hsl), this
                    },
                    whiten: function(t) {
                        return this.values.hwb[1] += this.values.hwb[1] * t, this.setValues("hwb", this.values.hwb), this
                    },
                    blacken: function(t) {
                        return this.values.hwb[2] += this.values.hwb[2] * t, this.setValues("hwb", this.values.hwb), this
                    },
                    greyscale: function() {
                        var t = this.values.rgb,
                            e = .3 * t[0] + .59 * t[1] + .11 * t[2];
                        return this.setValues("rgb", [e, e, e]), this
                    },
                    clearer: function(t) {
                        return this.setValues("alpha", this.values.alpha - this.values.alpha * t), this
                    },
                    opaquer: function(t) {
                        return this.setValues("alpha", this.values.alpha + this.values.alpha * t), this
                    },
                    rotate: function(t) {
                        var e = this.values.hsl[0];
                        return e = (e + t) % 360, e = 0 > e ? 360 + e : e, this.values.hsl[0] = e, this.setValues("hsl", this.values.hsl), this
                    },
                    mix: function(t, e) {
                        e = 1 - (null == e ? .5 : e);
                        for (var n = 2 * e - 1, i = this.alpha() - t.alpha(), o = ((n * i == -1 ? n : (n + i) / (1 + n * i)) + 1) / 2, a = 1 - o, s = this.rgbArray(), r = t.rgbArray(), l = 0; l < s.length; l++)
                            s[l] = s[l] * o + r[l] * a;
                        this.setValues("rgb", s);
                        var c = this.alpha() * e + t.alpha() * (1 - e);
                        return this.setValues("alpha", c), this
                    },
                    toJSON: function() {
                        return this.rgb()
                    },
                    clone: function() {
                        return new o(this.rgb())
                    }
                }, o.prototype.getValues = function(t) {
                    for (var e = {}, n = 0; n < t.length; n++)
                        e[t.charAt(n)] = this.values[t][n];
                    return 1 != this.values.alpha && (e.a = this.values.alpha), e
                }, o.prototype.setValues = function(t, e) {
                    var i = {
                            rgb: ["red", "green", "blue"],
                            hsl: ["hue", "saturation", "lightness"],
                            hsv: ["hue", "saturation", "value"],
                            hwb: ["hue", "whiteness", "blackness"],
                            cmyk: ["cyan", "magenta", "yellow", "black"]
                        },
                        o = {
                            rgb: [255, 255, 255],
                            hsl: [360, 100, 100],
                            hsv: [360, 100, 100],
                            hwb: [360, 100, 100],
                            cmyk: [100, 100, 100, 100]
                        },
                        a = 1;
                    if ("alpha" == t)
                        a = e;
                    else if (e.length)
                        this.values[t] = e.slice(0, t.length), a = e[t.length];
                    else if (void 0 !== e[t.charAt(0)]) {
                        for (var s = 0; s < t.length; s++)
                            this.values[t][s] = e[t.charAt(s)];
                        a = e.a
                    } else if (void 0 !== e[i[t][0]]) {
                        for (var r = i[t], s = 0; s < t.length; s++)
                            this.values[t][s] = e[r[s]];
                        a = e.alpha
                    }
                    if (this.values.alpha = Math.max(0, Math.min(1, void 0 !== a ? a : this.values.alpha)), "alpha" != t) {
                        for (var s = 0; s < t.length; s++) {
                            var l = Math.max(0, Math.min(o[t][s], this.values[t][s]));
                            this.values[t][s] = Math.round(l)
                        }
                        for (var c in i) {
                            c != t && (this.values[c] = n[t][c](this.values[t]));
                            for (var s = 0; s < c.length; s++) {
                                var l = Math.max(0, Math.min(o[c][s], this.values[c][s]));
                                this.values[c][s] = Math.round(l)
                            }
                        }
                        return !0
                    }
                }, o.prototype.setSpace = function(t, e) {
                    var n = e[0];
                    return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n), this)
                }, o.prototype.setChannel = function(t, e, n) {
                    return void 0 === n ? this.values[t][e] : (this.values[t][e] = n, this.setValues(t, this.values[t]), this)
                }, window.Color = e.exports = o
            }()
        }, {
            "color-convert": 3,
            "color-string": 4
        }],
        2: [function(t, e, n) {
            function i(t) {
                var e,
                    n,
                    i,
                    o = t[0] / 255,
                    a = t[1] / 255,
                    s = t[2] / 255,
                    r = Math.min(o, a, s),
                    l = Math.max(o, a, s),
                    c = l - r;
                return l == r ? e = 0 : o == l ? e = (a - s) / c : a == l ? e = 2 + (s - o) / c : s == l && (e = 4 + (o - a) / c), e = Math.min(60 * e, 360), 0 > e && (e += 360), i = (r + l) / 2, n = l == r ? 0 : .5 >= i ? c / (l + r) : c / (2 - l - r), [e, 100 * n, 100 * i]
            }
            function o(t) {
                var e,
                    n,
                    i,
                    o = t[0],
                    a = t[1],
                    s = t[2],
                    r = Math.min(o, a, s),
                    l = Math.max(o, a, s),
                    c = l - r;
                return n = 0 == l ? 0 : c / l * 1e3 / 10, l == r ? e = 0 : o == l ? e = (a - s) / c : a == l ? e = 2 + (s - o) / c : s == l && (e = 4 + (o - a) / c), e = Math.min(60 * e, 360), 0 > e && (e += 360), i = l / 255 * 1e3 / 10, [e, n, i]
            }
            function a(t) {
                var e = t[0],
                    n = t[1],
                    o = t[2],
                    a = i(t)[0],
                    s = 1 / 255 * Math.min(e, Math.min(n, o)),
                    o = 1 - 1 / 255 * Math.max(e, Math.max(n, o));
                return [a, 100 * s, 100 * o]
            }
            function s(t) {
                var e,
                    n,
                    i,
                    o,
                    a = t[0] / 255,
                    s = t[1] / 255,
                    r = t[2] / 255;
                return o = Math.min(1 - a, 1 - s, 1 - r), e = (1 - a - o) / (1 - o) || 0, n = (1 - s - o) / (1 - o) || 0, i = (1 - r - o) / (1 - o) || 0, [100 * e, 100 * n, 100 * i, 100 * o]
            }
            function l(t) {
                return Z[JSON.stringify(t)]
            }
            function c(t) {
                var e = t[0] / 255,
                    n = t[1] / 255,
                    i = t[2] / 255;
                return e = e > .04045 ? Math.pow((e + .055) / 1.055, 2.4) : e / 12.92, n = n > .04045 ? Math.pow((n + .055) / 1.055, 2.4) : n / 12.92, i = i > .04045 ? Math.pow((i + .055) / 1.055, 2.4) : i / 12.92, [100 * (.4124 * e + .3576 * n + .1805 * i), 100 * (.2126 * e + .7152 * n + .0722 * i), 100 * (.0193 * e + .1192 * n + .9505 * i)]
            }
            function u(t) {
                var e,
                    n,
                    i,
                    o = c(t),
                    a = o[0],
                    s = o[1],
                    r = o[2];
                return a /= 95.047, s /= 100, r /= 108.883, a = a > .008856 ? Math.pow(a, 1 / 3) : 7.787 * a + 16 / 116, s = s > .008856 ? Math.pow(s, 1 / 3) : 7.787 * s + 16 / 116, r = r > .008856 ? Math.pow(r, 1 / 3) : 7.787 * r + 16 / 116, e = 116 * s - 16, n = 500 * (a - s), i = 200 * (s - r), [e, n, i]
            }
            function d(t) {
                return $(u(t))
            }
            function h(t) {
                var e,
                    n,
                    i,
                    o,
                    a,
                    s = t[0] / 360,
                    r = t[1] / 100,
                    l = t[2] / 100;
                if (0 == r)
                    return a = 255 * l, [a, a, a];
                n = .5 > l ? l * (1 + r) : l + r - l * r, e = 2 * l - n, o = [0, 0, 0];
                for (var c = 0; 3 > c; c++)
                    i = s + 1 / 3 * -(c - 1), 0 > i && i++, i > 1 && i--, a = 1 > 6 * i ? e + 6 * (n - e) * i : 1 > 2 * i ? n : 2 > 3 * i ? e + (n - e) * (2 / 3 - i) * 6 : e, o[c] = 255 * a;
                return o
            }
            function f(t) {
                var e,
                    n,
                    i = t[0],
                    o = t[1] / 100,
                    a = t[2] / 100;
                return a *= 2, o *= 1 >= a ? a : 2 - a, n = (a + o) / 2, e = 2 * o / (a + o), [i, 100 * e, 100 * n]
            }
            function p(t) {
                return a(h(t))
            }
            function m(t) {
                return s(h(t))
            }
            function v(t) {
                return l(h(t))
            }
            function E(t) {
                var e = t[0] / 60,
                    n = t[1] / 100,
                    i = t[2] / 100,
                    o = Math.floor(e) % 6,
                    a = e - Math.floor(e),
                    s = 255 * i * (1 - n),
                    r = 255 * i * (1 - n * a),
                    l = 255 * i * (1 - n * (1 - a)),
                    i = 255 * i;
                switch (o) {
                case 0:
                    return [i, l, s];
                case 1:
                    return [r, i, s];
                case 2:
                    return [s, i, l];
                case 3:
                    return [s, r, i];
                case 4:
                    return [l, s, i];
                case 5:
                    return [i, s, r]
                }
            }
            function y(t) {
                var e,
                    n,
                    i = t[0],
                    o = t[1] / 100,
                    a = t[2] / 100;
                return n = (2 - o) * a, e = o * a, e /= 1 >= n ? n : 2 - n, e = e || 0, n /= 2, [i, 100 * e, 100 * n]
            }
            function T(t) {
                return a(E(t))
            }
            function C(t) {
                return s(E(t))
            }
            function _(t) {
                return l(E(t))
            }
            function D(t) {
                var e,
                    n,
                    i,
                    o,
                    a = t[0] / 360,
                    s = t[1] / 100,
                    l = t[2] / 100,
                    c = s + l;
                switch (c > 1 && (s /= c, l /= c), e = Math.floor(6 * a), n = 1 - l, i = 6 * a - e, 0 != (1 & e) && (i = 1 - i), o = s + i * (n - s), e) {
                default:
                case 6:
                case 0:
                    r = n, g = o, b = s;
                    break;
                case 1:
                    r = o, g = n, b = s;
                    break;
                case 2:
                    r = s, g = n, b = o;
                    break;
                case 3:
                    r = s, g = o, b = n;
                    break;
                case 4:
                    r = o, g = s, b = n;
                    break;
                case 5:
                    r = n, g = s, b = o
                }
                return [255 * r, 255 * g, 255 * b]
            }
            function I(t) {
                return i(D(t))
            }
            function O(t) {
                return o(D(t))
            }
            function R(t) {
                return s(D(t))
            }
            function k(t) {
                return l(D(t))
            }
            function w(t) {
                var e,
                    n,
                    i,
                    o = t[0] / 100,
                    a = t[1] / 100,
                    s = t[2] / 100,
                    r = t[3] / 100;
                return e = 1 - Math.min(1, o * (1 - r) + r), n = 1 - Math.min(1, a * (1 - r) + r), i = 1 - Math.min(1, s * (1 - r) + r), [255 * e, 255 * n, 255 * i]
            }
            function x(t) {
                return i(w(t))
            }
            function S(t) {
                return o(w(t))
            }
            function K(t) {
                return a(w(t))
            }
            function N(t) {
                return l(w(t))
            }
            function A(t) {
                var e,
                    n,
                    i,
                    o = t[0] / 100,
                    a = t[1] / 100,
                    s = t[2] / 100;
                return e = 3.2406 * o + -1.5372 * a + -.4986 * s, n = -.9689 * o + 1.8758 * a + .0415 * s, i = .0557 * o + -.204 * a + 1.057 * s, e = e > .0031308 ? 1.055 * Math.pow(e, 1 / 2.4) - .055 : e *= 12.92, n = n > .0031308 ? 1.055 * Math.pow(n, 1 / 2.4) - .055 : n *= 12.92, i = i > .0031308 ? 1.055 * Math.pow(i, 1 / 2.4) - .055 : i *= 12.92, e = Math.min(Math.max(0, e), 1), n = Math.min(Math.max(0, n), 1), i = Math.min(Math.max(0, i), 1), [255 * e, 255 * n, 255 * i]
            }
            function F(t) {
                var e,
                    n,
                    i,
                    o = t[0],
                    a = t[1],
                    s = t[2];
                return o /= 95.047, a /= 100, s /= 108.883, o = o > .008856 ? Math.pow(o, 1 / 3) : 7.787 * o + 16 / 116, a = a > .008856 ? Math.pow(a, 1 / 3) : 7.787 * a + 16 / 116, s = s > .008856 ? Math.pow(s, 1 / 3) : 7.787 * s + 16 / 116, e = 116 * a - 16, n = 500 * (o - a), i = 200 * (a - s), [e, n, i]
            }
            function P(t) {
                return $(F(t))
            }
            function L(t) {
                var e,
                    n,
                    i,
                    o,
                    a = t[0],
                    s = t[1],
                    r = t[2];
                return 8 >= a ? (n = 100 * a / 903.3, o = n / 100 * 7.787 + 16 / 116) : (n = 100 * Math.pow((a + 16) / 116, 3), o = Math.pow(n / 100, 1 / 3)), e = .008856 >= e / 95.047 ? e = 95.047 * (s / 500 + o - 16 / 116) / 7.787 : 95.047 * Math.pow(s / 500 + o, 3), i = .008859 >= i / 108.883 ? i = 108.883 * (o - r / 200 - 16 / 116) / 7.787 : 108.883 * Math.pow(o - r / 200, 3), [e, n, i]
            }
            function $(t) {
                var e,
                    n,
                    i,
                    o = t[0],
                    a = t[1],
                    s = t[2];
                return e = Math.atan2(s, a), n = 360 * e / 2 / Math.PI, 0 > n && (n += 360), i = Math.sqrt(a * a + s * s), [o, i, n]
            }
            function M(t) {
                return A(L(t))
            }
            function B(t) {
                var e,
                    n,
                    i,
                    o = t[0],
                    a = t[1];
                return i = t[2] / 360 * 2 * Math.PI, e = a * Math.cos(i), n = a * Math.sin(i), [o, e, n]
            }
            function H(t) {
                return L(B(t))
            }
            function z(t) {
                return M(B(t))
            }
            function j(t) {
                return G[t]
            }
            function W(t) {
                return i(j(t))
            }
            function q(t) {
                return o(j(t))
            }
            function V(t) {
                return a(j(t))
            }
            function U(t) {
                return s(j(t))
            }
            function Y(t) {
                return u(j(t))
            }
            function X(t) {
                return c(j(t))
            }
            e.exports = {
                rgb2hsl: i,
                rgb2hsv: o,
                rgb2hwb: a,
                rgb2cmyk: s,
                rgb2keyword: l,
                rgb2xyz: c,
                rgb2lab: u,
                rgb2lch: d,
                hsl2rgb: h,
                hsl2hsv: f,
                hsl2hwb: p,
                hsl2cmyk: m,
                hsl2keyword: v,
                hsv2rgb: E,
                hsv2hsl: y,
                hsv2hwb: T,
                hsv2cmyk: C,
                hsv2keyword: _,
                hwb2rgb: D,
                hwb2hsl: I,
                hwb2hsv: O,
                hwb2cmyk: R,
                hwb2keyword: k,
                cmyk2rgb: w,
                cmyk2hsl: x,
                cmyk2hsv: S,
                cmyk2hwb: K,
                cmyk2keyword: N,
                keyword2rgb: j,
                keyword2hsl: W,
                keyword2hsv: q,
                keyword2hwb: V,
                keyword2cmyk: U,
                keyword2lab: Y,
                keyword2xyz: X,
                xyz2rgb: A,
                xyz2lab: F,
                xyz2lch: P,
                lab2xyz: L,
                lab2rgb: M,
                lab2lch: $,
                lch2lab: B,
                lch2xyz: H,
                lch2rgb: z
            };
            var G = {
                    aliceblue: [240, 248, 255],
                    antiquewhite: [250, 235, 215],
                    aqua: [0, 255, 255],
                    aquamarine: [127, 255, 212],
                    azure: [240, 255, 255],
                    beige: [245, 245, 220],
                    bisque: [255, 228, 196],
                    black: [0, 0, 0],
                    blanchedalmond: [255, 235, 205],
                    blue: [0, 0, 255],
                    blueviolet: [138, 43, 226],
                    brown: [165, 42, 42],
                    burlywood: [222, 184, 135],
                    cadetblue: [95, 158, 160],
                    chartreuse: [127, 255, 0],
                    chocolate: [210, 105, 30],
                    coral: [255, 127, 80],
                    cornflowerblue: [100, 149, 237],
                    cornsilk: [255, 248, 220],
                    crimson: [220, 20, 60],
                    cyan: [0, 255, 255],
                    darkblue: [0, 0, 139],
                    darkcyan: [0, 139, 139],
                    darkgoldenrod: [184, 134, 11],
                    darkgray: [169, 169, 169],
                    darkgreen: [0, 100, 0],
                    darkgrey: [169, 169, 169],
                    darkkhaki: [189, 183, 107],
                    darkmagenta: [139, 0, 139],
                    darkolivegreen: [85, 107, 47],
                    darkorange: [255, 140, 0],
                    darkorchid: [153, 50, 204],
                    darkred: [139, 0, 0],
                    darksalmon: [233, 150, 122],
                    darkseagreen: [143, 188, 143],
                    darkslateblue: [72, 61, 139],
                    darkslategray: [47, 79, 79],
                    darkslategrey: [47, 79, 79],
                    darkturquoise: [0, 206, 209],
                    darkviolet: [148, 0, 211],
                    deeppink: [255, 20, 147],
                    deepskyblue: [0, 191, 255],
                    dimgray: [105, 105, 105],
                    dimgrey: [105, 105, 105],
                    dodgerblue: [30, 144, 255],
                    firebrick: [178, 34, 34],
                    floralwhite: [255, 250, 240],
                    forestgreen: [34, 139, 34],
                    fuchsia: [255, 0, 255],
                    gainsboro: [220, 220, 220],
                    ghostwhite: [248, 248, 255],
                    gold: [255, 215, 0],
                    goldenrod: [218, 165, 32],
                    gray: [128, 128, 128],
                    green: [0, 128, 0],
                    greenyellow: [173, 255, 47],
                    grey: [128, 128, 128],
                    honeydew: [240, 255, 240],
                    hotpink: [255, 105, 180],
                    indianred: [205, 92, 92],
                    indigo: [75, 0, 130],
                    ivory: [255, 255, 240],
                    khaki: [240, 230, 140],
                    lavender: [230, 230, 250],
                    lavenderblush: [255, 240, 245],
                    lawngreen: [124, 252, 0],
                    lemonchiffon: [255, 250, 205],
                    lightblue: [173, 216, 230],
                    lightcoral: [240, 128, 128],
                    lightcyan: [224, 255, 255],
                    lightgoldenrodyellow: [250, 250, 210],
                    lightgray: [211, 211, 211],
                    lightgreen: [144, 238, 144],
                    lightgrey: [211, 211, 211],
                    lightpink: [255, 182, 193],
                    lightsalmon: [255, 160, 122],
                    lightseagreen: [32, 178, 170],
                    lightskyblue: [135, 206, 250],
                    lightslategray: [119, 136, 153],
                    lightslategrey: [119, 136, 153],
                    lightsteelblue: [176, 196, 222],
                    lightyellow: [255, 255, 224],
                    lime: [0, 255, 0],
                    limegreen: [50, 205, 50],
                    linen: [250, 240, 230],
                    magenta: [255, 0, 255],
                    maroon: [128, 0, 0],
                    mediumaquamarine: [102, 205, 170],
                    mediumblue: [0, 0, 205],
                    mediumorchid: [186, 85, 211],
                    mediumpurple: [147, 112, 219],
                    mediumseagreen: [60, 179, 113],
                    mediumslateblue: [123, 104, 238],
                    mediumspringgreen: [0, 250, 154],
                    mediumturquoise: [72, 209, 204],
                    mediumvioletred: [199, 21, 133],
                    midnightblue: [25, 25, 112],
                    mintcream: [245, 255, 250],
                    mistyrose: [255, 228, 225],
                    moccasin: [255, 228, 181],
                    navajowhite: [255, 222, 173],
                    navy: [0, 0, 128],
                    oldlace: [253, 245, 230],
                    olive: [128, 128, 0],
                    olivedrab: [107, 142, 35],
                    orange: [255, 165, 0],
                    orangered: [255, 69, 0],
                    orchid: [218, 112, 214],
                    palegoldenrod: [238, 232, 170],
                    palegreen: [152, 251, 152],
                    paleturquoise: [175, 238, 238],
                    palevioletred: [219, 112, 147],
                    papayawhip: [255, 239, 213],
                    peachpuff: [255, 218, 185],
                    peru: [205, 133, 63],
                    pink: [255, 192, 203],
                    plum: [221, 160, 221],
                    powderblue: [176, 224, 230],
                    purple: [128, 0, 128],
                    rebeccapurple: [102, 51, 153],
                    red: [255, 0, 0],
                    rosybrown: [188, 143, 143],
                    royalblue: [65, 105, 225],
                    saddlebrown: [139, 69, 19],
                    salmon: [250, 128, 114],
                    sandybrown: [244, 164, 96],
                    seagreen: [46, 139, 87],
                    seashell: [255, 245, 238],
                    sienna: [160, 82, 45],
                    silver: [192, 192, 192],
                    skyblue: [135, 206, 235],
                    slateblue: [106, 90, 205],
                    slategray: [112, 128, 144],
                    slategrey: [112, 128, 144],
                    snow: [255, 250, 250],
                    springgreen: [0, 255, 127],
                    steelblue: [70, 130, 180],
                    tan: [210, 180, 140],
                    teal: [0, 128, 128],
                    thistle: [216, 191, 216],
                    tomato: [255, 99, 71],
                    turquoise: [64, 224, 208],
                    violet: [238, 130, 238],
                    wheat: [245, 222, 179],
                    white: [255, 255, 255],
                    whitesmoke: [245, 245, 245],
                    yellow: [255, 255, 0],
                    yellowgreen: [154, 205, 50]
                },
                Z = {};
            for (var Q in G)
                Z[JSON.stringify(G[Q])] = Q
        }, {}],
        3: [function(t, e, n) {
            var i = t("./conversions"),
                o = function() {
                    return new c
                };
            for (var a in i) {
                o[a + "Raw"] = function(t) {
                    return function(e) {
                        return "number" == typeof e && (e = Array.prototype.slice.call(arguments)), i[t](e)
                    }
                }(a);
                var s = /(\w+)2(\w+)/.exec(a),
                    r = s[1],
                    l = s[2];
                o[r] = o[r] || {}, o[r][l] = o[a] = function(t) {
                    return function(e) {
                        "number" == typeof e && (e = Array.prototype.slice.call(arguments));
                        var n = i[t](e);
                        if ("string" == typeof n || void 0 === n)
                            return n;
                        for (var o = 0; o < n.length; o++)
                            n[o] = Math.round(n[o]);
                        return n
                    }
                }(a)
            }
            var c = function() {
                this.convs = {}
            };
            c.prototype.routeSpace = function(t, e) {
                var n = e[0];
                return void 0 === n ? this.getValues(t) : ("number" == typeof n && (n = Array.prototype.slice.call(e)), this.setValues(t, n))
            }, c.prototype.setValues = function(t, e) {
                return this.space = t, this.convs = {}, this.convs[t] = e, this
            }, c.prototype.getValues = function(t) {
                var e = this.convs[t];
                if (!e) {
                    var n = this.space,
                        i = this.convs[n];
                    e = o[n][t](i), this.convs[t] = e
                }
                return e
            }, ["rgb", "hsl", "hsv", "cmyk", "keyword"].forEach(function(t) {
                c.prototype[t] = function(e) {
                    return this.routeSpace(t, arguments)
                }
            }), e.exports = o
        }, {
            "./conversions": 2
        }],
        4: [function(t, e, n) {
            function i(t) {
                if (t) {
                    var e = /^#([a-fA-F0-9]{3})$/,
                        n = /^#([a-fA-F0-9]{6})$/,
                        i = /^rgba?\(\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*,\s*([+-]?\d+)\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
                        o = /^rgba?\(\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*,\s*([+-]?[\d\.]+)\%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)$/,
                        a = /(\w+)/,
                        s = [0, 0, 0],
                        r = 1,
                        l = t.match(e);
                    if (l) {
                        l = l[1];
                        for (var c = 0; c < s.length; c++)
                            s[c] = parseInt(l[c] + l[c], 16)
                    } else if (l = t.match(n)) {
                        l = l[1];
                        for (var c = 0; c < s.length; c++)
                            s[c] = parseInt(l.slice(2 * c, 2 * c + 2), 16)
                    } else if (l = t.match(i)) {
                        for (var c = 0; c < s.length; c++)
                            s[c] = parseInt(l[c + 1]);
                        r = parseFloat(l[4])
                    } else if (l = t.match(o)) {
                        for (var c = 0; c < s.length; c++)
                            s[c] = Math.round(2.55 * parseFloat(l[c + 1]));
                        r = parseFloat(l[4])
                    } else if (l = t.match(a)) {
                        if ("transparent" == l[1])
                            return [0, 0, 0, 0];
                        if (!(s = y[l[1]]))
                            return
                    }
                    for (var c = 0; c < s.length; c++)
                        s[c] = b(s[c], 0, 255);
                    return r = r || 0 == r ? b(r, 0, 1) : 1, s[3] = r, s
                }
            }
            function o(t) {
                if (t) {
                    var e = /^hsla?\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,
                        n = t.match(e);
                    if (n) {
                        var i = parseFloat(n[4]);
                        return [b(parseInt(n[1]), 0, 360), b(parseFloat(n[2]), 0, 100), b(parseFloat(n[3]), 0, 100), b(isNaN(i) ? 1 : i, 0, 1)]
                    }
                }
            }
            function a(t) {
                if (t) {
                    var e = /^hwb\(\s*([+-]?\d+)(?:deg)?\s*,\s*([+-]?[\d\.]+)%\s*,\s*([+-]?[\d\.]+)%\s*(?:,\s*([+-]?[\d\.]+)\s*)?\)/,
                        n = t.match(e);
                    if (n) {
                        var i = parseFloat(n[4]);
                        return [b(parseInt(n[1]), 0, 360), b(parseFloat(n[2]), 0, 100), b(parseFloat(n[3]), 0, 100), b(isNaN(i) ? 1 : i, 0, 1)]
                    }
                }
            }
            function s(t) {
                var e = i(t);
                return e && e.slice(0, 3)
            }
            function r(t) {
                var e = o(t);
                return e && e.slice(0, 3)
            }
            function l(t) {
                var e = i(t);
                return e ? e[3] : (e = o(t)) ? e[3] : (e = a(t)) ? e[3] : void 0
            }
            function c(t) {
                return "#" + E(t[0]) + E(t[1]) + E(t[2])
            }
            function u(t, e) {
                return 1 > e || t[3] && t[3] < 1 ? d(t, e) : "rgb(" + t[0] + ", " + t[1] + ", " + t[2] + ")"
            }
            function d(t, e) {
                return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "rgba(" + t[0] + ", " + t[1] + ", " + t[2] + ", " + e + ")"
            }
            function h(t, e) {
                return 1 > e || t[3] && t[3] < 1 ? f(t, e) : "rgb(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%)"
            }
            function f(t, e) {
                return "rgba(" + Math.round(t[0] / 255 * 100) + "%, " + Math.round(t[1] / 255 * 100) + "%, " + Math.round(t[2] / 255 * 100) + "%, " + (e || t[3] || 1) + ")"
            }
            function p(t, e) {
                return 1 > e || t[3] && t[3] < 1 ? m(t, e) : "hsl(" + t[0] + ", " + t[1] + "%, " + t[2] + "%)"
            }
            function m(t, e) {
                return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hsla(" + t[0] + ", " + t[1] + "%, " + t[2] + "%, " + e + ")"
            }
            function g(t, e) {
                return void 0 === e && (e = void 0 !== t[3] ? t[3] : 1), "hwb(" + t[0] + ", " + t[1] + "%, " + t[2] + "%" + (void 0 !== e && 1 !== e ? ", " + e : "") + ")"
            }
            function v(t) {
                return T[t.slice(0, 3)]
            }
            function b(t, e, n) {
                return Math.min(Math.max(e, t), n)
            }
            function E(t) {
                var e = t.toString(16).toUpperCase();
                return e.length < 2 ? "0" + e : e
            }
            var y = t("color-name");
            e.exports = {
                getRgba: i,
                getHsla: o,
                getRgb: s,
                getHsl: r,
                getHwb: a,
                getAlpha: l,
                hexString: c,
                rgbString: u,
                rgbaString: d,
                percentString: h,
                percentaString: f,
                hslString: p,
                hslaString: m,
                hwbString: g,
                keyword: v
            };
            var T = {};
            for (var C in y)
                T[y[C]] = C
        }, {
            "color-name": 5
        }],
        5: [function(t, e, n) {
            e.exports = {
                aliceblue: [240, 248, 255],
                antiquewhite: [250, 235, 215],
                aqua: [0, 255, 255],
                aquamarine: [127, 255, 212],
                azure: [240, 255, 255],
                beige: [245, 245, 220],
                bisque: [255, 228, 196],
                black: [0, 0, 0],
                blanchedalmond: [255, 235, 205],
                blue: [0, 0, 255],
                blueviolet: [138, 43, 226],
                brown: [165, 42, 42],
                burlywood: [222, 184, 135],
                cadetblue: [95, 158, 160],
                chartreuse: [127, 255, 0],
                chocolate: [210, 105, 30],
                coral: [255, 127, 80],
                cornflowerblue: [100, 149, 237],
                cornsilk: [255, 248, 220],
                crimson: [220, 20, 60],
                cyan: [0, 255, 255],
                darkblue: [0, 0, 139],
                darkcyan: [0, 139, 139],
                darkgoldenrod: [184, 134, 11],
                darkgray: [169, 169, 169],
                darkgreen: [0, 100, 0],
                darkgrey: [169, 169, 169],
                darkkhaki: [189, 183, 107],
                darkmagenta: [139, 0, 139],
                darkolivegreen: [85, 107, 47],
                darkorange: [255, 140, 0],
                darkorchid: [153, 50, 204],
                darkred: [139, 0, 0],
                darksalmon: [233, 150, 122],
                darkseagreen: [143, 188, 143],
                darkslateblue: [72, 61, 139],
                darkslategray: [47, 79, 79],
                darkslategrey: [47, 79, 79],
                darkturquoise: [0, 206, 209],
                darkviolet: [148, 0, 211],
                deeppink: [255, 20, 147],
                deepskyblue: [0, 191, 255],
                dimgray: [105, 105, 105],
                dimgrey: [105, 105, 105],
                dodgerblue: [30, 144, 255],
                firebrick: [178, 34, 34],
                floralwhite: [255, 250, 240],
                forestgreen: [34, 139, 34],
                fuchsia: [255, 0, 255],
                gainsboro: [220, 220, 220],
                ghostwhite: [248, 248, 255],
                gold: [255, 215, 0],
                goldenrod: [218, 165, 32],
                gray: [128, 128, 128],
                green: [0, 128, 0],
                greenyellow: [173, 255, 47],
                grey: [128, 128, 128],
                honeydew: [240, 255, 240],
                hotpink: [255, 105, 180],
                indianred: [205, 92, 92],
                indigo: [75, 0, 130],
                ivory: [255, 255, 240],
                khaki: [240, 230, 140],
                lavender: [230, 230, 250],
                lavenderblush: [255, 240, 245],
                lawngreen: [124, 252, 0],
                lemonchiffon: [255, 250, 205],
                lightblue: [173, 216, 230],
                lightcoral: [240, 128, 128],
                lightcyan: [224, 255, 255],
                lightgoldenrodyellow: [250, 250, 210],
                lightgray: [211, 211, 211],
                lightgreen: [144, 238, 144],
                lightgrey: [211, 211, 211],
                lightpink: [255, 182, 193],
                lightsalmon: [255, 160, 122],
                lightseagreen: [32, 178, 170],
                lightskyblue: [135, 206, 250],
                lightslategray: [119, 136, 153],
                lightslategrey: [119, 136, 153],
                lightsteelblue: [176, 196, 222],
                lightyellow: [255, 255, 224],
                lime: [0, 255, 0],
                limegreen: [50, 205, 50],
                linen: [250, 240, 230],
                magenta: [255, 0, 255],
                maroon: [128, 0, 0],
                mediumaquamarine: [102, 205, 170],
                mediumblue: [0, 0, 205],
                mediumorchid: [186, 85, 211],
                mediumpurple: [147, 112, 219],
                mediumseagreen: [60, 179, 113],
                mediumslateblue: [123, 104, 238],
                mediumspringgreen: [0, 250, 154],
                mediumturquoise: [72, 209, 204],
                mediumvioletred: [199, 21, 133],
                midnightblue: [25, 25, 112],
                mintcream: [245, 255, 250],
                mistyrose: [255, 228, 225],
                moccasin: [255, 228, 181],
                navajowhite: [255, 222, 173],
                navy: [0, 0, 128],
                oldlace: [253, 245, 230],
                olive: [128, 128, 0],
                olivedrab: [107, 142, 35],
                orange: [255, 165, 0],
                orangered: [255, 69, 0],
                orchid: [218, 112, 214],
                palegoldenrod: [238, 232, 170],
                palegreen: [152, 251, 152],
                paleturquoise: [175, 238, 238],
                palevioletred: [219, 112, 147],
                papayawhip: [255, 239, 213],
                peachpuff: [255, 218, 185],
                peru: [205, 133, 63],
                pink: [255, 192, 203],
                plum: [221, 160, 221],
                powderblue: [176, 224, 230],
                purple: [128, 0, 128],
                rebeccapurple: [102, 51, 153],
                red: [255, 0, 0],
                rosybrown: [188, 143, 143],
                royalblue: [65, 105, 225],
                saddlebrown: [139, 69, 19],
                salmon: [250, 128, 114],
                sandybrown: [244, 164, 96],
                seagreen: [46, 139, 87],
                seashell: [255, 245, 238],
                sienna: [160, 82, 45],
                silver: [192, 192, 192],
                skyblue: [135, 206, 235],
                slateblue: [106, 90, 205],
                slategray: [112, 128, 144],
                slategrey: [112, 128, 144],
                snow: [255, 250, 250],
                springgreen: [0, 255, 127],
                steelblue: [70, 130, 180],
                tan: [210, 180, 140],
                teal: [0, 128, 128],
                thistle: [216, 191, 216],
                tomato: [255, 99, 71],
                turquoise: [64, 224, 208],
                violet: [238, 130, 238],
                wheat: [245, 222, 179],
                white: [255, 255, 255],
                whitesmoke: [245, 245, 245],
                yellow: [255, 255, 0],
                yellowgreen: [154, 205, 50]
            }
        }, {}]
    }, {}, [1]), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = function(t, e) {
                this.config = e, t.length && t[0].getContext && (t = t[0]), t.getContext && (t = t.getContext("2d")), this.ctx = t, this.canvas = t.canvas, this.width = t.canvas.width || parseInt(n.helpers.getStyle(t.canvas, "width")) || n.helpers.getMaximumWidth(t.canvas), this.height = t.canvas.height || parseInt(n.helpers.getStyle(t.canvas, "height")) || n.helpers.getMaximumHeight(t.canvas), this.aspectRatio = this.width / this.height, (isNaN(this.aspectRatio) || !1 === isFinite(this.aspectRatio)) && (this.aspectRatio = e.aspectRatio !== undefined ? e.aspectRatio : 2), this.originalCanvasStyleWidth = t.canvas.style.width, this.originalCanvasStyleHeight = t.canvas.style.height, n.helpers.retinaScale(this), e && (this.controller = new n.Controller(this));
                var i = this;
                return n.helpers.addResizeListener(t.canvas.parentNode, function() {
                    i.controller && i.controller.config.options.responsive && i.controller.resize()
                }), this.controller ? this.controller : this
            };
        n.defaults = {
            global: {
                responsive: !0,
                responsiveAnimationDuration: 0,
                maintainAspectRatio: !0,
                events: ["mousemove", "mouseout", "click", "touchstart", "touchmove"],
                hover: {
                    onHover: null,
                    mode: "single",
                    animationDuration: 400
                },
                onClick: null,
                defaultColor: "rgba(0,0,0,0.1)",
                elements: {},
                legendCallback: function(t) {
                    var e = [];
                    e.push('<ul class="' + t.id + '-legend">');
                    for (var n = 0; n < t.data.datasets.length; n++)
                        e.push('<li><span style="background-color:' + t.data.datasets[n].backgroundColor + '">'), t.data.datasets[n].label && e.push(t.data.datasets[n].label), e.push("</span></li>");
                    return e.push("</ul>"), e.join("")
                }
            }
        }, t.Chart = n, n.noConflict = function() {
            return t.Chart = e, n
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers = {},
            i = n.each = function(t, e, n, i) {
                var o = Array.prototype.slice.call(arguments, 3);
                if (t)
                    if (t.length === +t.length) {
                        var a;
                        if (i)
                            for (a = t.length - 1; a >= 0; a--)
                                e.apply(n, [t[a], a].concat(o));
                        else
                            for (a = 0; a < t.length; a++)
                                e.apply(n, [t[a], a].concat(o))
                    } else
                        for (var s in t)
                            e.apply(n, [t[s], s].concat(o))
            },
            o = n.clone = function(t) {
                var e = {};
                return i(t, function(i, a) {
                    t.hasOwnProperty(a) && (n.isArray(i) ? e[a] = i.slice(0) : e[a] = "object" == typeof i && null !== i ? o(i) : i)
                }), e
            },
            a = n.extend = function(t) {
                return i(Array.prototype.slice.call(arguments, 1), function(e) {
                    i(e, function(n, i) {
                        e.hasOwnProperty(i) && (t[i] = n)
                    })
                }), t
            },
            s = n.configMerge = function(t) {
                var i = o(t);
                return n.each(Array.prototype.slice.call(arguments, 1), function(t) {
                    n.each(t, function(o, a) {
                        if (t.hasOwnProperty(a))
                            if ("scales" === a)
                                i[a] = n.scaleMerge(i.hasOwnProperty(a) ? i[a] : {}, o);
                            else if ("scale" === a)
                                i[a] = n.configMerge(i.hasOwnProperty(a) ? i[a] : {}, e.scaleService.getScaleDefaults(o.type), o);
                            else if (i.hasOwnProperty(a) && n.isArray(i[a]) && n.isArray(o)) {
                                var s = i[a];
                                n.each(o, function(t, e) {
                                    e < s.length ? "object" == typeof s[e] && null !== s[e] && "object" == typeof t && null !== t ? s[e] = n.configMerge(s[e], t) : s[e] = t : s.push(t)
                                })
                            } else
                                i.hasOwnProperty(a) && "object" == typeof i[a] && null !== i[a] && "object" == typeof o ? i[a] = n.configMerge(i[a], o) : i[a] = o
                    })
                }), i
            },
            r = n.extendDeep = function(t) {
                function e(t) {
                    return n.each(arguments, function(i) {
                        i !== t && n.each(i, function(n, i) {
                            t[i] && t[i].constructor && t[i].constructor === Object ? e(t[i], n) : t[i] = n
                        })
                    }), t
                }
                return e.apply(this, arguments)
            },
            l = n.scaleMerge = function(t, i) {
                var a = o(t);
                return n.each(i, function(t, o) {
                    i.hasOwnProperty(o) && ("xAxes" === o || "yAxes" === o ? a.hasOwnProperty(o) ? n.each(t, function(t, i) {
                        i >= a[o].length || !a[o][i].type ? a[o].push(n.configMerge(t.type ? e.scaleService.getScaleDefaults(t.type) : {}, t)) : t.type !== a[o][i].type ? a[o][i] = n.configMerge(a[o][i], t.type ? e.scaleService.getScaleDefaults(t.type) : {}, t) : a[o][i] = n.configMerge(a[o][i], t)
                    }) : (a[o] = [], n.each(t, function(t) {
                        a[o].push(n.configMerge(t.type ? e.scaleService.getScaleDefaults(t.type) : {}, t))
                    })) : a.hasOwnProperty(o) && "object" == typeof a[o] && null !== a[o] && "object" == typeof t ? a[o] = n.configMerge(a[o], t) : a[o] = t)
                }), a
            },
            c = n.getValueAtIndexOrDefault = function(t, e, i) {
                return t === undefined || null === t ? i : n.isArray(t) ? e < t.length ? t[e] : i : t
            },
            u = n.getValueOrDefault = function(t, e) {
                return t === undefined ? e : t
            },
            d = n.indexOf = function(t, e) {
                if (Array.prototype.indexOf)
                    return t.indexOf(e);
                for (var n = 0; n < t.length; n++)
                    if (t[n] === e)
                        return n;
                return -1
            },
            h = n.where = function(t, e) {
                var i = [];
                return n.each(t, function(t) {
                    e(t) && i.push(t)
                }), i
            },
            f = n.findNextWhere = function(t, e, n) {
                n !== undefined && null !== n || (n = -1);
                for (var i = n + 1; i < t.length; i++) {
                    var o = t[i];
                    if (e(o))
                        return o
                }
            },
            p = n.findPreviousWhere = function(t, e, n) {
                n !== undefined && null !== n || (n = t.length);
                for (var i = n - 1; i >= 0; i--) {
                    var o = t[i];
                    if (e(o))
                        return o
                }
            },
            m = n.inherits = function(t) {
                var e = this,
                    n = t && t.hasOwnProperty("constructor") ? t.constructor : function() {
                        return e.apply(this, arguments)
                    },
                    i = function() {
                        this.constructor = n
                    };
                return i.prototype = e.prototype, n.prototype = new i, n.extend = m, t && a(n.prototype, t), n.__super__ = e.prototype, n
            },
            g = n.noop = function() {},
            v = n.uid = function() {
                var t = 0;
                return function() {
                    return "chart-" + t++
                }
            }(),
            b = n.warn = function(t) {
                console && "function" == typeof console.warn && console.warn(t)
            },
            E = n.isNumber = function(t) {
                return !isNaN(parseFloat(t)) && isFinite(t)
            },
            y = n.max = function(t) {
                return Math.max.apply(Math, t)
            },
            T = n.min = function(t) {
                return Math.min.apply(Math, t)
            },
            C = n.sign = function(t) {
                return Math.sign ? Math.sign(t) : (t = +t, 0 === t || isNaN(t) ? t : t > 0 ? 1 : -1)
            },
            _ = n.log10 = function(t) {
                return Math.log10 ? Math.log10(t) : Math.log(t) / Math.LN10
            },
            D = n.getDecimalPlaces = function(t) {
                if (t % 1 != 0 && E(t)) {
                    var e = t.toString();
                    if (e.indexOf("e-") < 0)
                        return e.split(".")[1].length;
                    if (e.indexOf(".") < 0)
                        return parseInt(e.split("e-")[1]);
                    var n = e.split(".")[1].split("e-");
                    return n[0].length + parseInt(n[1])
                }
                return 0
            },
            I = n.toRadians = function(t) {
                return t * (Math.PI / 180)
            },
            O = n.toDegrees = function(t) {
                return t * (180 / Math.PI)
            },
            R = n.getAngleFromPoint = function(t, e) {
                var n = e.x - t.x,
                    i = e.y - t.y,
                    o = Math.sqrt(n * n + i * i),
                    a = Math.atan2(i, n);
                return a < -.5 * Math.PI && (a += 2 * Math.PI), {
                    angle: a,
                    distance: o
                }
            },
            k = n.aliasPixel = function(t) {
                return t % 2 == 0 ? 0 : .5
            },
            w = n.splineCurve = function(t, e, n, i) {
                var o = t.skip ? e : t,
                    a = e,
                    s = n.skip ? e : n,
                    r = Math.sqrt(Math.pow(a.x - o.x, 2) + Math.pow(a.y - o.y, 2)),
                    l = Math.sqrt(Math.pow(s.x - a.x, 2) + Math.pow(s.y - a.y, 2)),
                    c = r / (r + l),
                    u = l / (r + l);
                c = isNaN(c) ? 0 : c, u = isNaN(u) ? 0 : u;
                var d = i * c,
                    h = i * u;
                return {
                    previous: {
                        x: a.x - d * (s.x - o.x),
                        y: a.y - d * (s.y - o.y)
                    },
                    next: {
                        x: a.x + h * (s.x - o.x),
                        y: a.y + h * (s.y - o.y)
                    }
                }
            },
            x = n.nextItem = function(t, e, n) {
                return n ? e >= t.length - 1 ? t[0] : t[e + 1] : e >= t.length - 1 ? t[t.length - 1] : t[e + 1]
            },
            S = n.previousItem = function(t, e, n) {
                return n ? e <= 0 ? t[t.length - 1] : t[e - 1] : e <= 0 ? t[0] : t[e - 1]
            },
            K = n.niceNum = function(t, e) {
                var i = Math.floor(n.log10(t)),
                    o = t / Math.pow(10, i),
                    a;
                return (a = e ? o < 1.5 ? 1 : o < 3 ? 2 : o < 7 ? 5 : 10 : o <= 1 ? 1 : o <= 2 ? 2 : o <= 5 ? 5 : 10) * Math.pow(10, i)
            },
            N = n.easingEffects = {
                linear: function(t) {
                    return t
                },
                easeInQuad: function(t) {
                    return t * t
                },
                easeOutQuad: function(t) {
                    return -1 * t * (t - 2)
                },
                easeInOutQuad: function(t) {
                    return (t /= .5) < 1 ? .5 * t * t : -.5 * (--t * (t - 2) - 1)
                },
                easeInCubic: function(t) {
                    return t * t * t
                },
                easeOutCubic: function(t) {
                    return 1 * ((t = t / 1 - 1) * t * t + 1)
                },
                easeInOutCubic: function(t) {
                    return (t /= .5) < 1 ? .5 * t * t * t : .5 * ((t -= 2) * t * t + 2)
                },
                easeInQuart: function(t) {
                    return t * t * t * t
                },
                easeOutQuart: function(t) {
                    return -1 * ((t = t / 1 - 1) * t * t * t - 1)
                },
                easeInOutQuart: function(t) {
                    return (t /= .5) < 1 ? .5 * t * t * t * t : -.5 * ((t -= 2) * t * t * t - 2)
                },
                easeInQuint: function(t) {
                    return 1 * (t /= 1) * t * t * t * t
                },
                easeOutQuint: function(t) {
                    return 1 * ((t = t / 1 - 1) * t * t * t * t + 1)
                },
                easeInOutQuint: function(t) {
                    return (t /= .5) < 1 ? .5 * t * t * t * t * t : .5 * ((t -= 2) * t * t * t * t + 2)
                },
                easeInSine: function(t) {
                    return -1 * Math.cos(t / 1 * (Math.PI / 2)) + 1
                },
                easeOutSine: function(t) {
                    return 1 * Math.sin(t / 1 * (Math.PI / 2))
                },
                easeInOutSine: function(t) {
                    return -.5 * (Math.cos(Math.PI * t / 1) - 1)
                },
                easeInExpo: function(t) {
                    return 0 === t ? 1 : 1 * Math.pow(2, 10 * (t / 1 - 1))
                },
                easeOutExpo: function(t) {
                    return 1 === t ? 1 : 1 * (1 - Math.pow(2, -10 * t / 1))
                },
                easeInOutExpo: function(t) {
                    return 0 === t ? 0 : 1 === t ? 1 : (t /= .5) < 1 ? .5 * Math.pow(2, 10 * (t - 1)) : .5 * (2 - Math.pow(2, -10 * --t))
                },
                easeInCirc: function(t) {
                    return t >= 1 ? t : -1 * (Math.sqrt(1 - (t /= 1) * t) - 1)
                },
                easeOutCirc: function(t) {
                    return 1 * Math.sqrt(1 - (t = t / 1 - 1) * t)
                },
                easeInOutCirc: function(t) {
                    return (t /= .5) < 1 ? -.5 * (Math.sqrt(1 - t * t) - 1) : .5 * (Math.sqrt(1 - (t -= 2) * t) + 1)
                },
                easeInElastic: function(t) {
                    var e = 1.70158,
                        n = 0,
                        i = 1;
                    return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (n || (n = .3), i < Math.abs(1) ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), -i * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / n))
                },
                easeOutElastic: function(t) {
                    var e = 1.70158,
                        n = 0,
                        i = 1;
                    return 0 === t ? 0 : 1 == (t /= 1) ? 1 : (n || (n = .3), i < Math.abs(1) ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), i * Math.pow(2, -10 * t) * Math.sin((1 * t - e) * (2 * Math.PI) / n) + 1)
                },
                easeInOutElastic: function(t) {
                    var e = 1.70158,
                        n = 0,
                        i = 1;
                    return 0 === t ? 0 : 2 == (t /= .5) ? 1 : (n || (n = .3 * 1.5 * 1), i < Math.abs(1) ? (i = 1, e = n / 4) : e = n / (2 * Math.PI) * Math.asin(1 / i), t < 1 ? i * Math.pow(2, 10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / n) * -.5 : i * Math.pow(2, -10 * (t -= 1)) * Math.sin((1 * t - e) * (2 * Math.PI) / n) * .5 + 1)
                },
                easeInBack: function(t) {
                    var e = 1.70158;
                    return 1 * (t /= 1) * t * ((e + 1) * t - e)
                },
                easeOutBack: function(t) {
                    var e = 1.70158;
                    return 1 * ((t = t / 1 - 1) * t * ((e + 1) * t + e) + 1)
                },
                easeInOutBack: function(t) {
                    var e = 1.70158;
                    return (t /= .5) < 1 ? t * t * ((1 + (e *= 1.525)) * t - e) * .5 : .5 * ((t -= 2) * t * ((1 + (e *= 1.525)) * t + e) + 2)
                },
                easeInBounce: function(t) {
                    return 1 - N.easeOutBounce(1 - t)
                },
                easeOutBounce: function(t) {
                    return (t /= 1) < 1 / 2.75 ? 7.5625 * t * t * 1 : t < 2 / 2.75 ? 1 * (7.5625 * (t -= 1.5 / 2.75) * t + .75) : t < 2.5 / 2.75 ? 1 * (7.5625 * (t -= 2.25 / 2.75) * t + .9375) : 1 * (7.5625 * (t -= 2.625 / 2.75) * t + .984375)
                },
                easeInOutBounce: function(t) {
                    return t < .5 ? .5 * N.easeInBounce(2 * t) : .5 * N.easeOutBounce(2 * t - 1) + .5
                }
            },
            A = n.requestAnimFrame = function() {
                return window.requestAnimationFrame || window.webkitRequestAnimationFrame || window.mozRequestAnimationFrame || window.oRequestAnimationFrame || window.msRequestAnimationFrame || function(t) {
                        return window.setTimeout(t, 1e3 / 60)
                    }
            }(),
            F = n.cancelAnimFrame = function() {
                return window.cancelAnimationFrame || window.webkitCancelAnimationFrame || window.mozCancelAnimationFrame || window.oCancelAnimationFrame || window.msCancelAnimationFrame || function(t) {
                        return window.clearTimeout(t, 1e3 / 60)
                    }
            }(),
            P = n.getRelativePosition = function(t, e) {
                var n,
                    i,
                    o = t.originalEvent || t,
                    a = t.currentTarget || t.srcElement,
                    s = a.getBoundingClientRect();
                return o.touches && o.touches.length > 0 ? (n = o.touches[0].clientX, i = o.touches[0].clientY) : (n = o.clientX, i = o.clientY), n = Math.round((n - s.left) / (s.right - s.left) * a.width / e.currentDevicePixelRatio), i = Math.round((i - s.top) / (s.bottom - s.top) * a.height / e.currentDevicePixelRatio), {
                    x: n,
                    y: i
                }
            },
            L = n.addEvent = function(t, e, n) {
                t.addEventListener ? t.addEventListener(e, n) : t.attachEvent ? t.attachEvent("on" + e, n) : t["on" + e] = n
            },
            $ = n.removeEvent = function(t, e, n) {
                t.removeEventListener ? t.removeEventListener(e, n, !1) : t.detachEvent ? t.detachEvent("on" + e, n) : t["on" + e] = g
            },
            M = n.bindEvents = function(t, e, n) {
                t.events || (t.events = {}), i(e, function(e) {
                    t.events[e] = function() {
                        n.apply(t, arguments)
                    }, L(t.chart.canvas, e, t.events[e])
                })
            },
            B = n.unbindEvents = function(t, e) {
                i(e, function(e, n) {
                    $(t.chart.canvas, n, e)
                })
            },
            H = n.getConstraintWidth = function(t) {
                var e,
                    n = document.defaultView.getComputedStyle(t)["max-width"],
                    i = document.defaultView.getComputedStyle(t.parentNode)["max-width"],
                    o = null !== n && "none" !== n,
                    a = null !== i && "none" !== i;
                return (o || a) && (e = Math.min(o ? parseInt(n, 10) : Number.POSITIVE_INFINITY, a ? parseInt(i, 10) : Number.POSITIVE_INFINITY)), e
            },
            z = n.getConstraintHeight = function(t) {
                var e,
                    n = document.defaultView.getComputedStyle(t)["max-height"],
                    i = document.defaultView.getComputedStyle(t.parentNode)["max-height"],
                    o = null !== n && "none" !== n,
                    a = null !== i && "none" !== i;
                return (n || i) && (e = Math.min(o ? parseInt(n, 10) : Number.POSITIVE_INFINITY, a ? parseInt(i, 10) : Number.POSITIVE_INFINITY)), e
            },
            j = n.getMaximumWidth = function(t) {
                var e = t.parentNode,
                    n = parseInt(q(e, "padding-left")) + parseInt(q(e, "padding-right")),
                    i = e.clientWidth - n,
                    o = H(t);
                return o !== undefined && (i = Math.min(i, o)), i
            },
            W = n.getMaximumHeight = function(t) {
                var e = t.parentNode,
                    n = parseInt(q(e, "padding-top")) + parseInt(q(e, "padding-bottom")),
                    i = e.clientHeight - n,
                    o = z(t);
                return o !== undefined && (i = Math.min(i, o)), i
            },
            q = n.getStyle = function(t, e) {
                return t.currentStyle ? t.currentStyle[e] : document.defaultView.getComputedStyle(t, null).getPropertyValue(e)
            },
            V = n.getMaximumSize = n.getMaximumWidth,
            U = n.retinaScale = function(t) {
                var e = t.ctx,
                    n = t.canvas.width,
                    i = t.canvas.height,
                    o = t.currentDevicePixelRatio = window.devicePixelRatio || 1;
                1 !== o && (e.canvas.height = i * o, e.canvas.width = n * o, e.scale(o, o), e.canvas.style.width = n + "px", e.canvas.style.height = i + "px", t.originalDevicePixelRatio = t.originalDevicePixelRatio || o)
            },
            Y = n.clear = function(t) {
                t.ctx.clearRect(0, 0, t.width, t.height)
            },
            X = n.fontString = function(t, e, n) {
                return e + " " + t + "px " + n
            },
            G = n.longestText = function(t, e, n) {
                t.font = e;
                var o = 0;
                return i(n, function(e) {
                    var n = t.measureText(e).width;
                    o = n > o ? n : o
                }), o
            },
            Z = n.drawRoundedRectangle = function(t, e, n, i, o, a) {
                t.beginPath(), t.moveTo(e + a, n), t.lineTo(e + i - a, n), t.quadraticCurveTo(e + i, n, e + i, n + a), t.lineTo(e + i, n + o - a), t.quadraticCurveTo(e + i, n + o, e + i - a, n + o), t.lineTo(e + a, n + o), t.quadraticCurveTo(e, n + o, e, n + o - a), t.lineTo(e, n + a), t.quadraticCurveTo(e, n, e + a, n), t.closePath()
            },
            Q = n.color = function(e) {
                return t.Color ? t.Color(e) : (console.log("Color.js not found!"), e)
            },
            J = n.addResizeListener = function(t, e) {
                var n = document.createElement("iframe"),
                    i = "chartjs-hidden-iframe";
                n.classlist ? n.classlist.add(i) : n.setAttribute("class", i), n.style.width = "100%", n.style.display = "block", n.style.border = 0, n.style.height = 0, n.style.margin = 0, n.style.position = "absolute", n.style.left = 0, n.style.right = 0, n.style.top = 0, n.style.bottom = 0, t.insertBefore(n, t.firstChild);
                var o = 0;
                (n.contentWindow || n).onresize = function() {
                    e && e()
                }
            },
            tt = n.removeResizeListener = function(t) {
                var e = t.querySelector(".chartjs-hidden-iframe");
                e && e.parentNode.removeChild(e)
            },
            et = n.isArray = function(t) {
                return Array.isArray ? Array.isArray(t) : "[object Array]" === Object.prototype.toString.call(arg)
            },
            nt = n.isDatasetVisible = function(t) {
                return !t.hidden
            };
        n.callCallback = function(t, e, n) {
            t && "function" == typeof t.call && t.apply(n, e)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.elements = {}, e.Element = function(t) {
            n.extend(this, t), this.initialize.apply(this, arguments)
        }, n.extend(e.Element.prototype, {
            initialize: function() {},
            pivot: function() {
                return this._view || (this._view = n.clone(this._model)), this._start = n.clone(this._view), this
            },
            transition: function(t) {
                return this._view || (this._view = n.clone(this._model)), this._start || this.pivot(), n.each(this._model, function(e, i) {
                    if ("_" !== i[0] && this._model.hasOwnProperty(i))
                        if (this._view[i])
                            if (this._model[i] === this._view[i])
                                ;
                            else if ("string" == typeof e)
                                try {
                                    var o = n.color(this._start[i]).mix(n.color(this._model[i]), t);
                                    this._view[i] = o.rgbString()
                                } catch (t) {
                                    this._view[i] = e
                                }
                            else if ("number" == typeof e) {
                                var a = this._start[i] !== undefined && !1 === isNaN(this._start[i]) ? this._start[i] : 0;
                                this._view[i] = (this._model[i] - a) * t + a
                            } else
                                this._view[i] = e;
                        else
                            "number" == typeof e && !1 === isNaN(this._view[i]) ? this._view[i] = e * t : this._view[i] = e || null;
                    else
                        ;
                }, this), 1 === t && delete this._start, this
            },
            tooltipPosition: function() {
                return {
                    x: this._model.x,
                    y: this._model.y
                }
            },
            hasValue: function() {
                return n.isNumber(this._model.x) && n.isNumber(this._model.y)
            }
        }), e.Element.extend = n.inherits
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.animation = {
            duration: 1e3,
            easing: "easeOutQuart",
            onProgress: n.noop,
            onComplete: n.noop
        }, e.Animation = e.Element.extend({
            currentStep: null,
            numSteps: 60,
            easing: "",
            render: null,
            onAnimationProgress: null,
            onAnimationComplete: null
        }), e.animationService = {
            frameDuration: 17,
            animations: [],
            dropFrames: 0,
            addAnimation: function(t, e, i, o) {
                o || (t.animating = !0);
                for (var a = 0; a < this.animations.length; ++a)
                    if (this.animations[a].chartInstance === t)
                        return void (this.animations[a].animationObject = e);
                this.animations.push({
                    chartInstance: t,
                    animationObject: e
                }), 1 == this.animations.length && n.requestAnimFrame.call(window, this.digestWrapper)
            },
            cancelAnimation: function(t) {
                var e = n.findNextWhere(this.animations, function(e) {
                    return e.chartInstance === t
                });
                e && (this.animations.splice(e, 1), t.animating = !1)
            },
            digestWrapper: function() {
                e.animationService.startDigest.call(e.animationService)
            },
            startDigest: function() {
                var t = Date.now(),
                    e = 0;
                this.dropFrames > 1 && (e = Math.floor(this.dropFrames), this.dropFrames = this.dropFrames % 1);
                for (var i = 0; i < this.animations.length; i++)
                    null === this.animations[i].animationObject.currentStep && (this.animations[i].animationObject.currentStep = 0), this.animations[i].animationObject.currentStep += 1 + e, this.animations[i].animationObject.currentStep > this.animations[i].animationObject.numSteps && (this.animations[i].animationObject.currentStep = this.animations[i].animationObject.numSteps), this.animations[i].animationObject.render(this.animations[i].chartInstance, this.animations[i].animationObject), this.animations[i].animationObject.onAnimationProgress && this.animations[i].animationObject.onAnimationProgress.call && this.animations[i].animationObject.onAnimationProgress.call(this.animations[i].chartInstance, this.animations[i]), this.animations[i].animationObject.currentStep == this.animations[i].animationObject.numSteps && (this.animations[i].animationObject.onAnimationComplete && this.animations[i].animationObject.onAnimationComplete.call && this.animations[i].animationObject.onAnimationComplete.call(this.animations[i].chartInstance, this.animations[i]), this.animations[i].chartInstance.animating = !1, this.animations.splice(i, 1), i--);
                var o = Date.now(),
                    a = (o - t) / this.frameDuration;
                this.dropFrames += a, this.animations.length > 0 && n.requestAnimFrame.call(window, this.digestWrapper)
            }
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.types = {}, e.instances = {}, e.controllers = {}, e.Controller = function(t) {
            return this.chart = t, this.config = t.config, this.options = this.config.options = n.configMerge(e.defaults.global, e.defaults[this.config.type], this.config.options || {}), this.id = n.uid(), Object.defineProperty(this, "data", {
                get: function() {
                    return this.config.data
                }
            }), e.instances[this.id] = this, this.options.responsive && this.resize(!0), this.initialize.call(this), this
        }, n.extend(e.Controller.prototype, {
            initialize: function t() {
                return this.bindEvents(), this.ensureScalesHaveIDs(), this.buildOrUpdateControllers(), this.buildScales(), this.buildSurroundingItems(), this.updateLayout(), this.resetElements(), this.initToolTip(), this.update(), this
            },
            clear: function t() {
                return n.clear(this.chart), this
            },
            stop: function t() {
                return e.animationService.cancelAnimation(this), this
            },
            resize: function t(e) {
                this.stop();
                var i = this.chart.canvas,
                    o = n.getMaximumWidth(this.chart.canvas),
                    a = this.options.maintainAspectRatio && !1 === isNaN(this.chart.aspectRatio) && isFinite(this.chart.aspectRatio) && 0 !== this.chart.aspectRatio ? o / this.chart.aspectRatio : n.getMaximumHeight(this.chart.canvas);
                return i.width = this.chart.width = o, i.height = this.chart.height = a, n.retinaScale(this.chart), e || this.update(this.options.responsiveAnimationDuration), this
            },
            ensureScalesHaveIDs: function t() {
                this.options.scales && (this.options.scales.xAxes && this.options.scales.xAxes.length && n.each(this.options.scales.xAxes, function(t, e) {
                    t.id = t.id || "x-axis-" + e
                }, this), this.options.scales.yAxes && this.options.scales.yAxes.length && n.each(this.options.scales.yAxes, function(t, e) {
                    t.id = t.id || "y-axis-" + e
                }, this))
            },
            buildScales: function t() {
                if (this.scales = {}, this.options.scales && (this.options.scales.xAxes && this.options.scales.xAxes.length && n.each(this.options.scales.xAxes, function(t, n) {
                    var i = e.scaleService.getScaleConstructor(t.type),
                        o = new i({
                            ctx: this.chart.ctx,
                            options: t,
                            chart: this,
                            id: t.id
                        });
                    this.scales[o.id] = o
                }, this), this.options.scales.yAxes && this.options.scales.yAxes.length && n.each(this.options.scales.yAxes, function(t, n) {
                    var i = e.scaleService.getScaleConstructor(t.type),
                        o = new i({
                            ctx: this.chart.ctx,
                            options: t,
                            chart: this,
                            id: t.id
                        });
                    this.scales[o.id] = o
                }, this)), this.options.scale) {
                    var i = e.scaleService.getScaleConstructor(this.options.scale.type),
                        o = new i({
                            ctx: this.chart.ctx,
                            options: this.options.scale,
                            chart: this
                        });
                    this.scale = o, this.scales.radialScale = o
                }
                e.scaleService.addScalesToLayout(this)
            },
            buildSurroundingItems: function() {
                this.options.title && (this.titleBlock = new e.Title({
                    ctx: this.chart.ctx,
                    options: this.options.title,
                    chart: this
                }), e.layoutService.addBox(this, this.titleBlock)), this.options.legend && (this.legend = new e.Legend({
                    ctx: this.chart.ctx,
                    options: this.options.legend,
                    chart: this
                }), e.layoutService.addBox(this, this.legend))
            },
            updateLayout: function() {
                e.layoutService.update(this, this.chart.width, this.chart.height)
            },
            buildOrUpdateControllers: function t(i) {
                var o = [];
                if (n.each(this.data.datasets, function(t, n) {
                    t.type || (t.type = this.config.type);
                    var a = t.type;
                    o.push(a), t.controller ? t.controller.updateIndex(n) : (t.controller = new e.controllers[a](this, n), i && t.controller.reset())
                }, this), o.length > 1)
                    for (var a = 1; a < o.length; a++)
                        if (o[a] != o[a - 1]) {
                            this.isCombo = !0;
                            break
                        }
            },
            resetElements: function t() {
                n.each(this.data.datasets, function(t, e) {
                    t.controller.reset()
                }, this)
            },
            update: function t(i, o) {
                this.tooltip._data = this.data, this.buildOrUpdateControllers(!0), e.layoutService.update(this, this.chart.width, this.chart.height), n.each(this.data.datasets, function(t, e) {
                    t.controller.buildOrUpdateElements()
                }, this), n.each(this.data.datasets, function(t, e) {
                    t.controller.update()
                }, this), this.render(i, o)
            },
            render: function t(i, o) {
                if (this.options.animation && (void 0 !== i && 0 !== i || void 0 === i && 0 !== this.options.animation.duration)) {
                    var a = new e.Animation;
                    a.numSteps = (i || this.options.animation.duration) / 16.66, a.easing = this.options.animation.easing, a.render = function(t, e) {
                        var i = n.easingEffects[e.easing],
                            o = e.currentStep / e.numSteps,
                            a = i(o);
                        t.draw(a, o, e.currentStep)
                    }, a.onAnimationProgress = this.options.animation.onProgress, a.onAnimationComplete = this.options.animation.onComplete, e.animationService.addAnimation(this, a, i, o)
                } else
                    this.draw(), this.options.animation && this.options.animation.onComplete && this.options.animation.onComplete.call && this.options.animation.onComplete.call(this);
                return this
            },
            draw: function(t) {
                var e = t || 1;
                this.clear(), n.each(this.boxes, function(t) {
                    t.draw(this.chartArea)
                }, this), this.scale && this.scale.draw(), n.each(this.data.datasets, function(e, i) {
                    n.isDatasetVisible(e) && e.controller.draw(t)
                }, this), this.tooltip.transition(e).draw()
            },
            getElementAtEvent: function(t) {
                var e = n.getRelativePosition(t, this.chart),
                    i = [];
                return n.each(this.data.datasets, function(t, o) {
                    n.isDatasetVisible(t) && n.each(t.metaData, function(t, n) {
                        if (t.inLabelRange(e.x, e.y))
                            return i.push(t), i
                    }, this)
                }, this), i
            },
            getElementsAtEvent: function(t) {
                var e = n.getRelativePosition(t, this.chart),
                    i = [],
                    o = function() {
                        for (var t = 0; t < this.data.datasets.length; t++)
                            if (n.isDatasetVisible(this.data.datasets[t]))
                                for (var i = 0; i < this.data.datasets[t].metaData.length; i++)
                                    if (this.data.datasets[t].metaData[i].inRange(e.x, e.y))
                                        return this.data.datasets[t].metaData[i]
                    }.call(this);
                return o ? (n.each(this.data.datasets, function(t, e) {
                    n.isDatasetVisible(t) && i.push(t.metaData[o._index])
                }, this), i) : i
            },
            getDatasetAtEvent: function(t) {
                var e = this.getElementAtEvent(t);
                return e.length > 0 && (e = this.data.datasets[e[0]._datasetIndex].metaData), e
            },
            generateLegend: function t() {
                return this.options.legendCallback(this)
            },
            destroy: function t() {
                this.clear(), n.unbindEvents(this, this.events), n.removeResizeListener(this.chart.canvas.parentNode);
                var i = this.chart.canvas;
                i.width = this.chart.width, i.height = this.chart.height, this.chart.originalDevicePixelRatio !== undefined && this.chart.ctx.scale(1 / this.chart.originalDevicePixelRatio, 1 / this.chart.originalDevicePixelRatio), i.style.width = this.chart.originalCanvasStyleWidth, i.style.height = this.chart.originalCanvasStyleHeight, delete e.instances[this.id]
            },
            toBase64Image: function t() {
                return this.chart.canvas.toDataURL.apply(this.chart.canvas, arguments)
            },
            initToolTip: function t() {
                this.tooltip = new e.Tooltip({
                    _chart: this.chart,
                    _chartInstance: this,
                    _data: this.data,
                    _options: this.options
                }, this)
            },
            bindEvents: function t() {
                n.bindEvents(this, this.options.events, function(t) {
                    this.eventHandler(t)
                })
            },
            eventHandler: function t(e) {
                if (this.lastActive = this.lastActive || [], this.lastTooltipActive = this.lastTooltipActive || [], "mouseout" == e.type)
                    this.active = [], this.tooltipActive = [];
                else {
                    var i = this,
                        o = function(t) {
                            switch (t) {
                            case "single":
                                return i.getElementAtEvent(e);
                            case "label":
                                return i.getElementsAtEvent(e);
                            case "dataset":
                                return i.getDatasetAtEvent(e);
                            default:
                                return e
                            }
                        };
                    this.active = o(this.options.hover.mode), this.tooltipActive = o(this.options.tooltips.mode)
                }
                this.options.hover.onHover && this.options.hover.onHover.call(this, this.active), "mouseup" != e.type && "click" != e.type || (this.options.onClick && this.options.onClick.call(this, e, this.active), this.legend && this.legend.handleEvent && this.legend.handleEvent(e));
                var a,
                    s;
                if (this.lastActive.length)
                    switch (this.options.hover.mode) {
                    case "single":
                        this.data.datasets[this.lastActive[0]._datasetIndex].controller.removeHoverStyle(this.lastActive[0], this.lastActive[0]._datasetIndex, this.lastActive[0]._index);
                        break;
                    case "label":
                    case "dataset":
                        for (var r = 0; r < this.lastActive.length; r++)
                            this.lastActive[r] && this.data.datasets[this.lastActive[r]._datasetIndex].controller.removeHoverStyle(this.lastActive[r], this.lastActive[r]._datasetIndex, this.lastActive[r]._index)
                    }
                if (this.active.length && this.options.hover.mode)
                    switch (this.options.hover.mode) {
                    case "single":
                        this.data.datasets[this.active[0]._datasetIndex].controller.setHoverStyle(this.active[0]);
                        break;
                    case "label":
                    case "dataset":
                        for (var l = 0; l < this.active.length; l++)
                            this.active[l] && this.data.datasets[this.active[l]._datasetIndex].controller.setHoverStyle(this.active[l])
                    }
                if ((this.options.tooltips.enabled || this.options.tooltips.custom) && (this.tooltip.initialize(), this.tooltip._active = this.tooltipActive, this.tooltip.update()), this.tooltip.pivot(), !this.animating) {
                    var c;
                    n.each(this.active, function(t, e) {
                        t !== this.lastActive[e] && (c = !0)
                    }, this), n.each(this.tooltipActive, function(t, e) {
                        t !== this.lastTooltipActive[e] && (c = !0)
                    }, this), (this.lastActive.length !== this.active.length || this.lastTooltipActive.length !== this.tooltipActive.length || c) && (this.stop(), (this.options.tooltips.enabled || this.options.tooltips.custom) && this.tooltip.update(!0), this.render(this.options.hover.animationDuration, !0))
                }
                return this.lastActive = this.active, this.lastTooltipActive = this.tooltipActive, this
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.DatasetController = function(t, e) {
            this.initialize.call(this, t, e)
        }, n.extend(e.DatasetController.prototype, {
            initialize: function(t, e) {
                this.chart = t, this.index = e, this.linkScales(), this.addElements()
            },
            updateIndex: function(t) {
                this.index = t
            },
            linkScales: function() {
                this.getDataset().xAxisID || (this.getDataset().xAxisID = this.chart.options.scales.xAxes[0].id), this.getDataset().yAxisID || (this.getDataset().yAxisID = this.chart.options.scales.yAxes[0].id)
            },
            getDataset: function() {
                return this.chart.data.datasets[this.index]
            },
            getScaleForId: function(t) {
                return this.chart.scales[t]
            },
            reset: function() {
                this.update(!0)
            },
            buildOrUpdateElements: function t() {
                var e = this.getDataset().data.length,
                    n = this.getDataset().metaData.length;
                if (e < n)
                    this.getDataset().metaData.splice(e, n - e);
                else if (e > n)
                    for (var i = n; i < e; ++i)
                        this.addElementAndReset(i)
            },
            addElements: n.noop,
            addElementAndReset: n.noop,
            draw: n.noop,
            removeHoverStyle: n.noop,
            setHoverStyle: n.noop,
            update: n.noop
        }), e.DatasetController.extend = n.inherits
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.layoutService = {
            defaults: {},
            addBox: function(t, e) {
                t.boxes || (t.boxes = []), t.boxes.push(e)
            },
            removeBox: function(t, e) {
                t.boxes && t.boxes.splice(t.boxes.indexOf(e), 1)
            },
            update: function(t, e, i) {
                function o(t, e) {}
                function a(t) {
                    var e,
                        n = t.isHorizontal();
                    n ? (e = t.update(t.options.fullWidth ? g : C, T), _ -= e.height) : (e = t.update(y, E), C -= e.width), D.push({
                        horizontal: n,
                        minSize: e,
                        box: t
                    })
                }
                function s(t) {
                    var e = n.findNextWhere(D, function(e) {
                        return e.box === t
                    });
                    if (e)
                        if (t.isHorizontal()) {
                            var i = {
                                left: I,
                                right: O,
                                top: 0,
                                bottom: 0
                            };
                            t.update(t.options.fullWidth ? g : C, e.minSize.height, i)
                        } else
                            t.update(e.minSize.width, _)
                }
                function r(t) {
                    var e = n.findNextWhere(D, function(e) {
                            return e.box === t
                        }),
                        i = {
                            left: 0,
                            right: 0,
                            top: R,
                            bottom: k
                        };
                    e && t.update(e.minSize.width, _, i)
                }
                function l(t) {
                    t.isHorizontal() ? (t.left = t.options.fullWidth ? c : I, t.right = t.options.fullWidth ? e - c : I + C, t.top = K, t.bottom = K + t.height, K = t.bottom) : (t.left = S, t.right = S + t.width, t.top = R, t.bottom = R + _, S = t.right)
                }
                if (t) {
                    var c = e > 30 ? 5 : 2,
                        u = i > 30 ? 5 : 2,
                        d = n.where(t.boxes, function(t) {
                            return "left" == t.options.position
                        }),
                        h = n.where(t.boxes, function(t) {
                            return "right" == t.options.position
                        }),
                        f = n.where(t.boxes, function(t) {
                            return "top" == t.options.position
                        }),
                        p = n.where(t.boxes, function(t) {
                            return "bottom" == t.options.position
                        }),
                        m = n.where(t.boxes, function(t) {
                            return "chartArea" == t.options.position
                        });
                    f.sort(function(t, e) {
                        return (e.options.fullWidth ? 1 : 0) - (t.options.fullWidth ? 1 : 0)
                    }), p.sort(function(t, e) {
                        return (t.options.fullWidth ? 1 : 0) - (e.options.fullWidth ? 1 : 0)
                    });
                    var g = e - 2 * c,
                        v = i - 2 * u,
                        b = g / 2,
                        E = v / 2,
                        y = (e - b) / (d.length + h.length),
                        T = (i - E) / (f.length + p.length),
                        C = g,
                        _ = v,
                        D = [];
                    n.each(d.concat(h, f, p), a);
                    var I = c,
                        O = c,
                        R = u,
                        k = u;
                    n.each(d.concat(h), s), n.each(d, function(t) {
                        I += t.width
                    }), n.each(h, function(t) {
                        O += t.width
                    }), n.each(f.concat(p), s), n.each(f, function(t) {
                        R += t.height
                    }), n.each(p, function(t) {
                        k += t.height
                    }), n.each(d.concat(h), r), I = c, O = c, R = u, k = u, n.each(d, function(t) {
                        I += t.width
                    }), n.each(h, function(t) {
                        O += t.width
                    }), n.each(f, function(t) {
                        R += t.height
                    }), n.each(p, function(t) {
                        k += t.height
                    });
                    var w = i - R - k,
                        x = e - I - O;
                    x === C && w === _ || (n.each(d, function(t) {
                        t.height = w
                    }), n.each(h, function(t) {
                        t.height = w
                    }), n.each(f, function(t) {
                        t.width = x
                    }), n.each(p, function(t) {
                        t.width = x
                    }), _ = w, C = x);
                    var S = c,
                        K = u,
                        N = 0,
                        A = 0;
                    n.each(d.concat(f), l), S += C, K += _, n.each(h, l), n.each(p, l), t.chartArea = {
                        left: I,
                        top: R,
                        right: I + C,
                        bottom: R + _
                    }, n.each(m, function(e) {
                        e.left = t.chartArea.left, e.top = t.chartArea.top, e.right = t.chartArea.right, e.bottom = t.chartArea.bottom, e.update(C, _)
                    })
                }
            }
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.legend = {
            display: !0,
            position: "top",
            fullWidth: !0,
            onClick: function(t, e) {
                var n = this.chart.data.datasets[e.datasetIndex];
                n.hidden = !n.hidden, this.chart.update()
            },
            labels: {
                boxWidth: 40,
                fontSize: 12,
                fontStyle: "normal",
                fontColor: "#666",
                fontFamily: "Helvetica Neue",
                padding: 10,
                generateLabels: function(t) {
                    return t.datasets.map(function(t, e) {
                        return {
                            text: t.label,
                            fillStyle: t.backgroundColor,
                            hidden: t.hidden,
                            lineCap: t.borderCapStyle,
                            lineDash: t.borderDash,
                            lineDashOffset: t.borderDashOffset,
                            lineJoin: t.borderJoinStyle,
                            lineWidth: t.borderWidth,
                            strokeStyle: t.borderColor,
                            datasetIndex: e
                        }
                    }, this)
                }
            }
        }, e.Legend = e.Element.extend({
            initialize: function(t) {
                n.extend(this, t), this.legendHitBoxes = [], this.doughnutMode = !1
            },
            beforeUpdate: n.noop,
            update: function(t, e, n) {
                return this.beforeUpdate(), this.maxWidth = t, this.maxHeight = e, this.margins = n, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this.beforeBuildLabels(), this.buildLabels(), this.afterBuildLabels(), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate(), this.minSize
            },
            afterUpdate: n.noop,
            beforeSetDimensions: n.noop,
            setDimensions: function() {
                this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0, this.minSize = {
                    width: 0,
                    height: 0
                }
            },
            afterSetDimensions: n.noop,
            beforeBuildLabels: n.noop,
            buildLabels: function() {
                this.legendItems = this.options.labels.generateLabels.call(this, this.chart.data)
            },
            afterBuildLabels: n.noop,
            beforeFit: n.noop,
            fit: function() {
                var t = this.ctx,
                    e = n.fontString(this.options.labels.fontSize, this.options.labels.fontStyle, this.options.labels.fontFamily);
                if (this.legendHitBoxes = [], this.isHorizontal() ? this.minSize.width = this.maxWidth : this.minSize.width = this.options.display ? 10 : 0, this.isHorizontal() ? this.minSize.height = this.options.display ? 10 : 0 : this.minSize.height = this.maxHeight, this.options.display && this.isHorizontal()) {
                    this.lineWidths = [0];
                    var i = this.legendItems.length ? this.options.labels.fontSize + this.options.labels.padding : 0;
                    t.textAlign = "left", t.textBaseline = "top", t.font = e, n.each(this.legendItems, function(e, n) {
                        var o = this.options.labels.boxWidth + this.options.labels.fontSize / 2 + t.measureText(e.text).width;
                        this.lineWidths[this.lineWidths.length - 1] + o >= this.width && (i += this.options.labels.fontSize + this.options.labels.padding, this.lineWidths[this.lineWidths.length] = this.left), this.legendHitBoxes[n] = {
                            left: 0,
                            top: 0,
                            width: o,
                            height: this.options.labels.fontSize
                        }, this.lineWidths[this.lineWidths.length - 1] += o + this.options.labels.padding
                    }, this), this.minSize.height += i
                }
                this.width = this.minSize.width, this.height = this.minSize.height
            },
            afterFit: n.noop,
            isHorizontal: function() {
                return "top" == this.options.position || "bottom" == this.options.position
            },
            draw: function() {
                if (this.options.display) {
                    var t = this.ctx,
                        i = {
                            x: this.left + (this.width - this.lineWidths[0]) / 2,
                            y: this.top + this.options.labels.padding,
                            line: 0
                        },
                        o = n.fontString(this.options.labels.fontSize, this.options.labels.fontStyle, this.options.labels.fontFamily);
                    this.isHorizontal() && (t.textAlign = "left", t.textBaseline = "top", t.lineWidth = .5, t.strokeStyle = this.options.labels.fontColor, t.fillStyle = this.options.labels.fontColor, t.font = o, n.each(this.legendItems, function(n, o) {
                        var a = t.measureText(n.text).width,
                            s = this.options.labels.boxWidth + this.options.labels.fontSize / 2 + a;
                        i.x + s >= this.width && (i.y += this.options.labels.fontSize + this.options.labels.padding, i.line++, i.x = this.left + (this.width - this.lineWidths[i.line]) / 2), t.save();
                        var r = function(t, e) {
                            return t !== undefined ? t : e
                        };
                        t.fillStyle = r(n.fillStyle, e.defaults.global.defaultColor), t.lineCap = r(n.lineCap, e.defaults.global.elements.line.borderCapStyle), t.lineDashOffset = r(n.lineDashOffset, e.defaults.global.elements.line.borderDashOffset), t.lineJoin = r(n.lineJoin, e.defaults.global.elements.line.borderJoinStyle), t.lineWidth = r(n.lineWidth, e.defaults.global.elements.line.borderWidth), t.strokeStyle = r(n.strokeStyle, e.defaults.global.defaultColor), t.setLineDash && t.setLineDash(r(n.lineDash, e.defaults.global.elements.line.borderDash)), t.strokeRect(i.x, i.y, this.options.labels.boxWidth, this.options.labels.fontSize), t.fillRect(i.x, i.y, this.options.labels.boxWidth, this.options.labels.fontSize), t.restore(), this.legendHitBoxes[o].left = i.x, this.legendHitBoxes[o].top = i.y, t.fillText(n.text, this.options.labels.boxWidth + this.options.labels.fontSize / 2 + i.x, i.y), n.hidden && (t.beginPath(), t.lineWidth = 2, t.moveTo(this.options.labels.boxWidth + this.options.labels.fontSize / 2 + i.x, i.y + this.options.labels.fontSize / 2), t.lineTo(this.options.labels.boxWidth + this.options.labels.fontSize / 2 + i.x + a, i.y + this.options.labels.fontSize / 2), t.stroke()), i.x += s + this.options.labels.padding
                    }, this))
                }
            },
            handleEvent: function(t) {
                var e = n.getRelativePosition(t, this.chart.chart);
                if (e.x >= this.left && e.x <= this.right && e.y >= this.top && e.y <= this.bottom)
                    for (var i = 0; i < this.legendHitBoxes.length; ++i) {
                        var o = this.legendHitBoxes[i];
                        if (e.x >= o.left && e.x <= o.left + o.width && e.y >= o.top && e.y <= o.top + o.height) {
                            this.options.onClick && this.options.onClick.call(this, t, this.legendItems[i]);
                            break
                        }
                    }
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.scale = {
            display: !0,
            gridLines: {
                display: !0,
                color: "rgba(0, 0, 0, 0.1)",
                lineWidth: 1,
                drawOnChartArea: !0,
                drawTicks: !0,
                zeroLineWidth: 1,
                zeroLineColor: "rgba(0,0,0,0.25)",
                offsetGridLines: !1
            },
            scaleLabel: {
                fontColor: "#666",
                fontFamily: "Helvetica Neue",
                fontSize: 12,
                fontStyle: "normal",
                labelString: "",
                display: !1
            },
            ticks: {
                beginAtZero: !1,
                fontSize: 12,
                fontStyle: "normal",
                fontColor: "#666",
                fontFamily: "Helvetica Neue",
                maxRotation: 90,
                mirror: !1,
                padding: 10,
                reverse: !1,
                display: !0,
                autoSkip: !0,
                autoSkipPadding: 20,
                callback: function(t) {
                    return "" + t
                }
            }
        }, e.Scale = e.Element.extend({
            beforeUpdate: function() {
                n.callCallback(this.options.beforeUpdate, [this])
            },
            update: function(t, e, i) {
                return this.beforeUpdate(), this.maxWidth = t, this.maxHeight = e, this.margins = n.extend({
                    left: 0,
                    right: 0,
                    top: 0,
                    bottom: 0
                }, i), this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this.beforeDataLimits(), this.determineDataLimits(), this.afterDataLimits(), this.beforeBuildTicks(), this.buildTicks(), this.afterBuildTicks(), this.beforeTickToLabelConversion(), this.convertTicksToLabels(), this.afterTickToLabelConversion(), this.beforeCalculateTickRotation(), this.calculateTickRotation(), this.afterCalculateTickRotation(), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate(), this.minSize
            },
            afterUpdate: function() {
                n.callCallback(this.options.afterUpdate, [this])
            },
            beforeSetDimensions: function() {
                n.callCallback(this.options.beforeSetDimensions, [this])
            },
            setDimensions: function() {
                this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0
            },
            afterSetDimensions: function() {
                n.callCallback(this.options.afterSetDimensions, [this])
            },
            beforeDataLimits: function() {
                n.callCallback(this.options.beforeDataLimits, [this])
            },
            determineDataLimits: n.noop,
            afterDataLimits: function() {
                n.callCallback(this.options.afterDataLimits, [this])
            },
            beforeBuildTicks: function() {
                n.callCallback(this.options.beforeBuildTicks, [this])
            },
            buildTicks: n.noop,
            afterBuildTicks: function() {
                n.callCallback(this.options.afterBuildTicks, [this])
            },
            beforeTickToLabelConversion: function() {
                n.callCallback(this.options.beforeTickToLabelConversion, [this])
            },
            convertTicksToLabels: function() {
                this.ticks = this.ticks.map(function(t, e, n) {
                    return this.options.ticks.userCallback ? this.options.ticks.userCallback(t, e, n) : this.options.ticks.callback(t, e, n)
                }, this)
            },
            afterTickToLabelConversion: function() {
                n.callCallback(this.options.afterTickToLabelConversion, [this])
            },
            beforeCalculateTickRotation: function() {
                n.callCallback(this.options.beforeCalculateTickRotation, [this])
            },
            calculateTickRotation: function() {
                var t = n.fontString(this.options.ticks.fontSize, this.options.ticks.fontStyle, this.options.ticks.fontFamily);
                this.ctx.font = t;
                var e = this.ctx.measureText(this.ticks[0]).width,
                    i = this.ctx.measureText(this.ticks[this.ticks.length - 1]).width,
                    o,
                    a;
                if (this.paddingRight = i / 2 + 3, this.paddingLeft = e / 2 + 3, this.labelRotation = 0, this.options.display && this.isHorizontal()) {
                    var s = n.longestText(this.ctx, t, this.ticks),
                        r,
                        l;
                    this.labelWidth = s;
                    for (var c = this.getPixelForTick(1) - this.getPixelForTick(0) - 6; this.labelWidth > c && this.labelRotation < this.options.ticks.maxRotation;) {
                        if (r = Math.cos(n.toRadians(this.labelRotation)), l = Math.sin(n.toRadians(this.labelRotation)), o = r * e, a = r * i, o + this.options.ticks.fontSize / 2 > this.yLabelWidth && (this.paddingLeft = o + this.options.ticks.fontSize / 2), this.paddingRight = this.options.ticks.fontSize / 2, l * s > this.maxHeight) {
                            this.labelRotation--;
                            break
                        }
                        this.labelRotation++, this.labelWidth = r * s
                    }
                } else
                    this.labelWidth = 0, this.paddingRight = 0, this.paddingLeft = 0;
                this.margins && (this.paddingLeft -= this.margins.left, this.paddingRight -= this.margins.right, this.paddingLeft = Math.max(this.paddingLeft, 0), this.paddingRight = Math.max(this.paddingRight, 0))
            },
            afterCalculateTickRotation: function() {
                n.callCallback(this.options.afterCalculateTickRotation, [this])
            },
            beforeFit: function() {
                n.callCallback(this.options.beforeFit, [this])
            },
            fit: function() {
                if (this.minSize = {
                    width: 0,
                    height: 0
                }, this.isHorizontal() ? this.minSize.width = this.isFullWidth() ? this.maxWidth - this.margins.left - this.margins.right : this.maxWidth : this.minSize.width = this.options.gridLines.display && this.options.display ? 10 : 0, this.isHorizontal() ? this.minSize.height = this.options.gridLines.display && this.options.display ? 10 : 0 : this.minSize.height = this.maxHeight, this.options.scaleLabel.display && (this.isHorizontal() ? this.minSize.height += 1.5 * this.options.scaleLabel.fontSize : this.minSize.width += 1.5 * this.options.scaleLabel.fontSize), this.options.ticks.display && this.options.display) {
                    var t = n.fontString(this.options.ticks.fontSize, this.options.ticks.fontStyle, this.options.ticks.fontFamily);
                    if (this.isHorizontal()) {
                        this.longestLabelWidth = n.longestText(this.ctx, t, this.ticks);
                        var e = Math.sin(n.toRadians(this.labelRotation)) * this.longestLabelWidth + 1.5 * this.options.ticks.fontSize;
                        this.minSize.height = Math.min(this.maxHeight, this.minSize.height + e), t = n.fontString(this.options.ticks.fontSize, this.options.ticks.fontStyle, this.options.ticks.fontFamily), this.ctx.font = t;
                        var i = this.ctx.measureText(this.ticks[0]).width,
                            o = this.ctx.measureText(this.ticks[this.ticks.length - 1]).width,
                            a = Math.cos(n.toRadians(this.labelRotation)),
                            s = Math.sin(n.toRadians(this.labelRotation));
                        this.paddingLeft = 0 !== this.labelRotation ? a * i + 3 : i / 2 + 3, this.paddingRight = 0 !== this.labelRotation ? s * (this.options.ticks.fontSize / 2) + 3 : o / 2 + 3
                    } else {
                        var r = this.maxWidth - this.minSize.width,
                            l = n.longestText(this.ctx, t, this.ticks);
                        this.options.ticks.mirror || (l += this.options.ticks.padding), l < r ? this.minSize.width += l : this.minSize.width = this.maxWidth, this.paddingTop = this.options.ticks.fontSize / 2, this.paddingBottom = this.options.ticks.fontSize / 2
                    }
                }
                this.margins && (this.paddingLeft -= this.margins.left, this.paddingTop -= this.margins.top, this.paddingRight -= this.margins.right, this.paddingBottom -= this.margins.bottom, this.paddingLeft = Math.max(this.paddingLeft, 0), this.paddingTop = Math.max(this.paddingTop, 0), this.paddingRight = Math.max(this.paddingRight, 0), this.paddingBottom = Math.max(this.paddingBottom, 0)), this.width = this.minSize.width, this.height = this.minSize.height
            },
            afterFit: function() {
                n.callCallback(this.options.afterFit, [this])
            },
            isHorizontal: function() {
                return "top" === this.options.position || "bottom" === this.options.position
            },
            isFullWidth: function() {
                return this.options.fullWidth
            },
            getRightValue: function t(e) {
                return null === e || void 0 === e ? NaN : "number" == typeof e && isNaN(e) ? NaN : "object" == typeof e ? e instanceof Date ? e : t(this.isHorizontal() ? e.x : e.y) : e
            },
            getLabelForIndex: n.noop,
            getPixelForValue: n.noop,
            getPixelForTick: function(t, e) {
                if (this.isHorizontal()) {
                    var n = this.width - (this.paddingLeft + this.paddingRight),
                        i = n / Math.max(this.ticks.length - (this.options.gridLines.offsetGridLines ? 0 : 1), 1),
                        o = i * t + this.paddingLeft;
                    e && (o += i / 2);
                    var a = this.left + Math.round(o);
                    return a += this.isFullWidth() ? this.margins.left : 0
                }
                var s = this.height - (this.paddingTop + this.paddingBottom);
                return this.top + t * (s / (this.ticks.length - 1))
            },
            getPixelForDecimal: function(t) {
                if (this.isHorizontal()) {
                    var e = this.width - (this.paddingLeft + this.paddingRight),
                        n = e * t + this.paddingLeft,
                        i = this.left + Math.round(n);
                    return i += this.isFullWidth() ? this.margins.left : 0
                }
                return this.top + t * this.height
            },
            draw: function(t) {
                if (this.options.display) {
                    var e,
                        i = 0 !== this.labelRotation,
                        o,
                        a,
                        s,
                        r = this.options.ticks.autoSkip;
                    this.ctx.fillStyle = this.options.ticks.fontColor;
                    var l = n.fontString(this.options.ticks.fontSize, this.options.ticks.fontStyle, this.options.ticks.fontFamily),
                        c = Math.cos(n.toRadians(this.labelRotation)),
                        u = Math.sin(n.toRadians(this.labelRotation)),
                        d = this.longestLabelWidth * c,
                        h = this.options.ticks.fontSize * u;
                    if (this.isHorizontal()) {
                        e = !0;
                        var f = "bottom" === this.options.position ? this.top : this.bottom - 10,
                            p = "bottom" === this.options.position ? this.top + 10 : this.bottom;
                        o = !1, (d / 2 + this.options.ticks.autoSkipPadding) * this.ticks.length > this.width - (this.paddingLeft + this.paddingRight) && (o = 1 + Math.floor((d / 2 + this.options.ticks.autoSkipPadding) * this.ticks.length / (this.width - (this.paddingLeft + this.paddingRight)))), r || (o = !1), n.each(this.ticks, function(a, s) {
                            if (!(o > 1 && s % o > 0 || a === undefined || null === a)) {
                                var r = this.getPixelForTick(s),
                                    c = this.getPixelForTick(s, this.options.gridLines.offsetGridLines)
                                    ;
                                this.options.gridLines.display && (s === ("undefined" != typeof this.zeroLineIndex ? this.zeroLineIndex : 0) ? (this.ctx.lineWidth = this.options.gridLines.zeroLineWidth, this.ctx.strokeStyle = this.options.gridLines.zeroLineColor, e = !0) : e && (this.ctx.lineWidth = this.options.gridLines.lineWidth, this.ctx.strokeStyle = this.options.gridLines.color, e = !1), r += n.aliasPixel(this.ctx.lineWidth), this.ctx.beginPath(), this.options.gridLines.drawTicks && (this.ctx.moveTo(r, f), this.ctx.lineTo(r, p)), this.options.gridLines.drawOnChartArea && (this.ctx.moveTo(r, t.top), this.ctx.lineTo(r, t.bottom)), this.ctx.stroke()), this.options.ticks.display && (this.ctx.save(), this.ctx.translate(c, i ? this.top + 12 : "top" === this.options.position ? this.bottom - 10 : this.top + 10), this.ctx.rotate(-1 * n.toRadians(this.labelRotation)), this.ctx.font = l, this.ctx.textAlign = i ? "right" : "center", this.ctx.textBaseline = i ? "middle" : "top" === this.options.position ? "bottom" : "top", this.ctx.fillText(a, 0, 0), this.ctx.restore())
                            }
                        }, this), this.options.scaleLabel.display && (this.ctx.textAlign = "center", this.ctx.textBaseline = "middle", this.ctx.fillStyle = this.options.scaleLabel.fontColor, this.ctx.font = n.fontString(this.options.scaleLabel.fontSize, this.options.scaleLabel.fontStyle, this.options.scaleLabel.fontFamily), a = this.left + (this.right - this.left) / 2, s = "bottom" === this.options.position ? this.bottom - this.options.scaleLabel.fontSize / 2 : this.top + this.options.scaleLabel.fontSize / 2, this.ctx.fillText(this.options.scaleLabel.labelString, a, s))
                    } else {
                        e = !0;
                        var m = "right" === this.options.position ? this.left : this.right - 5,
                            g = "right" === this.options.position ? this.left + 5 : this.right;
                        if (n.each(this.ticks, function(i, o) {
                            if (i !== undefined && null !== i) {
                                var a = this.getPixelForTick(o);
                                if (this.options.gridLines.display && (o === ("undefined" != typeof this.zeroLineIndex ? this.zeroLineIndex : 0) ? (this.ctx.lineWidth = this.options.gridLines.zeroLineWidth, this.ctx.strokeStyle = this.options.gridLines.zeroLineColor, e = !0) : e && (this.ctx.lineWidth = this.options.gridLines.lineWidth, this.ctx.strokeStyle = this.options.gridLines.color, e = !1), a += n.aliasPixel(this.ctx.lineWidth), this.ctx.beginPath(), this.options.gridLines.drawTicks && (this.ctx.moveTo(m, a), this.ctx.lineTo(g, a)), this.options.gridLines.drawOnChartArea && (this.ctx.moveTo(t.left, a), this.ctx.lineTo(t.right, a)), this.ctx.stroke()), this.options.ticks.display) {
                                    var s,
                                        r = this.getPixelForTick(o, this.options.gridLines.offsetGridLines);
                                    this.ctx.save(), "left" === this.options.position ? this.options.ticks.mirror ? (s = this.right + this.options.ticks.padding, this.ctx.textAlign = "left") : (s = this.right - this.options.ticks.padding, this.ctx.textAlign = "right") : this.options.ticks.mirror ? (s = this.left - this.options.ticks.padding, this.ctx.textAlign = "right") : (s = this.left + this.options.ticks.padding, this.ctx.textAlign = "left"), this.ctx.translate(s, r), this.ctx.rotate(-1 * n.toRadians(this.labelRotation)), this.ctx.font = l, this.ctx.textBaseline = "middle", this.ctx.fillText(i, 0, 0), this.ctx.restore()
                                }
                            }
                        }, this), this.options.scaleLabel.display) {
                            a = "left" === this.options.position ? this.left + this.options.scaleLabel.fontSize / 2 : this.right - this.options.scaleLabel.fontSize / 2, s = this.top + (this.bottom - this.top) / 2;
                            var v = "left" === this.options.position ? -.5 * Math.PI : .5 * Math.PI;
                            this.ctx.save(), this.ctx.translate(a, s), this.ctx.rotate(v), this.ctx.textAlign = "center", this.ctx.fillStyle = this.options.scaleLabel.fontColor, this.ctx.font = n.fontString(this.options.scaleLabel.fontSize, this.options.scaleLabel.fontStyle, this.options.scaleLabel.fontFamily), this.ctx.textBaseline = "middle", this.ctx.fillText(this.options.scaleLabel.labelString, 0, 0), this.ctx.restore()
                        }
                    }
                }
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.scaleService = {
            constructors: {},
            defaults: {},
            registerScaleType: function(t, e, i) {
                this.constructors[t] = e, this.defaults[t] = n.clone(i)
            },
            getScaleConstructor: function(t) {
                return this.constructors.hasOwnProperty(t) ? this.constructors[t] : undefined
            },
            getScaleDefaults: function(t) {
                return this.defaults.hasOwnProperty(t) ? n.scaleMerge(e.defaults.scale, this.defaults[t]) : {}
            },
            addScalesToLayout: function(t) {
                n.each(t.scales, function(n) {
                    e.layoutService.addBox(t, n)
                })
            }
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.title = {
            display: !1,
            position: "top",
            fullWidth: !0,
            fontColor: "#666",
            fontFamily: "Helvetica Neue",
            fontSize: 12,
            fontStyle: "bold",
            padding: 10,
            text: ""
        }, e.Title = e.Element.extend({
            initialize: function(t) {
                n.extend(this, t), this.options = n.configMerge(e.defaults.global.title, t.options), this.legendHitBoxes = []
            },
            beforeUpdate: n.noop,
            update: function(t, e, n) {
                return this.beforeUpdate(), this.maxWidth = t, this.maxHeight = e, this.margins = n, this.beforeSetDimensions(), this.setDimensions(), this.afterSetDimensions(), this.beforeBuildLabels(), this.buildLabels(), this.afterBuildLabels(), this.beforeFit(), this.fit(), this.afterFit(), this.afterUpdate(), this.minSize
            },
            afterUpdate: n.noop,
            beforeSetDimensions: n.noop,
            setDimensions: function() {
                this.isHorizontal() ? (this.width = this.maxWidth, this.left = 0, this.right = this.width) : (this.height = this.maxHeight, this.top = 0, this.bottom = this.height), this.paddingLeft = 0, this.paddingTop = 0, this.paddingRight = 0, this.paddingBottom = 0, this.minSize = {
                    width: 0,
                    height: 0
                }
            },
            afterSetDimensions: n.noop,
            beforeBuildLabels: n.noop,
            buildLabels: n.noop,
            afterBuildLabels: n.noop,
            beforeFit: n.noop,
            fit: function() {
                var t = this.ctx,
                    e = n.fontString(this.options.fontSize, this.options.fontStyle, this.options.fontFamily);
                this.isHorizontal() ? this.minSize.width = this.maxWidth : this.minSize.width = 0, this.isHorizontal() ? this.minSize.height = 0 : this.minSize.height = this.maxHeight, this.isHorizontal() && this.options.display && (this.minSize.height += this.options.fontSize + 2 * this.options.padding), this.width = this.minSize.width, this.height = this.minSize.height
            },
            afterFit: n.noop,
            isHorizontal: function() {
                return "top" == this.options.position || "bottom" == this.options.position
            },
            draw: function() {
                if (this.options.display) {
                    var t = this.ctx,
                        e,
                        i;
                    if (this.isHorizontal())
                        this.options.display && (t.textAlign = "center", t.textBaseline = "middle", t.fillStyle = this.options.fontColor, t.font = n.fontString(this.options.fontSize, this.options.fontStyle, this.options.fontFamily), e = this.left + (this.right - this.left) / 2, i = this.top + (this.bottom - this.top) / 2, t.fillText(this.options.text, e, i));
                    else if (this.options.display) {
                        e = "left" == this.options.position ? this.left + this.options.fontSize / 2 : this.right - this.options.fontSize / 2, i = this.top + (this.bottom - this.top) / 2;
                        var o = "left" == this.options.position ? -.5 * Math.PI : .5 * Math.PI;
                        t.save(), t.translate(e, i), t.rotate(o), t.textAlign = "center", t.fillStyle = this.options.fontColor, t.font = n.fontString(this.options.fontSize, this.options.fontStyle, this.options.fontFamily), t.textBaseline = "middle", t.fillText(this.options.text, 0, 0), t.restore()
                    }
                }
            }
        })
    }.call(this), function() {
        "use strict";
        function t(t, e) {
            return e && (i.isArray(e) ? t = t.concat(e) : t.push(e)), t
        }
        var e = this,
            n = e.Chart,
            i = n.helpers;
        n.defaults.global.tooltips = {
            enabled: !0,
            custom: null,
            mode: "single",
            backgroundColor: "rgba(0,0,0,0.8)",
            titleFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            titleFontSize: 12,
            titleFontStyle: "bold",
            titleSpacing: 2,
            titleMarginBottom: 6,
            titleColor: "#fff",
            titleAlign: "left",
            bodyFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            bodyFontSize: 12,
            bodyFontStyle: "normal",
            bodySpacing: 2,
            bodyColor: "#fff",
            bodyAlign: "left",
            footerFontFamily: "'Helvetica Neue', 'Helvetica', 'Arial', sans-serif",
            footerFontSize: 12,
            footerFontStyle: "bold",
            footerSpacing: 2,
            footerMarginTop: 6,
            footerColor: "#fff",
            footerAlign: "left",
            yPadding: 6,
            xPadding: 6,
            caretSize: 5,
            cornerRadius: 6,
            multiKeyBackground: "#fff",
            callbacks: {
                beforeTitle: i.noop,
                title: function(t, e) {
                    var n = "";
                    return t.length > 0 && (t[0].xLabel ? n = t[0].xLabel : e.labels.length > 0 && t[0].index < e.labels.length && (n = e.labels[t[0].index])), n
                },
                afterTitle: i.noop,
                beforeBody: i.noop,
                beforeLabel: i.noop,
                label: function(t, e) {
                    return (e.datasets[t.datasetIndex].label || "") + ": " + t.yLabel
                },
                afterLabel: i.noop,
                afterBody: i.noop,
                beforeFooter: i.noop,
                footer: i.noop,
                afterFooter: i.noop
            }
        }, n.Tooltip = n.Element.extend({
            initialize: function() {
                var t = this._options;
                i.extend(this, {
                    _model: {
                        xPadding: t.tooltips.xPadding,
                        yPadding: t.tooltips.yPadding,
                        bodyColor: t.tooltips.bodyColor,
                        _bodyFontFamily: t.tooltips.bodyFontFamily,
                        _bodyFontStyle: t.tooltips.bodyFontStyle,
                        _bodyAlign: t.tooltips.bodyAlign,
                        bodyFontSize: t.tooltips.bodyFontSize,
                        bodySpacing: t.tooltips.bodySpacing,
                        titleColor: t.tooltips.titleColor,
                        _titleFontFamily: t.tooltips.titleFontFamily,
                        _titleFontStyle: t.tooltips.titleFontStyle,
                        titleFontSize: t.tooltips.titleFontSize,
                        _titleAlign: t.tooltips.titleAlign,
                        titleSpacing: t.tooltips.titleSpacing,
                        titleMarginBottom: t.tooltips.titleMarginBottom,
                        footerColor: t.tooltips.footerColor,
                        _footerFontFamily: t.tooltips.footerFontFamily,
                        _footerFontStyle: t.tooltips.footerFontStyle,
                        footerFontSize: t.tooltips.footerFontSize,
                        _footerAlign: t.tooltips.footerAlign,
                        footerSpacing: t.tooltips.footerSpacing,
                        footerMarginTop: t.tooltips.footerMarginTop,
                        caretSize: t.tooltips.caretSize,
                        cornerRadius: t.tooltips.cornerRadius,
                        backgroundColor: t.tooltips.backgroundColor,
                        opacity: 0,
                        legendColorBackground: t.tooltips.multiKeyBackground
                    }
                })
            },
            getTitle: function() {
                var e = this._options.tooltips.callbacks.beforeTitle.apply(this, arguments),
                    n = this._options.tooltips.callbacks.title.apply(this, arguments),
                    i = this._options.tooltips.callbacks.afterTitle.apply(this, arguments),
                    o = [];
                return o = t(o, e), o = t(o, n), o = t(o, i)
            },
            getBeforeBody: function() {
                var t = this._options.tooltips.callbacks.beforeBody.apply(this, arguments);
                return i.isArray(t) ? t : t !== undefined ? [t] : []
            },
            getBody: function(t, e) {
                var n = [];
                return i.each(t, function(t) {
                    var i = this._options.tooltips.callbacks.beforeLabel.call(this, t, e) || "",
                        o = this._options.tooltips.callbacks.label.call(this, t, e) || "",
                        a = this._options.tooltips.callbacks.afterLabel.call(this, t, e) || "";
                    n.push(i + o + a)
                }, this), n
            },
            getAfterBody: function() {
                var t = this._options.tooltips.callbacks.afterBody.apply(this, arguments);
                return i.isArray(t) ? t : t !== undefined ? [t] : []
            },
            getFooter: function() {
                var e = this._options.tooltips.callbacks.beforeFooter.apply(this, arguments),
                    n = this._options.tooltips.callbacks.footer.apply(this, arguments),
                    i = this._options.tooltips.callbacks.afterFooter.apply(this, arguments),
                    o = [];
                return o = t(o, e), o = t(o, n), o = t(o, i)
            },
            getAveragePosition: function(t) {
                if (!t.length)
                    return !1;
                var e = [],
                    n = [];
                i.each(t, function(t) {
                    if (t) {
                        var i = t.tooltipPosition();
                        e.push(i.x), n.push(i.y)
                    }
                });
                for (var o = 0, a = 0, s = 0; s < e.length; s++)
                    o += e[s], a += n[s];
                return {
                    x: Math.round(o / e.length),
                    y: Math.round(a / e.length)
                }
            },
            update: function(t) {
                if (this._active.length) {
                    this._model.opacity = 1;
                    var e = this._active[0],
                        n = [],
                        o,
                        a = [];
                    if ("single" === this._options.tooltips.mode) {
                        var s = e._yScale || e._scale;
                        a.push({
                            xLabel: e._xScale ? e._xScale.getLabelForIndex(e._index, e._datasetIndex) : "",
                            yLabel: s ? s.getLabelForIndex(e._index, e._datasetIndex) : "",
                            index: e._index,
                            datasetIndex: e._datasetIndex
                        }), o = this.getAveragePosition(this._active)
                    } else
                        i.each(this._data.datasets, function(t, n) {
                            if (i.isDatasetVisible(t)) {
                                var o = t.metaData[e._index];
                                if (o) {
                                    var s = e._yScale || e._scale;
                                    a.push({
                                        xLabel: o._xScale ? o._xScale.getLabelForIndex(o._index, o._datasetIndex) : "",
                                        yLabel: s ? s.getLabelForIndex(o._index, o._datasetIndex) : "",
                                        index: e._index,
                                        datasetIndex: n
                                    })
                                }
                            }
                        }), i.each(this._active, function(t) {
                            t && n.push({
                                borderColor: t._view.borderColor,
                                backgroundColor: t._view.backgroundColor
                            })
                        }, this), o = this.getAveragePosition(this._active), o.y = this._active[0]._yScale.getPixelForDecimal(.5);
                    i.extend(this._model, {
                        title: this.getTitle(a, this._data),
                        beforeBody: this.getBeforeBody(a, this._data),
                        body: this.getBody(a, this._data),
                        afterBody: this.getAfterBody(a, this._data),
                        footer: this.getFooter(a, this._data)
                    }), i.extend(this._model, {
                        x: Math.round(o.x),
                        y: Math.round(o.y),
                        caretPadding: i.getValueOrDefault(o.padding, 2),
                        labelColors: n
                    });
                    var r = this.getTooltipSize(this._model);
                    this.determineAlignment(r), i.extend(this._model, this.getBackgroundPoint(this._model, r))
                } else
                    this._model.opacity = 0;
                return t && this._options.tooltips.custom && this._options.tooltips.custom.call(this, this._model), this
            },
            getTooltipSize: function t(e) {
                var n = this._chart.ctx,
                    o = {
                        height: 2 * e.yPadding,
                        width: 0
                    },
                    a = e.body.length + e.beforeBody.length + e.afterBody.length;
                return o.height += e.title.length * e.titleFontSize, o.height += (e.title.length - 1) * e.titleSpacing, o.height += e.title.length ? e.titleMarginBottom : 0, o.height += a * e.bodyFontSize, o.height += a ? (a - 1) * e.bodySpacing : 0, o.height += e.footer.length ? e.footerMarginTop : 0, o.height += e.footer.length * e.footerFontSize, o.height += e.footer.length ? (e.footer.length - 1) * e.footerSpacing : 0, n.font = i.fontString(e.titleFontSize, e._titleFontStyle, e._titleFontFamily), i.each(e.title, function(t) {
                    o.width = Math.max(o.width, n.measureText(t).width)
                }), n.font = i.fontString(e.bodyFontSize, e._bodyFontStyle, e._bodyFontFamily), i.each(e.beforeBody.concat(e.afterBody), function(t) {
                    o.width = Math.max(o.width, n.measureText(t).width)
                }, this), i.each(e.body, function(t) {
                    o.width = Math.max(o.width, n.measureText(t).width + ("single" !== this._options.tooltips.mode ? e.bodyFontSize + 2 : 0))
                }, this), n.font = i.fontString(e.footerFontSize, e._footerFontStyle, e._footerFontFamily), i.each(e.footer, function(t) {
                    o.width = Math.max(o.width, n.measureText(t).width)
                }), o.width += 2 * e.xPadding, o
            },
            determineAlignment: function t(e) {
                this._model.xAlign = this._model.yAlign = "center", this._model.y < e.height ? this._model.yAlign = "top" : this._model.y > this._chart.height - e.height && (this._model.yAlign = "bottom");
                var n,
                    i,
                    o = this,
                    a = (this._chartInstance.chartArea.left + this._chartInstance.chartArea.right) / 2;
                "center" === this._model.yAlign ? (n = function(t) {
                    return t <= a
                }, i = function(t) {
                    return t > a
                }) : (n = function(t) {
                    return t <= e.width / 2
                }, i = function(t) {
                    return t >= o._chart.width - e.width / 2
                }), n(this._model.x) ? this._model.xAlign = "left" : i(this._model.x) && (this._model.xAlign = "right")
            },
            getBackgroundPoint: function t(e, n) {
                var i = {
                    x: e.x,
                    y: e.y
                };
                return "right" === e.xAlign ? i.x -= n.width : "center" === e.xAlign && (i.x -= n.width / 2), "top" === e.yAlign ? i.y += e.caretPadding + e.caretSize : "bottom" === e.yAlign ? i.y -= n.height + e.caretPadding + e.caretSize : i.y -= n.height / 2, "center" == e.yAlign ? "left" === e.xAlign ? i.x += e.caretPadding + e.caretSize : "right" === e.xAlign && (i.x -= e.caretPadding + e.caretSize) : "left" === e.xAlign ? i.x -= e.cornerRadius + e.caretPadding : "right" === e.xAlign && (i.x += e.cornerRadius + e.caretPadding), i
            },
            drawCaret: function t(e, n, o, a) {
                var s = this._view,
                    r = this._chart.ctx,
                    l,
                    c,
                    u,
                    d,
                    h,
                    f;
                "center" === s.yAlign ? ("left" === s.xAlign ? (l = e.x, c = l - s.caretSize, u = l) : (l = e.x + n.width, c = l + s.caretSize, u = l), h = e.y + n.height / 2, d = h - s.caretSize, f = h + s.caretSize) : ("left" === s.xAlign ? (l = e.x + s.cornerRadius, c = l + s.caretSize, u = c + s.caretSize) : "right" === s.xAlign ? (l = e.x + n.width - s.cornerRadius, c = l - s.caretSize, u = c - s.caretSize) : (c = e.x + n.width / 2, l = c - s.caretSize, u = c + s.caretSize), "top" === s.yAlign ? (d = e.y, h = d - s.caretSize, f = d) : (d = e.y + n.height, h = d + s.caretSize, f = d)), r.fillStyle = i.color(s.backgroundColor).alpha(o).rgbString(), r.beginPath(), r.moveTo(l, d), r.lineTo(c, h), r.lineTo(u, f), r.closePath(), r.fill()
            },
            drawTitle: function t(e, n, o, a) {
                n.title.length && (o.textAlign = n._titleAlign, o.textBaseline = "top", o.fillStyle = i.color(n.titleColor).alpha(a).rgbString(), o.font = i.fontString(n.titleFontSize, n._titleFontStyle, n._titleFontFamily), i.each(n.title, function(t, i) {
                    o.fillText(t, e.x, e.y), e.y += n.titleFontSize + n.titleSpacing, i + 1 === n.title.length && (e.y += n.titleMarginBottom - n.titleSpacing)
                }, this))
            },
            drawBody: function t(e, n, o, a) {
                o.textAlign = n._bodyAlign, o.textBaseline = "top", o.fillStyle = i.color(n.bodyColor).alpha(a).rgbString(), o.font = i.fontString(n.bodyFontSize, n._bodyFontStyle, n._bodyFontFamily), i.each(n.beforeBody, function(t) {
                    o.fillText(t, e.x, e.y), e.y += n.bodyFontSize + n.bodySpacing
                }), i.each(n.body, function(t, s) {
                    "single" !== this._options.tooltips.mode && (o.fillStyle = i.color(n.legendColorBackground).alpha(a).rgbaString(), o.fillRect(e.x, e.y, n.bodyFontSize, n.bodyFontSize), o.strokeStyle = i.color(n.labelColors[s].borderColor).alpha(a).rgbaString(), o.strokeRect(e.x, e.y, n.bodyFontSize, n.bodyFontSize), o.fillStyle = i.color(n.labelColors[s].backgroundColor).alpha(a).rgbaString(), o.fillRect(e.x + 1, e.y + 1, n.bodyFontSize - 2, n.bodyFontSize - 2), o.fillStyle = i.color(n.bodyColor).alpha(a).rgbaString()), o.fillText(t, e.x + ("single" !== this._options.tooltips.mode ? n.bodyFontSize + 2 : 0), e.y), e.y += n.bodyFontSize + n.bodySpacing
                }, this), i.each(n.afterBody, function(t) {
                    o.fillText(t, e.x, e.y), e.y += n.bodyFontSize
                }), e.y -= n.bodySpacing
            },
            drawFooter: function t(e, n, o, a) {
                n.footer.length && (e.y += n.footerMarginTop, o.textAlign = n._footerAlign, o.textBaseline = "top", o.fillStyle = i.color(n.footerColor).alpha(a).rgbString(), o.font = i.fontString(n.footerFontSize, n._footerFontStyle, n._footerFontFamily), i.each(n.footer, function(t) {
                    o.fillText(t, e.x, e.y), e.y += n.footerFontSize + n.footerSpacing
                }, this))
            },
            draw: function t() {
                var e = this._chart.ctx,
                    n = this._view;
                if (0 !== n.opacity) {
                    var o = n.caretPadding,
                        a = this.getTooltipSize(n),
                        s = {
                            x: n.x,
                            y: n.y
                        },
                        r = Math.abs(n.opacity < .001) ? 0 : n.opacity;
                    this._options.tooltips.enabled && (e.fillStyle = i.color(n.backgroundColor).alpha(r).rgbString(), i.drawRoundedRectangle(e, s.x, s.y, a.width, a.height, n.cornerRadius), e.fill(), this.drawCaret(s, a, r, o), s.x += n.xPadding, s.y += n.yPadding, this.drawTitle(s, n, e, r), this.drawBody(s, n, e, r), this.drawFooter(s, n, e, r))
                }
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.bar = {
            hover: {
                mode: "label"
            },
            scales: {
                xAxes: [{
                    type: "category",
                    categoryPercentage: .8,
                    barPercentage: .9,
                    gridLines: {
                        offsetGridLines: !0
                    }
                }],
                yAxes: [{
                    type: "linear"
                }]
            }
        }, e.controllers.bar = e.DatasetController.extend({
            initialize: function(t, n) {
                e.DatasetController.prototype.initialize.call(this, t, n), this.getDataset().bar = !0
            },
            getBarCount: function t() {
                var e = 0;
                return n.each(this.chart.data.datasets, function(t) {
                    n.isDatasetVisible(t) && t.bar && ++e
                }, this), e
            },
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Rectangle({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n
                    })
                }, this)
            },
            addElementAndReset: function(t) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var n = new e.elements.Rectangle({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: t
                    }),
                    i = this.getBarCount();
                this.updateElement(n, t, !0, i), this.getDataset().metaData.splice(t, 0, n)
            },
            update: function t(e) {
                var i = this.getBarCount();
                n.each(this.getDataset().metaData, function(t, n) {
                    this.updateElement(t, n, e, i)
                }, this)
            },
            updateElement: function t(e, i, o, a) {
                var s = this.getScaleForId(this.getDataset().xAxisID),
                    r = this.getScaleForId(this.getDataset().yAxisID),
                    l;
                l = r.min < 0 && r.max < 0 ? r.getPixelForValue(r.max) : r.min > 0 && r.max > 0 ? r.getPixelForValue(r.min) : r.getPixelForValue(0), n.extend(e, {
                    _chart: this.chart.chart,
                    _xScale: s,
                    _yScale: r,
                    _datasetIndex: this.index,
                    _index: i,
                    _model: {
                        x: this.calculateBarX(i, this.index),
                        y: o ? l : this.calculateBarY(i, this.index),
                        label: this.chart.data.labels[i],
                        datasetLabel: this.getDataset().label,
                        base: this.calculateBarBase(this.index, i),
                        width: this.calculateBarWidth(a),
                        backgroundColor: e.custom && e.custom.backgroundColor ? e.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, i, this.chart.options.elements.rectangle.backgroundColor),
                        borderColor: e.custom && e.custom.borderColor ? e.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, i, this.chart.options.elements.rectangle.borderColor),
                        borderWidth: e.custom && e.custom.borderWidth ? e.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, i, this.chart.options.elements.rectangle.borderWidth)
                    }
                }), e.pivot()
            },
            calculateBarBase: function(t, e) {
                var i = this.getScaleForId(this.getDataset().xAxisID),
                    o = this.getScaleForId(this.getDataset().yAxisID),
                    a = 0;
                if (o.options.stacked) {
                    if (this.chart.data.datasets[t].data[e] < 0)
                        for (var s = 0; s < t; s++) {
                            var r = this.chart.data.datasets[s];
                            n.isDatasetVisible(r) && r.yAxisID === o.id && (a += r.data[e] < 0 ? r.data[e] : 0)
                        }
                    else
                        for (var l = 0; l < t; l++) {
                            var c = this.chart.data.datasets[l];
                            n.isDatasetVisible(c) && c.yAxisID === o.id && (a += c.data[e] > 0 ? c.data[e] : 0)
                        }
                    return o.getPixelForValue(a)
                }
                return a = o.getPixelForValue(o.min), o.beginAtZero || o.min <= 0 && o.max >= 0 || o.min >= 0 && o.max <= 0 ? a = o.getPixelForValue(0, 0) : o.min < 0 && o.max < 0 && (a = o.getPixelForValue(o.max)), a
            },
            getRuler: function() {
                var t = this.getScaleForId(this.getDataset().xAxisID),
                    e = this.getScaleForId(this.getDataset().yAxisID),
                    n = this.getBarCount(),
                    i = function() {
                        for (var e = t.getPixelForTick(1) - t.getPixelForTick(0), n = 2; n < this.getDataset().data.length; n++)
                            e = Math.min(t.getPixelForTick(n) - t.getPixelForTick(n - 1), e);
                        return e
                    }.call(this),
                    o = i * t.options.categoryPercentage,
                    a = (i - i * t.options.categoryPercentage) / 2,
                    s = o / n;
                return {
                    datasetCount: n,
                    tickWidth: i,
                    categoryWidth: o,
                    categorySpacing: a,
                    fullBarWidth: s,
                    barWidth: s * t.options.barPercentage,
                    barSpacing: s - s * t.options.barPercentage
                }
            },
            calculateBarWidth: function() {
                var t = this.getScaleForId(this.getDataset().xAxisID),
                    e = this.getRuler();
                return t.options.stacked ? e.categoryWidth : e.barWidth
            },
            getBarIndex: function(t) {
                for (var e = 0, i = 0; i < t; ++i)
                    n.isDatasetVisible(this.chart.data.datasets[i]) && this.chart.data.datasets[i].bar && ++e;
                return e
            },
            calculateBarX: function(t, e) {
                var n = this.getScaleForId(this.getDataset().yAxisID),
                    i = this.getScaleForId(this.getDataset().xAxisID),
                    o = this.getBarIndex(e),
                    a = this.getRuler(),
                    s = i.getPixelForValue(null, t, e, this.chart.isCombo);
                return s -= this.chart.isCombo ? a.tickWidth / 2 : 0, i.options.stacked ? s + a.categoryWidth / 2 + a.categorySpacing : s + a.barWidth / 2 + a.categorySpacing + a.barWidth * o + a.barSpacing / 2 + a.barSpacing * o
            },
            calculateBarY: function(t, e) {
                var i = this.getScaleForId(this.getDataset().xAxisID),
                    o = this.getScaleForId(this.getDataset().yAxisID),
                    a = this.getDataset().data[t];
                if (o.options.stacked) {
                    for (var s = 0, r = 0, l = 0; l < e; l++) {
                        var c = this.chart.data.datasets[l];
                        n.isDatasetVisible(c) && (c.data[t] < 0 ? r += c.data[t] || 0 : s += c.data[t] || 0)
                    }
                    return a < 0 ? o.getPixelForValue(r + a) : o.getPixelForValue(s + a)
                }
                return o.getPixelForValue(a)
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e).draw()
                }, this)
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.hoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()), t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.hoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.hoverBorderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, i, this.chart.options.elements.rectangle.backgroundColor), t._model.borderColor = t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, i, this.chart.options.elements.rectangle.borderColor), t._model.borderWidth = t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, i, this.chart.options.elements.rectangle.borderWidth)
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.bubble = {
            hover: {
                mode: "single"
            },
            scales: {
                xAxes: [{
                    type: "linear",
                    position: "bottom",
                    id: "x-axis-0"
                }],
                yAxes: [{
                    type: "linear",
                    position: "left",
                    id: "y-axis-0"
                }]
            },
            tooltips: {
                template: "(<%= value.x %>, <%= value.y %>, <%= value.r %>)",
                multiTemplate: "<%if (datasetLabel){%><%=datasetLabel%>: <%}%>(<%= value.x %>, <%= value.y %>, <%= value.r %>)"
            }
        }, e.controllers.bubble = e.DatasetController.extend({
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Point({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n
                    })
                }, this)
            },
            addElementAndReset: function(t) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var n = new e.elements.Point({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: t
                });
                this.updateElement(n, t, !0), this.getDataset().metaData.splice(t, 0, n)
            },
            update: function t(e) {
                var i = this.getDataset().metaData,
                    o = this.getScaleForId(this.getDataset().yAxisID),
                    a = this.getScaleForId(this.getDataset().xAxisID),
                    s;
                s = o.min < 0 && o.max < 0 ? o.getPixelForValue(o.max) : o.min > 0 && o.max > 0 ? o.getPixelForValue(o.min) : o.getPixelForValue(0), n.each(i, function(t, n) {
                    this.updateElement(t, n, e)
                }, this)
            },
            updateElement: function(t, e, i) {
                var o = this.getScaleForId(this.getDataset().yAxisID),
                    a = this.getScaleForId(this.getDataset().xAxisID),
                    s;
                s = o.min < 0 && o.max < 0 ? o.getPixelForValue(o.max) : o.min > 0 && o.max > 0 ? o.getPixelForValue(o.min) : o.getPixelForValue(0), n.extend(t, {
                    _chart: this.chart.chart,
                    _xScale: a,
                    _yScale: o,
                    _datasetIndex: this.index,
                    _index: e,
                    _model: {
                        x: i ? a.getPixelForDecimal(.5) : a.getPixelForValue(this.getDataset().data[e], e, this.index, this.chart.isCombo),
                        y: i ? s : o.getPixelForValue(this.getDataset().data[e], e, this.index),
                        radius: i ? 0 : t.custom && t.custom.radius ? t.custom.radius : this.getRadius(this.getDataset().data[e]),
                        backgroundColor: t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, e, this.chart.options.elements.point.backgroundColor),
                        borderColor: t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, e, this.chart.options.elements.point.borderColor),
                        borderWidth: t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, e, this.chart.options.elements.point.borderWidth),
                        hitRadius: t.custom && t.custom.hitRadius ? t.custom.hitRadius : n.getValueAtIndexOrDefault(this.getDataset().hitRadius, e, this.chart.options.elements.point.hitRadius)
                    }
                }), t._model.skip = t.custom && t.custom.skip ? t.custom.skip : isNaN(t._model.x) || isNaN(t._model.y), t.pivot()
            },
            getRadius: function(t) {
                return t.r || this.chart.options.elements.point.radius
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e), t.draw()
                }, this)
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.hoverRadius ? t.custom.hoverRadius : n.getValueAtIndexOrDefault(e.hoverRadius, i, this.chart.options.elements.point.hoverRadius) + this.getRadius(this.getDataset().data[t._index]), t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.hoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()), t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.hoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.hoverBorderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.radius ? t.custom.radius : this.getRadius(this.getDataset().data[t._index]), t._model.backgroundColor = t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, i, this.chart.options.elements.point.backgroundColor), t._model.borderColor = t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, i, this.chart.options.elements.point.borderColor), t._model.borderWidth = t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, i, this.chart.options.elements.point.borderWidth)
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.doughnut = {
            animation: {
                animateRotate: !0,
                animateScale: !1
            },
            aspectRatio: 1,
            hover: {
                mode: "single"
            },
            legendCallback: function(t) {
                var e = [];
                if (e.push('<ul class="' + t.id + '-legend">'), t.data.datasets.length)
                    for (var n = 0; n < t.data.datasets[0].data.length; ++n)
                        e.push('<li><span style="background-color:' + t.data.datasets[0].backgroundColor[n] + '">'), t.data.labels[n] && e.push(t.data.labels[n]), e.push("</span></li>");
                return e.push("</ul>"), e.join("")
            },
            legend: {
                labels: {
                    generateLabels: function(t) {
                        return t.labels.map(function(e, n) {
                            return {
                                text: e,
                                fillStyle: t.datasets[0].backgroundColor[n],
                                hidden: isNaN(t.datasets[0].data[n]),
                                index: n
                            }
                        })
                    }
                },
                onClick: function(t, e) {
                    n.each(this.chart.data.datasets, function(t) {
                        t.metaHiddenData = t.metaHiddenData || [];
                        var n = e.index;
                        isNaN(t.data[n]) ? isNaN(t.metaHiddenData[n]) || (t.data[n] = t.metaHiddenData[n]) : (t.metaHiddenData[n] = t.data[n], t.data[n] = NaN)
                    }), this.chart.update()
                }
            },
            cutoutPercentage: 50,
            tooltips: {
                callbacks: {
                    title: function() {
                        return ""
                    },
                    label: function(t, e) {
                        return e.labels[t.index] + ": " + e.datasets[t.datasetIndex].data[t.index]
                    }
                }
            }
        }, e.defaults.pie = n.clone(e.defaults.doughnut), n.extend(e.defaults.pie, {
            cutoutPercentage: 0
        }), e.controllers.doughnut = e.controllers.pie = e.DatasetController.extend({
            linkScales: function() {},
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Arc({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n
                    })
                }, this)
            },
            addElementAndReset: function(t, i) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var o = new e.elements.Arc({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: t
                });
                i && n.isArray(this.getDataset().backgroundColor) && this.getDataset().backgroundColor.splice(t, 0, i), this.updateElement(o, t, !0), this.getDataset().metaData.splice(t, 0, o)
            },
            getVisibleDatasetCount: function t() {
                return n.where(this.chart.data.datasets, function(t) {
                    return n.isDatasetVisible(t)
                }).length
            },
            getRingIndex: function t(e) {
                for (var i = 0, o = 0; o < e; ++o)
                    n.isDatasetVisible(this.chart.data.datasets[o]) && ++i;
                return i
            },
            update: function t(e) {
                var i = Math.min(this.chart.chartArea.right - this.chart.chartArea.left, this.chart.chartArea.bottom - this.chart.chartArea.top);
                this.chart.outerRadius = Math.max(i / 2 - this.chart.options.elements.arc.borderWidth / 2, 0), this.chart.innerRadius = Math.max(this.chart.options.cutoutPercentage ? this.chart.outerRadius / 100 * this.chart.options.cutoutPercentage : 1, 0), this.chart.radiusLength = (this.chart.outerRadius - this.chart.innerRadius) / this.getVisibleDatasetCount(), this.getDataset().total = 0, n.each(this.getDataset().data, function(t) {
                    isNaN(t) || (this.getDataset().total += Math.abs(t))
                }, this), this.outerRadius = this.chart.outerRadius - this.chart.radiusLength * this.getRingIndex(this.index), this.innerRadius = this.outerRadius - this.chart.radiusLength, n.each(this.getDataset().metaData, function(t, n) {
                    this.updateElement(t, n, e)
                }, this)
            },
            updateElement: function(t, e, i) {
                var o = (this.chart.chartArea.left + this.chart.chartArea.right) / 2,
                    a = (this.chart.chartArea.top + this.chart.chartArea.bottom) / 2,
                    s = {
                        x: o,
                        y: a,
                        startAngle: -.5 * Math.PI,
                        endAngle: -.5 * Math.PI,
                        circumference: this.chart.options.animation.animateRotate ? 0 : this.calculateCircumference(this.getDataset().data[e]),
                        outerRadius: this.chart.options.animation.animateScale ? 0 : this.outerRadius,
                        innerRadius: this.chart.options.animation.animateScale ? 0 : this.innerRadius
                    };
                n.extend(t, {
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: e,
                    _model: i ? s : {
                        x: o,
                        y: a,
                        circumference: this.calculateCircumference(this.getDataset().data[e]),
                        outerRadius: this.outerRadius,
                        innerRadius: this.innerRadius,
                        backgroundColor: t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, e, this.chart.options.elements.arc.backgroundColor),
                        hoverBackgroundColor: t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor, e, this.chart.options.elements.arc.hoverBackgroundColor),
                        borderWidth: t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, e, this.chart.options.elements.arc.borderWidth),
                        borderColor: t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, e, this.chart.options.elements.arc.borderColor),
                        label: n.getValueAtIndexOrDefault(this.getDataset().label, e, this.chart.data.labels[e])
                    }
                }), i || (t._model.startAngle = 0 === e ? -.5 * Math.PI : this.getDataset().metaData[e - 1]._model.endAngle, t._model.endAngle = t._model.startAngle + t._model.circumference, e < this.getDataset().data.length - 1 && (this.getDataset().metaData[e + 1]._model.startAngle = t._model.endAngle)), t.pivot()
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e).draw()
                }, this)
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.hoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()),
                t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.hoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.hoverBorderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, i, this.chart.options.elements.arc.backgroundColor), t._model.borderColor = t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, i, this.chart.options.elements.arc.borderColor), t._model.borderWidth = t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, i, this.chart.options.elements.arc.borderWidth)
            },
            calculateCircumference: function(t) {
                return this.getDataset().total > 0 && !isNaN(t) ? 1.999999 * Math.PI * (t / this.getDataset().total) : 0
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.line = {
            hover: {
                mode: "label"
            },
            scales: {
                xAxes: [{
                    type: "category",
                    id: "x-axis-0"
                }],
                yAxes: [{
                    type: "linear",
                    id: "y-axis-0"
                }]
            }
        }, e.controllers.line = e.DatasetController.extend({
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], this.getDataset().metaDataset = this.getDataset().metaDataset || new e.elements.Line({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _points: this.getDataset().metaData
                }), n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Point({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n
                    })
                }, this)
            },
            addElementAndReset: function(t) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var n = new e.elements.Point({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: t
                });
                this.updateElement(n, t, !0), this.getDataset().metaData.splice(t, 0, n), this.updateBezierControlPoints()
            },
            update: function t(e) {
                var i = this.getDataset().metaDataset,
                    o = this.getDataset().metaData,
                    a = this.getScaleForId(this.getDataset().yAxisID),
                    s = this.getScaleForId(this.getDataset().xAxisID),
                    r;
                r = a.min < 0 && a.max < 0 ? a.getPixelForValue(a.max) : a.min > 0 && a.max > 0 ? a.getPixelForValue(a.min) : a.getPixelForValue(0), n.extend(i, {
                    _scale: a,
                    _datasetIndex: this.index,
                    _children: o,
                    _model: {
                        tension: i.custom && i.custom.tension ? i.custom.tension : n.getValueOrDefault(this.getDataset().tension, this.chart.options.elements.line.tension),
                        backgroundColor: i.custom && i.custom.backgroundColor ? i.custom.backgroundColor : this.getDataset().backgroundColor || this.chart.options.elements.line.backgroundColor,
                        borderWidth: i.custom && i.custom.borderWidth ? i.custom.borderWidth : this.getDataset().borderWidth || this.chart.options.elements.line.borderWidth,
                        borderColor: i.custom && i.custom.borderColor ? i.custom.borderColor : this.getDataset().borderColor || this.chart.options.elements.line.borderColor,
                        borderCapStyle: i.custom && i.custom.borderCapStyle ? i.custom.borderCapStyle : this.getDataset().borderCapStyle || this.chart.options.elements.line.borderCapStyle,
                        borderDash: i.custom && i.custom.borderDash ? i.custom.borderDash : this.getDataset().borderDash || this.chart.options.elements.line.borderDash,
                        borderDashOffset: i.custom && i.custom.borderDashOffset ? i.custom.borderDashOffset : this.getDataset().borderDashOffset || this.chart.options.elements.line.borderDashOffset,
                        borderJoinStyle: i.custom && i.custom.borderJoinStyle ? i.custom.borderJoinStyle : this.getDataset().borderJoinStyle || this.chart.options.elements.line.borderJoinStyle,
                        fill: i.custom && i.custom.fill ? i.custom.fill : this.getDataset().fill !== undefined ? this.getDataset().fill : this.chart.options.elements.line.fill,
                        scaleTop: a.top,
                        scaleBottom: a.bottom,
                        scaleZero: r
                    }
                }), i.pivot(), n.each(o, function(t, n) {
                    this.updateElement(t, n, e)
                }, this), this.updateBezierControlPoints()
            },
            getPointBackgroundColor: function(t, e) {
                var i = this.chart.options.elements.point.backgroundColor,
                    o = this.getDataset();
                return t.custom && t.custom.backgroundColor ? i = t.custom.backgroundColor : o.pointBackgroundColor ? i = n.getValueAtIndexOrDefault(o.pointBackgroundColor, e, i) : o.backgroundColor && (i = o.backgroundColor), i
            },
            getPointBorderColor: function(t, e) {
                var i = this.chart.options.elements.point.borderColor,
                    o = this.getDataset();
                return t.custom && t.custom.borderColor ? i = t.custom.borderColor : o.pointBorderColor ? i = n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor, e, i) : o.borderColor && (i = o.borderColor), i
            },
            getPointBorderWidth: function(t, e) {
                var i = this.chart.options.elements.point.borderWidth,
                    o = this.getDataset();
                return t.custom && t.custom.borderWidth !== undefined ? i = t.custom.borderWidth : o.pointBorderWidth !== undefined ? i = n.getValueAtIndexOrDefault(o.pointBorderWidth, e, i) : o.borderWidth !== undefined && (i = o.borderWidth), i
            },
            updateElement: function(t, e, i) {
                var o = this.getScaleForId(this.getDataset().yAxisID),
                    a = this.getScaleForId(this.getDataset().xAxisID),
                    s;
                s = o.min < 0 && o.max < 0 ? o.getPixelForValue(o.max) : o.min > 0 && o.max > 0 ? o.getPixelForValue(o.min) : o.getPixelForValue(0), n.extend(t, {
                    _chart: this.chart.chart,
                    _xScale: a,
                    _yScale: o,
                    _datasetIndex: this.index,
                    _index: e,
                    _model: {
                        x: a.getPixelForValue(this.getDataset().data[e], e, this.index, this.chart.isCombo),
                        y: i ? s : this.calculatePointY(this.getDataset().data[e], e, this.index, this.chart.isCombo),
                        tension: t.custom && t.custom.tension ? t.custom.tension : n.getValueOrDefault(this.getDataset().tension, this.chart.options.elements.line.tension),
                        radius: t.custom && t.custom.radius ? t.custom.radius : n.getValueAtIndexOrDefault(this.getDataset().radius, e, this.chart.options.elements.point.radius),
                        backgroundColor: this.getPointBackgroundColor(t, e),
                        borderColor: this.getPointBorderColor(t, e),
                        borderWidth: this.getPointBorderWidth(t, e),
                        hitRadius: t.custom && t.custom.hitRadius ? t.custom.hitRadius : n.getValueAtIndexOrDefault(this.getDataset().hitRadius, e, this.chart.options.elements.point.hitRadius)
                    }
                }), t._model.skip = t.custom && t.custom.skip ? t.custom.skip : isNaN(t._model.x) || isNaN(t._model.y)
            },
            calculatePointY: function(t, e, i, o) {
                var a = this.getScaleForId(this.getDataset().xAxisID),
                    s = this.getScaleForId(this.getDataset().yAxisID);
                if (s.options.stacked) {
                    for (var r = 0, l = 0, c = this.chart.data.datasets.length - 1; c > i; c--) {
                        var u = this.chart.data.datasets[c];
                        n.isDatasetVisible(u) && (u.data[e] < 0 ? l += u.data[e] || 0 : r += u.data[e] || 0)
                    }
                    return t < 0 ? s.getPixelForValue(l + t) : s.getPixelForValue(r + t)
                }
                return s.getPixelForValue(t)
            },
            updateBezierControlPoints: function() {
                n.each(this.getDataset().metaData, function(t, e) {
                    var i = n.splineCurve(n.previousItem(this.getDataset().metaData, e)._model, t._model, n.nextItem(this.getDataset().metaData, e)._model, t._model.tension);
                    t._model.controlPointPreviousX = Math.max(Math.min(i.previous.x, this.chart.chartArea.right), this.chart.chartArea.left), t._model.controlPointPreviousY = Math.max(Math.min(i.previous.y, this.chart.chartArea.bottom), this.chart.chartArea.top), t._model.controlPointNextX = Math.max(Math.min(i.next.x, this.chart.chartArea.right), this.chart.chartArea.left), t._model.controlPointNextY = Math.max(Math.min(i.next.y, this.chart.chartArea.bottom), this.chart.chartArea.top), t.pivot()
                }, this)
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e)
                }, this), this.getDataset().metaDataset.transition(e).draw(), n.each(this.getDataset().metaData, function(t) {
                    t.draw()
                })
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.hoverRadius ? t.custom.hoverRadius : n.getValueAtIndexOrDefault(e.pointHoverRadius, i, this.chart.options.elements.point.hoverRadius), t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.pointHoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()), t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.pointHoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.pointHoverBorderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.radius ? t.custom.radius : n.getValueAtIndexOrDefault(this.getDataset().radius, i, this.chart.options.elements.point.radius), t._model.backgroundColor = this.getPointBackgroundColor(t, i), t._model.borderColor = this.getPointBorderColor(t, i), t._model.borderWidth = this.getPointBorderWidth(t, i)
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.polarArea = {
            scale: {
                type: "radialLinear",
                lineArc: !0
            },
            animateRotate: !0,
            animateScale: !0,
            aspectRatio: 1,
            legendCallback: function(t) {
                var e = [];
                if (e.push('<ul class="' + t.id + '-legend">'), t.data.datasets.length)
                    for (var n = 0; n < t.data.datasets[0].data.length; ++n)
                        e.push('<li><span style="background-color:' + t.data.datasets[0].backgroundColor[n] + '">'), t.data.labels[n] && e.push(t.data.labels[n]), e.push("</span></li>");
                return e.push("</ul>"), e.join("")
            },
            legend: {
                labels: {
                    generateLabels: function(t) {
                        return t.labels.map(function(e, n) {
                            return {
                                text: e,
                                fillStyle: t.datasets[0].backgroundColor[n],
                                hidden: isNaN(t.datasets[0].data[n]),
                                index: n
                            }
                        })
                    }
                },
                onClick: function(t, e) {
                    n.each(this.chart.data.datasets, function(t) {
                        t.metaHiddenData = t.metaHiddenData || [];
                        var n = e.index;
                        isNaN(t.data[n]) ? isNaN(t.metaHiddenData[n]) || (t.data[n] = t.metaHiddenData[n]) : (t.metaHiddenData[n] = t.data[n], t.data[n] = NaN)
                    }), this.chart.update()
                }
            },
            tooltips: {
                callbacks: {
                    title: function() {
                        return ""
                    },
                    label: function(t, e) {
                        return e.labels[t.index] + ": " + t.yLabel
                    }
                }
            }
        }, e.controllers.polarArea = e.DatasetController.extend({
            linkScales: function() {},
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Arc({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n
                    })
                }, this)
            },
            addElementAndReset: function(t) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var n = new e.elements.Arc({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: t
                });
                this.updateElement(n, t, !0), this.getDataset().metaData.splice(t, 0, n)
            },
            getVisibleDatasetCount: function t() {
                return n.where(this.chart.data.datasets, function(t) {
                    return n.isDatasetVisible(t)
                }).length
            },
            update: function t(e) {
                var i = Math.min(this.chart.chartArea.right - this.chart.chartArea.left, this.chart.chartArea.bottom - this.chart.chartArea.top);
                this.chart.outerRadius = Math.max((i - this.chart.options.elements.arc.borderWidth / 2) / 2, 0), this.chart.innerRadius = Math.max(this.chart.options.cutoutPercentage ? this.chart.outerRadius / 100 * this.chart.options.cutoutPercentage : 1, 0), this.chart.radiusLength = (this.chart.outerRadius - this.chart.innerRadius) / this.getVisibleDatasetCount(), this.getDataset().total = 0, n.each(this.getDataset().data, function(t) {
                    this.getDataset().total += Math.abs(t)
                }, this), this.outerRadius = this.chart.outerRadius - this.chart.radiusLength * this.index, this.innerRadius = this.outerRadius - this.chart.radiusLength, n.each(this.getDataset().metaData, function(t, n) {
                    this.updateElement(t, n, e)
                }, this)
            },
            updateElement: function(t, e, i) {
                for (var o = this.calculateCircumference(this.getDataset().data[e]), a = (this.chart.chartArea.left + this.chart.chartArea.right) / 2, s = (this.chart.chartArea.top + this.chart.chartArea.bottom) / 2, r = 0, l = 0; l < e; ++l)
                    isNaN(this.getDataset().data[l]) || ++r;
                var c = -.5 * Math.PI + o * r,
                    u = c + o,
                    d = {
                        x: a,
                        y: s,
                        innerRadius: 0,
                        outerRadius: this.chart.options.animateScale ? 0 : this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),
                        startAngle: this.chart.options.animateRotate ? -.5 * Math.PI : c,
                        endAngle: this.chart.options.animateRotate ? -.5 * Math.PI : u,
                        backgroundColor: t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, e, this.chart.options.elements.arc.backgroundColor),
                        hoverBackgroundColor: t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor, e, this.chart.options.elements.arc.hoverBackgroundColor),
                        borderWidth: t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, e, this.chart.options.elements.arc.borderWidth),
                        borderColor: t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, e, this.chart.options.elements.arc.borderColor),
                        label: n.getValueAtIndexOrDefault(this.chart.data.labels, e, this.chart.data.labels[e])
                    };
                n.extend(t, {
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: e,
                    _scale: this.chart.scale,
                    _model: i ? d : {
                        x: a,
                        y: s,
                        innerRadius: 0,
                        outerRadius: this.chart.scale.getDistanceFromCenterForValue(this.getDataset().data[e]),
                        startAngle: c,
                        endAngle: u,
                        backgroundColor: t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, e, this.chart.options.elements.arc.backgroundColor),
                        hoverBackgroundColor: t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(this.getDataset().hoverBackgroundColor, e, this.chart.options.elements.arc.hoverBackgroundColor),
                        borderWidth: t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, e, this.chart.options.elements.arc.borderWidth),
                        borderColor: t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, e, this.chart.options.elements.arc.borderColor),
                        label: n.getValueAtIndexOrDefault(this.chart.data.labels, e, this.chart.data.labels[e])
                    }
                }), t.pivot()
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e).draw()
                }, this)
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.hoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()), t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.hoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.borderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.backgroundColor = t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().backgroundColor, i, this.chart.options.elements.arc.backgroundColor), t._model.borderColor = t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().borderColor, i, this.chart.options.elements.arc.borderColor), t._model.borderWidth = t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().borderWidth, i, this.chart.options.elements.arc.borderWidth)
            },
            calculateCircumference: function(t) {
                if (isNaN(t))
                    return 0;
                var e = n.where(this.getDataset().data, function(t) {
                    return isNaN(t)
                }).length;
                return 2 * Math.PI / (this.getDataset().data.length - e)
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.radar = {
            scale: {
                type: "radialLinear"
            },
            elements: {
                line: {
                    tension: 0
                }
            }
        }, e.controllers.radar = e.DatasetController.extend({
            linkScales: function() {},
            addElements: function() {
                this.getDataset().metaData = this.getDataset().metaData || [], this.getDataset().metaDataset = this.getDataset().metaDataset || new e.elements.Line({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _points: this.getDataset().metaData,
                    _loop: !0
                }), n.each(this.getDataset().data, function(t, n) {
                    this.getDataset().metaData[n] = this.getDataset().metaData[n] || new e.elements.Point({
                        _chart: this.chart.chart,
                        _datasetIndex: this.index,
                        _index: n,
                        _model: {
                            x: 0,
                            y: 0
                        }
                    })
                }, this)
            },
            addElementAndReset: function(t) {
                this.getDataset().metaData = this.getDataset().metaData || [];
                var n = new e.elements.Point({
                    _chart: this.chart.chart,
                    _datasetIndex: this.index,
                    _index: t
                });
                this.updateElement(n, t, !0), this.getDataset().metaData.splice(t, 0, n), this.updateBezierControlPoints()
            },
            update: function t(e) {
                var i = this.getDataset().metaDataset,
                    o = this.getDataset().metaData,
                    a = this.chart.scale,
                    s;
                s = a.min < 0 && a.max < 0 ? a.getPointPositionForValue(0, a.max) : a.min > 0 && a.max > 0 ? a.getPointPositionForValue(0, a.min) : a.getPointPositionForValue(0, 0), n.extend(this.getDataset().metaDataset, {
                    _datasetIndex: this.index,
                    _children: this.getDataset().metaData,
                    _model: {
                        tension: n.getValueOrDefault(this.getDataset().tension, this.chart.options.elements.line.tension),
                        backgroundColor: this.getDataset().backgroundColor || this.chart.options.elements.line.backgroundColor,
                        borderWidth: this.getDataset().borderWidth || this.chart.options.elements.line.borderWidth,
                        borderColor: this.getDataset().borderColor || this.chart.options.elements.line.borderColor,
                        fill: this.getDataset().fill !== undefined ? this.getDataset().fill : this.chart.options.elements.line.fill,
                        scaleTop: a.top,
                        scaleBottom: a.bottom,
                        scaleZero: s
                    }
                }), this.getDataset().metaDataset.pivot(), n.each(o, function(t, n) {
                    this.updateElement(t, n, e)
                }, this), this.updateBezierControlPoints()
            },
            updateElement: function(t, e, i) {
                var o = this.chart.scale.getPointPositionForValue(e, this.getDataset().data[e]);
                n.extend(t, {
                    _datasetIndex: this.index,
                    _index: e,
                    _scale: this.chart.scale,
                    _model: {
                        x: i ? this.chart.scale.xCenter : o.x,
                        y: i ? this.chart.scale.yCenter : o.y,
                        tension: t.custom && t.custom.tension ? t.custom.tension : n.getValueOrDefault(this.getDataset().tension, this.chart.options.elements.line.tension),
                        radius: t.custom && t.custom.radius ? t.custom.pointRadius : n.getValueAtIndexOrDefault(this.getDataset().pointRadius, e, this.chart.options.elements.point.radius),
                        backgroundColor: t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor, e, this.chart.options.elements.point.backgroundColor),
                        borderColor: t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor, e, this.chart.options.elements.point.borderColor),
                        borderWidth: t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth, e, this.chart.options.elements.point.borderWidth),
                        hitRadius: t.custom && t.custom.hitRadius ? t.custom.hitRadius : n.getValueAtIndexOrDefault(this.getDataset().hitRadius, e, this.chart.options.elements.point.hitRadius)
                    }
                }), t._model.skip = t.custom && t.custom.skip ? t.custom.skip : isNaN(t._model.x) || isNaN(t._model.y)
            },
            updateBezierControlPoints: function() {
                n.each(this.getDataset().metaData, function(t, e) {
                    var i = n.splineCurve(n.previousItem(this.getDataset().metaData, e, !0)._model, t._model, n.nextItem(this.getDataset().metaData, e, !0)._model, t._model.tension);
                    t._model.controlPointPreviousX = Math.max(Math.min(i.previous.x, this.chart.chartArea.right), this.chart.chartArea.left), t._model.controlPointPreviousY = Math.max(Math.min(i.previous.y, this.chart.chartArea.bottom), this.chart.chartArea.top), t._model.controlPointNextX = Math.max(Math.min(i.next.x, this.chart.chartArea.right), this.chart.chartArea.left), t._model.controlPointNextY = Math.max(Math.min(i.next.y, this.chart.chartArea.bottom), this.chart.chartArea.top), t.pivot()
                }, this)
            },
            draw: function(t) {
                var e = t || 1;
                n.each(this.getDataset().metaData, function(t, n) {
                    t.transition(e)
                }, this), this.getDataset().metaDataset.transition(e).draw(), n.each(this.getDataset().metaData, function(t) {
                    t.draw()
                })
            },
            setHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.radius ? t.custom.radius : n.getValueAtIndexOrDefault(e.pointHoverRadius, i, this.chart.options.elements.point.hoverRadius), t._model.backgroundColor = t.custom && t.custom.hoverBackgroundColor ? t.custom.hoverBackgroundColor : n.getValueAtIndexOrDefault(e.pointHoverBackgroundColor, i, n.color(t._model.backgroundColor).saturate(.5).darken(.1).rgbString()), t._model.borderColor = t.custom && t.custom.hoverBorderColor ? t.custom.hoverBorderColor : n.getValueAtIndexOrDefault(e.pointHoverBorderColor, i, n.color(t._model.borderColor).saturate(.5).darken(.1).rgbString()), t._model.borderWidth = t.custom && t.custom.hoverBorderWidth ? t.custom.hoverBorderWidth : n.getValueAtIndexOrDefault(e.pointBorderWidth, i, t._model.borderWidth)
            },
            removeHoverStyle: function(t) {
                var e = this.chart.data.datasets[t._datasetIndex],
                    i = t._index;
                t._model.radius = t.custom && t.custom.radius ? t.custom.radius : n.getValueAtIndexOrDefault(this.getDataset().radius, i, this.chart.options.elements.point.radius), t._model.backgroundColor = t.custom && t.custom.backgroundColor ? t.custom.backgroundColor : n.getValueAtIndexOrDefault(this.getDataset().pointBackgroundColor, i, this.chart.options.elements.point.backgroundColor), t._model.borderColor = t.custom && t.custom.borderColor ? t.custom.borderColor : n.getValueAtIndexOrDefault(this.getDataset().pointBorderColor, i, this.chart.options.elements.point.borderColor), t._model.borderWidth = t.custom && t.custom.borderWidth ? t.custom.borderWidth : n.getValueAtIndexOrDefault(this.getDataset().pointBorderWidth, i, this.chart.options.elements.point.borderWidth)
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                position: "bottom"
            },
            o = e.Scale.extend({
                buildTicks: function(t) {
                    this.ticks = this.chart.data.labels
                },
                getLabelForIndex: function(t, e) {
                    return this.ticks[t]
                },
                getPixelForValue: function(t, e, n, i) {
                    if (this.isHorizontal()) {
                        var o = this.width - (this.paddingLeft + this.paddingRight),
                            a = o / Math.max(this.chart.data.labels.length - (this.options.gridLines.offsetGridLines ? 0 : 1), 1),
                            s = a * e + this.paddingLeft;
                        return this.options.gridLines.offsetGridLines && i && (s += a / 2), this.left + Math.round(s)
                    }
                    var r = this.height - (this.paddingTop + this.paddingBottom),
                        l = r / Math.max(this.chart.data.labels.length - (this.options.gridLines.offsetGridLines ? 0 : 1), 1),
                        c = l * e + this.paddingTop;
                    return this.options.gridLines.offsetGridLines && i && (c += l / 2), this.top + Math.round(c)
                }
            });
        e.scaleService.registerScaleType("category", o, i)
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                position: "left",
                ticks: {
                    callback: function(t, e, i) {
                        var o = i[1] - i[0];
                        Math.abs(o) > 1 && t !== Math.floor(t) && (o = t - Math.floor(t));
                        var a = n.log10(Math.abs(o)),
                            s = "";
                        if (0 !== t) {
                            var r = -1 * Math.floor(a);
                            r = Math.max(Math.min(r, 20), 0), s = t.toFixed(r)
                        } else
                            s = "0";
                        return s
                    }
                }
            },
            o = e.Scale.extend({
                determineDataLimits: function() {
                    if (this.min = null, this.max = null, this.options.stacked) {
                        var t = {};
                        n.each(this.chart.data.datasets, function(e) {
                            t[e.type] === undefined && (t[e.type] = {
                                positiveValues: [],
                                negativeValues: []
                            });
                            var i = t[e.type].positiveValues,
                                o = t[e.type].negativeValues;
                            n.isDatasetVisible(e) && (this.isHorizontal() ? e.xAxisID === this.id : e.yAxisID === this.id) && n.each(e.data, function(t, e) {
                                var n = +this.getRightValue(t);
                                isNaN(n) || (i[e] = i[e] || 0, o[e] = o[e] || 0, this.options.relativePoints ? i[e] = 100 : n < 0 ? o[e] += n : i[e] += n)
                            }, this)
                        }, this), n.each(t, function(t) {
                            var e = t.positiveValues.concat(t.negativeValues),
                                i = n.min(e),
                                o = n.max(e);
                            this.min = null === this.min ? i : Math.min(this.min, i), this.max = null === this.max ? o : Math.max(this.max, o)
                        }, this)
                    } else
                        n.each(this.chart.data.datasets, function(t) {
                            n.isDatasetVisible(t) && (this.isHorizontal() ? t.xAxisID === this.id : t.yAxisID === this.id) && n.each(t.data, function(t, e) {
                                var n = +this.getRightValue(t);
                                isNaN(n) || (null === this.min ? this.min = n : n < this.min && (this.min = n), null === this.max ? this.max = n : n > this.max && (this.max = n))
                            }, this)
                        }, this);
                    if (this.options.ticks.beginAtZero) {
                        var e = n.sign(this.min),
                            i = n.sign(this.max);
                        e < 0 && i < 0 ? this.max = 0 : e > 0 && i > 0 && (this.min = 0)
                    }
                    this.options.ticks.min !== undefined ? this.min = this.options.ticks.min : this.options.ticks.suggestedMin !== undefined && (this.min = Math.min(this.min, this.options.ticks.suggestedMin)), this.options.ticks.max !== undefined ? this.max = this.options.ticks.max : this.options.ticks.suggestedMax !== undefined && (this.max = Math.max(this.max, this.options.ticks.suggestedMax)), this.min === this.max && (this.min--, this.max++)
                },
                buildTicks: function() {
                    this.ticks = [];
                    var t;
                    t = this.isHorizontal() ? Math.min(this.options.ticks.maxTicksLimit ? this.options.ticks.maxTicksLimit : 11, Math.ceil(this.width / 50)) : Math.min(this.options.ticks.maxTicksLimit ? this.options.ticks.maxTicksLimit : 11, Math.ceil(this.height / (2 * this.options.ticks.fontSize))), t = Math.max(2, t);
                    var e = n.niceNum(this.max - this.min, !1),
                        i = n.niceNum(e / (t - 1), !0),
                        o = Math.floor(this.min / i) * i,
                        a = Math.ceil(this.max / i) * i,
                        s = Math.ceil((a - o) / i);
                    this.ticks.push(this.options.ticks.min !== undefined ? this.options.ticks.min : o);
                    for (var r = 1; r < s; ++r)
                        this.ticks.push(o + r * i);
                    this.ticks.push(this.options.ticks.max !== undefined ? this.options.ticks.max : a), "left" != this.options.position && "right" != this.options.position || this.ticks.reverse(), this.max = n.max(this.ticks), this.min = n.min(this.ticks), this.ticksAsNumbers = this.ticks.slice(), this.options.ticks.reverse ? (this.ticks.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), this.zeroLineIndex = this.ticks.indexOf(0)
                },
                getLabelForIndex: function(t, e) {
                    return +this.getRightValue(this.chart.data.datasets[e].data[t])
                },
                getPixelForValue: function(t, e, n, i) {
                    var o = +this.getRightValue(t),
                        a,
                        s = this.end - this.start;
                    if (this.isHorizontal()) {
                        var r = this.width - (this.paddingLeft + this.paddingRight);
                        return a = this.left + r / s * (o - this.start), Math.round(a + this.paddingLeft)
                    }
                    var l = this.height - (this.paddingTop + this.paddingBottom);
                    return a = this.bottom - this.paddingBottom - l / s * (o - this.start), Math.round(a)
                },
                getPixelForTick: function(t, e) {
                    return this.getPixelForValue(this.ticksAsNumbers[t], null, null, e)
                }
            });
        e.scaleService.registerScaleType("linear", o, i)
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                position: "left",
                ticks: {
                    callback: function(t, n, i) {
                        var o = t / Math.pow(10, Math.floor(e.helpers.log10(t)));
                        return 1 === o || 2 === o || 5 === o || 0 === n || n === i.length - 1 ? t.toExponential() : ""
                    }
                }
            },
            o = e.Scale.extend({
                determineDataLimits: function() {
                    if (this.min = null, this.max = null, this.options.stacked) {
                        var t = {};
                        n.each(this.chart.data.datasets, function(e) {
                            n.isDatasetVisible(e) && (this.isHorizontal() ? e.xAxisID === this.id : e.yAxisID === this.id) && (t[e.type] === undefined && (t[e.type] = []), n.each(e.data, function(n, i) {
                                var o = t[e.type],
                                    a = +this.getRightValue(n);
                                isNaN(a) || (o[i] = o[i] || 0, this.options.relativePoints ? o[i] = 100 : o[i] += a)
                            }, this))
                        }, this), n.each(t, function(t) {
                            var e = n.min(t),
                                i = n.max(t);
                            this.min = null === this.min ? e : Math.min(this.min, e), this.max = null === this.max ? i : Math.max(this.max, i)
                        }, this)
                    } else
                        n.each(this.chart.data.datasets, function(t) {
                            n.isDatasetVisible(t) && (this.isHorizontal() ? t.xAxisID === this.id : t.yAxisID === this.id) && n.each(t.data, function(t, e) {
                                var n = +this.getRightValue(t);
                                isNaN(n) || (null === this.min ? this.min = n : n < this.min && (this.min = n), null === this.max ? this.max = n : n > this.max && (this.max = n))
                            }, this)
                        }, this);
                    this.min = this.options.ticks.min !== undefined ? this.options.ticks.min : this.min, this.max = this.options.ticks.max !== undefined ? this.options.ticks.max : this.max, this.min === this.max && (0 !== this.min && null !== this.min ? (this.min = Math.pow(10, Math.floor(n.log10(this.min)) - 1), this.max = Math.pow(10, Math.floor(n.log10(this.max)) + 1)) : (this.min = 1, this.max = 10))
                },
                buildTicks: function() {
                    this.tickValues = [];
                    for (var t = this.options.ticks.min !== undefined ? this.options.ticks.min : Math.pow(10, Math.floor(n.log10(this.min))); t < this.max;) {
                        this.tickValues.push(t);
                        var e = Math.floor(n.log10(t)),
                            i = Math.floor(t / Math.pow(10, e)) + 1;
                        10 === i && (i = 1, ++e), t = i * Math.pow(10, e)
                    }
                    var o = this.options.ticks.max !== undefined ? this.options.ticks.max : t;
                    this.tickValues.push(o), "left" != this.options.position && "right" != this.options.position || this.tickValues.reverse(), this.max = n.max(this.tickValues), this.min = n.min(this.tickValues), this.options.ticks.reverse ? (this.tickValues.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), this.ticks = this.tickValues.slice()
                },
                getLabelForIndex: function(t, e) {
                    return +this.getRightValue(this.chart.data.datasets[e].data[t])
                },
                getPixelForTick: function(t, e) {
                    return this.getPixelForValue(this.tickValues[t], null, null, e)
                },
                getPixelForValue: function(t, e, i, o) {
                    var a,
                        s = +this.getRightValue(t),
                        r = n.log10(this.end) - n.log10(this.start);
                    if (this.isHorizontal()) {
                        if (0 !== s) {
                            var l = this.width - (this.paddingLeft + this.paddingRight);
                            return (a = this.left + l / r * (n.log10(s) - n.log10(this.start))) + this.paddingLeft
                        }
                        a = this.left + this.paddingLeft
                    } else {
                        if (0 !== s) {
                            var c = this.height - (this.paddingTop + this.paddingBottom);
                            return this.bottom - this.paddingBottom - c / r * (n.log10(s) - n.log10(this.start))
                        }
                        a = this.top + this.paddingTop
                    }
                }
            });
        e.scaleService.registerScaleType("logarithmic", o, i)
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                display: !0,
                animate: !0,
                lineArc: !1,
                position: "chartArea",
                angleLines: {
                    display: !0,
                    color: "rgba(0, 0, 0, 0.1)",
                    lineWidth: 1
                },
                ticks: {
                    showLabelBackdrop: !0,
                    backdropColor: "rgba(255,255,255,0.75)",
                    backdropPaddingY: 2,
                    backdropPaddingX: 2
                },
                pointLabels: {
                    fontFamily: "'Arial'",
                    fontStyle: "normal",
                    fontSize: 10,
                    fontColor: "#666"
                }
            },
            o = e.Scale.extend({
                getValueCount: function() {
                    return this.chart.data.labels.length
                },
                setDimensions: function() {
                    this.width = this.maxWidth, this.height = this.maxHeight, this.xCenter = Math.round(this.width / 2), this.yCenter = Math.round(this.height / 2);
                    var t = n.min([this.height, this.width]);
                    this.drawingArea = this.options.display ? t / 2 - (this.options.ticks.fontSize / 2 + this.options.ticks.backdropPaddingY) : t / 2
                },
                determineDataLimits: function() {
                    if (this.min = null, this.max = null, n.each(this.chart.data.datasets, function(t) {
                        n.isDatasetVisible(t) && n.each(t.data, function(t, e) {
                            var n = +this.getRightValue(t);
                            isNaN(n) || (null === this.min ? this.min = n : n < this.min && (this.min = n), null === this.max ? this.max = n : n > this.max && (this.max = n))
                        }, this)
                    }, this), this.min === this.max && (this.min--, this.max++), this.options.ticks.beginAtZero) {
                        var t = n.sign(this.min),
                            e = n.sign(this.max);
                        t < 0 && e < 0 ? this.max = 0 : t > 0 && e > 0 && (this.min = 0)
                    }
                },
                buildTicks: function() {
                    this.ticks = [];
                    var t = Math.min(this.options.ticks.maxTicksLimit ? this.options.ticks.maxTicksLimit : 11, Math.ceil(this.drawingArea / (1.5 * this.options.ticks.fontSize)));
                    t = Math.max(2, t);
                    for (var e = n.niceNum(this.max - this.min, !1), i = n.niceNum(e / (t - 1), !0), o = Math.floor(this.min / i) * i, a = Math.ceil(this.max / i) * i, s = o; s <= a; s += i)
                        this.ticks.push(s);
                    this.max = n.max(this.ticks), this.min = n.min(this.ticks), this.options.ticks.reverse ? (this.ticks.reverse(), this.start = this.max, this.end = this.min) : (this.start = this.min, this.end = this.max), this.zeroLineIndex = this.ticks.indexOf(0)
                },
                getLabelForIndex: function(t, e) {
                    return +this.getRightValue(this.chart.data.datasets[e].data[t])
                },
                getCircumference: function() {
                    return 2 * Math.PI / this.getValueCount()
                },
                fit: function() {
                    var t = n.min([this.height / 2 - this.options.pointLabels.fontSize - 5, this.width / 2]),
                        e,
                        i,
                        o,
                        a,
                        s = this.width,
                        r,
                        l,
                        c = 0,
                        u,
                        d,
                        h,
                        f,
                        p,
                        m,
                        g;
                    for (this.ctx.font = n.fontString(this.options.pointLabels.fontSize, this.options.pointLabels.fontStyle, this.options.pointLabels.fontFamily), i = 0; i < this.getValueCount(); i++)
                        e = this.getPointPosition(i, t), o = this.ctx.measureText(this.options.ticks.callback(this.chart.data.labels[i])).width + 5, 0 === i || i === this.getValueCount() / 2 ? (a = o / 2, e.x + a > s && (s = e.x + a, r = i), e.x - a < c && (c = e.x - a, u = i)) : i < this.getValueCount() / 2 ? e.x + o > s && (s = e.x + o, r = i) : i > this.getValueCount() / 2 && e.x - o < c && (c = e.x - o, u = i);
                    h = c, f = Math.ceil(s - this.width), l = this.getIndexAngle(r), d = this.getIndexAngle(u), p = f / Math.sin(l + Math.PI / 2), m = h / Math.sin(d + Math.PI / 2), p = n.isNumber(p) ? p : 0, m = n.isNumber(m) ? m : 0, this.drawingArea = Math.round(t - (m + p) / 2), this.setCenterPoint(m, p)
                },
                setCenterPoint: function(t, e) {
                    var n = this.width - e - this.drawingArea,
                        i = t + this.drawingArea;
                    this.xCenter = Math.round((i + n) / 2 + this.left), this.yCenter = Math.round(this.height / 2 + this.top)
                },
                getIndexAngle: function(t) {
                    return t * (2 * Math.PI / this.getValueCount()) - Math.PI / 2
                },
                getDistanceFromCenterForValue: function(t) {
                    if (null === t)
                        return 0;
                    var e = this.drawingArea / (this.max - this.min);
                    return this.options.reverse ? (this.max - t) * e : (t - this.min) * e
                },
                getPointPosition: function(t, e) {
                    var n = this.getIndexAngle(t);
                    return {
                        x: Math.round(Math.cos(n) * e) + this.xCenter,
                        y: Math.round(Math.sin(n) * e) + this.yCenter
                    }
                },
                getPointPositionForValue: function(t, e) {
                    return this.getPointPosition(t, this.getDistanceFromCenterForValue(e))
                },
                draw: function() {
                    if (this.options.display) {
                        var t = this.ctx;
                        if (n.each(this.ticks, function(e, i) {
                            if (i > 0 || this.options.reverse) {
                                var o = this.getDistanceFromCenterForValue(this.ticks[i]),
                                    a = this.yCenter - o;
                                if (this.options.gridLines.display)
                                    if (t.strokeStyle = this.options.gridLines.color, t.lineWidth = this.options.gridLines.lineWidth, this.options.lineArc)
                                        t.beginPath(), t.arc(this.xCenter, this.yCenter, o, 0, 2 * Math.PI), t.closePath(), t.stroke();
                                    else {
                                        t.beginPath();
                                        for (var s = 0; s < this.getValueCount(); s++) {
                                            var r = this.getPointPosition(s, this.getDistanceFromCenterForValue(this.ticks[i]));
                                            0 === s ? t.moveTo(r.x, r.y) : t.lineTo(r.x, r.y)
                                        }
                                        t.closePath(), t.stroke()
                                    }
                                if (this.options.ticks.display) {
                                    if (t.font = n.fontString(this.options.ticks.fontSize, this.options.ticks.fontStyle, this.options.ticks.fontFamily), this.options.ticks.showLabelBackdrop) {
                                        var l = t.measureText(e).width;
                                        t.fillStyle = this.options.ticks.backdropColor,
                                        t.fillRect(this.xCenter - l / 2 - this.options.ticks.backdropPaddingX, a - this.options.ticks.fontSize / 2 - this.options.ticks.backdropPaddingY, l + 2 * this.options.ticks.backdropPaddingX, this.options.ticks.fontSize + 2 * this.options.ticks.backdropPaddingY)
                                    }
                                    t.textAlign = "center", t.textBaseline = "middle", t.fillStyle = this.options.ticks.fontColor, t.fillText(e, this.xCenter, a)
                                }
                            }
                        }, this), !this.options.lineArc) {
                            t.lineWidth = this.options.angleLines.lineWidth, t.strokeStyle = this.options.angleLines.color;
                            for (var e = this.getValueCount() - 1; e >= 0; e--) {
                                if (this.options.angleLines.display) {
                                    var i = this.getPointPosition(e, this.getDistanceFromCenterForValue(this.options.reverse ? this.min : this.max));
                                    t.beginPath(), t.moveTo(this.xCenter, this.yCenter), t.lineTo(i.x, i.y), t.stroke(), t.closePath()
                                }
                                var o = this.getPointPosition(e, this.getDistanceFromCenterForValue(this.options.reverse ? this.min : this.max) + 5);
                                t.font = n.fontString(this.options.pointLabels.fontSize, this.options.pointLabels.fontStyle, this.options.pointLabels.fontFamily), t.fillStyle = this.options.pointLabels.fontColor;
                                var a = this.chart.data.labels.length,
                                    s = this.chart.data.labels.length / 2,
                                    r = s / 2,
                                    l = e < r || e > a - r,
                                    c = e === r || e === a - r;
                                t.textAlign = 0 === e ? "center" : e === s ? "center" : e < s ? "left" : "right", t.textBaseline = c ? "middle" : l ? "bottom" : "top", t.fillText(this.chart.data.labels[e], o.x, o.y)
                            }
                        }
                    }
                }
            });
        e.scaleService.registerScaleType("radialLinear", o, i)
    }.call(this), function(t) {
        "use strict";
        if (!t)
            return void console.warn("Chart.js - Moment.js could not be found! You must include it before Chart.js to use the time scale. Download at http://momentjs.com/");
        var e = this,
            n = e.Chart,
            i = n.helpers,
            o = {
                units: [{
                    name: "millisecond",
                    steps: [1, 2, 5, 10, 20, 50, 100, 250, 500]
                }, {
                    name: "second",
                    steps: [1, 2, 5, 10, 30]
                }, {
                    name: "minute",
                    steps: [1, 2, 5, 10, 30]
                }, {
                    name: "hour",
                    steps: [1, 2, 3, 6, 12]
                }, {
                    name: "day",
                    steps: [1, 2, 5]
                }, {
                    name: "week",
                    maxStep: 4
                }, {
                    name: "month",
                    maxStep: 3
                }, {
                    name: "quarter",
                    maxStep: 4
                }, {
                    name: "year",
                    maxStep: !1
                }]
            },
            a = {
                position: "bottom",
                time: {
                    format: !1,
                    unit: !1,
                    round: !1,
                    displayFormat: !1,
                    displayFormats: {
                        millisecond: "SSS [ms]",
                        second: "h:mm:ss a",
                        minute: "h:mm:ss a",
                        hour: "MMM D, hA",
                        day: "ll",
                        week: "ll",
                        month: "MMM YYYY",
                        quarter: "[Q]Q - YYYY",
                        year: "YYYY"
                    }
                }
            },
            s = n.Scale.extend({
                getLabelMoment: function(t, e) {
                    return this.labelMoments[t][e]
                },
                determineDataLimits: function() {
                    this.labelMoments = [];
                    var e = [];
                    this.chart.data.labels && this.chart.data.labels.length > 0 ? (i.each(this.chart.data.labels, function(t, n) {
                        var i = this.parseTime(t);
                        this.options.time.round && i.startOf(this.options.time.round), e.push(i)
                    }, this), this.options.time.min ? this.firstTick = this.parseTime(this.options.time.min) : this.firstTick = t.min.call(this, e), this.options.time.max ? this.lastTick = this.parseTime(this.options.time.max) : this.lastTick = t.max.call(this, e)) : (this.firstTick = null, this.lastTick = null), i.each(this.chart.data.datasets, function(n, o) {
                        var a = [];
                        "object" == typeof n.data[0] ? i.each(n.data, function(e, n) {
                            var i = this.parseTime(this.getRightValue(e));
                            this.options.time.round && i.startOf(this.options.time.round), a.push(i), this.firstTick = null !== this.firstTick ? t.min(this.firstTick, i) : i, this.lastTick = null !== this.lastTick ? t.max(this.lastTick, i) : i
                        }, this) : a = e, this.labelMoments.push(a)
                    }, this), this.firstTick = (this.firstTick || t()).clone(), this.lastTick = (this.lastTick || t()).clone()
                },
                buildTicks: function(t) {
                    if (this.ticks = [], this.unitScale = 1, this.options.time.unit)
                        this.tickUnit = this.options.time.unit || "day", this.displayFormat = this.options.time.displayFormats[this.tickUnit], this.tickRange = Math.ceil(this.lastTick.diff(this.firstTick, this.tickUnit, !0));
                    else {
                        var e = this.width - (this.paddingLeft + this.paddingRight),
                            n = e / (this.options.ticks.fontSize + 10),
                            a = this.options.time.round ? 0 : 2;
                        this.tickUnit = "millisecond", this.tickRange = Math.ceil(this.lastTick.diff(this.firstTick, this.tickUnit, !0) + a), this.displayFormat = this.options.time.displayFormats[this.tickUnit];
                        for (var s = 0, r = o.units[s]; s < o.units.length;) {
                            if (this.unitScale = 1, i.isArray(r.steps) && Math.ceil(this.tickRange / n) < i.max(r.steps)) {
                                for (var l = 0; l < r.steps.length; ++l)
                                    if (r.steps[l] > Math.ceil(this.tickRange / n)) {
                                        this.unitScale = r.steps[l];
                                        break
                                    }
                                break
                            }
                            if (!1 === r.maxStep || Math.ceil(this.tickRange / n) < r.maxStep) {
                                this.unitScale = Math.ceil(this.tickRange / n);
                                break
                            }
                            ++s, r = o.units[s], this.tickUnit = r.name, this.tickRange = Math.ceil(this.lastTick.diff(this.firstTick, this.tickUnit) + a), this.displayFormat = this.options.time.displayFormats[r.name]
                        }
                    }
                    this.firstTick.startOf(this.tickUnit), this.lastTick.endOf(this.tickUnit), this.smallestLabelSeparation = this.width, i.each(this.chart.data.datasets, function(t, e) {
                        for (var n = 1; n < this.labelMoments[e].length; n++)
                            this.smallestLabelSeparation = Math.min(this.smallestLabelSeparation, this.labelMoments[e][n].diff(this.labelMoments[e][n - 1], this.tickUnit, !0))
                    }, this), this.options.time.displayFormat && (this.displayFormat = this.options.time.displayFormat);
                    for (var c = 0; c <= this.tickRange; ++c)
                        if (c % this.unitScale == 0)
                            this.ticks.push(this.firstTick.clone().add(c, this.tickUnit));
                        else if (c === this.tickRange) {
                            this.tickRange = Math.ceil(this.tickRange / this.unitScale) * this.unitScale, this.ticks.push(this.firstTick.clone().add(this.tickRange, this.tickUnit)), this.lastTick = this.ticks[this.ticks.length - 1].clone();
                            break
                        }
                },
                getLabelForIndex: function(t, e) {
                    var n = this.chart.data.labels && t < this.chart.data.labels.length ? this.chart.data.labels[t] : "";
                    return "object" == typeof this.chart.data.datasets[e].data[0] && (n = this.getRightValue(this.chart.data.datasets[e].data[t])), this.options.time.tooltipFormat && (n = this.parseTime(n).format(this.options.time.tooltipFormat)), n
                },
                convertTicksToLabels: function() {
                    this.ticks = this.ticks.map(function(t, e, n) {
                        var i = t.format(this.displayFormat);
                        return this.options.ticks.userCallback ? this.options.ticks.userCallback(i, e, n) : i
                    }, this)
                },
                getPixelForValue: function(t, e, n, i) {
                    var o = this.getLabelMoment(n, e),
                        a = o.diff(this.firstTick, this.tickUnit, !0),
                        s = a / this.tickRange;
                    if (this.isHorizontal()) {
                        var r = this.width - (this.paddingLeft + this.paddingRight),
                            l = r / Math.max(this.ticks.length - 1, 1),
                            c = r * s + this.paddingLeft;
                        return this.left + Math.round(c)
                    }
                    var u = this.height - (this.paddingTop + this.paddingBottom),
                        d = u / Math.max(this.ticks.length - 1, 1),
                        h = u * s + this.paddingTop;
                    return this.top + Math.round(h)
                },
                parseTime: function(e) {
                    return "function" == typeof e.getMonth || "number" == typeof e ? t(e) : e.isValid && e.isValid() ? e : "string" != typeof this.options.time.format && this.options.time.format.call ? this.options.time.format(e) : t(e, this.options.time.format)
                }
            });
        n.scaleService.registerScaleType("time", s, a)
    }.call(this, t), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.elements.arc = {
            backgroundColor: e.defaults.global.defaultColor,
            borderColor: "#fff",
            borderWidth: 2
        }, e.elements.Arc = e.Element.extend({
            inLabelRange: function(t) {
                var e = this._view;
                return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hoverRadius, 2)
            },
            inRange: function(t, e) {
                var i = this._view;
                if (i) {
                    var o = n.getAngleFromPoint(i, {
                            x: t,
                            y: e
                        }),
                        a = i.startAngle < -.5 * Math.PI ? i.startAngle + 2 * Math.PI : i.startAngle > 1.5 * Math.PI ? i.startAngle - 2 * Math.PI : i.startAngle,
                        s = i.endAngle < -.5 * Math.PI ? i.endAngle + 2 * Math.PI : i.endAngle > 1.5 * Math.PI ? i.endAngle - 2 * Math.PI : i.endAngle,
                        r = o.angle >= a && o.angle <= s,
                        l = o.distance >= i.innerRadius && o.distance <= i.outerRadius;
                    return r && l
                }
                return !1
            },
            tooltipPosition: function() {
                var t = this._view,
                    e = t.startAngle + (t.endAngle - t.startAngle) / 2,
                    n = (t.outerRadius - t.innerRadius) / 2 + t.innerRadius;
                return {
                    x: t.x + Math.cos(e) * n,
                    y: t.y + Math.sin(e) * n
                }
            },
            draw: function() {
                var t = this._chart.ctx,
                    e = this._view;
                t.beginPath(), t.arc(e.x, e.y, e.outerRadius, e.startAngle, e.endAngle), t.arc(e.x, e.y, e.innerRadius, e.endAngle, e.startAngle, !0), t.closePath(), t.strokeStyle = e.borderColor, t.lineWidth = e.borderWidth, t.fillStyle = e.backgroundColor, t.fill(), t.lineJoin = "bevel", e.borderWidth && t.stroke()
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.elements.line = {
            tension: .4,
            backgroundColor: e.defaults.global.defaultColor,
            borderWidth: 3,
            borderColor: e.defaults.global.defaultColor,
            borderCapStyle: "butt",
            borderDash: [],
            borderDashOffset: 0,
            borderJoinStyle: "miter",
            fill: !0
        }, e.elements.Line = e.Element.extend({
            lineToNextPoint: function(t, e, n, i, o) {
                var a = this._chart.ctx;
                e._view.skip ? i.call(this, t, e, n) : t._view.skip ? o.call(this, t, e, n) : 0 === e._view.tension ? a.lineTo(e._view.x, e._view.y) : a.bezierCurveTo(t._view.controlPointNextX, t._view.controlPointNextY, e._view.controlPointPreviousX, e._view.controlPointPreviousY, e._view.x, e._view.y)
            },
            draw: function() {
                function t(t) {
                    s._view.skip || r._view.skip ? t && a.lineTo(i._view.scaleZero.x, i._view.scaleZero.y) : a.bezierCurveTo(r._view.controlPointNextX, r._view.controlPointNextY, s._view.controlPointPreviousX, s._view.controlPointPreviousY, s._view.x, s._view.y)
                }
                var i = this,
                    o = this._view,
                    a = this._chart.ctx,
                    s = this._children[0],
                    r = this._children[this._children.length - 1];
                a.save(), this._children.length > 0 && o.fill && (a.beginPath(), n.each(this._children, function(t, e) {
                    var i = n.previousItem(this._children, e),
                        s = n.nextItem(this._children, e);
                    0 === e ? (this._loop ? a.moveTo(o.scaleZero.x, o.scaleZero.y) : a.moveTo(t._view.x, o.scaleZero), t._view.skip ? this._loop || a.moveTo(s._view.x, this._view.scaleZero) : a.lineTo(t._view.x, t._view.y)) : this.lineToNextPoint(i, t, s, function(t, e, n) {
                        this._loop ? a.lineTo(this._view.scaleZero.x, this._view.scaleZero.y) : (a.lineTo(t._view.x, this._view.scaleZero), a.moveTo(n._view.x, this._view.scaleZero))
                    }, function(t, e) {
                        a.lineTo(e._view.x, e._view.y)
                    })
                }, this), this._loop ? t(!0) : (a.lineTo(this._children[this._children.length - 1]._view.x, o.scaleZero), a.lineTo(this._children[0]._view.x, o.scaleZero)), a.fillStyle = o.backgroundColor || e.defaults.global.defaultColor, a.closePath(), a.fill()), a.lineCap = o.borderCapStyle || e.defaults.global.elements.line.borderCapStyle, a.setLineDash && a.setLineDash(o.borderDash || e.defaults.global.elements.line.borderDash), a.lineDashOffset = o.borderDashOffset || e.defaults.global.elements.line.borderDashOffset, a.lineJoin = o.borderJoinStyle || e.defaults.global.elements.line.borderJoinStyle, a.lineWidth = o.borderWidth || e.defaults.global.elements.line.borderWidth, a.strokeStyle = o.borderColor || e.defaults.global.defaultColor, a.beginPath(), n.each(this._children, function(t, e) {
                    var i = n.previousItem(this._children, e),
                        o = n.nextItem(this._children, e);
                    0 === e ? a.moveTo(t._view.x, t._view.y) : this.lineToNextPoint(i, t, o, function(t, e, n) {
                        a.moveTo(n._view.x, n._view.y)
                    }, function(t, e) {
                        a.moveTo(e._view.x, e._view.y)
                    })
                }, this), this._loop && this._children.length > 0 && t(), a.stroke(), a.restore()
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.elements.point = {
            radius: 3,
            backgroundColor: e.defaults.global.defaultColor,
            borderWidth: 1,
            borderColor: e.defaults.global.defaultColor,
            hitRadius: 1,
            hoverRadius: 4,
            hoverBorderWidth: 1
        }, e.elements.Point = e.Element.extend({
            inRange: function(t, e) {
                var n = this._view;
                if (n) {
                    var i = n.hitRadius + n.radius;
                    return Math.pow(t - n.x, 2) + Math.pow(e - n.y, 2) < Math.pow(i, 2)
                }
                return !1
            },
            inLabelRange: function(t) {
                var e = this._view;
                return !!e && Math.pow(t - e.x, 2) < Math.pow(e.radius + e.hitRadius, 2)
            },
            tooltipPosition: function() {
                var t = this._view;
                return {
                    x: t.x,
                    y: t.y,
                    padding: t.radius + t.borderWidth
                }
            },
            draw: function() {
                var t = this._view,
                    n = this._chart.ctx;
                t.skip || (t.radius > 0 || t.borderWidth > 0) && (n.beginPath(), n.arc(t.x, t.y, t.radius || e.defaults.global.elements.point.radius, 0, 2 * Math.PI), n.closePath(), n.strokeStyle = t.borderColor || e.defaults.global.defaultColor, n.lineWidth = t.borderWidth || e.defaults.global.elements.point.borderWidth, n.fillStyle = t.backgroundColor || e.defaults.global.defaultColor, n.fill(), n.stroke())
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.defaults.global.elements.rectangle = {
            backgroundColor: e.defaults.global.defaultColor,
            borderWidth: 0,
            borderColor: e.defaults.global.defaultColor
        }, e.elements.Rectangle = e.Element.extend({
            draw: function() {
                var t = this._chart.ctx,
                    e = this._view,
                    n = e.width / 2,
                    i = e.x - n,
                    o = e.x + n,
                    a = e.base - (e.base - e.y),
                    s = e.borderWidth / 2;
                e.borderWidth && (i += s, o -= s, a += s), t.beginPath(), t.fillStyle = e.backgroundColor, t.strokeStyle = e.borderColor, t.lineWidth = e.borderWidth, t.moveTo(i, e.base), t.lineTo(i, a), t.lineTo(o, a), t.lineTo(o, e.base), t.fill(), e.borderWidth && t.stroke()
            },
            height: function() {
                var t = this._view;
                return t.base - t.y
            },
            inRange: function(t, e) {
                var n = this._view,
                    i = !1;
                return n && (i = n.y < n.base ? t >= n.x - n.width / 2 && t <= n.x + n.width / 2 && e >= n.y && e <= n.base : t >= n.x - n.width / 2 && t <= n.x + n.width / 2 && e >= n.base && e <= n.y), i
            },
            inLabelRange: function(t) {
                var e = this._view;
                return !!e && (t >= e.x - e.width / 2 && t <= e.x + e.width / 2)
            },
            tooltipPosition: function() {
                var t = this._view;
                return {
                    x: t.x,
                    y: t.y
                }
            }
        })
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.Bar = function(t, n) {
            return n.type = "bar", new e(t, n)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                hover: {
                    mode: "single"
                },
                scales: {
                    xAxes: [{
                        type: "linear",
                        position: "bottom",
                        id: "x-axis-0"
                    }],
                    yAxes: [{
                        type: "linear",
                        position: "left",
                        id: "y-axis-0"
                    }]
                },
                tooltips: {
                    callbacks: {
                        title: function(t, e) {
                            return ""
                        },
                        label: function(t, e) {
                            return "(" + t.xLabel + ", " + t.yLabel + ")"
                        }
                    }
                }
            };
        e.defaults.bubble = i, e.Bubble = function(t, n) {
            return n.type = "bubble", new e(t, n)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.Doughnut = function(t, n) {
            return n.type = "doughnut", new e(t, n)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.Line = function(t, n) {
            return n.type = "line", new e(t, n)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers;
        e.PolarArea = function(t, n) {
            return n.type = "polarArea", new e(t, n)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                aspectRatio: 1
            };
        e.Radar = function(t, o) {
            return o.options = n.configMerge(i, o.options), o.type = "radar", new e(t, o)
        }
    }.call(this), function() {
        "use strict";
        var t = this,
            e = t.Chart,
            n = e.helpers,
            i = {
                hover: {
                    mode: "single"
                },
                scales: {
                    xAxes: [{
                        type: "linear",
                        position: "bottom",
                        id: "x-axis-1"
                    }],
                    yAxes: [{
                        type: "linear",
                        position: "left",
                        id: "y-axis-1"
                    }]
                },
                tooltips: {
                    callbacks: {
                        title: function(t, e) {
                            return ""
                        },
                        label: function(t, e) {
                            return "(" + t.xLabel + ", " + t.yLabel + ")"
                        }
                    }
                }
            };
        e.defaults.scatter = i, e.controllers.scatter = e.controllers.line, e.Scatter = function(t, n) {
            return n.type = "scatter", new e(t, n)
        }
    }.call(this), Chart
}), /**
 * lscache library
 * Copyright (c) 2011, Pamela Fox
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *       http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
function(t, e) {
    "function" == typeof define && define.amd ? define([], e) : "undefined" != typeof module && module.exports ? module.exports = e() : t.lscache = e()
}(this, function() {
    function t() {
        var t = "__lscachetest__",
            n = t;
        if (b !== undefined)
            return b;
        if (!localStorage)
            return !1;
        try {
            r(t, n), l(t), b = !0
        } catch (t) {
            b = !(!e(t) || !localStorage.length)
        }
        return b
    }
    function e(t) {
        return !!(t && "QUOTA_EXCEEDED_ERR" === t.name || "NS_ERROR_DOM_QUOTA_REACHED" === t.name || "QuotaExceededError" === t.name)
    }
    function n() {
        return E === undefined && (E = null != window.JSON), E
    }
    function i(t) {
        return t.replace(/[[\]{}()*+?.\\^$|]/g, "\\$&")
    }
    function o(t) {
        return t + p
    }
    function a() {
        return Math.floor((new Date).getTime() / g)
    }
    function s(t) {
        return localStorage.getItem(f + y + t)
    }
    function r(t, e) {
        localStorage.removeItem(f + y + t), localStorage.setItem(f + y + t, e)
    }
    function l(t) {
        localStorage.removeItem(f + y + t)
    }
    function c(t) {
        for (var e = new RegExp("^" + f + i(y) + "(.*)"), n = localStorage.length - 1; n >= 0; --n) {
            var a = localStorage.key(n);
            a = a && a.match(e), a = a && a[1], a && a.indexOf(p) < 0 && t(a, o(a))
        }
    }
    function u(t) {
        var e = o(t);
        l(t), l(e)
    }
    function d(t) {
        var e = o(t),
            n = s(e);
        if (n) {
            var i = parseInt(n, m);
            if (a() >= i)
                return l(t), l(e), !0
        }
    }
    function h(t, e) {
        T && "console" in window && "function" == typeof window.console.warn && (window.console.warn("lscache - " + t), e && window.console.warn("lscache - The error was: " + e.message))
    }
    var f = "lscache-",
        p = "-cacheexpiration",
        m = 10,
        g = 6e4,
        v = Math.floor(864e13 / g),
        b,
        E,
        y = "",
        T = !1;
    return {
        set: function(i, d, f) {
            if (t()) {
                if ("string" != typeof d) {
                    if (!n())
                        return;
                    try {
                        d = JSON.stringify(d)
                    } catch (t) {
                        return
                    }
                }
                try {
                    r(i, d)
                } catch (t) {
                    if (!e(t))
                        return void h("Could not add item with key '" + i + "'", t);
                    var p = [],
                        g;
                    c(function(t, e) {
                        var n = s(e);
                        n = n ? parseInt(n, m) : v, p.push({
                            key: t,
                            size: (s(t) || "").length,
                            expiration: n
                        })
                    }), p.sort(function(t, e) {
                        return e.expiration - t.expiration
                    });
                    for (var b = (d || "").length; p.length && b > 0;)
                        g = p.pop(), h("Cache is full, removing item with key '" + i + "'"), u(g.key), b -= g.size;
                    try {
                        r(i, d)
                    } catch (t) {
                        return void h("Could not add item with key '" + i + "', perhaps it's too big?", t)
                    }
                }
                f ? r(o(i), (a() + f).toString(m)) : l(o(i))
            }
        },
        get: function(e) {
            if (!t())
                return null;
            if (d(e))
                return null;
            var i = s(e);
            if (!i || !n())
                return i;
            try {
                return JSON.parse(i)
            } catch (t) {
                return i
            }
        },
        remove: function(e) {
            t() && u(e)
        },
        supported: function() {
            return t()
        },
        flush: function() {
            t() && c(function(t) {
                u(t)
            })
        },
        flushExpired: function() {
            t() && c(function(t) {
                d(t)
            })
        },
        setBucket: function(t) {
            y = t
        },
        resetBucket: function() {
            y = ""
        },
        enableWarnings: function(t) {
            T = t
        }
    }
}), /*!
 * Cropper.js v1.3.3
 * https://github.com/fengyuanchen/cropperjs
 *
 * Copyright (c) 2015-2018 Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2018-03-18T03:19:54.147Z
 */
function(t, e) {
    "object" == typeof exports && "undefined" != typeof module ? module.exports = e() : "function" == typeof define && define.amd ? define(e) : t.Cropper = e()
}(this, function() {
    "use strict";
    function t(t) {
        return "number" == typeof t && !xt(t)
    }
    function e(t) {
        return void 0 === t
    }
    function n(t) {
        return "object" === (void 0 === t ? "undefined" : Ot(t)) && null !== t
    }
    function i(t) {
        if (!n(t))
            return !1;
        try {
            var e = t.constructor,
                i = e.prototype;
            return e && i && St.call(i, "isPrototypeOf")
        } catch (t) {
            return !1
        }
    }
    function o(t) {
        return "function" == typeof t
    }
    function a(e, i) {
        if (e && o(i))
            if (Array.isArray(e) || t(e.length)) {
                var a = e.length,
                    s = void 0;
                for (s = 0; s < a && !1 !== i.call(e, e[s], s, e); s += 1)
                    ;
            } else
                n(e) && Object.keys(e).forEach(function(t) {
                    i.call(e, e[t], t, e)
                });
        return e
    }
    function s(t) {
        var e = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : 1e11;
        return Nt.test(t) ? Math.round(t * e) / e : t
    }
    function r(e, n) {
        var i = e.style;
        a(n, function(e, n) {
            At.test(n) && t(e) && (e += "px"), i[n] = e
        })
    }
    function l(t, e) {
        return t.classList ? t.classList.contains(e) : t.className.indexOf(e) > -1
    }
    function c(e, n) {
        if (n) {
            if (t(e.length))
                return void a(e, function(t) {
                    c(t, n)
                });
            if (e.classList)
                return void e.classList.add(n);
            var i = e.className.trim();
            i ? i.indexOf(n) < 0 && (e.className = i + " " + n) : e.className = n
        }
    }
    function u(e, n) {
        if (n)
            return t(e.length) ? void a(e, function(t) {
                u(t, n)
            }) : e.classList ? void e.classList.remove(n) : void (e.className.indexOf(n) >= 0 && (e.className = e.className.replace(n, "")))
    }
    function d(e, n, i) {
        if (n)
            return t(e.length) ? void a(e, function(t) {
                d(t, n, i)
            }) : void (i ? c(e, n) : u(e, n))
    }
    function h(t) {
        return t.replace(Ft, "$1-$2").toLowerCase()
    }
    function f(t, e) {
        return n(t[e]) ? t[e] : t.dataset ? t.dataset[e] : t.getAttribute("data-" + h(e))
    }
    function p(t, e, i) {
        n(i) ? t[e] = i : t.dataset ? t.dataset[e] = i : t.setAttribute("data-" + h(e), i)
    }
    function m(t, e) {
        if (n(t[e]))
            try {
                delete t[e]
            } catch (n) {
                t[e] = undefined
            }
        else if (t.dataset)
            try {
                delete t.dataset[e]
            } catch (n) {
                t.dataset[e] = undefined
            }
        else
            t.removeAttribute("data-" + h(e))
    }
    function g(t, e, n) {
        var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},
            o = n;
        e.trim().split(Pt).forEach(function(e) {
            if (!Lt) {
                var a = t.listeners;
                a && a[e] && a[e][n] && (o = a[e][n], delete a[e][n], 0 === Object.keys(a[e]).length && delete a[e], 0 === Object.keys(a).length && delete t.listeners)
            }
            t.removeEventListener(e, o, i)
        })
    }
    function v(t, e, n) {
        var i = arguments.length > 3 && arguments[3] !== undefined ? arguments[3] : {},
            o = n;
        e.trim().split(Pt).forEach(function(e) {
            if (i.once && !Lt) {
                var a = t.listeners,
                    s = a === undefined ? {} : a;
                o = function a() {
                    for (var r = arguments.length, l = Array(r), c = 0; c < r; c++)
                        l[c] = arguments[c];
                    delete s[e][n], t.removeEventListener(e, o, i), n.apply(t, l)
                }, s[e] || (s[e] = {}), s[e][n] && t.removeEventListener(e, s[e][n], i), s[e][n] = o, t.listeners = s
            }
            t.addEventListener(e, o, i)
        })
    }
    function b(t, e, n) {
        var i = void 0;
        return o(Event) && o(CustomEvent) ? i = new CustomEvent(e, {
            detail: n,
            bubbles: !0,
            cancelable: !0
        }) : (i = document.createEvent("CustomEvent"), i.initCustomEvent(e, !0, !0, n)), t.dispatchEvent(i)
    }
    function E(t) {
        var e = t.getBoundingClientRect();
        return {
            left: e.left + (window.pageXOffset - document.documentElement.clientLeft),
            top: e.top + (window.pageYOffset - document.documentElement.clientTop)
        }
    }
    function y(t) {
        var e = t.match(Mt);
        return e && (e[1] !== $t.protocol || e[2] !== $t.hostname || e[3] !== $t.port)
    }
    function T(t) {
        var e = "timestamp=" + (new Date).getTime();
        return t + (-1 === t.indexOf("?") ? "?" : "&") + e
    }
    function C(e) {
        var n = e.rotate,
            i = e.scaleX,
            o = e.scaleY,
            a = e.translateX,
            s = e.translateY,
            r = [];
        t(a) && 0 !== a && r.push("translateX(" + a + "px)"), t(s) && 0 !== s && r.push("translateY(" + s + "px)"), t(n) && 0 !== n && r.push("rotate(" + n + "deg)"), t(i) && 1 !== i && r.push("scaleX(" + i + ")"), t(o) && 1 !== o && r.push("scaleY(" + o + ")");
        var l = r.length ? r.join(" ") : "none";
        return {
            WebkitTransform: l,
            msTransform: l,
            transform: l
        }
    }
    function _(t) {
        var e = Kt({}, t),
            n = [];
        return a(t, function(t, i) {
            delete e[i], a(e, function(e) {
                var i = Math.abs(t.startX - e.startX),
                    o = Math.abs(t.startY - e.startY),
                    a = Math.abs(t.endX - e.endX),
                    s = Math.abs(t.endY - e.endY),
                    r = Math.sqrt(i * i + o * o),
                    l = Math.sqrt(a * a + s * s),
                    c = (l - r) / r;
                n.push(c)
            })
        }), n.sort(function(t, e) {
            return Math.abs(t) < Math.abs(e)
        }), n[0]
    }
    function D(t, e) {
        var n = t.pageX,
            i = t.pageY,
            o = {
                endX: n,
                endY: i
            };
        return e ? o : Kt({
            startX: n,
            startY: i
        }, o)
    }
    function I(t) {
        var e = 0,
            n = 0,
            i = 0;
        return a(t, function(t) {
            var o = t.startX,
                a = t.startY;
            e += o, n += a, i += 1
        }), e /= i, n /= i, {
            pageX: e,
            pageY: n
        }
    }
    function O(t) {
        var e = t.aspectRatio,
            n = t.height,
            i = t.width,
            o = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : "contain",
            a = function t(e) {
                return Bt(e) && e > 0
            };
        if (a(i) && a(n)) {
            var s = n * e;
            "contain" === o && s > i || "cover" === o && s < i ? n = i / e : i = n * e
        } else
            a(i) ? n = i / e : a(n) && (i = n * e);
        return {
            width: i,
            height: n
        }
    }
    function R(t) {
        var e = t.width,
            n = t.height,
            i = t.degree;
        if (90 === (i = Math.abs(i) % 180))
            return {
                width: n,
                height: e
            };
        var o = i % 90 * Math.PI / 180,
            a = Math.sin(o),
            s = Math.cos(o),
            r = e * s + n * a,
            l = e * a + n * s;
        return i > 90 ? {
            width: l,
            height: r
        } : {
            width: r,
            height: l
        }
    }
    function k(t, e, n, i) {
        var o = e.naturalWidth,
            a = e.naturalHeight,
            r = e.rotate,
            l = r === undefined ? 0 : r,
            c = e.scaleX,
            u = c === undefined ? 1 : c,
            d = e.scaleY,
            h = d === undefined ? 1 : d,
            f = n.aspectRatio,
            p = n.naturalWidth,
            m = n.naturalHeight,
            g = i.fillColor,
            v = g === undefined ? "transparent" : g,
            b = i.imageSmoothingEnabled,
            E = b === undefined || b,
            y = i.imageSmoothingQuality,
            T = y === undefined ? "low" : y,
            C = i.maxWidth,
            _ = C === undefined ? Infinity : C,
            D = i.maxHeight,
            I = D === undefined ? Infinity : D,
            R = i.minWidth,
            k = R === undefined ? 0 : R,
            w = i.minHeight,
            x = w === undefined ? 0 : w,
            S = document.createElement("canvas"),
            K = S.getContext("2d"),
            N = O({
                aspectRatio: f,
                width: _,
                height: I
            }),
            A = O({
                aspectRatio: f,
                width: k,
                height: x
            }, "cover"),
            F = Math.min(N.width, Math.max(A.width, p)),
            P = Math.min(N.height, Math.max(A.height, m)),
            L = Math.min(N.width, Math.max(A.width, o)),
            $ = Math.min(N.height, Math.max(A.height, a)),
            M = [-L / 2, -$ / 2, L, $];
        return S.width = s(F), S.height = s(P), K.fillStyle = v, K.fillRect(0, 0, F, P), K.save(), K.translate(F / 2, P / 2), K.rotate(l * Math.PI / 180), K.scale(u, h), K.imageSmoothingEnabled = E, K.imageSmoothingQuality = T, K.drawImage.apply(K, [t].concat(wt(M.map(function(t) {
            return Math.floor(s(t))
        })))), K.restore(), S
    }
    function w(t, e, n) {
        var i = "",
            o = void 0;
        for (n += e, o = e; o < n; o += 1)
            i += Ht(t.getUint8(o));
        return i
    }
    function x(t) {
        var e = t.replace(zt, ""),
            n = atob(e),
            i = new ArrayBuffer(n.length),
            o = new Uint8Array(i);
        return a(o, function(t, e) {
            o[e] = n.charCodeAt(e)
        }), i
    }
    function S(t, e) {
        var n = new Uint8Array(t),
            i = "";
        return a(n, function(t) {
            i += Ht(t)
        }), "data:" + e + ";base64," + btoa(i)
    }
    function K(t) {
        var e = new DataView(t),
            n = void 0,
            i = void 0,
            o = void 0,
            a = void 0;
        if (255 === e.getUint8(0) && 216 === e.getUint8(1))
            for (var s = e.byteLength, r = 2; r < s;) {
                if (255 === e.getUint8(r) && 225 === e.getUint8(r + 1)) {
                    o = r;
                    break
                }
                r += 1
            }
        if (o) {
            var l = o + 4,
                c = o + 10;
            if ("Exif" === w(e, l, 4)) {
                var u = e.getUint16(c);
                if (((i = 18761 === u) || 19789 === u) && 42 === e.getUint16(c + 2, i)) {
                    var d = e.getUint32(c + 4, i);
                    d >= 8 && (a = c + d)
                }
            }
        }
        if (a) {
            var h = e.getUint16(a, i),
                f = void 0,
                p = void 0;
            for (p = 0; p < h; p += 1)
                if (f = a + 12 * p + 2, 274 === e.getUint16(f, i)) {
                    f += 8, n = e.getUint16(f, i), e.setUint16(f, 1, i);
                    break
                }
        }
        return n
    }
    function N(t) {
        var e = 0,
            n = 1,
            i = 1;
        switch (t) {
        case 2:
            n = -1;
            break;
        case 3:
            e = -180;
            break;
        case 4:
            i = -1;
            break;
        case 5:
            e = 90, i = -1;
            break;
        case 6:
            e = 90;
            break;
        case 7:
            e = 90, n = -1;
            break;
        case 8:
            e = -90
        }
        return {
            rotate: e,
            scaleX: n,
            scaleY: i
        }
    }
    var A = "undefined" != typeof window,
        F = A ? window : {},
        P = "cropper",
        L = "all",
        $ = "crop",
        M = "move",
        B = "zoom",
        H = "e",
        z = "w",
        j = "s",
        W = "n",
        q = "ne",
        V = "nw",
        U = "se",
        Y = "sw",
        X = P + "-crop",
        G = P + "-disabled",
        Z = P + "-hidden",
        Q = P + "-hide",
        J = P + "-invisible",
        tt = P + "-modal",
        et = P + "-move",
        nt = "action",
        it = "preview",
        ot = "crop",
        at = "move",
        st = "none",
        rt = "crop",
        lt = "cropend",
        ct = "cropmove",
        ut = "cropstart",
        dt = "dblclick",
        ht = "load",
        ft = F.PointerEvent ? "pointerdown" : "touchstart mousedown",
        pt = F.PointerEvent ? "pointermove" : "touchmove mousemove",
        mt = F.PointerEvent ? "pointerup pointercancel" : "touchend touchcancel mouseup",
        gt = "ready",
        vt = "resize",
        bt = "wheel mousewheel DOMMouseScroll",
        Et = "zoom",
        yt = /^(?:e|w|s|n|se|sw|ne|nw|all|crop|move|zoom)$/,
        Tt = /^data:/,
        Ct = /^data:image\/jpeg;base64,/,
        _t = /^(?:img|canvas)$/i,
        Dt = {
            viewMode: 0,
            dragMode: ot,
            aspectRatio: NaN,
            data: null,
            preview: "",
            responsive: !0,
            restore: !0,
            checkCrossOrigin: !0,
            checkOrientation: !0,
            modal: !0,
            guides: !0,
            center: !0,
            highlight: !0,
            background: !0,
            autoCrop: !0,
            autoCropArea: .8,
            movable: !0,
            rotatable: !0,
            scalable: !0,
            zoomable: !0,
            zoomOnTouch: !0,
            zoomOnWheel: !0,
            wheelZoomRatio: .1,
            cropBoxMovable: !0,
            cropBoxResizable: !0,
            toggleDragModeOnDblclick: !0,
            minCanvasWidth: 0,
            minCanvasHeight: 0,
            minCropBoxWidth: 0,
            minCropBoxHeight: 0,
            minContainerWidth: 200,
            minContainerHeight: 100,
            ready: null,
            cropstart: null,
            cropmove: null,
            cropend: null,
            crop: null,
            zoom: null
        },
        It = '<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-action="e"></span><span class="cropper-line line-n" data-action="n"></span><span class="cropper-line line-w" data-action="w"></span><span class="cropper-line line-s" data-action="s"></span><span class="cropper-point point-e" data-action="e"></span><span class="cropper-point point-n" data-action="n"></span><span class="cropper-point point-w" data-action="w"></span><span class="cropper-point point-s" data-action="s"></span><span class="cropper-point point-ne" data-action="ne"></span><span class="cropper-point point-nw" data-action="nw"></span><span class="cropper-point point-sw" data-action="sw"></span><span class="cropper-point point-se" data-action="se"></span></div></div>',
        Ot = "function" == typeof Symbol && "symbol" == typeof Symbol.iterator ? function(t) {
            return typeof t
        } : function(t) {
            return t && "function" == typeof Symbol && t.constructor === Symbol && t !== Symbol.prototype ? "symbol" : typeof t
        },
        Rt = function(t, e) {
            if (!(t instanceof e))
                throw new TypeError("Cannot call a class as a function")
        },
        kt = function() {
            function t(t, e) {
                for (var n = 0; n < e.length; n++) {
                    var i = e[n];
                    i.enumerable = i.enumerable || !1, i.configurable = !0, "value" in i && (i.writable = !0), Object.defineProperty(t, i.key, i)
                }
            }
            return function(e, n, i) {
                return n && t(e.prototype, n), i && t(e, i), e
            }
        }(),
        wt = function(t) {
            if (Array.isArray(t)) {
                for (var e = 0, n = Array(t.length); e < t.length; e++)
                    n[e] = t[e];
                return n
            }
            return Array.from(t)
        },
        xt = Number.isNaN || F.isNaN,
        St = Object.prototype.hasOwnProperty,
        Kt = Object.assign || function t(e) {
            for (var i = arguments.length, o = Array(i > 1 ? i - 1 : 0), a = 1; a < i; a++)
                o[a - 1] = arguments[a];
            return n(e) && o.length > 0 && o.forEach(function(t) {
                n(t) && Object.keys(t).forEach(function(n) {
                    e[n] = t[n]
                })
            }), e
        },
        Nt = /\.\d*(?:0|9){12}\d*$/i,
        At = /^(?:width|height|left|top|marginLeft|marginTop)$/,
        Ft = /([a-z\d])([A-Z])/g,
        Pt = /\s\s*/,
        Lt = function() {
            var t = !1;
            if (A) {
                var e = !1,
                    n = function t() {},
                    i = Object.defineProperty({}, "once", {
                        get: function n() {
                            return t = !0, e
                        },
                        set: function t(n) {
                            e = n
                        }
                    });
                F.addEventListener("test", n, i), F.removeEventListener("test", n, i)
            }
            return t
        }(),
        $t = F.location,
        Mt = /^(https?:)\/\/([^:\/?#]+):?(\d*)/i,
        Bt = Number.isFinite || F.isFinite,
        Ht = String.fromCharCode,
        zt = /^data:.*,/,
        jt = {
            render: function t() {
                this.initContainer(), this.initCanvas(), this.initCropBox(), this.renderCanvas(), this.cropped && this.renderCropBox()
            },
            initContainer: function t() {
                var e = this.element,
                    n = this.options,
                    i = this.container,
                    o = this.cropper;
                c(o, Z), u(e, Z);
                var a = {
                    width: Math.max(i.offsetWidth, Number(n.minContainerWidth) || 200),
                    height: Math.max(i.offsetHeight, Number(n.minContainerHeight) || 100)
                };
                this.containerData = a, r(o, {
                    width: a.width,
                    height: a.height
                }), c(e, Z), u(o, Z)
            },
            initCanvas: function t() {
                var e = this.containerData,
                    n = this.imageData,
                    i = this.options.viewMode,
                    o = Math.abs(n.rotate) % 180 == 90,
                    a = o ? n.naturalHeight : n.naturalWidth,
                    s = o ? n.naturalWidth : n.naturalHeight,
                    r = a / s,
                    l = e.width,
                    c = e.height;
                e.height * r > e.width ? 3 === i ? l = e.height * r : c = e.width / r : 3 === i ? c = e.width / r : l = e.height * r;
                var u = {
                    aspectRatio: r,
                    naturalWidth: a,
                    naturalHeight: s,
                    width: l,
                    height: c
                };
                u.left = (e.width - l) / 2, u.top = (e.height - c) / 2, u.oldLeft = u.left, u.oldTop = u.top, this.canvasData = u, this.limited = 1 === i || 2 === i, this.limitCanvas(!0, !0), this.initialImageData = Kt({}, n), this.initialCanvasData = Kt({}, u)
            },
            limitCanvas: function t(e, n) {
                var i = this.options,
                    o = this.containerData,
                    a = this.canvasData,
                    s = this.cropBoxData,
                    r = i.viewMode,
                    l = a.aspectRatio,
                    c = this.cropped && s;
                if (e) {
                    var u = Number(i.minCanvasWidth) || 0,
                        d = Number(i.minCanvasHeight) || 0;
                    r > 1 ? (u = Math.max(u, o.width), d = Math.max(d, o.height), 3 === r && (d * l > u ? u = d * l : d = u / l)) : r > 0 && (u ? u = Math.max(u, c ? s.width : 0) : d ? d = Math.max(d, c ? s.height : 0) : c && (u = s.width, d = s.height, d * l > u ? u = d * l : d = u / l));
                    var h = O({
                        aspectRatio: l,
                        width: u,
                        height: d
                    });
                    u = h.width, d = h.height, a.minWidth = u, a.minHeight = d, a.maxWidth = Infinity, a.maxHeight = Infinity
                }
                if (n)
                    if (r) {
                        var f = o.width - a.width,
                            p = o.height - a.height;
                        a.minLeft = Math.min(0, f), a.minTop = Math.min(0, p), a.maxLeft = Math.max(0, f), a.maxTop = Math.max(0, p), c && this.limited && (a.minLeft = Math.min(s.left, s.left + (s.width - a.width)), a.minTop = Math.min(s.top, s.top + (s.height - a.height)), a.maxLeft = s.left, a.maxTop = s.top, 2 === r && (a.width >= o.width && (a.minLeft = Math.min(0, f), a.maxLeft = Math.max(0, f)), a.height >= o.height && (a.minTop = Math.min(0, p), a.maxTop = Math.max(0, p))))
                    } else
                        a.minLeft = -a.width, a.minTop = -a.height, a.maxLeft = o.width, a.maxTop = o.height
            },
            renderCanvas: function t(e, n) {
                var i = this.canvasData,
                    o = this.imageData;
                if (n) {
                    var a = R({
                            width: o.naturalWidth * Math.abs(o.scaleX || 1),
                            height: o.naturalHeight * Math.abs(o.scaleY || 1),
                            degree: o.rotate || 0
                        }),
                        s = a.width,
                        l = a.height,
                        c = i.width * (s / i.naturalWidth),
                        u = i.height * (l / i.naturalHeight);
                    i.left -= (c - i.width) / 2, i.top -= (u - i.height) / 2, i.width = c, i.height = u, i.aspectRatio = s / l, i.naturalWidth = s, i.naturalHeight = l, this.limitCanvas(!0, !1)
                }
                (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCanvas(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, r(this.canvas, Kt({
                    width: i.width,
                    height: i.height
                }, C({
                    translateX: i.left,
                    translateY: i.top
                }))), this.renderImage(e), this.cropped && this.limited && this.limitCropBox(!0, !0)
            },
            renderImage: function t(e) {
                var n = this.canvasData,
                    i = this.imageData,
                    o = i.naturalWidth * (n.width / n.naturalWidth),
                    a = i.naturalHeight * (n.height / n.naturalHeight);
                Kt(i, {
                    width: o,
                    height: a,
                    left: (n.width - o) / 2,
                    top: (n.height - a) / 2
                }), r(this.image, Kt({
                    width: i.width,
                    height: i.height
                }, C(Kt({
                    translateX: i.left,
                    translateY: i.top
                }, i)))), e && this.output()
            },
            initCropBox: function t() {
                var e = this.options,
                    n = this.canvasData,
                    i = e.aspectRatio,
                    o = Number(e.autoCropArea) || .8,
                    a = {
                        width: n.width,
                        height: n.height
                    };
                i && (n.height * i > n.width ? a.height = a.width / i : a.width = a.height * i), this.cropBoxData = a, this.limitCropBox(!0, !0), a.width = Math.min(Math.max(a.width, a.minWidth), a.maxWidth), a.height = Math.min(Math.max(a.height, a.minHeight), a.maxHeight), a.width = Math.max(a.minWidth, a.width * o), a.height = Math.max(a.minHeight, a.height * o), a.left = n.left + (n.width - a.width) / 2, a.top = n.top + (n.height - a.height) / 2, a.oldLeft = a.left, a.oldTop = a.top, this.initialCropBoxData = Kt({}, a)
            },
            limitCropBox: function t(e, n) {
                var i = this.options,
                    o = this.containerData,
                    a = this.canvasData,
                    s = this.cropBoxData,
                    r = this.limited,
                    l = i.aspectRatio;
                if (e) {
                    var c = Number(i.minCropBoxWidth) || 0,
                        u = Number(i.minCropBoxHeight) || 0,
                        d = Math.min(o.width, r ? a.width : o.width),
                        h = Math.min(o.height, r ? a.height : o.height);
                    c = Math.min(c, o.width), u = Math.min(u, o.height), l && (c && u ? u * l > c ? u = c / l : c = u * l : c ? u = c / l : u && (c = u * l), h * l > d ? h = d / l : d = h * l), s.minWidth = Math.min(c, d), s.minHeight = Math.min(u, h), s.maxWidth = d, s.maxHeight = h
                }
                n && (r ? (s.minLeft = Math.max(0, a.left), s.minTop = Math.max(0, a.top), s.maxLeft = Math.min(o.width, a.left + a.width) - s.width, s.maxTop = Math.min(o.height, a.top + a.height) - s.height) : (s.minLeft = 0, s.minTop = 0, s.maxLeft = o.width - s.width, s.maxTop = o.height - s.height))
            },
            renderCropBox: function t() {
                var e = this.options,
                    n = this.containerData,
                    i = this.cropBoxData;
                (i.width > i.maxWidth || i.width < i.minWidth) && (i.left = i.oldLeft), (i.height > i.maxHeight || i.height < i.minHeight) && (i.top = i.oldTop), i.width = Math.min(Math.max(i.width, i.minWidth), i.maxWidth), i.height = Math.min(Math.max(i.height, i.minHeight), i.maxHeight), this.limitCropBox(!1, !0), i.left = Math.min(Math.max(i.left, i.minLeft), i.maxLeft), i.top = Math.min(Math.max(i.top, i.minTop), i.maxTop), i.oldLeft = i.left, i.oldTop = i.top, e.movable && e.cropBoxMovable && p(this.face, nt, i.width >= n.width && i.height >= n.height ? M : L), r(this.cropBox, Kt({
                    width: i.width,
                    height: i.height
                }, C({
                    translateX: i.left,
                    translateY: i.top
                }))), this.cropped && this.limited && this.limitCanvas(!0, !0), this.disabled || this.output()
            },
            output: function t() {
                this.preview(), b(this.element, rt, this.getData())
            }
        },
        Wt = {
            initPreview: function t() {
                var e = this.crossOrigin,
                    n = this.options.preview,
                    i = e ? this.crossOriginUrl : this.url,
                    o = document.createElement("img");
                if (e && (o.crossOrigin = e), o.src = i, this.viewBox.appendChild(o), this.viewBoxImage = o, n) {
                    var s = n;
                    "string" == typeof n ? s = this.element.ownerDocument.querySelectorAll(n) : n.querySelector && (s = [n]), this.previews = s, a(s, function(t) {
                        var n = document.createElement("img");
                        p(t, it, {
                            width: t.offsetWidth,
                            height: t.offsetHeight,
                            html: t.innerHTML
                        }), e && (n.crossOrigin = e), n.src = i, n.style.cssText = 'display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"', t.innerHTML = "", t.appendChild(n)
                    })
                }
            },
            resetPreview: function t() {
                a(this.previews, function(t) {
                    var e = f(t, it);
                    r(t, {
                        width: e.width,
                        height: e.height
                    }), t.innerHTML = e.html, m(t, it)
                })
            },
            preview: function t() {
                var e = this.imageData,
                    n = this.canvasData,
                    i = this.cropBoxData,
                    o = i.width,
                    s = i.height,
                    l = e.width,
                    c = e.height,
                    u = i.left - n.left - e.left,
                    d = i.top - n.top - e.top;
                this.cropped && !this.disabled && (r(this.viewBoxImage, Kt({
                    width: l,
                    height: c
                }, C(Kt({
                    translateX: -u,
                    translateY: -d
                }, e)))), a(this.previews, function(t) {
                    var n = f(t, it),
                        i = n.width,
                        a = n.height,
                        h = i,
                        p = a,
                        m = 1;
                    o && (m = i / o, p = s * m), s && p > a && (m = a / s, h = o * m, p = a), r(t, {
                        width: h,
                        height: p
                    }), r(t.getElementsByTagName("img")[0], Kt({
                        width: l * m,
                        height: c * m
                    }, C(Kt({
                        translateX: -u * m,
                        translateY: -d * m
                    }, e))))
                }))
            }
        },
        qt = {
            bind: function t() {
                var e = this.element,
                    n = this.options,
                    i = this.cropper;
                o(n.cropstart) && v(e, ut, n.cropstart), o(n.cropmove) && v(e, ct, n.cropmove), o(n.cropend) && v(e, lt, n.cropend), o(n.crop) && v(e, rt, n.crop), o(n.zoom) && v(e, Et, n.zoom), v(i, ft, this.onCropStart = this.cropStart.bind(this)), n.zoomable && n.zoomOnWheel && v(i, bt, this.onWheel = this.wheel.bind(this)), n.toggleDragModeOnDblclick && v(i, dt, this.onDblclick = this.dblclick.bind(this)), v(e.ownerDocument, pt, this.onCropMove = this.cropMove.bind(this)), v(e.ownerDocument, mt, this.onCropEnd = this.cropEnd.bind(this)), n.responsive && v(window, vt, this.onResize = this.resize.bind(this))
            },
            unbind: function t() {
                var e = this.element,
                    n = this.options,
                    i = this.cropper;
                o(n.cropstart) && g(e, ut, n.cropstart), o(n.cropmove) && g(e, ct, n.cropmove), o(n.cropend) && g(e, lt, n.cropend), o(n.crop) && g(e, rt, n.crop), o(n.zoom) && g(e, Et, n.zoom), g(i, ft, this.onCropStart), n.zoomable && n.zoomOnWheel && g(i, bt, this.onWheel), n.toggleDragModeOnDblclick && g(i, dt, this.onDblclick), g(e.ownerDocument, pt, this.onCropMove), g(e.ownerDocument, mt, this.onCropEnd), n.responsive && g(window, vt, this.onResize)
            }
        },
        Vt = {
            resize: function t() {
                var e = this.options,
                    n = this.container,
                    i = this.containerData,
                    o = Number(e.minContainerWidth) || 200,
                    s = Number(e.minContainerHeight) || 100;
                if (!(this.disabled || i.width <= o || i.height <= s)) {
                    var r = n.offsetWidth / i.width;
                    if (1 !== r || n.offsetHeight !== i.height) {
                        var l = void 0,
                            c = void 0;
                        e.restore && (l = this.getCanvasData(), c = this.getCropBoxData()), this.render(), e.restore && (this.setCanvasData(a(l, function(t, e) {
                            l[e] = t * r
                        })), this.setCropBoxData(a(c, function(t, e) {
                            c[e] = t * r
                        })))
                    }
                }
            },
            dblclick: function t() {
                this.disabled || this.options.dragMode === st || this.setDragMode(l(this.dragBox, X) ? at : ot)
            },
            wheel: function t(e) {
                var n = this,
                    i = Number(this.options.wheelZoomRatio) || .1,
                    o = 1;
                this.disabled || (e.preventDefault(), this.wheeling || (this.wheeling = !0, setTimeout(function() {
                    n.wheeling = !1
                }, 50), e.deltaY ? o = e.deltaY > 0 ? 1 : -1 : e.wheelDelta ? o = -e.wheelDelta / 120 : e.detail && (o = e.detail > 0 ? 1 : -1), this.zoom(-o * i, e)))
            },
            cropStart: function t(e) {
                if (!this.disabled) {
                    var n = this.options,
                        i = this.pointers,
                        o = void 0;
                    e.changedTouches ? a(e.changedTouches, function(t) {
                        i[t.identifier] = D(t)
                    }) : i[e.pointerId || 0] = D(e), o = Object.keys(i).length > 1 && n.zoomable && n.zoomOnTouch ? B : f(e.target, nt), yt.test(o) && !1 !== b(this.element, ut, {
                        originalEvent: e,
                        action: o
                    }) && (e.preventDefault(), this.action = o, this.cropping = !1, o === $ && (this.cropping = !0, c(this.dragBox, tt)))
                }
            },
            cropMove: function t(e) {
                var n = this.action;
                if (!this.disabled && n) {
                    var i = this.pointers;
                    e.preventDefault(), !1 !== b(this.element, ct, {
                        originalEvent: e,
                        action: n
                    }) && (e.changedTouches ? a(e.changedTouches, function(t) {
                        Kt(i[t.identifier], D(t, !0))
                    }) : Kt(i[e.pointerId || 0], D(e, !0)), this.change(e))
                }
            },
            cropEnd: function t(e) {
                if (!this.disabled) {
                    var n = this.action,
                        i = this.pointers;
                    e.changedTouches ? a(e.changedTouches, function(t) {
                        delete i[t.identifier]
                    }) : delete i[e.pointerId || 0], n && (e.preventDefault(), Object.keys(i).length || (this.action = ""), this.cropping && (this.cropping = !1, d(this.dragBox, tt, this.cropped && this.options.modal)), b(this.element, lt, {
                        originalEvent: e,
                        action: n
                    }))
                }
            }
        },
        Ut = {
            change: function t(e) {
                var n = this.options,
                    i = this.canvasData,
                    o = this.containerData,
                    s = this.cropBoxData,
                    r = this.pointers,
                    l = this.action,
                    c = n.aspectRatio,
                    d = s.left,
                    h = s.top,
                    f = s.width,
                    p = s.height,
                    m = d + f,
                    g = h + p,
                    v = 0,
                    b = 0,
                    y = o.width,
                    T = o.height,
                    C = !0,
                    D = void 0;
                !c && e.shiftKey && (c = f && p ? f / p : 1), this.limited && (v = s.minLeft, b = s.minTop, y = v + Math.min(o.width, i.width, i.left + i.width), T = b + Math.min(o.height, i.height, i.top + i.height));
                var I = r[Object.keys(r)[0]],
                    O = {
                        x: I.endX - I.startX,
                        y: I.endY - I.startY
                    },
                    R = function t(e) {
                        switch (e) {
                        case H:
                            m + O.x > y && (O.x = y - m);
                            break;
                        case z:
                            d + O.x < v && (O.x = v - d);
                            break;
                        case W:
                            h + O.y < b && (O.y = b - h);
                            break;
                        case j:
                            g + O.y > T && (O.y = T - g)
                        }
                    };
                switch (l) {
                case L:
                    d += O.x, h += O.y;
                    break;
                case H:
                    if (O.x >= 0 && (m >= y || c && (h <= b || g >= T))) {
                        C = !1;
                        break
                    }
                    R(H), f += O.x, c && (p = f / c, h -= O.x / c / 2), f < 0 && (l = z, f = 0);
                    break;
                case W:
                    if (O.y <= 0 && (h <= b || c && (d <= v || m >= y))) {
                        C = !1;
                        break
                    }
                    R(W), p -= O.y, h += O.y, c && (f = p * c, d += O.y * c / 2), p < 0 && (l = j, p = 0);
                    break;
                case z:
                    if (O.x <= 0 && (d <= v || c && (h <= b || g >= T))) {
                        C = !1;
                        break
                    }
                    R(z), f -= O.x, d += O.x, c && (p = f / c, h += O.x / c / 2), f < 0 && (l = H, f = 0);
                    break;
                case j:
                    if (O.y >= 0 && (g >= T || c && (d <= v || m >= y))) {
                        C = !1;
                        break
                    }
                    R(j), p += O.y, c && (f = p * c, d -= O.y * c / 2), p < 0 && (l = W, p = 0);
                    break;
                case q:
                    if (c) {
                        if (O.y <= 0 && (h <= b || m >= y)) {
                            C = !1;
                            break
                        }
                        R(W), p -= O.y, h += O.y, f = p * c
                    } else
                        R(W), R(H), O.x >= 0 ? m < y ? f += O.x : O.y <= 0 && h <= b && (C = !1) : f += O.x, O.y <= 0 ? h > b && (p -= O.y, h += O.y) : (p -= O.y, h += O.y);
                    f < 0 && p < 0 ? (l = Y, p = 0, f = 0) : f < 0 ? (l = V, f = 0) : p < 0 && (l = U, p = 0);
                    break;
                case V:
                    if (c) {
                        if (O.y <= 0 && (h <= b || d <= v)) {
                            C = !1;
                            break
                        }
                        R(W), p -= O.y, h += O.y, f = p * c, d += O.y * c
                    } else
                        R(W), R(z), O.x <= 0 ? d > v ? (f -= O.x, d += O.x) : O.y <= 0 && h <= b && (C = !1) : (f -= O.x, d += O.x), O.y <= 0 ? h > b && (p -= O.y, h += O.y) : (p -= O.y, h += O.y);
                    f < 0 && p < 0 ? (l = U, p = 0, f = 0) : f < 0 ? (l = q, f = 0) : p < 0 && (l = Y, p = 0);
                    break;
                case Y:
                    if (c) {
                        if (O.x <= 0 && (d <= v || g >= T)) {
                            C = !1;
                            break
                        }
                        R(z), f -= O.x, d += O.x, p = f / c
                    } else
                        R(j), R(z), O.x <= 0 ? d > v ? (f -= O.x, d += O.x) : O.y >= 0 && g >= T && (C = !1) : (f -= O.x, d += O.x), O.y >= 0 ? g < T && (p += O.y) : p += O.y;
                    f < 0 && p < 0 ? (l = q, p = 0, f = 0) : f < 0 ? (l = U, f = 0) : p < 0 && (l = V, p = 0);
                    break;
                case U:
                    if (c) {
                        if (O.x >= 0 && (m >= y || g >= T)) {
                            C = !1;
                            break
                        }
                        R(H), f += O.x, p = f / c
                    } else
                        R(j), R(H), O.x >= 0 ? m < y ? f += O.x : O.y >= 0 && g >= T && (C = !1) : f += O.x, O.y >= 0 ? g < T && (p += O.y) : p += O.y;
                    f < 0 && p < 0 ? (l = V, p = 0, f = 0) : f < 0 ? (l = Y, f = 0) : p < 0 && (l = q, p = 0);
                    break;
                case M:
                    this.move(O.x, O.y), C = !1;
                    break;
                case B:
                    this.zoom(_(r), e), C = !1;
                    break;
                case $:
                    if (!O.x || !O.y) {
                        C = !1;
                        break
                    }
                    D = E(this.cropper), d = I.startX - D.left, h = I.startY - D.top, f = s.minWidth, p = s.minHeight, O.x > 0 ? l = O.y > 0 ? U : q : O.x < 0 && (d -= f, l = O.y > 0 ? Y : V), O.y < 0 && (h -= p), this.cropped || (u(this.cropBox, Z), this.cropped = !0, this.limited && this.limitCropBox(!0, !0))
                }
                C && (s.width = f, s.height = p, s.left = d, s.top = h, this.action = l, this.renderCropBox()), a(r, function(t) {
                    t.startX = t.endX, t.startY = t.endY
                })
            }
        },
        Yt = {
            crop: function t() {
                return !this.ready || this.cropped || this.disabled || (this.cropped = !0, this.limitCropBox(!0, !0), this.options.modal && c(this.dragBox, tt), u(this.cropBox, Z), this.setCropBoxData(this.initialCropBoxData)), this
            },
            reset: function t() {
                return this.ready && !this.disabled && (this.imageData = Kt({}, this.initialImageData), this.canvasData = Kt({}, this.initialCanvasData), this.cropBoxData = Kt({}, this.initialCropBoxData), this.renderCanvas(), this.cropped && this.renderCropBox()), this
            },
            clear: function t() {
                return this.cropped && !this.disabled && (Kt(this.cropBoxData, {
                    left: 0,
                    top: 0,
                    width: 0,
                    height: 0
                }), this.cropped = !1, this.renderCropBox(), this.limitCanvas(!0, !0), this.renderCanvas(), u(this.dragBox, tt), c(this.cropBox, Z)), this
            },
            replace: function t(e) {
                var n = arguments.length > 1 && arguments[1] !== undefined && arguments[1];
                return !this.disabled && e && (this.isImg && (this.element.src = e), n ? (this.url = e, this.image.src = e, this.ready && (this.viewBoxImage.src = e, a(this.previews, function(t) {
                    t.getElementsByTagName("img")[0].src = e
                }))) : (this.isImg && (this.replaced = !0), this.options.data = null, this.uncreate(), this.load(e))), this
            },
            enable: function t() {
                return this.ready && this.disabled && (this.disabled = !1, u(this.cropper, G)), this
            },
            disable: function t() {
                return this.ready && !this.disabled && (this.disabled = !0, c(this.cropper, G)), this
            },
            destroy: function t() {
                var e = this.element;
                return f(e, P) ? (this.isImg && this.replaced && (e.src = this.originalUrl), this.uncreate(), m(e, P), this) : this
            },
            move: function t(n) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : n,
                    o = this.canvasData,
                    a = o.left,
                    s = o.top;
                return this.moveTo(e(n) ? n : a + Number(n), e(i) ? i : s + Number(i))
            },
            moveTo: function e(n) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : n,
                    o = this.canvasData,
                    a = !1;
                return n = Number(n), i = Number(i), this.ready && !this.disabled && this.options.movable && (t(n) && (o.left = n, a = !0), t(i) && (o.top = i, a = !0), a && this.renderCanvas(!0)), this
            },
            zoom: function t(e, n) {
                var i = this.canvasData;
                return e = Number(e), e = e < 0 ? 1 / (1 - e) : 1 + e, this.zoomTo(i.width * e / i.naturalWidth, null, n)
            },
            zoomTo: function e(n, o, a) {
                var s = this.options,
                    r = this.canvasData,
                    l = r.width,
                    c = r.height,
                    u = r.naturalWidth,
                    d = r.naturalHeight;
                if ((n = Number(n)) >= 0 && this.ready && !this.disabled && s.zoomable) {
                    var h = u * n,
                        f = d * n;
                    if (!1 === b(this.element, Et, {
                        originalEvent: a,
                        oldRatio: l / u,
                        ratio: h / u
                    }))
                        return this;
                    if (a) {
                        var p = this.pointers,
                            m = E(this.cropper),
                            g = p && Object.keys(p).length ? I(p) : {
                                pageX: a.pageX,
                                pageY: a.pageY
                            };
                        r.left -= (h - l) * ((g.pageX - m.left - r.left) / l), r.top -= (f - c) * ((g.pageY - m.top - r.top) / c)
                    } else
                        i(o) && t(o.x) && t(o.y) ? (r.left -= (h - l) * ((o.x - r.left) / l), r.top -= (f - c) * ((o.y - r.top) / c)) : (r.left -= (h - l) / 2, r.top -= (f - c) / 2);
                    r.width = h, r.height = f, this.renderCanvas(!0)
                }
                return this
            },
            rotate: function t(e) {
                return this.rotateTo((this.imageData.rotate || 0) + Number(e))
            },
            rotateTo: function e(n) {
                return n = Number(n), t(n) && this.ready && !this.disabled && this.options.rotatable && (this.imageData.rotate = n % 360, this.renderCanvas(!0, !0)), this
            },
            scaleX: function e(n) {
                var i = this.imageData.scaleY;
                return this.scale(n, t(i) ? i : 1)
            },
            scaleY: function e(n) {
                var i = this.imageData.scaleX;
                return this.scale(t(i) ? i : 1, n)
            },
            scale: function e(n) {
                var i = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : n,
                    o = this.imageData,
                    a = !1;
                return n = Number(n), i = Number(i), this.ready && !this.disabled && this.options.scalable && (t(n) && (o.scaleX = n, a = !0), t(i) && (o.scaleY = i, a = !0), a && this.renderCanvas(!0, !0)), this
            },
            getData: function t() {
                var e = arguments.length > 0 && arguments[0] !== undefined && arguments[0],
                    n = this.options,
                    i = this.imageData,
                    o = this.canvasData,
                    s = this.cropBoxData,
                    r = void 0;
                if (this.ready && this.cropped) {
                    r = {
                        x: s.left - o.left,
                        y: s.top - o.top,
                        width: s.width,
                        height: s.height
                    };
                    var l = i.width / i.naturalWidth;
                    a(r, function(t, n) {
                        t /= l, r[n] = e ? Math.round(t) : t
                    })
                } else
                    r = {
                        x: 0,
                        y: 0,
                        width: 0,
                        height: 0
                    };
                return n.rotatable && (r.rotate = i.rotate || 0), n.scalable && (r.scaleX = i.scaleX || 1, r.scaleY = i.scaleY || 1), r
            },
            setData: function e(n) {
                var o = this.options,
                    a = this.imageData,
                    s = this.canvasData,
                    r = {};
                if (this.ready && !this.disabled && i(n)) {
                    var l = !1;
                    o.rotatable && t(n.rotate) && n.rotate !== a.rotate && (a.rotate = n.rotate, l = !0), o.scalable && (t(n.scaleX) && n.scaleX !== a.scaleX && (a.scaleX = n.scaleX, l = !0), t(n.scaleY) && n.scaleY !== a.scaleY && (a.scaleY = n.scaleY, l = !0)), l && this.renderCanvas(!0, !0);
                    var c = a.width / a.naturalWidth;
                    t(n.x) && (r.left = n.x * c + s.left), t(n.y) && (r.top = n.y * c + s.top), t(n.width) && (r.width = n.width * c), t(n.height) && (r.height = n.height * c), this.setCropBoxData(r)
                }
                return this
            },
            getContainerData: function t() {
                return this.ready ? Kt({}, this.containerData) : {}
            },
            getImageData: function t() {
                return this.sized ? Kt({}, this.imageData) : {}
            },
            getCanvasData: function t() {
                var e = this.canvasData,
                    n = {};
                return this.ready && a(["left", "top", "width", "height", "naturalWidth", "naturalHeight"], function(t) {
                    n[t] = e[t]
                }), n
            },
            setCanvasData: function e(n) {
                var o = this.canvasData,
                    a = o.aspectRatio;
                return this.ready && !this.disabled && i(n) && (t(n.left) && (o.left = n.left), t(n.top) && (o.top = n.top), t(n.width) ? (o.width = n.width, o.height = n.width / a) : t(n.height) && (o.height = n.height, o.width = n.height * a), this.renderCanvas(!0)), this
            },
            getCropBoxData: function t() {
                var e = this.cropBoxData,
                    n = void 0;
                return this.ready && this.cropped && (n = {
                    left: e.left,
                    top: e.top,
                    width: e.width,
                    height: e.height
                }), n || {}
            },
            setCropBoxData: function e(n) {
                var o = this.cropBoxData,
                    a = this.options.aspectRatio,
                    s = void 0,
                    r = void 0;
                return this.ready && this.cropped && !this.disabled && i(n) && (t(n.left) && (o.left = n.left), t(n.top) && (o.top = n.top), t(n.width) && n.width !== o.width && (s = !0, o.width = n.width), t(n.height) && n.height !== o.height && (r = !0, o.height = n.height), a && (s ? o.height = o.width / a : r && (o.width = o.height * a)), this.renderCropBox()), this
            },
            getCroppedCanvas: function t() {
                var e = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : {};
                if (!this.ready || !window.HTMLCanvasElement)
                    return null;
                var n = this.canvasData,
                    i = k(this.image, this.imageData, n, e);
                if (!this.cropped)
                    return i;
                var o = this.getData(),
                    a = o.x,
                    r = o.y,
                    l = o.width,
                    c = o.height,
                    u = i.width / Math.floor(n.naturalWidth);
                1 !== u && (a *= u, r *= u, l *= u, c *= u);
                var d = l / c,
                    h = O({
                        aspectRatio: d,
                        width: e.maxWidth || Infinity,
                        height: e.maxHeight || Infinity
                    }),
                    f = O({
                        aspectRatio: d,
                        width: e.minWidth || 0,
                        height: e.minHeight || 0
                    }, "cover"),
                    p = O({
                        aspectRatio: d,
                        width: e.width || (1 !== u ? i.width : l),
                        height: e.height || (1 !== u ? i.height : c)
                    }),
                    m = p.width,
                    g = p.height;
                m = Math.min(h.width, Math.max(f.width, m)), g = Math.min(h.height, Math.max(f.height, g));
                var v = document.createElement("canvas"),
                    b = v.getContext("2d");
                v.width = s(m), v.height = s(g), b.fillStyle = e.fillColor || "transparent", b.fillRect(0, 0, m, g);
                var E = e.imageSmoothingEnabled,
                    y = E === undefined || E,
                    T = e.imageSmoothingQuality;
                b.imageSmoothingEnabled = y, T && (b.imageSmoothingQuality = T);
                var C = i.width,
                    _ = i.height,
                    D = a,
                    I = r,
                    R = void 0,
                    w = void 0,
                    x = void 0,
                    S = void 0,
                    K = void 0,
                    N = void 0;
                D <= -l || D > C ? (D = 0, R = 0, x = 0, K = 0) : D <= 0 ? (x = -D, D = 0, R = Math.min(C, l + D), K = R) : D <= C && (x = 0, R = Math.min(l, C - D), K = R), R <= 0 || I <= -c || I > _ ? (I = 0, w = 0, S = 0, N = 0) : I <= 0 ? (S = -I, I = 0, w = Math.min(_, c + I), N = w) : I <= _ && (S = 0, w = Math.min(c, _ - I), N = w);
                var A = [D, I, R, w];
                if (K > 0 && N > 0) {
                    var F = m / l;
                    A.push(x * F, S * F, K * F, N * F)
                }
                return b.drawImage.apply(b, [i].concat(wt(A.map(function(t) {
                    return Math.floor(s(t))
                })))), v
            },
            setAspectRatio: function t(n) {
                var i = this.options;
                return this.disabled || e(n) || (i.aspectRatio = Math.max(0, n) || NaN, this.ready && (this.initCropBox(), this.cropped && this.renderCropBox())), this
            },
            setDragMode: function t(e) {
                var n = this.options,
                    i = this.dragBox,
                    o = this.face;
                if (this.ready && !this.disabled) {
                    var a = e === ot,
                        s = n.movable && e === at;
                    e = a || s ? e : st, n.dragMode = e, p(i, nt, e), d(i, X, a), d(i, et, s), n.cropBoxMovable || (p(o, nt, e), d(o, X, a), d(o, et, s))
                }
                return this
            }
        },
        Xt = F.Cropper,
        Gt = function() {
            function t(e) {
                var n = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};
                if (Rt(this, t), !e || !_t.test(e.tagName))
                    throw new Error("The first argument is required and must be an <img> or <canvas> element.");
                this.element = e, this.options = Kt({}, Dt, i(n) && n), this.cropped = !1, this.disabled = !1, this.pointers = {}, this.ready = !1, this.reloading = !1, this.replaced = !1, this.sized = !1, this.sizing = !1, this.init()
            }
            return kt(t, [{
                key: "init",
                value: function t() {
                    var e = this.element,
                        n = e.tagName.toLowerCase(),
                        i = void 0;
                    if (!f(e, P)) {
                        if (p(e, P, this), "img" === n) {
                            if (this.isImg = !0, i = e.getAttribute("src") || "", this.originalUrl = i, !i)
                                return;
                            i = e.src
                        } else
                            "canvas" === n && window.HTMLCanvasElement && (i = e.toDataURL());
                        this.load(i)
                    }
                }
            }, {
                key: "load",
                value: function t(e) {
                    var n = this;
                    if (e) {
                        this.url = e, this.imageData = {};
                        var i = this.element,
                            o = this.options;
                        if (!o.checkOrientation || !window.ArrayBuffer)
                            return void this.clone();
                        if (Tt.test(e))
                            return void (Ct.test(e) ? this.read(x(e)) : this.clone());
                        var a = new XMLHttpRequest;
                        this.reloading = !0, this.xhr = a;
                        var s = function t() {
                            n.reloading = !1, n.xhr = null
                        };
                        a.ontimeout = s, a.onabort = s, a.onerror = function() {
                            s(), n.clone()
                        }, a.onload = function() {
                            s(), n.read(a.response)
                        }, o.checkCrossOrigin && y(e) && i.crossOrigin && (e = T(e)), a.open("get", e), a.responseType = "arraybuffer", a.withCredentials = "use-credentials" === i.crossOrigin, a.send()
                    }
                }
            }, {
                key: "read",
                value: function t(e) {
                    var n = this.options,
                        i = this.imageData,
                        o = K(e),
                        a = 0,
                        s = 1,
                        r = 1;
                    if (o > 1) {
                        this.url = S(e, "image/jpeg");
                        var l = N(o);
                        a = l.rotate, s = l.scaleX, r = l.scaleY
                    }
                    n.rotatable && (i.rotate = a), n.scalable && (i.scaleX = s, i.scaleY = r), this.clone()
                }
            }, {
                key: "clone",
                value: function t() {
                    var e = this.element,
                        n = this.url,
                        i = void 0,
                        o = void 0;
                    this.options.checkCrossOrigin && y(n) && (i = e.crossOrigin, i ? o = n : (i = "anonymous", o = T(n))), this.crossOrigin = i, this.crossOriginUrl = o;
                    var a = document.createElement("img");
                    i && (a.crossOrigin = i), a.src = o || n;
                    var s = this.start.bind(this),
                        r = this.stop.bind(this);
                    this.image = a, this.onStart = s, this.onStop = r, this.isImg ? e.complete ? this.timeout = setTimeout(s, 0) : v(e, ht, s, {
                        once: !0
                    }) : (a.onload = s, a.onerror = r, c(a, Q), e.parentNode.insertBefore(a, e.nextSibling))
                }
            }, {
                key: "start",
                value: function t(e) {
                    var n = this,
                        i = this.isImg ? this.element : this.image;
                    e && (i.onload = null, i.onerror = null), this.sizing = !0
                    ;
                    var o = F.navigator && /(Macintosh|iPhone|iPod|iPad).*AppleWebKit/i.test(F.navigator.userAgent),
                        a = function t(e, i) {
                            Kt(n.imageData, {
                                naturalWidth: e,
                                naturalHeight: i,
                                aspectRatio: e / i
                            }), n.sizing = !1, n.sized = !0, n.build()
                        };
                    if (i.naturalWidth && !o)
                        return void a(i.naturalWidth, i.naturalHeight);
                    var s = document.createElement("img"),
                        r = document.body || document.documentElement;
                    this.sizingImage = s, s.onload = function() {
                        a(s.width, s.height), o || r.removeChild(s)
                    }, s.src = i.src, o || (s.style.cssText = "left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;", r.appendChild(s))
                }
            }, {
                key: "stop",
                value: function t() {
                    var e = this.image;
                    e.onload = null, e.onerror = null, e.parentNode.removeChild(e), this.image = null
                }
            }, {
                key: "build",
                value: function t() {
                    if (this.sized && !this.ready) {
                        var e = this.element,
                            n = this.options,
                            i = this.image,
                            a = e.parentNode,
                            s = document.createElement("div");
                        s.innerHTML = It;
                        var r = s.querySelector("." + P + "-container"),
                            l = r.querySelector("." + P + "-canvas"),
                            d = r.querySelector("." + P + "-drag-box"),
                            h = r.querySelector("." + P + "-crop-box"),
                            f = h.querySelector("." + P + "-face");
                        this.container = a, this.cropper = r, this.canvas = l, this.dragBox = d, this.cropBox = h, this.viewBox = r.querySelector("." + P + "-view-box"), this.face = f, l.appendChild(i), c(e, Z), a.insertBefore(r, e.nextSibling), this.isImg || u(i, Q), this.initPreview(), this.bind(), n.aspectRatio = Math.max(0, n.aspectRatio) || NaN, n.viewMode = Math.max(0, Math.min(3, Math.round(n.viewMode))) || 0, c(h, Z), n.guides || c(h.getElementsByClassName(P + "-dashed"), Z), n.center || c(h.getElementsByClassName(P + "-center"), Z), n.background && c(r, P + "-bg"), n.highlight || c(f, J), n.cropBoxMovable && (c(f, et), p(f, nt, L)), n.cropBoxResizable || (c(h.getElementsByClassName(P + "-line"), Z), c(h.getElementsByClassName(P + "-point"), Z)), this.render(), this.ready = !0, this.setDragMode(n.dragMode), n.autoCrop && this.crop(), this.setData(n.data), o(n.ready) && v(e, gt, n.ready, {
                            once: !0
                        }), b(e, gt)
                    }
                }
            }, {
                key: "unbuild",
                value: function t() {
                    this.ready && (this.ready = !1, this.unbind(), this.resetPreview(), this.cropper.parentNode.removeChild(this.cropper), u(this.element, Z))
                }
            }, {
                key: "uncreate",
                value: function t() {
                    var e = this.element;
                    this.ready ? (this.unbuild(), this.ready = !1, this.cropped = !1) : this.sizing ? (this.sizingImage.onload = null, this.sizing = !1, this.sized = !1) : this.reloading ? this.xhr.abort() : this.isImg ? e.complete ? clearTimeout(this.timeout) : g(e, ht, this.onStart) : this.image && this.stop()
                }
            }], [{
                key: "noConflict",
                value: function e() {
                    return window.Cropper = Xt, t
                }
            }, {
                key: "setDefaults",
                value: function t(e) {
                    Kt(Dt, i(e) && e)
                }
            }]), t
        }();
    return Kt(Gt.prototype, jt, Wt, qt, Vt, Ut, Yt), Gt
}), function(t) {
    function e(e) {
        var n = new Error("Must have exactly 2 radio buttons with the same name to create customBinaryRadioButtons");
        if (e.size() % 2 != 0)
            throw n;
        var i = {};
        _.each(e, function(e) {
            i[t(e).attr("name")] ? i[t(e).attr("name")]++ : i[t(e).attr("name")] = 1
        });
        var o = _.uniq(_.values(i)),
            a = 2 === o[0] && 1 === o.length,
            s = 0 === o.length;
        if (!a && !s)
            throw n
    }
    var n = function(e, n) {
        var i = t("<div data-custom-radio-group></div>");
        _.last(n).closest(".radio").children("label").after(i), _.each(n, function(o) {
            var a = o.val(),
                s = o.attr("tabindex"),
                r = o.closest(".radio").children("label"),
                l = r.text(),
                c = o.data("changehandler"),
                u = o.data("data"),
                d = o.attr("radio_class") || "custom-radio-input";
            o.removeAttr("tabindex");
            var h = t('<span class="' + d + '" data-custom-radio-input-name="' + e + '" data-custom-radio-input-value="' + a + '" tabindex="' + s + '">' + l + "</span>");
            o.prop("checked") && h.addClass("active"), i.append(h), r.addClass("replaced-by-custom-radio-button"), h.on("click", function(e) {
                t(i.find(".active")).removeClass("active"), t(e.target).addClass("active"), _.each(n, function(t) {
                    t.removeAttr("checked")
                }), o.click(), executeFnByName(c, window, u)
            }), h.on("keydown", function(e) {
                if ("32" == parseInt(e.which))
                    return t(this).click(), !1
            })
        })
    };
    t.fn.customBinaryRadioButtons = function() {
        var e;
        e = this.is("input") ? this : this.find('input[type="radio"]');
        var i = {};
        return _.each(e, function(e) {
            var n = t(e);
            i[n.attr("name")] ? i[n.attr("name")].push(n) : i[n.attr("name")] = [n]
        }), _.each(i, function(t, e) {
            new n(e, t)
        }), this
    }
}(jQuery), /*!
 * jQuery Plugin: Are-You-Sure (Dirty Form Detection)
 * https://github.com/codedance/jquery.AreYouSure/
 *
 * Copyright (c) 2012-2014, Chris Dance and PaperCut Software http://www.papercut.com/
 * Dual licensed under the MIT or GPL Version 2 licenses.
 * http://jquery.org/license
 *
 * Author:  chris.dance@papercut.com
 * Version: 1.9.0
 * Date:    13th August 2014
 */
function(t) {
    t.fn.areYouSure = function(e) {
        var n = t.extend({
                message: "You have unsaved changes!",
                dirtyClass: "dirty",
                change: null,
                silent: !1,
                addRemoveFieldsMarksDirty: !1,
                fieldEvents: "change keyup propertychange input",
                fieldSelector: ':input:not(input[type="submit"]):not(input[type="button"])'
            }, e),
            i = function(e) {
                if (e.hasClass("ays-ignore") || e.hasClass("aysIgnore") || e.attr("data-ays-ignore") || e.attr("name") === undefined)
                    return null;
                if (e.is(":disabled"))
                    return "ays-disabled";
                var n,
                    i = e.attr("type");
                switch (e.is("select") && (i = "select"), i) {
                case "checkbox":
                case "radio":
                    n = e.is(":checked");
                    break;
                case "select":
                    n = "", e.find("option").each(function(e) {
                        var i = t(this);
                        i.is(":selected") && (n += i.val())
                    });
                    break;
                default:
                    n = e.val()
                }
                return n
            },
            o = function(t) {
                t.data("ays-orig", i(t))
            },
            a = function(t, e) {
                var i = e != t.hasClass(n.dirtyClass);
                t.toggleClass(n.dirtyClass, e), i && (n.change && n.change.call(t, t), e && t.trigger("dirty.areYouSure", [t]), e || t.trigger("clean.areYouSure", [t]), t.trigger("change.areYouSure", [t]))
            },
            s = function(e) {
                var o = function(t) {
                        var e = t.data("ays-orig");
                        return undefined !== e && i(t) != e
                    },
                    s = t(this).is("form") ? t(this) : t(this).parents("form");
                if (o(t(e.target)))
                    return void a(s, !0);
                var r = s.find(n.fieldSelector);
                if (n.addRemoveFieldsMarksDirty) {
                    if (s.data("ays-orig-field-count") != r.length)
                        return void a(s, !0)
                }
                var l = !1;
                r.each(function() {
                    var e = t(this);
                    if (o(e))
                        return l = !0, !1
                }), a(s, l)
            },
            r = function(e) {
                var i = e.find(n.fieldSelector);
                t(i).each(function() {
                    o(t(this))
                }), t(i).unbind(n.fieldEvents, s), t(i).bind(n.fieldEvents, s), e.data("ays-orig-field-count", t(i).length), a(e, !1)
            },
            l = function() {
                var e = t(this),
                    i = e.find(n.fieldSelector);
                t(i).each(function() {
                    var e = t(this);
                    e.data("ays-orig") || (o(e), e.bind(n.fieldEvents, s))
                }), e.trigger("checkform.areYouSure")
            },
            c = function() {
                r(t(this))
            };
        return n.silent || window.aysUnloadSet || (window.aysUnloadSet = !0, t(window).bind("beforeunload", function() {
            if (0 != t("form").filter("." + n.dirtyClass).length) {
                if (navigator.userAgent.toLowerCase().match(/msie|chrome/)) {
                    if (window.aysHasPrompted)
                        return;
                    window.aysHasPrompted = !0, window.setTimeout(function() {
                        window.aysHasPrompted = !1
                    }, 900)
                }
                return n.message
            }
        })), this.each(function(e) {
            if (t(this).is("form")) {
                var i = t(this);
                i.submit(function() {
                    t("form").removeClass(n.dirtyClass)
                }), i.bind("reset", function() {
                    a(i, !1)
                }), i.bind("rescan.areYouSure", l), i.bind("reinitialize.areYouSure", c), i.bind("checkform.areYouSure", s), r(i)
            }
        })
    }
}(jQuery), function(t) {
    t.fn.autoShowModal = function() {
        function e(t) {
            var e = window.location.search.substring(1);
            if (e != undefined) {
                return new RegExp("m=" + t + "([&#].*)?$").test(e)
            }
            return !1
        }
        return this.each(function() {
            var n = t(this);
            e(n.attr("id")) && n.modal("show")
        }), this
    }
}(jQuery), function(t) {
    t.fn.autoScroll = function() {
        "use strict";
        function e(e) {
            e !== undefined && t("html,body").animate({
                scrollTop: t(e).offset().top
            }, 250)
        }
        function n(e, n) {
            for (var i, o = t(e); o.length > 0; o = t(o).parent()) {
                if (t(o).hasClass("autoscroll-anchor"))
                    return o;
                if (i = n ? t(o).prev(".autoscroll-anchor") : t(o).next(".autoscroll-anchor"), i.length)
                    return i
            }
            return undefined
        }
        function i(t) {
            e(n(t, !0))
        }
        function o(t) {
            e(n(t, !1))
        }
        function a(e) {
            "true" != t(e).attr("click") && i(e)
        }
        t.fn.autoScroll.focus_unless_error = function(e) {
            var n = "." + e.substring(1) + " .error";
            t(n).length || t(e).focus()
        }, t.fn.autoScroll.scrollUp = function(t) {
            i(t)
        }, t.fn.autoScroll.scrollDown = function(t) {
            o(t)
        }, t(".autoscroll").on("focus", function(t) {
            a(t.target)
        }).mouseover(function() {
            t(this).attr("click", "true")
        }).mouseout(function() {
            t(this).removeAttr("click")
        })
    }
}(jQuery), function(t) {
    function e(e, i) {
        this.$form = t(e), this.options = t.extend({}, t.fn[n].defaults, i), this.init()
    }
    var n = "batchUploader";
    e.prototype = {
        init: function() {
            this._setCounter(0), this.$form.on("fileuploadadd", t.proxy(this, "_callbackAddFile")).on("fileuploadfail", t.proxy(this, "_callbackUploadFailed")).on("fileuploaddone", t.proxy(this, "_callbackUploadDone")).on("fileuploadprogressall", t.proxy(this, "_callbackUploadProcessAll")).on("fileuploadalways", t.proxy(this, "_callbackUploadAlways"))
        },
        _callbackAddFile: function(t, e) {
            0 == this.batchCount && (this.batchCount = e.originalFiles.length), this._markStarted()
        },
        _callbackUploadFailed: function(t, e) {
            this._markFailure(), this._triggerFailure(t, e)
        },
        _callbackUploadDone: function(t, e) {
            this._markSuccess(), this._triggerSuccess(t, e)
        },
        _callbackUploadProcessAll: function(t, e) {
            this._triggerProgressCheck(t, e)
        },
        _callbackUploadAlways: function(t, e) {
            this.processedCount == this.batchCount && (this.failureCount > 0 ? this._triggerBatchFailure() : this._triggerBatchSuccess(), this._setCounter(0))
        },
        _markStarted: function() {
            this.startedCount++
        },
        _setCounter: function(t) {
            this.batchCount = t, this.successCount = 0, this.failureCount = 0, this.processedCount = 0, this.startedCount = 0
        },
        _markSuccess: function() {
            this.successCount++, this.processedCount++
        },
        _markFailure: function() {
            this.failureCount++, this.processedCount++
        },
        _triggerProgressCheck: function(t, e) {
            var n = parseInt(e.loaded / e.total * 100, 10);
            this.options.onProgressCheck(n)
        },
        _triggerSuccess: function(e, n) {
            var i = t("Key", n.result).text();
            console.log("Successful Upload: " + i), this.options.onSuccess(n.files[0], i)
        },
        _triggerFailure: function(t, e) {
            console.log("Failed Upload: " + e.errorThrown), this.options.onFailure(e.files[0])
        },
        _triggerBatchSuccess: function() {
            console.log("Batch Succeeded: " + this.batchCount), this.options.onBatchSuccess()
        },
        _triggerBatchFailure: function() {
            console.log("Batch Failed: " + this.failureCount + " failed uploads."), this.options.onBatchFailure()
        }
    }, t.fn[n] = function(i) {
        return this.each(function() {
            t.data(this, n, new e(this, i))
        })
    }, t.fn[n].defaults = {
        onProgressCheck: function(t) {},
        onSuccess: function(t, e) {},
        onFailure: function(t) {},
        onBatchSuccess: function() {},
        onBatchFailure: function() {}
    }
}(jQuery), function(t, e) {
    function n(e, n) {
        this.$form = t(e), this.$submitButton = t("#" + this.$form.data("submit-btn")), this.options = t.extend({}, t.fn[i].defaults, n), this.submitText = this.$submitButton.text(), this.init()
    }
    var i = "batchUploaderForm";
    n.prototype = {
        init: function() {
            var n = this;
            t(".file-picker").fileContainer(), n.setInProgress(!1), t(e).on("beforeunload", function() {
                if (n.uploadInProgress)
                    return "Your documents are being uploaded.  This may take a few minutes to complete."
            }), this.$form.submit(function(t) {
                t.preventDefault(), n.uploadAndSubmit()
            })
        },
        uploadAndSubmit: function() {
            var e = this,
                n = t("#file-upload-form"),
                i = t(".file-picker", this.$form).data("fileContainer");
            i != undefined && i.fileList.length > 0 ? (e.disableSubmitBtn(!0), e.disablePage(!0), e.setInProgress(!0), n.customFileUpload({
                enumerate: !0
            }).batchUploader({
                onProgressCheck: function(t) {
                    e.setUploadStatus(t)
                },
                onSuccess: function(t, n) {
                    e.addKeyInput(n), i.remove(t)
                },
                onBatchSuccess: function() {
                    e.reportPreviouslyUploadedFiles(i), e.setInProgress(!1), e.$form.get(0).submit()
                },
                onBatchFailure: function() {
                    e.options.onBatchFailure(), e.cancelUploadStatus(), e.disableSubmitBtn(!1), e.disablePage(!1), e.setInProgress(!1)
                }
            }), n.customFileUpload("add", {
                files: i.fileList
            })) : (e.reportPreviouslyUploadedFiles(i), e.$form.get(0).submit())
        },
        reportPreviouslyUploadedFiles: function(t) {
            for (var e = 0; e < t.uploadedFileList.length; e++)
                this.addKeyInput(t.uploadedFileList[e])
        },
        setInProgress: function(t) {
            this.uploadInProgress = t
        },
        disableSubmitBtn: function(t) {
            this.$submitButton.attr("disabled", t)
        },
        disablePage: function(e) {
            e ? t("#scrim").addClass("show") : t("#scrim").removeClass("show")
        },
        setUploadStatus: function(t) {
            var e = "Uploading..." + t + "%";
            this.$submitButton.text(e).addClass("btn-progress")
        },
        cancelUploadStatus: function() {
            this.$submitButton.text(this.submitText).removeClass("btn-progress")
        },
        addKeyInput: function(e) {
            t(".file-key-input", this.$form).clone(!0).val(e).removeClass("file-key-input").prop("disabled", !1).appendTo(this.$form)
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i, new n(this, e))
        })
    }, t.fn[i].defaults = {
        onBatchFailure: function() {}
    }
}(jQuery, window), function(t, e) {
    t.fn.centerModal = function() {
        function n(n) {
            var i = t(".modal-dialog", n),
                o = i.outerHeight(),
                a = t(e).outerHeight();
            o > a ? i.css("overflow", "auto") : i.css("margin-top", a / 2 - o / 2)
        }
        return this.each(function() {
            t(this).on("shown.bs.modal", function(t) {
                n(this)
            })
        }), this
    }
}(jQuery, window), /*
 * 	Character Count Plugin - jQuery plugin
 * 	Dynamic character count for text areas and input fields
 *	written by Alen Grakalic	
 *	http://cssglobe.com/post/7161/jquery-plugin-simplest-twitterlike-dynamic-character-count-for-textareas
 *
 *	Copyright (c) 2009 Alen Grakalic (http://cssglobe.com)
 *	Dual licensed under the MIT (MIT-LICENSE.txt)
 *	and GPL (GPL-LICENSE.txt) licenses.
 *
 *	Built for jQuery library
 *	http://jquery.com
 *
 */
function(t) {
    t.fn.charCount = function(e) {
        function n(n, i) {
            i <= e.warning && i >= 0 ? t(n).next().addClass(e.cssWarning) : t(n).next().removeClass(e.cssWarning)
        }
        function i(n, i) {
            i < 0 ? t(n).next().addClass(e.cssExceeded) : t(n).next().removeClass(e.cssExceeded)
        }
        function o(o) {
            var a = t(o).val().length,
                s = e.allowed - a;
            n(o, s), i(o, s), t(o).next().html(e.counterText + s)
        }
        var a = {
            allowed: 140,
            warning: 25,
            css: "counter",
            counterElement: "span",
            cssWarning: "warning",
            cssExceeded: "exceeded",
            counterText: ""
        };
        e = t.extend(a, e), this.each(function() {
            t(this).after("<" + e.counterElement + ' class="' + e.css + '">' + e.counterText + "</" + e.counterElement + ">"), o(this), t(this).keyup(function() {
                o(this)
            }), t(this).change(function() {
                o(this)
            })
        })
    }
}(jQuery), function(t, e) {
    "use strict";
    function n(e, n) {
        this.$form = t(e), this.options = t.extend({}, t.fn[i].defaults, n), this.$fileUploadForm = t("#" + this.options.fileUploadFormId), this.init()
    }
    var i = "contentEditor";
    n.prototype = {
        init: function() {
            this.$fileUploadForm.customFileUpload({
                enumerate: !0
            }).bind("fileuploaddone", t.proxy(this, "_callbackUploadSuccess")), this.$form.on("submit", t.proxy(this, "_callbackSubmit")).on("click", ".add-image", t.proxy(this, "_callbackAddImage")).on("click", ".add-template", t.proxy(this, "_callbackAddTemplate")).on("click", ".remove-element", t.proxy(this, "_callbackRemoveElement")).on("change", "input:file", t.proxy(this, "_callbackImageChosen"))
        },
        _callbackSubmit: function(t) {
            this._updateRanking()
        },
        _callbackAddImage: function(t) {
            t.preventDefault(), this._openFileChooser(t.currentTarget)
        },
        _callbackAddTemplate: function(t) {
            t.preventDefault(), this._addTemplate(t.currentTarget)
        },
        _callbackRemoveElement: function(t) {
            t.preventDefault(), this._removeTemplate(t.currentTarget)
        },
        _callbackImageChosen: function(e) {
            var n = e.target,
                i = n.files[0],
                o = t(n).prev("button");
            this._addImageTemplate(o, i), this._resetFileChooser(n)
        },
        _callbackUploadSuccess: function(e, n) {
            var i = n.context,
                o = t("Key", n.result).text();
            i ? this._updateFileKey(o, i) : (this._callbackPitchImageUploadFailed(n), t("html,body").animate({
                scrollTop: 0
            }, "fast"), t(".flash-alert").text("Sorry, something went wrong while uploading your image. Please reload the page and try again.").show())
        },
        _addTemplate: function(e) {
            var n = t(e),
                i = n.data("target"),
                o = t(this._getTemplate(e));
            n.closest(i).before(o), this.options.onAddTemplate(o)
        },
        _addImageTemplate: function(e, n) {
            var i = t(e),
                o = i.data("target"),
                a = t(this._getTemplate(e));
            i.closest(o).before(a), n.size < this.options.maxImageSize ? (this._displayImagePreview(n, a), this._uploadFile(n, a), this.options.onAddTemplate(a)) : alert("Your file is too large. Please choose a file smaller than " + this.options.maxImageSize / 1024 + "kb.")
        },
        _removeTemplate: function(e) {
            var n = this,
                i = t(e),
                o = i.data("target"),
                a = i.closest(o);
            a.fadeOut(function() {
                n.options.onRemoveTemplate(a)
            }), t(".destroy", a).val(!0)
        },
        _openFileChooser: function(e) {
            t(e).next("input:file").click()
        },
        _resetFileChooser: function(e) {
            var n = t(e),
                i = n.clone(!0);
            n.replaceWith(i)
        },
        _getTemplate: function(e) {
            var n = t(e),
                i = n.data("id"),
                o = n.data("template");
            return this._replacePlaceholders(o, i)
        },
        _displayImagePreview: function(e, n) {
            var i = new FileReader;
            i.onload = function(e) {
                var i = e.target.result,
                    o = t("<img>").attr("src", i);
                t(".photo", n).append(o)
            }, i.readAsDataURL(e)
        },
        _uploadFile: function(t, e) {
            this.$fileUploadForm.customFileUpload("add", {
                files: t,
                context: e
            })
        },
        _updateFileKey: function(e, n) {
            t(".photo input:hidden.key", n).val(e)
        },
        _replacePlaceholders: function(t, e) {
            var n = (new Date).getTime(),
                i = new RegExp(e, "g");
            return t.replace(i, n)
        },
        _updateRanking: function() {
            t.each(this._getRankInputGroups(), function() {
                var e = this;
                t.each(e, function(t, e) {
                    e.val(t)
                })
            })
        },
        _getRankInputGroups: function() {
            var e = [];
            return t(".template-group").removeData("groupId"), t("input.rank").map(function(e, n) {
                return {
                    container: t(this).closest(".template-group"),
                    input: t(this)
                }
            }).each(function() {
                var t = this.container.data("groupId");
                t === undefined && (t = e.length, e[t] = [], this.container.data("groupId", t)), e[t].push(this.input)
            }), e
        },
        _callbackPitchImageUploadFailed: function(e) {
            Honeybadger.notify("Pitch Image Upload Error", {
                context: {
                    page: document.URL,
                    type: "pitch image upload failed",
                    key: t("Key", e.result).text(),
                    data: e
                }
            })
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i, new n(this, e))
        })
    }, t.fn[i].defaults = {
        fileUploadFormId: "file-upload-form",
        onAddTemplate: function(t) {},
        onRemoveTemplate: function(t) {},
        maxImageSize: 52428800
    }
}(jQuery, window), function(t) {
    function e(e, i) {
        this.$form = t(e), this.options = t.extend({}, t.fn[n].defaults, i), this.init()
    }
    var n = "customFileUpload";
    e.prototype = {
        init: function() {
            this.fileCount = 0, this.$form.fileupload({
                dataType: "xml",
                add: t.proxy(this, "_callbackAddFile"),
                fail: t.proxy(this, "_callbackUploadFailed")
            })
        },
        add: function(t) {
            this.$form.fileupload("add", t)
        },
        _callbackAddFile: function(t, e) {
            this.fileCount++, this._setFileKey(e.files[0].name), e.submit()
        },
        _callbackUploadFailed: function(t, e) {
            Honeybadger.notify("File Upload Error", {
                context: {
                    page: document.URL,
                    type: t.type,
                    files: e.files,
                    xhr: e.jqXHR
                }
            })
        },
        _setFileKey: function(e) {
            var n = this._sanitizeFileName(e),
                i = t("input[name=key]", this.$form),
                o = i.val().replace(/(.*\/)(.*)/, "$1" + n);
            i.val(o)
        },
        _sanitizeFileName: function(t) {
            var e = t.replace(/[\s]/g, "-").replace(/[^a-z0-9_\-\.]/gi, "");
            return !0 === this.options.enumerate && (e = this.fileCount + "_" + e), e
        }
    }, t.fn[n] = function(i) {
        var o = t.data(this, n);
        return o && t.isFunction(e.prototype[i]) ? o[i].apply(o, Array.prototype.slice.call(arguments, 1)) : "object" != typeof i && i ? void (o ? t.error("Method " + i + "does not exist.") : t.error("Plugin must be initialised before using method: " + i)) : (t.data(this, n, new e(this, i)), t(this))
    }, t.fn[n].defaults = {
        enumerate: !1
    }
}(jQuery), function(t) {
    function e(t, e, n) {
        var i = e.attr("selected") ? " checked " : " ",
            o = e.val();
        return '<li class="checkbox"><div class="multi-checkbox-container"><input type="checkbox" data-parent="' + t + '" value="' + o + '" id="' + o + '"' + i + 'class="multi-checkbox" tabindex="' + n + '"><span>' + e.text() + "</span></div></li>"
    }
    function n(n) {
        var i = n.find("option"),
            o = n.attr("id"),
            a = n.attr("tabindex"),
            s = "<ul class='styled-multi-select " + n.attr("class") + "'> ";
        i.each(function() {
            s += e(o, t(this), ++a)
        }), n.wrap(s + "</ul>"), n.css("display", "none")
    }
    function i(e) {
        t.each(e, function(e, i) {
            var o = t(i);
            o.hasClass("no-placeholder") ? o.wrap("<div class='styled-select'> </div>") : o.attr("multiple") !== undefined ? n(o) : (o.prepend(r.clone()).wrap("<div class='styled-select'> </div>").change(function(e) {
                t(this).find("option:selected").val() === r.val() ? t(this).css("color", "#8f9ca3") : t(this).css("color", "#093954")
            }), o.find("option[selected]").length || o.val(r.val()).change())
        })
    }
    function o(e) {
        var n = t("#" + e.data("parent")),
            i = n.find('option[value="' + e.val() + '"]');
        e.prop("checked") ? i.attr("selected", "selected") : i.removeAttr("selected")
    }
    function a(t, e) {
        t.find(e).click()
    }
    function s(e, n) {
        var i = t(e.target);
        if (i.hasClass("multi-checkbox")) {
            var o = i.parent().parent();
            n ? o.addClass("focus") : o.removeClass("focus")
        }
    }
    var r = t('<option value="">Select One</option>');
    t.fn.customizeSelects = function() {
        var e = this;
        this.is("select") || (e = this.find("select")), i(e), t(".multi-checkbox").click(function() {
            o(t(this))
        });
        var n = t("li.checkbox");
        n.click(function(e) {
            "INPUT" !== t(e.target).prop("tagName") && a(t(this), 'input[type="checkbox"]')
        }), n.focusin(function(t) {
            s(t, !0)
        }), n.focusout(function(t) {
            s(t, !1)
        })
    }
}(jQuery), function(t) {
    t.fn.expandElements = function() {
        "use strict";
        function e(e) {
            37 === e.which ? (e.preventDefault(), t(".carousel", l).carousel("prev")) : 39 === e.which ? (e.preventDefault(), t(".carousel", l).carousel("next")) : 27 === e.which && n()
        }
        function n() {
            t(document).trigger("expando.hide").unbind("keydown", e), l.remove(), u.remove(), t(".modal-close-icon").remove(), t(".scrim").removeClass("show").css("background-color", "transparent"), t("html, body").css({
                overflow: "auto",
                height: "auto"
            }), t(window).scrollTop(d)
        }
        function i() {
            var e = t(window).height(),
                n = t(window).width(),
                i = e > 120 ? e - 120 : e,
                o = n > 120 ? n - 120 : n,
                a = i / o,
                s = 0,
                r = 0,
                u = 0,
                d = 0,
                h = [];
            t("img", c).each(function() {
                var t,
                    e,
                    n = this.naturalHeight / this.naturalWidth;
                a < n ? (t = i, e = i / n, r = Math.max(i, r), s = Math.max(e, s)) : (t = o * n, e = o, r = Math.max(t, r), s = Math.max(o, s)), u = Math.max(u, e), d = Math.max(d, t), h.push({
                    img: this,
                    height: t,
                    width: e
                })
            }), t.each(h, function(e, n) {
                t('img[src="' + t(n.img).attr("src") + '"]', l).css({
                    "max-height": n.height,
                    height: n.height,
                    "max-width": n.width,
                    width: n.width,
                    margin: ((d - n.height) / 2).toString() + "px " + (u - n.width) / 2 + "px"
                })
            }), l.css({
                "margin-left": -(s - 2) / 2,
                "margin-top": -(r - 2) / 2,
                left: "50%",
                top: "50%"
            })
        }
        function o() {
            l = t('<div class="modal-container" style="position: fixed; z-index: 999;"></div>')
        }
        function a(e) {
            t(e).find(".carousel-inner").removeAttr("style"), t("img", e).each(function() {
                t(this).removeAttr("style"), t(this).parent().removeAttr("style")
            })
        }
        function s() {
            var s,
                r;
            o(), d = t(window).scrollTop(), c = t(this).hasClass("expandable") ? t(this) : t(this).parents(".expandable"), t(document).bind("keydown", e), t(".scrim").addClass("show").css("background-color", "rgba(255, 255, 255, 0.97)").css("z-index", "100"), t("body").append(l), t("html, body").css({
                overflow: "hidden",
                height: "100%"
            }), c.clone().appendTo(l), a(l), l.find(".expand-link").remove(), l.append(t('<div class="modal-close-icon"></div>')), s = c.attr("id"), u = t(".modal-container #" + s), r = s + "-expanded", u.attr("id", r), u.find("[data-target=#" + s + "]").attr("data-target", "#" + r), u.find(".carousel-control").attr("href", "#" + r), u.css("margin", "0"), t(".scrim, .modal-close-icon").click(function() {
                n()
            }), t("body > div.modal-container > div.embeddable-object.expandable > div.expandable-scrim").click(function() {
                n()
            }), i(), t(window).bind("resize", i), t(document).trigger("expando.show")
        }
        var r = t('<div class="expandable-scrim" style="position: absolute; top: 0; right: 0; bottom: 0; left: 0; z-index: 1;"></div>'),
            l,
            c,
            u,
            d;
        r.prependTo(".expandable"), t(".expand-link, .expandable-scrim").bind("click", s)
    }
}(jQuery), function(t) {
    function e(e, i) {
        this.$container = t(e), this.options = t.extend({}, t.fn[n].defaults, i), this.init()
    }
    var n = "fileContainer";
    e.prototype = {
        init: function() {
            this.fileList = [], this.uploadedFileList = [], this._setupFileChooser();
            var e = this;
            t(".existing-file-list span").each(function() {
                e._addFileToUploaded(t(this).text())
            })
        },
        _keyToFileName: function(t) {
            var e = t.substring(t.lastIndexOf("/") + 1);
            return e.substring(e.indexOf("_") + 1)
        },
        add: function(t) {
            t.size > 5e7 ? this._showError("The file you are trying to upload exceeds the 50MB limit.") : 0 === t.size ? this._showError("The file you are trying to upload is empty.") : this._addFileToList(t)
        },
        remove: function(t) {
            "string" == typeof t ? this._removeFromList(this.uploadedFileList, t) : this._removeFromList(this.fileList, t)
        },
        _showError: function(e) {
            t("<span />").addClass("error file-key-error push-down-small").html(e).appendTo(this.$container.find(".file-list"))
        },
        _addFileToList: function(t) {
            this.fileList.push(t), this._addFileToListInternal(t, t.name)
        },
        _addFileToUploaded: function(t) {
            var e = this._keyToFileName(t);
            this.uploadedFileList.push(t), this._addFileToListInternal(t, e)
        },
        _removeFromList: function(t, e) {
            var n = t.indexOf(e);
            return n > -1 ? t.splice(n, 1) : t
        },
        _addFileToListInternal: function(e, n) {
            var i = this,
                o = t("<span />").addClass("file-list-item").html(this._truncateName(n)),
                a = t("<a />").addClass("remove-file").html("x");
            o.appendTo(this.$container.find(".file-list")), a.appendTo(o), a.click(function() {
                i.remove(e, n), t(this).parent().remove()
            })
        },
        _setupFileChooser: function() {
            var e = this;
            t("<input>").attr({
                type: "file",
                "class": "hidden file-chooser",
                name: "file-upload-chooser"
            }).appendTo(e.$container).change(function() {
                e.add(this.files[0]), e._resetFileInput(this)
            }), t("button", e.$container).click(function(n) {
                n.preventDefault(), t('input[type="file"]', e.$container).click()
            })
        },
        _resetFileInput: function(e) {
            var n = t(e);
            n.replaceWith(n.clone(!0))
        },
        _truncateName: function(t) {
            var e = t;
            if (t.length > 30) {
                e = t.substring(0, 25) + "..." + t.substring(t.lastIndexOf(".") + 1, t.length)
            }
            return e
        }
    }, t.fn[n] = function(i) {
        return this.each(function() {
            t.data(this, n) || t.data(this, n, new e(this, i))
        })
    }, t.fn[n].defaults = {}
}(jQuery), function(t) {
    "function" == typeof define && define.amd ? define(["jquery"], t) : t("object" == typeof exports ? require("jquery") : jQuery)
}(function(t) {
    var e,
        n = navigator.userAgent,
        i = /iphone/i.test(n),
        o = /chrome/i.test(n),
        a = /android/i.test(n);
    t.mask = {
        definitions: {
            9: "[0-9*]",
            a: "[A-Za-z]",
            "*": "[A-Za-z0-9]"
        },
        autoclear: !0,
        dataName: "rawMaskFn",
        placeholder: "_"
    }, t.fn.extend({
        caret: function(t, e) {
            var n;
            if (0 !== this.length && !this.is(":hidden"))
                return "number" == typeof t ? (e = "number" == typeof e ? e : t, this.each(function() {
                    this.setSelectionRange ? this.setSelectionRange(t, e) : this.createTextRange && (n = this.createTextRange(), n.collapse(!0), n.moveEnd("character", e), n.moveStart("character", t), n.select())
                })) : (this[0].setSelectionRange ? (t = this[0].selectionStart, e = this[0].selectionEnd) : document.selection && document.selection.createRange && (n = document.selection.createRange(), t = 0 - n.duplicate().moveStart("character", -1e5), e = t + n.text.length), {
                    begin: t,
                    end: e
                })
        },
        unmask: function() {
            return this.trigger("unmask")
        },
        mask: function(n, s) {
            var r,
                l,
                c,
                u,
                d,
                h,
                f,
                p;
            if (!n && this.length > 0) {
                r = t(this[0]);
                var m = r.data(t.mask.dataName);
                return m ? m() : void 0
            }
            return s = t.extend({
                autoclear: t.mask.autoclear,
                placeholder: t.mask.placeholder,
                completed: null
            }, s), l = t.mask.definitions, c = [], u = f = n.length, d = null, t.each(n.split(""), function(t, e) {
                "?" == e ? (f--, u = t) : l[e] ? (c.push(new RegExp(l[e])), null === d && (d = c.length - 1), u > t && (h = c.length - 1)) : c.push(null)
            }), this.trigger("unmask").each(function() {
                function r() {
                    if (s.completed) {
                        for (var t = d; h >= t; t++)
                            if (c[t] && k[t] === m(t))
                                return;
                        s.completed.call(R)
                    }
                }
                function m(t) {
                    return s.placeholder.charAt(t < s.placeholder.length ? t : 0)
                }
                function g(t) {
                    for (; ++t < f && !c[t];)
                        ;
                    return t
                }
                function v(t) {
                    for (; --t >= 0 && !c[t];)
                        ;
                    return t
                }
                function b(t, e) {
                    var n,
                        i;
                    if (!(0 > t)) {
                        for (n = t, i = g(e); f > n; n++)
                            if (c[n]) {
                                if (!(f > i && c[n].test(k[i])))
                                    break;
                                k[n] = k[i], k[i] = m(i), i = g(i)
                            }
                        I(), R.caret(Math.max(d, t))
                    }
                }
                function E(t) {
                    var e,
                        n,
                        i,
                        o;
                    for (e = t, n = m(t); f > e; e++)
                        if (c[e]) {
                            if (i = g(e), o = k[e], k[e] = n, !(f > i && c[i].test(o)))
                                break;
                            n = o
                        }
                }
                function y() {
                    var t = R.val(),
                        e = R.caret();
                    if (p && p.length && p.length > t.length) {
                        for (O(!0); e.begin > 0 && !c[e.begin - 1];)
                            e.begin--;
                        if (0 === e.begin)
                            for (; e.begin < d && !c[e.begin];)
                                e.begin++;
                        R.caret(e.begin, e.begin)
                    } else {
                        for (O(!0); e.begin < f && !c[e.begin];)
                            e.begin++;
                        R.caret(e.begin, e.begin)
                    }
                    r()
                }
                function T() {
                    O(), R.val() != x && R.change()
                }
                function C(t) {
                    if (!R.prop("readonly")) {
                        var e,
                            n,
                            o,
                            a = t.which || t.keyCode;
                        p = R.val(), 8 === a || 46 === a || i && 127 === a ? (e = R.caret(), n = e.begin, o = e.end, o - n == 0 && (n = 46 !== a ? v(n) : o = g(n - 1), o = 46 === a ? g(o) : o), D(n, o), b(n, o - 1), t.preventDefault()) : 13 === a ? T.call(this, t) : 27 === a && (R.val(x), R.caret(0, O()), t.preventDefault())
                    }
                }
                function _(e) {
                    if (!R.prop("readonly")) {
                        var n,
                            i,
                            o,
                            s = e.which || e.keyCode,
                            l = R.caret();
                        if (!(e.ctrlKey || e.altKey || e.metaKey || 32 > s) && s && 13 !== s) {
                            if (l.end - l.begin != 0 && (D(l.begin, l.end), b(l.begin, l.end - 1)), n = g(l.begin - 1), f > n && (i = String.fromCharCode(s), c[n].test(i))) {
                                if (E(n), k[n] = i, I(), o = g(n), a) {
                                    var u = function() {
                                        t.proxy(t.fn.caret, R, o)()
                                    };
                                    setTimeout(u, 0)
                                } else
                                    R.caret(o);
                                l.begin <= h && r()
                            }
                            e.preventDefault()
                        }
                    }
                }
                function D(t, e) {
                    var n;
                    for (n = t; e > n && f > n; n++)
                        c[n] && (k[n] = m(n))
                }
                function I() {
                    R.val(k.join(""))
                }
                function O(t) {
                    var e,
                        n,
                        i,
                        o = R.val(),
                        a = -1;
                    for (e = 0, i = 0; f > e; e++)
                        if (c[e]) {
                            for (k[e] = m(e); i++ < o.length;)
                                if (n = o.charAt(i - 1), c[e].test(n)) {
                                    k[e] = n, a = e;
                                    break
                                }
                            if (i > o.length) {
                                D(e + 1, f);
                                break
                            }
                        } else
                            k[e] === o.charAt(i) && i++, u > e && (a = e);
                    return t ? I() : u > a + 1 ? s.autoclear || k.join("") === w ? (R.val() && R.val(""), D(0, f)) : I() : (I(), R.val(R.val().substring(0, a + 1))), u ? e : d
                }
                var R = t(this),
                    k = t.map(n.split(""), function(t, e) {
                        return "?" != t ? l[t] ? m(e) : t : void 0
                    }),
                    w = k.join(""),
                    x = R.val();
                R.data(t.mask.dataName, function() {
                    return t.map(k, function(t, e) {
                        return c[e] && t != m(e) ? t : null
                    }).join("")
                }), R.one("unmask", function() {
                    R.off(".mask").removeData(t.mask.dataName)
                }).on("focus.mask", function() {
                    if (!R.prop("readonly")) {
                        clearTimeout(e);
                        var t;
                        x = R.val(), t = O(), e = setTimeout(function() {
                            R.get(0) === document.activeElement && (I(), t == n.replace("?", "").length ? R.caret(0, t) : R.caret(t))
                        }, 10)
                    }
                }).on("blur.mask", T).on("keydown.mask", C).on("keypress.mask", _).on("input.mask paste.mask", function() {
                    R.prop("readonly") || setTimeout(function() {
                        var t = O(!0);
                        R.caret(t), r()
                    }, 0)
                }), o && a && R.off("input.mask").on("input.mask", y), O()
            })
        }
    })
}), function(t, e) {
    t.fn.modalFormReturnTo = function() {
        function e(t, e) {
            var n = e.data("returnTo");
            t.data("returnTo", n)
        }
        function n(e) {
            e.removeData("returnTo"), t("[data-inherit-return-to=true]", e).each(function() {
                t(this).removeData("returnTo")
            })
        }
        function i(n) {
            e(t(this), t(n.relatedTarget))
        }
        function o() {
            n(t(this))
        }
        function a(e) {
            var n = t(this),
                i = n.closest(".modal"),
                o = i.data("returnTo");
            n.data("returnTo", o)
        }
        function s(e) {
            var n = t(e.currentTarget),
                i = n.attr("action"),
                o = n.closest(".modal").data("returnTo");
            o != undefined && (i = i + "?return_to=" + encodeURIComponent(o), n.attr("action", i))
        }
        return this.each(function() {
            t(this).on("show.bs.modal", i).on("hide.bs.modal", o).on("submit", ".returnable-form", s).on("click", "[data-inherit-return-to=true]", a)
        }), this
    }
}(jQuery, window), function(t, e) {
    "use strict";
    function n(e, n) {
        this.page = e, this.options = t.extend({}, t.fn[i].defaults, n), this.init()
    }
    var i = "offeringCarouselSize";
    n.prototype = {
        init: function() {
            t("#navigable-pitch").imagesLoaded(this._sizeCarouselContainers)
        },
        _sizeCarouselContainers: function() {
            t(".carousel").each(function() {
                var e = t(".carousel-inner", this),
                    n = 0,
                    i = e.width(),
                    o = 0,
                    a = [];
                t("img", e).each(function() {
                    var t = this.naturalHeight,
                        e = this.naturalWidth,
                        n = parseFloat(t / e);
                    o = Math.max(o, i * n)
                }), n = Math.min(730, o), e.css({
                    height: n
                }), t("img", e).each(function() {
                    var t = this.naturalHeight,
                        e = this.naturalWidth,
                        o = "0px",
                        s = parseFloat(t / e);
                    t > e ? (t = n, e = t / s) : (e = i, t = e * s, o = n / 2 - t / 2 + "px"), a.push({
                        img: this,
                        height: t,
                        width: e,
                        vertical: o
                    })
                }), t.each(a, function(n, i) {
                    var o = t('img[src="' + t(i.img).attr("src") + '"]', e);
                    o.css({
                        "max-height": i.height,
                        width: i.width
                    }), o.parent().css({
                        top: i.vertical
                    })
                })
            })
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i) || t.data(this, i, new n(this, e))
        })
    }
}(jQuery, window), function(t, e) {
    "use strict";
    function n(e, n) {
        this.page = e, this.options = t.extend({}, t.fn[i].defaults, n), this.init()
    }
    var i = "offeringNavigation";
    n.prototype = {
        init: function() {
            this.FOOTER_TOP_BUFFER = 45, this.$window = t(e), this.$secNav = t(".pitch-nav", this.page), this.pinnedTop = this.$secNav.outerHeight(), this.pinStartingHere = this._wholeLeftPanel().offset().top, this.$offeringHeadOriginalSize = t(".offering-head", this.page).outerHeight(), this._generateTertiaryNav(this), this._showTab(), this.$window.on("scroll", t.proxy(this._positionScrollToTop, this)).on("scroll", t.proxy(this._positionNav, this)).on("scroll", t.proxy(this._pinSecondaryNav, this)).on("resize", t.proxy(this._positionScrollToTop, this)).on("resize", t.proxy(this._positionNav, this)).on("hashchange", t.proxy(this._hashChange, this)), t('a[data-toggle="tab"]').on("show.bs.tab", t.proxy(this._togglePin, this)).on("click", t.proxy(this._toggleClick, this)), t(".scroll-to-top").add(".logo").on("click", t.proxy(this._scrollToTop, this)), t(".nav-item a", "#tertiary-nav-container").on("click", t.proxy(this._tertiaryNavClick, this)), t(".pitch-nav .container .left-arrow").on("click", t.proxy(this._scrollNav, this, "-=50")), t(".pitch-nav .container .right-arrow").on("click", t.proxy(this._scrollNav, this, "+=50")), t(".pitch-nav .container ul").on("scroll", t.proxy(this._toggleArrows, this))
        },
        _toggleArrows: function() {
            var e = t(".pitch-nav .container"),
                n = t("ul", e),
                i = t(".left-arrow", e),
                o = t(".right-arrow", e),
                a = n.scrollLeft(),
                s = n[0].scrollWidth;
            a > 0 ? (i.show(), a >= s - n.outerWidth() ? o.hide() : o.show()) : i.hide()
        },
        _scrollNav: function(e) {
            t(".pitch-nav .container ul").animate({
                scrollLeft: e
            }, 100)
        },
        _firstTabHref: function() {
            return t("li a", this.$secNav).first().attr("href")
        },
        _generateTertiaryNav: function(e) {
            var n = "#tertiary-nav-container",
                i = t("ul.nav", n);
            t(".element-title", "#navigable-pitch").each(function(n, o) {
                var a = t(o),
                    s = a.text(),
                    r = s.replace(/[^\w]/g, "-");
                i.append(e._navItem(r, s)), a.attr("id", r)
            }), t("html,body").scrollspy({
                target: n,
                offset: 100
            }), t("ul.nav li", n).removeClass("active").first().addClass("active")
        },
        _hashChange: function() {
            this._showTab()
        },
        _headSizeDifference: function() {
            return t(".offering-head").outerHeight() - this.$offeringHeadOriginalSize
        },
        _navItem: function(t, e) {
            return '<li class="nav-item"><a target="_self" href="#' + t + '">' + e + "</a></li>"
        },
        _pinNav: function(n, i, o) {
            if (!(t(e).width() < 1e3)) {
                var a = this.$window.scrollTop() + this.pinnedTop + 25 - i,
                    s,
                    r,
                    l = n.parent().outerWidth(),
                    c,
                    u;
                a > this.pinStartingHere + this._headSizeDifference() ? (n.addClass("pinned"), s = a + n.outerHeight() + i + o, r = t("footer").position().top - this.FOOTER_TOP_BUFFER, c = this.$window.height() + this.$window.scrollTop() > t(document).height(), u = t("li.active", n).position().top + i + this.pinnedTop, c || (r <= s ? n.css({
                    transition: "all 0s",
                    top: r - s + this.pinnedTop
                }) : u + 100 > t(e).height() ? n.css({
                    transition: "all .5s",
                    top: this.pinnedTop - .67 * this.$window.height()
                }) : n.css({
                    transition: "all .5s",
                    top: this.pinnedTop + 25
                }), n.css("width", l))) : n.removeClass("pinned")
            }
        },
        _pinSecondaryNav: function() {
            if (!(t(e).width() < 1e3)) {
                this.navHeight = t(".offering-head").offset().top + t(".offering-head").outerHeight();
                t(document).scrollTop() >= this.navHeight ? (this.$secNav.addClass("pinned"), this.$secNav.next().css("margin-top", this.$secNav.outerHeight())) : (this.$secNav.removeClass("pinned"), this.$secNav.next().css("margin-top", "0"))
            }
        },
        _positionNav: function() {
            if (t(e).width() < 1e3)
                return void this.$secNav.removeClass("pinned");
            var n = this._wholeLeftPanel(),
                i;
            n.length && null !== (i = this._selectNavElement()) && (this._pinNav(i.elem, i.offsetTop, i.offsetBottom), t(".offering-body").css("min-height", n.outerHeight() + 30))
        },
        _positionScrollToTop: function() {
            if (t(e).width() > 1e3) {
                var n = t(document).scrollTop(),
                    i = t(".scroll-to-top", this.page),
                    o = t("footer").offset().top - t(document).scrollTop(),
                    a = t(e).height() - o + i.height();
                0 === n ? t(".scroll-to-top").hide() : (t(".scroll-to-top").show(), a < 30 && (a = 30), a > t(e).height() - 1.33 * i.height() && (a = t(e).height() - 1.33 * i.height()), i.css("bottom", a))
            }
        },
        _scrollToTop: function() {
            t("html,body").animate({
                scrollTop: t("body").offset().top
            }, 300)
        },
        _selectNavElement: function() {
            var e = this._wholeLeftPanel(),
                n = t(".tertiary-navigation");
            return n.is(":visible") ? (this._unpin(e), {
                elem: n,
                offsetTop: 50,
                offsetBottom: 15,
                offsetLeft: 25
            }) : (this._unpin(n), this._unpin(e), null)
        },
        _showTab: function() {
            var n = e.location.hash.replace("#", "");
            n = 0 === n.length ? this._firstTabHref() : "#nav-" + n, t('a[href="' + n + '"]').tab("show")
        },
        _tertiaryNavClick: function(e) {
            var n = e.target.attributes.getNamedItem("href").value;
            return t("html,body").animate({
                scrollTop: t(n).offset().top - 85
            }, 210), !1
        },
        _toggleClick: function(t) {
            var n = t.target.attributes.getNamedItem("href").value;
            n === this._firstTabHref() ? (history.pushState("", document.title, e.location.pathname + e.location.search), this._showTab()) : e.location.hash = n.replace("#nav-", "")
        },
        _togglePin: function() {
            this.$secNav.hasClass("pinned") && t("html body").scrollTop(t(".tab-box").offset().top - 70), this._positionNav()
        },
        _unpin: function(t) {
            t.css("top", "").css("left", "").css("position", "")
        },
        _wholeLeftPanel: function() {
            return t(".left-panel")
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i) || t.data(this, i, new n(this, e))
        })
    }
}(jQuery, window), function(t) {
    t.fn.paymentButtons = function() {
        "use strict";
        function e(e) {
            t(e).text(t(e).data("msg-on")), t(e).addClass("active")
        }
        function n(e) {
            t(e).text(t(e).data("msg-off")), t(e).removeClass("active")
        }
        function i(i) {
            t(i).hasClass("active") ? n(i) : e(i)
        }
        function o(e) {
            var n = t(e.target),
                o = !n.hasClass("active"),
                a = n.data("kind"),
                s = {
                    kind: a,
                    yes_or_no: o
                };
            t.ajax({
                type: "POST",
                url: n.data("url"),
                data: s,
                dataType: "json",
                success: function(t) {
                    console.log(t), i(e.target)
                },
                failure: function() {
                    console.log("ajax call failed")
                }
            })
        }
        t('.btn-payment-ajax[data-sent="true"]').each(function() {
            e(t(this))
        }), t(".btn-payment-ajax").on("click", o)
    }
}(jQuery), function(t, e) {
    function n(e, n) {
        this.$countrySelect = t(e), this.ajaxEndpoint = n, this.$stateSelect = t(this.$countrySelect.data("stateselector")), this.changeHandler = this.$countrySelect.data("changehandler"), this.changeTag = this.$countrySelect.data("changetag"), this.data = this.$countrySelect.data("data"), this.init()
    }
    var i = "stateChooser",
        o = null,
        a = null,
        s = !1;
    n.prototype = {
        init: function() {
            this.countryData(), this.$countrySelect.change(t.proxy(this.countryChanged, this))
        },
        countryData: function() {
            return null == o && null == (o = this.getLocal()) && this.fetchFromAjax(), o
        },
        setLocal: function(t) {
            lscache.set("countryData", t, 10080)
        },
        getLocal: function() {
            return lscache.get("countryData")
        },
        fetchFromAjax: function() {
            s || (s = !0, t.getJSON(this.ajaxEndpoint, t.proxy(function(t) {
                o = t, this.setLocal(o)
            }, this)))
        },
        countryChanged: function() {
            this.$stateSelect.attr("disabled", "disabled"), this.populateStates(), executeFnByName(this.changeHandler, e, this.currentCountry(), this.changeTag, this.data)
        },
        populateStates: function() {
            var e = this.countryData();
            if (null != e) {
                var n = [],
                    i = !1,
                    o = this,
                    a = e[this.currentCountry()];
                if (t.each(a, function(t, e) {
                    i = i || o.selectedState(e.code), n.push("<option " + o.selectedAttr(o.selectedState(e.code)) + "value='" + e.code + "'>" + e.name + "</option>")
                }), this.data === undefined || !this.data.region_optional && 0 != n.length || n.unshift('<option selected val="">- Not Applicable -</option>'), n.length > 1) {
                    var s = 0 == n.length ? "" : "Select One";
                    n.unshift("<option " + this.selectedAttr(!i) + "val=''>" + s + "</option>")
                }
                this.$stateSelect.html(n.join("")), n.length <= 1 || this.$stateSelect.attr("disabled", !1)
            }
        },
        currentState: function() {
            return this.$stateSelect.val()
        },
        currentCountry: function() {
            return this.$countrySelect.val()
        },
        selectedState: function(t) {
            return this.currentState() == t
        },
        selectedAttr: function(t) {
            return t ? "selected=selected " : ""
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i) || t.data(this, i, new n(this, e.ajaxEndpoint))
        })
    }
}(jQuery, window), function(t, e) {
    "use strict";
    function n(e, n) {
        this.$btn = t(e), this.options = t.extend({}, t.fn[i].defaults, n), this.$fileUploadForm = t("#" + this.options.fileUploadFormId), this._uploadCount = 0, this.init()
    }
    var i = "progressButton";
    n.prototype = {
        init: function() {
            this.$fileUploadForm.bind("fileuploadadd", t.proxy(this, "_callbackUploadAdd")).bind("fileuploadalways", t.proxy(this, "_callbackUploadAlways")).bind("fileuploadprogressall", t.proxy(this, "_callbackUploadProgress")), this.$btn.click(t.proxy(this, "_callbackButtonClick"))
        },
        _callbackButtonClick: function(t) {
            t.preventDefault(), this._uploadCount > 0 ? this.$btn.text("Uploading ...").addClass("btn-progress").attr("disabled", !0) : this.options.onStart()
        },
        _callbackUploadAdd: function() {
            this._uploadCount += 1
        },
        _callbackUploadAlways: function() {
            this._uploadCount -= 1, this._uploadCount < 1 && this.$btn.hasClass("btn-progress") && (this.$btn.text("Upload complete"), this.options.onComplete())
        },
        _callbackUploadProgress: function(t, e) {
            var n = parseInt(e.loaded / e.total * 100, 10);
            this.$btn.hasClass("btn-progress") && this.$btn.text(n + "% Uploading ...")
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i, new n(this, e))
        })
    }, t.fn[i].defaults = {
        fileUploadFormId: "file-upload-form",
        onComplete: function() {},
        onStart: function() {
            this.onComplete()
        }
    }
}(jQuery, window), function(t, e) {
    function n(e) {
        this.$element = t(e), this.init()
    }
    var i = "rankable";
    n.prototype = {
        init: function() {
            this.resetButtons(), this.$element.on("click", ".up-rank", t.proxy(this, "_callbackMoveUp")).on("click", ".down-rank", t.proxy(this, "_callbackMoveDown"))
        },
        resetButtons: function() {
            var e = t(".up-rank", this.$element),
                n = t(".down-rank", this.$element);
            e.removeClass("disabled").each(t.proxy(this, "_disableHighestUpRanks")), n.removeClass("disabled").each(t.proxy(this, "_disableLowestDownRanks"))
        },
        _callbackMoveUp: function(e) {
            e.preventDefault(), this._moveUp(t(e.currentTarget).closest(".rankable"))
        },
        _callbackMoveDown: function(e) {
            e.preventDefault(), this._moveDown(t(e.currentTarget).closest(".rankable"))
        },
        _moveUp: function(t) {
            var e = t.prevAll(".rankable:first");
            e.length && this._animateMoveUp(t, e)
        },
        _moveDown: function(t) {
            var e = t.nextAll(".rankable:first");
            e.length && this._animateMoveDown(t, e)
        },
        _animateMoveUp: function(t, e) {
            this._fadeOutIn(t, function() {
                t.after(e)
            }, function() {
                this.resetButtons()
            })
        },
        _animateMoveDown: function(t, e) {
            this._fadeOutIn(t, function() {
                t.before(e)
            }, function() {
                this.resetButtons()
            })
        },
        _fadeOutIn: function(e, n, i) {
            var o = this;
            e.fadeOut(function() {
                t.proxy(n, o)(), e.fadeIn(function() {
                    t.proxy(i, o)()
                })
            })
        },
        _disableHighestUpRanks: function(e, n) {
            var i = t(n);
            0 == i.closest(".rankable").prevAll(".rankable:visible").length && i.addClass("disabled")
        },
        _disableLowestDownRanks: function(e, n) {
            var i = t(n);
            0 == i.closest(".rankable").nextAll(".rankable:visible").length && i.addClass("disabled")
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            var o = t.data(this, i);
            o && t.isFunction(n.prototype[e]) ? o[e].apply(o, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? o ? t.error("Method " + e + "does not exist.") : t.error("Plugin must be initialised before using method: " + e) : t.data(this, i, new n(this, e))
        })
    }
}(jQuery, window), function(t, e) {
    function n(e, n) {
        this.$form = t(e), this.options = t.extend({}, t.fn[i].defaults, n), this.init()
    }
    var i = "redirectUnauthorizedAjax";
    n.prototype = {
        init: function() {
            this.$form.on("ajax:error", t.proxy(this, "_redirectUnauthorized"))
        },
        _redirectUnauthorized: function(t, n, i, o) {
            "Unauthorized" != o && "Unprocessable Entity" != o || (e.location = this.options.redirectPath)
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            t.data(this, i) || t.data(this, i, new n(this, e))
        })
    }, t.fn[i].defaults = {
        redirectPath: "/users/sign_in"
    }
}(jQuery, window), function(t) {
    var e = Array.prototype.splice;
    t.extend({
        scope: function(n, i) {
            var o = arguments;
            t(function(t) {
                var a = n.split("#")[1],
                    s,
                    r;
                if (void 0 === a)
                    throw "Use ID selector. Unsupported selector: " + n;
                (s = document.getElementById(a)) && (r = t(s), i.apply(r, [r].concat(e.call(o, 2))))
            })
        }
    })
}(jQuery), function(t) {
    t.fn.soloModal = function() {
        function e() {
            t(".modal.in").each(function() {
                t(this).modal("hide")
            })
        }
        return this.each(function() {
            t(this).on("show.bs.modal", function(t) {
                e()
            })
        }), this
    }
}(jQuery), function(t) {
    t.extend(!0, t.fn, {
        sortElements: function(e, n) {
            var i = {
                "default": function(e, n) {
                    return t(e).text() > t(n).text() ? 1 : -1
                },
                numeric: function(e, n) {
                    return parseInt(t(e).text(), 10) > parseInt(t(n).text(), 10) ? 1 : -1
                },
                auto: function(e, n) {
                    return e = t(e).text(), n = t(n).text(), (isNaN(e) || isNaN(n) ? e > n : +e > +n) ? o ? -1 : 1 : o ? 1 : -1
                }
            };
            e = e || {};
            var o = e.inverse || !1,
                a = [].sort,
                s = i[e.comparator] || e.comparator || i["default"],
                n = n || function() {
                    return this
                },
                r = this.map(function() {
                    var t = n.call(this),
                        e = t.parentNode,
                        i = e.insertBefore(document.createTextNode(""), t.nextSibling);
                    return function() {
                        if (e === this)
                            throw new Error("You can't sort elements if any one is a descendant of another.");
                        e.insertBefore(this, i), e.removeChild(i)
                    }
                });
            return a.call(this, s).each(function(t) {
                r[t].call(n.call(this))
            })
        }
    })
}(jQuery), function(t, e) {
    "use strict";
    function n(e, n) {
        this.top_container = t(e);
        var o = this.top_container.data();
        this.date_format = "YYYY-MM-DD", this.date_format_for_display = "MMM D, YYYY", o.endDate !== undefined ? this.offering_end_date = o.endDate : this.offering_end_date = moment().format(this.date_format), o.offeringStartDate !== undefined ? this.offering_start_date = o.offeringStartDate : this.offering_start_date = "", this.container = t(".stats-container", e), this.item_container = t(".items", this.container), this.select = t("select", this.top_container), this.options = t.extend({}, t.fn[i].defaults, n), this.empty_container = t(".empty", this.top_container), this.cached_data = {
            all_time: {
                name: "All Time",
                data: [],
                timeframe: {}
            },
            last_30_days: {
                name: "Last 30 Days",
                data: [],
                timeframe: {}
            },
            last_7_days: {
                name: "Last 7 Days",
                data: [],
                timeframe: {}
            },
            today: {
                name: "Last 24 Hours",
                data: [],
                timeframe: {}
            }
        }, this.init()
    }
    var i = "topTrafficSources";
    n.prototype = {
        init: function() {
            this.set_timeframe_selections(), this.get_all_top_traffic_data()
        },
        spinner: function() {
            return t('<div class="spinner-container"><div class="la-ball-clip-rotate la-dark"><div></div></div></div>')
        },
        set_timeframe_selections: function() {
            var e = this;
            e.select.html(""), t("option", e.select).remove(), t.each(this.cached_data, function(n, i) {
                var o = t("<option>");
                o.attr("value", n), "all_time" === n && o.attr("selected", "true"), o.text(i.name), e.select.append(o)
            }), e.select.on("change", function() {
                e.generate_and_render_referrers()
            })
        },
        get_all_top_traffic_data: function() {
            var t = this;
            t.item_container.html(""), t.item_container.append(this.spinner()), t.get_top_traffic_for_timeframe("all_time", function() {
                t.generate_and_render_referrers(), t.get_top_traffic_for_timeframe("last_30_days", function() {
                    t.get_top_traffic_for_timeframe("last_7_days", function() {
                        t.get_top_traffic_for_timeframe("today")
                    })
                })
            })
        },
        get_top_traffic_for_timeframe: function(e, n) {
            var i = this,
                o = {
                    data_set: "referral_info"
                },
                a = this.get_timeframe(e);
            a !== undefined && (o.start_date = a.start_date, o.end_date = a.end_date), t.ajax({
                url: "/api/issuer/analytics/get_data",
                data: o,
                success: function(t) {
                    i.store_cache(e, t, a), "function" == typeof n && n.call()
                },
                error: function() {
                    i.store_cache(e, {}, a)
                }
            })
        },
        store_cache: function(t, e, n) {
            this.cached_data[t].data = e, this.cached_data[t].timeframe = n
        },
        generate_and_render_referrers: function() {
            var e = this,
                n = e.select.val(),
                i = e.cached_data[n].data;
            if (i.data === undefined)
                return void e.renderEmpty();
            var o = t.map(i.data, function(t) {
                return e.get_template_for(t)
            });
            0 === o.length ? e.renderEmpty() : e.render(o, i.total, e.cached_data[n].timeframe)
        },
        format_number_for_display: function(t) {
            return Number(t).toLocaleString("en")
        },
        get_template_for: function(e) {
            var n = e[0],
                i = this.format_number_for_display(e[1]),
                o = e[2],
                a = Math.round(100 * o, 2),
                s = t('<div class="span4 item"></div>'),
                r = t('<div class="row-fluid"></div>'),
                l = t('<div class="span8 referrer">' + n + "</div>"),
                c = t('<div class="span2 count">' + i + "</div>"),
                u = t('<div class="span2 share">' + a + "%</div>");
            r.append(l), r.append(c), r.append(u);
            var d = t('<div class="row-fluid"></div>'),
                h = t('<div class="slider span12"></div>'),
                f = t('<div class="slider-value" style="width: ' + a + '%"></div>');
            return h.append(f), d.append(h), s.append(r), s.append(d), s
        },
        get_timeframe: function(t) {
            var e;
            e = moment(this.offering_end_date).isBefore(moment()) ? moment(this.offering_end_date) : moment();
            var n;
            switch (t) {
            case "last_30_days":
                n = moment(e).subtract(30, "days").format(this.date_format);
                break;
            case "last_7_days":
                n = moment(e).subtract(7, "days").format(this.date_format);
                break;
            case "today":
                n = moment(e).subtract(24, "hours").format(this.date_format);
                break;
            default:
                n = moment(this.offering_start_date).format(this.date_format)
            }
            return {
                start_date: n,
                end_date: e.format(this.date_format)
            }
        },
        renderEmpty: function() {
            this.container.hide(), this.empty_container.show()
        },
        render: function(e, n, i) {
            var o = this;
            if (o.container.show(), o.empty_container.hide(), o.item_container.html(""), t(".totals span.number", o.container).html(n.toLocaleString("en")), i !== undefined) {
                var a = moment(i.start_date).format(this.date_format_for_display) + " - " + moment(i.end_date).format(this.date_format_for_display);
                moment(this.offering_end_date).isBefore(moment()) && (a += " (Offering end)"), t(".timeframe span", o.container).html(a)
            } else
                t(".timeframe span", o.container).html("");
            t.each(e, function(t, e) {
                o.item_container.append(e)
            })
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            var o = t.data(this, i);
            o && t.isFunction(n.prototype[e]) ? o[e].apply(o, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? o ? t.error("Method " + e + "does not exist.") : t.error("Plugin must be initialised before using method: " + e) : t.data(this, i, new n(this, e))
        })
    }
}(jQuery, window), $.scope("#top-traffic", function(t) {
    "use strict";
    t.topTrafficSources(t)
}), function(t, e) {
    function n(e) {
        this.$form = t(e), this.init()
    }
    var i = "unsavedFormChanges";
    n.prototype = {
        init: function() {
            t(e).on("beforeunload", t.proxy(this, "__checkForUnsavedChanges")), this.$form.on("submit", t.proxy(this, "__removeChangedInputClass")).on("change keyup keydown", "input, textarea, select", t.proxy(this, "__addChangedInputClass"))
        },
        __checkForUnsavedChanges: function(e) {
            if (t(".changed-input").length)
                return "You haven't saved your changes."
        },
        __removeChangedInputClass: function(t) {
            this.$form.removeClass("changed-input")
        },
        __addChangedInputClass: function(t) {
            this.$form.addClass("changed-input")
        }
    }, t.fn[i] = function() {
        return this.each(function() {
            t.data(this, i, new n(this))
        })
    }
}(jQuery, window), function(t, e) {
    function n(e, n) {
        this.$element = t(e), this.options = t.extend({}, t.fn[i].defaults, n), this.init()
    }
    var i = "uploadable";
    n.prototype = {
        init: function() {
            this.$fileChooser = this.$element.prevAll("input:file").first(), this.$fileKey = this.$element.prevAll("input.file-key").first(), this.$uploadForm = t("#" + this.options.fileUploadFormId), this.$contentType = t("#" + this.options.contentTypeInputId), this.$preview = t("." + this.options.fileContentClass, this.$element), this.$uploadForm.customFileUpload().on("fileuploaddone", t.proxy(this, "_callbackUploadSuccess")), this.$element.on("click", t.proxy(this, "_callbackAddFile")), this.$fileChooser.on("change", t.proxy(this, "_callbackFileChosen"))
        },
        _callbackAddFile: function(t) {
            t.preventDefault(), this._openFileChooser()
        },
        _callbackFileChosen: function(t) {
            var e = t.target,
                n = e.files[0];
            this.$file = n, 0 == n.size ? this.showFileError(e, "File cannot be empty") : this.validFileSize(n) ? this.showFileError(e, "File cannot be over " + this.options.maxFileSize + "kb.") : (this._setFileContentType(n), this._showInProgress(!0), this._uploadAndDisplayFile(n), this._unbindCallbackAddFile()), this._resetFileChooser()
        },
        showFileError: function(e, n) {
            var i = t(e).parent().append("<span class='error'>" + n + "</span>");
            t(".error", i).delay(5e3).fadeOut()
        },
        validFileSize: function(t) {
            return this.options.maxFileSize > 0 && t.size > 1024 * this.options.maxFileSize
        },
        _setFileContentType: function(t) {
            this.$contentType.val(t.type)
        },
        _callbackUploadSuccess: function(e, n) {
            var i = n.context,
                o = t("Key", n.result).text();
            i != undefined && t(i).is(this.$element) && (this._showInProgress(!1), this._setFileKey(o), this.uploadDeferred && this.uploadDeferred.resolve())
        },
        _openFileChooser: function(t) {
            this.$fileChooser.click()
        },
        _setFileKey: function(t) {
            this.$fileKey.val(t)
        },
        _unbindCallbackAddFile: function() {
            this.$element.off("click", this._callbackAddFile)
        },
        _uploadAndDisplayFile: function(e) {
            var n = this;
            t.when(n._isValidImage(e)).done(function(i) {
                if (n.$element.closest("fieldset").children(".upload-image-error").remove(), i.isValid || "no-validation" == i.isValid)
                    n.options.cropPreview || n._uploadFile(e), n._displayFile(e);
                else {
                    var o = t('<div class="upload-image-error">' + i.errorMessage + "</div>"),
                        a = "." + n.options.fileContentClass;
                    t(a, n.$element).closest("fieldset").prepend(o)
                }
            })
        },
        _isValidImage: function(e) {
            if (!this.options.validateRatio)
                return {
                    isValid: "no-validation"
                };
            var n = new FileReader,
                i = t.Deferred(),
                o = this;
            return n.onload = function(e) {
                t("<img>").on("load", function() {
                    i.resolve(o._validateImage(this))
                }).attr("src", e.target.result)
            }, n.readAsDataURL(e), i.promise()
        },
        _validateImage: function(t) {
            var e = {
                width: 0,
                height: 0,
                isValid: !1,
                errorMessage: ""
            };
            switch (e.width = this.options.validateRatio[0], e.height = this.options.validateRatio[1], !0) {
            case !e.width || !e.height:
                e.isValid = "no-validation";
                break;
            default:
                var n = this._findSimplestFormRatio(e.width, e.height);
                e.isValid = t.width * e.height == t.height * e.width && t.width >= e.width, e.errorMessage = "Your image file should have an aspect ratio of " + n[0] + ":" + n[1] + " and be at least " + e.width + "px wide."
            }
            return e
        },
        _findSimplestFormRatio: function(t, e) {
            var n = function(t, e) {
                    return e ? n(e, t % e) : t
                },
                i = n(t, e);
            return [t / i, e / i]
        },
        _uploadFile: function(t) {
            this.$uploadForm.customFileUpload("add", {
                files: t,
                context: this.$element
            })
        },
        uploadCropFile: function() {
            var e = this;
            return e.$cropper.getCroppedCanvas({
                imageSmoothingQuality: "high"
            }).toBlob(function(t) {
                t.name = e.$file.name, t.lastModifiedDate = e.$file.lastModifiedDate, t.type = e.$file.type, e.$uploadForm.customFileUpload("add", {
                    files: t,
                    context: e.$element
                })
            }), this.uploadDeferred = t.Deferred(), this.uploadDeferred.promise()
        },
        _displayFile: function(t) {
            switch (this.options.displayType) {
            case "image":
                this._updateImage(t);
                break;
            case "filename":
                this._updateFileName(t)
            }
        },
        _updateImage: function(e) {
            var n = this,
                i = new FileReader;
            i.onload = function(e) {
                var i = e.target.result,
                    o = t("<img>").attr("src", i);
                n.options.cropPreview ? n._replaceCropContent(o) : n._replaceContent(o), n._setAsUpdated()
            }, i.readAsDataURL(e)
        },
        _replaceCropContent: function(e) {
            var n = this;
            n.$preview.replaceWith(e), t(".btn-overlay", this.$element).remove(), n.$cropper = new Cropper(e[0], {
                aspectRatio: n.options.cropRatio,
                minContainerWidth: this.$element.width(),
                minContainerHeight: this.$element.height(),
                minCropBoxWidth: .5 * this.$element.width(),
                minCropBoxHeight: .5 * this.$element.height(),
                viewMode: 0,
                autoCropArea: 1,
                zoomOnWheel: !1
            }), n._setCropperZoomer()
        },
        _setCropperZoomer: function() {
            var e = this,
                n = t('<input type="range" min="0.01" max="2" step="0.01">');
            n.width(this.$element.width() - 18), n.on("input", function(t) {
                const n = e.$cropper.getContainerData();
                e.$cropper.zoomTo(t.target.valueAsNumber, {
                    x: n.width / 2,
                    y: n.height / 2
                })
            }), this.$element.after(n)
        },
        _updateFileName: function(e) {
            var n = t("<span>").text(e.name);
            this._replaceContent(n), this._setAsUpdated()
        },
        _replaceContent: function(e) {
            var n = "." + this.options.fileContentClass;
            t(n, this.$element).html(e)
        },
        _resetFileChooser: function() {
            var t = this.$fileChooser.clone(!0);
            this.$fileChooser.replaceWith(t), this.$fileChooser = t
        },
        _showInProgress: function(t) {},
        _setAsUpdated: function() {
            this.$element.hasClass(this.options.updateBtnClass) || this.$element.addClass(this.options.updateBtnClass)
        }
    }, t.fn[i] = function(e) {
        var o = new n(this, e);
        return this.each(function() {
            t.data(this, i) || t.data(this, i, o)
        }), o
    }, t.fn[i].defaults = {
        displayType: "filename",
        addBtnClass: "btn-upload-file",
        updateBtnClass: "btn-update-file",
        fileContentClass: "file-content",
        fileUploadFormId: "file-upload-form",
        contentTypeInputId: "document_uploader_content_type",
        maxFileSize: 51200
    }
}(jQuery, window), function(t, e, n) {
    "use strict";
    function i(e, n) {
        this.element = t(e), this.options = n, this.url = this.options.url, this.timers = [], this.warningInterval = 300, this.countdownTimer = -1, this._name = o, this.init()
    }
    var o = "userSession";
    i.prototype = {
        init: function() {
            this.setLastEvent(), this.getSessionInfo(), this.element.on("hide.bs.modal", t.proxy(this.modalClicked, this))
        },
        getSessionInfo: function() {
            t.each(this.timers, function(t, e) {
                clearTimeout(e)
            }), this.timers = [], this.sentLastEvent = !0;
            var i = parseInt((this.getTime() - this.lastEvent) / 1e3);
            t.ajax({
                type: "get",
                url: this.url,
                data: {
                    return_to: e.location.href,
                    last_event: i
                },
                success: t.proxy(this.processSessionInfo, this),
                error: function() {
                    n.location.replace("/users/log_me_out")
                }
            })
        },
        processSessionInfo: function(e) {
            this.warningInterval = e.warning_time, this.endTime = this.getTime() + 1e3 * e.time_left, this.timeLeft() <= this.warningInterval ? this.sentLastEvent && this.showModal() : this.hideModal(), this.timers.push(setTimeout(t.proxy(this.getSessionInfo, this), 1e3 * this.nextCheck()))
        },
        timeLeft: function() {
            return (this.endTime - this.getTime()) / 1e3
        },
        nextCheck: function() {
            return this.timeLeft() < this.warningInterval ? this.sentLastEvent ? this.timeLeft() % 60 : 0 : this.timeLeft() - this.warningInterval + 1
        },
        activateEvents: function() {
            t(e).on("mousedown click scroll keypress", t.proxy(this.setLastEvent, this))
        },
        deactivateEvents: function() {
            t(e).off("mousedown click scroll keypress", this.setLastEvent)
        },
        setLastEvent: function() {
            this.sentLastEvent = !1, this.lastEvent = this.getTime()
        },
        getTime: function() {
            return (new Date).getTime()
        },
        showModal: function() {
            this.element.hasClass("in") || (this.deactivateEvents(), this.startTimer(this.element.find("[data-time-string]")[0]), this.element.modal("show"))
        },
        hideModal: function() {
            this.activateEvents(), this.element.hasClass("in") && this.element.modal("hide")
        },
        modalClicked: function() {
            this.setLastEvent(), this.getSessionInfo()
        },
        startTimer: function(t) {
            var e = this,
                n,
                i;
            clearInterval(e.countdownTimer);
            var o = function() {
                var o = e.timeLeft();
                o = o < 0 ? 0 : o, n = e._addLeadingZero(parseInt(o / 60, 10)), i = e._addLeadingZero(parseInt(o % 60, 10)), t.textContent = n + " min " + i + " sec"
            };
            o(), e.countdownTimer = setInterval(o, 1e3)
        },
        _addLeadingZero: function(t) {
            return t < 10 ? "0" + t : t
        }
    }, t.fn[o] = function(e) {
        return this.each(function() {
            t.data(this, "plugin_" + o) || t.data(this, "plugin_" + o, new i(this, e))
        })
    }
}(jQuery, window, document), function(t, e) {
    function n(e, n) {
        this.$container = t(e), this.options = t.extend({}, t.fn[i].defaults, n), this.init()
    }
    var i = "videoPlayer";
    n.prototype = {
        init: function() {
            var e = t("video", this.$container);
            this.video = e[0], this.$closeLink = t(".close-video", this.$container), this.$videoProgress = t(".video-progress", this.$container), this.$playButton = t(".video-control.play"), this.$pauseButton = t(".video-control.pause"), this.$volumeButton = t(".video-control.volume"), this.$fullScreenButton = t(".video-control.expand"), this.progressInterval = null, this.$videoProgress = t(".video-progress", this.$container), this.$volumeSlider = t(".video-volume-control", this.$container), e.click(t.proxy(this._togglePlay, this)), this.$closeLink.click(t.proxy(this.hide, this)), this.$playButton.click(t.proxy(this.play, this)), this.$pauseButton.click(t.proxy(this.pause, this)), this.$volumeButton.click(t.proxy(this._toggleMute, this)), this.$fullScreenButton.click(t.proxy(this.fullScreen, this)), this.video.addEventListener("ended", t.proxy(this.finish, this), !0), this._setupProgressBar(), this._setupVolumeSlider(), this._setupVolumeButton(), this._setupVideoHover(), this._checkAndDisableFullScreen()
        },
        show: function() {
            this.$container.removeClass("video-stopped").addClass("video-playing"), t(".video-wrapper", this.$container).find("img").hide(), this._resizePlayer(), this.enableShortcuts(), this.desktop() && this.$closeLink.show(), t(".progress-marker.total-duration").html(this._convertTime(this.video.duration)), this.play()
        },
        hide: function() {
            var e = this;
            this.pause(), this.$closeLink.hide(), t(".company-video").removeClass("playing"), t(".video-wrapper img").show(), t(".video-controls", ".company-video").hide(), e.$container.removeClass("video-playing"), e.$container.addClass("video-stopped"), e.options.onHide(), this.disableShortcuts()
        },
        mobile: function() {
            return im.lessThan("tablet")
        },
        tablet: function() {
            return im.greaterThan("tablet") && im.lessThan("desktop")
        },
        desktop: function() {
            return im.greaterThan("desktop")
        },
        play: function() {
            this.video.play(), this._startProgress(), this.$playButton.removeClass("active"), this.$pauseButton.addClass("active"), this.options.onPlay()
        },
        pause: function() {
            this.video.pause(), this._stopProgress(), this.$playButton.addClass("active"), this.$pauseButton.removeClass("active")
        },
        finish: function() {
            this.options.onFinish()
        },
        setVolume: function(t) {
            this.video.volume = t
        },
        mute: function(e) {
            e ? (this.setVolume(0), this.$volumeButton.addClass("mute"), t(".ui-slider-range", this.$volumeSlider).css("height", "0"), t(".ui-slider-handle", this.$volumeSlider).css("bottom", "0")) : (this.setVolume(1), this.$volumeButton.removeClass("mute"), t(".ui-slider-range", this.$volumeSlider).css("height", "100%"), t(".ui-slider-handle", this.$volumeSlider).css("bottom", "100%"))
        },
        skipTo: function(t) {
            this.video.currentTime = t, this._updateProgressBar()
        },
        _fullScreenFunction: function() {
            return this.video.requestFullScreen ? this.video.requestFullScreen : this.video.msRequestFullscreen ? this.video.msRequestFullscreen : this.video.mozRequestFullScreen ? this.video.mozRequestFullScreen : !!this.video.webkitRequestFullscreen && this.video.webkitRequestFullscreen
        },
        fullScreen: function() {
            var e = this._fullScreenFunction();
            e && t.proxy(e, this.video)()
        },
        _checkAndDisableFullScreen: function() {
            this._fullScreenFunction() || (t(".video-control.expand").remove(), t(".video-control.volume").addClass("border-right"))
        },
        enableShortcuts: function() {
            t(document).bind("keydown", t.proxy(this._keyStrokeHandler, this))
        },
        disableShortcuts: function() {
            t(document).unbind("keydown", t.proxy(this._keyStrokeHandler, this))
        },
        _timeElapsed: function() {
            return this.video.currentTime
        },
        _timeRemaining: function() {
            return this.video.duration - this.video.currentTime
        },
        _percentComplete: function() {
            return (this.video.currentTime / this.video.duration * 100).toString() + "%"
        },
        _togglePlay: function() {
            this.video.paused ? this.play() : this.pause()
        },
        _toggleMute: function() {
            this.mute(!this.$volumeButton.hasClass("mute"))
        },
        _startProgress: function() {
            this.progressInterval = e.setInterval(this._updateProgressBar.bind(this), 250)
        },
        _stopProgress: function() {
            e.clearInterval(this.progressInterval)
        },
        _updateProgressBar: function() {
            var e = t(".ui-slider-handle", this.$videoProgress),
                n = t(".ui-slider-range", this.$videoProgress),
                i = t(".progress-marker.current-time");
            e.css("left", this._percentComplete()), n.css("width", this._percentComplete()), i.html(this._convertTime(this.video.currentTime))
        },
        _showVolumeSlider: function() {
            this.$volumeSlider.show()
        },
        _hideVolumeSlider: function() {
            this.$volumeSlider.hide()
        },
        _resizePlayer: function() {
            t(".company-video").addClass("playing")
        },
        _convertTime: function(t) {
            var e = Math.floor(t / 60),
                n = Math.floor(t - 60 * e);
            return e + ":" + (n < 10 ? "0" + n : n)
        },
        _keyStrokeHandler: function(t) {
            switch (t.which) {
            case 27:
                this.hide();
                break;
            case 32:
                t.preventDefault(), this._togglePlay()
            }
        },
        _setupProgressBar: function() {
            var e = this;
            t("#video_progress_slider").slider({
                orientation: "horizontal",
                range: "min",
                min: 0,
                max: 100,
                value: 0,
                slide: function(t, n) {
                    var i = n.value * e.video.duration / 100;
                    e.skipTo(i)
                }
            })
        },
        _setupVolumeSlider: function() {
            var e = this;
            t("#volume_slider").slider({
                orientation: "vertical",
                range: "min",
                min: 0,
                max: 100,
                value: 100,
                slide: function(t, n) {
                    var i = n.value / 100;
                    e.setVolume(i)
                }
            })
        },
        _showVideoControls: function() {
            this.desktop() && t(".video-controls", ".company-video.playing").fadeIn()
        },
        _hideVideoControls: function() {
            this.desktop() && t(".video-controls", ".company-video").fadeOut("slow")
        },
        _setupVideoHover: function() {
            var e = this;
            t(this.$container).hover(function() {
                e._showVideoControls()
            }, function() {
                e._hideVideoControls()
            })
        },
        _setupVolumeButton: function() {
            var t = this;
            this.$volumeButton.hover(function() {
                t._showVolumeSlider()
            }, function() {
                t._hideVolumeSlider()
            })
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            var o = t.data(this, i);
            o && t.isFunction(n.prototype[e]) ? o[e].apply(o, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? o ? t.error("Method " + e + "does not exist.") : t.error("Plugin must be initialised before using method: " + e) : t.data(this, i, new n(this, e))
        })
    }, t.fn[i].defaults = {
        onHide: function() {},
        onPlay: function() {},
        onFinish: function() {}
    }
}(jQuery, window), function(t) {
    t.fn.socialSharingPopup = function(e) {
        var n = t.extend({
            width: 640,
            height: 440
        }, e);
        t.each(this, function(e, i) {
            var o = t(i),
                a = o.attr("href"),
                s = n.width,
                r = n.height;
            o.on("click", function(t) {
                t.preventDefault();
                var e = FF.CalculatePopupPosition(window.outerWidth, window.outerHeight, s, r, window.screenX, window.screenY);
                window.open(a, "", "width=" + s + ", height=" + r + ", left=" + e.left + ", top=" + e.top + "toolbar=no, menubar=no, scrollbars=no, resizable=no, location=no, directories=no, status=no")
            })
        })
    }
}(jQuery), function() {
    "undefined" != typeof window.CKEDITOR_BASEPATH && null !== window.CKEDITOR_BASEPATH || (window.CKEDITOR_BASEPATH = "/assets/ckeditor/")
}.call(this), /*
Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
For licensing, see LICENSE.md or http://ckeditor.com/license
*/
function() {
    function t(t, e) {
        CKEDITOR.tools.extend(this, e, {
            editor: t,
            id: "cke-" + CKEDITOR.tools.getUniqueId(),
            area: t._.notificationArea
        }), e.type || (this.type = "info"), this.element = this._createElement(), t.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(this.element)
    }
    function e(t) {
        var e = this;
        this.editor = t, this.notifications = [], this.element = this._createElement(), this._uiBuffer = CKEDITOR.tools.eventsBuffer(10, this._layout, this), this._changeBuffer = CKEDITOR.tools.eventsBuffer(500, this._layout, this), t.on("destroy", function() {
            e._removeListeners(), e.element.remove()
        })
    }
    if (!window.CKEDITOR || !window.CKEDITOR.dom) {
        window.CKEDITOR || (window.CKEDITOR = function() {
            var t = /(^|.*[\\\/])ckeditor\.js(?:\?.*|;.*)?$/i,
                e = {
                    timestamp: "H5SC",
                    version: "4.7.1",
                    revision: "08ffd39",
                    rnd: Math.floor(900 * Math.random()) + 100,
                    _: {
                        pending: [],
                        basePathSrcPattern: t
                    },
                    status: "unloaded",
                    basePath: function() {
                        var e = window.CKEDITOR_BASEPATH || "";
                        if (!e)
                            for (var n = document.getElementsByTagName("script"), i = 0; i < n.length; i++) {
                                var o = n[i].src.match(t);
                                if (o) {
                                    e = o[1];
                                    break
                                }
                            }
                        if (-1 == e.indexOf(":/") && "//" != e.slice(0, 2) && (e = 0 === e.indexOf("/") ? location.href.match(/^.*?:\/\/[^\/]*/)[0] + e : location.href.match(/^[^\?]*\/(?:)/)[0] + e), !e)
                            throw 'The CKEditor installation path could not be automatically detected. Please set the global variable "CKEDITOR_BASEPATH" before creating editor instances.';
                        return e
                    }(),
                    getUrl: function(t) {
                        return -1 == t.indexOf(":/") && 0 !== t.indexOf("/") && (t = this.basePath + t), this.timestamp && "/" != t.charAt(t.length - 1) && !/[&?]t=/.test(t) && (t += (0 <= t.indexOf("?") ? "&" : "?") + "t=" + this.timestamp), t
                    },
                    domReady: function() {
                        function t() {
                            try {
                                document.addEventListener ? (document.removeEventListener("DOMContentLoaded", t, !1), e()) : document.attachEvent && "complete" === document.readyState && (document.detachEvent("onreadystatechange", t), e())
                            } catch (t) {}
                        }
                        function e() {
                            for (var t; t = n.shift();)
                                t()
                        }
                        var n = [];
                        return function(e) {
                            function i() {
                                try {
                                    document.documentElement.doScroll("left")
                                } catch (t) {
                                    return void setTimeout(i, 1)
                                }
                                t()
                            }
                            if (n.push(e), "complete" === document.readyState && setTimeout(t, 1), 1 == n.length)
                                if (document.addEventListener)
                                    document.addEventListener("DOMContentLoaded", t, !1), window.addEventListener("load", t, !1);
                                else if (document.attachEvent) {
                                    document.attachEvent("onreadystatechange", t), window.attachEvent("onload", t), e = !1;
                                    try {
                                        e = !window.frameElement
                                    } catch (t) {}
                                    document.documentElement.doScroll && e && i()
                                }
                        }
                    }()
                },
                n = window.CKEDITOR_GETURL;
            if (n) {
                var i = e.getUrl;
                e.getUrl = function(t) {
                    return n.call(e, t) || i.call(e, t)
                }
            }
            return e
        }()), CKEDITOR.event || (CKEDITOR.event = function() {}, CKEDITOR.event.implementOn = function(t) {
            var e = CKEDITOR.event.prototype,
                n;
            for (n in e)
                null == t[n] && (t[n] = e[n])
        }, CKEDITOR.event.prototype = function() {
            function t(t) {
                var i = e(this);
                return i[t] || (i[t] = new n(t))
            }
            var e = function(t) {
                    return t = t.getPrivate && t.getPrivate() || t._ || (t._ = {}), t.events || (t.events = {})
                },
                n = function(t) {
                    this.name = t, this.listeners = []
                };
            return n.prototype = {
                getListenerIndex: function(t) {
                    for (var e = 0, n = this.listeners; e < n.length; e++)
                        if (n[e].fn == t)
                            return e;
                    return -1
                }
            }, {
                define: function(e, n) {
                    var i = t.call(this, e);
                    CKEDITOR.tools.extend(i, n, !0)
                },
                on: function(e, n, i, o, a) {
                    function s(t, a, s, l) {
                        return t = {
                            name: e,
                            sender: this,
                            editor: t,
                            data: a,
                            listenerData: o,
                            stop: s,
                            cancel: l,
                            removeListener: r
                        }, !1 !== n.call(i, t) && t.data
                    }
                    function r() {
                        c.removeListener(e, n)
                    }
                    var l = t.call(this, e);
                    if (0 > l.getListenerIndex(n)) {
                        l = l.listeners, i || (i = this), isNaN(a) && (a = 10);
                        var c = this;
                        s.fn = n, s.priority = a;
                        for (var u = l.length - 1; 0 <= u; u--)
                            if (l[u].priority <= a)
                                return l.splice(u + 1, 0, s), {
                                    removeListener: r
                                };
                        l.unshift(s)
                    }
                    return {
                        removeListener: r
                    }
                },
                once: function() {
                    var t = Array.prototype.slice.call(arguments),
                        e = t[1];
                    return t[1] = function(t) {
                        return t.removeListener(), e.apply(this, arguments)
                    }, this.on.apply(this, t)
                },
                capture: function() {
                    CKEDITOR.event.useCapture = 1;
                    var t = this.on.apply(this, arguments);
                    return CKEDITOR.event.useCapture = 0, t
                },
                fire: function() {
                    var t = 0,
                        n = function() {
                            t = 1
                        },
                        i = 0,
                        o = function() {
                            i = 1
                        };
                    return function(a, s, r) {
                        var l = e(this)[a];
                        a = t;
                        var c = i;
                        if (t = i = 0, l) {
                            var u = l.listeners;
                            if (u.length)
                                for (var u = u.slice(0), d, h = 0; h < u.length; h++) {
                                    if (l.errorProof)
                                        try {
                                            d = u[h].call(this, r, s, n, o)
                                        } catch (t) {}
                                    else
                                        d = u[h].call(this, r, s, n, o);
                                    if (!1 === d ? i = 1 : void 0 !== d && (s = d), t || i)
                                        break
                                }
                        }
                        return s = !i && (void 0 === s || s), t = a, i = c, s
                    }
                }(),
                fireOnce: function(t, n, i) {
                    return n = this.fire(t, n, i), delete e(this)[t], n
                },
                removeListener: function(t, n) {
                    var i = e(this)[t];
                    if (i) {
                        var o = i.getListenerIndex(n);
                        0 <= o && i.listeners.splice(o, 1)
                    }
                },
                removeAllListeners: function() {
                    var t = e(this),
                        n;
                    for (n in t)
                        delete t[n]
                },
                hasListeners: function(t) {
                    return (t = e(this)[t]) && 0 < t.listeners.length
                }
            }
        }()), CKEDITOR.editor || (CKEDITOR.editor = function() {
            CKEDITOR._.pending.push([this, arguments]), CKEDITOR.event.call(this)
        }, CKEDITOR.editor.prototype.fire = function(t, e) {
            return t in {
                instanceReady: 1,
                loaded: 1
            } && (this[t] = !0), CKEDITOR.event.prototype.fire.call(this, t, e, this)
        }, CKEDITOR.editor.prototype.fireOnce = function(t, e) {
            return t in {
                instanceReady: 1,
                loaded: 1
            } && (this[t] = !0), CKEDITOR.event.prototype.fireOnce.call(this, t, e, this)
        }, CKEDITOR.event.implementOn(CKEDITOR.editor.prototype)), CKEDITOR.env || (CKEDITOR.env = function() {
            var t = navigator.userAgent.toLowerCase(),
                e = t.match(/edge[ \/](\d+.?\d*)/),
                n = -1 < t.indexOf("trident/"),
                n = !(!e && !n),
                n = {
                    ie: n,
                    edge: !!e,
                    webkit: !n && -1 < t.indexOf(" applewebkit/"),
                    air: -1 < t.indexOf(" adobeair/"),
                    mac: -1 < t.indexOf("macintosh"),
                    quirks: "BackCompat" == document.compatMode && (!document.documentMode || 10 > document.documentMode),
                    mobile: -1 < t.indexOf("mobile"),
                    iOS: /(ipad|iphone|ipod)/.test(t),
                    isCustomDomain: function() {
                        if (!this.ie)
                            return !1;
                        var t = document.domain,
                            e = window.location.hostname;
                        return t != e && t != "[" + e + "]"
                    },
                    secure: "https:" == location.protocol
                };
            n.gecko = "Gecko" == navigator.product && !n.webkit && !n.ie, n.webkit && (-1 < t.indexOf("chrome") ? n.chrome = !0 : n.safari = !0);
            var i = 0;
            return n.ie && (i = e ? parseFloat(e[1]) : n.quirks || !document.documentMode ? parseFloat(t.match(/msie (\d+)/)[1]) : document.documentMode, n.ie9Compat = 9 == i, n.ie8Compat = 8 == i, n.ie7Compat = 7 == i, n.ie6Compat = 7 > i || n.quirks), n.gecko && (e = t.match(/rv:([\d\.]+)/)) && (e = e[1].split("."), i = 1e4 * e[0] + 100 * (e[1] || 0) + 1 * (e[2] || 0)), n.air && (i = parseFloat(t.match(/ adobeair\/(\d+)/)[1])), n.webkit && (i = parseFloat(t.match(/ applewebkit\/(\d+)/)[1])), n.version = i, n.isCompatible = !(n.ie && 7 > i || n.gecko && 4e4 > i || n.webkit && 534 > i), n.hidpi = 2 <= window.devicePixelRatio, n.needsBrFiller = n.gecko || n.webkit || n.ie && 10 < i, n.needsNbspFiller = n.ie && 11 > i, n.cssClass = "cke_browser_" + (n.ie ? "ie" : n.gecko ? "gecko" : n.webkit ? "webkit" : "unknown"), n.quirks && (n.cssClass += " cke_browser_quirks"), n.ie && (n.cssClass += " cke_browser_ie" + (n.quirks ? "6 cke_browser_iequirks" : n.version)), n.air && (n.cssClass += " cke_browser_air"), n.iOS && (n.cssClass += " cke_browser_ios"), n.hidpi && (n.cssClass += " cke_hidpi"), n
        }()), "unloaded" == CKEDITOR.status && function() {
            CKEDITOR.event.implementOn(CKEDITOR), CKEDITOR.loadFullCore = function() {
                if ("basic_ready" != CKEDITOR.status)
                    CKEDITOR.loadFullCore._load = 1;
                else {
                    delete CKEDITOR.loadFullCore;
                    var t = document.createElement("script");
                    t.type = "text/javascript", t.src = CKEDITOR.basePath + "ckeditor.js", document.getElementsByTagName("head")[0].appendChild(t)
                }
            }, CKEDITOR.loadFullCoreTimeout = 0, CKEDITOR.add = function(t) {
                (this._.pending || (this._.pending = [])).push(t)
            }, function() {
                CKEDITOR.domReady(function() {
                    var t = CKEDITOR.loadFullCore,
                        e = CKEDITOR.loadFullCoreTimeout;
                    t && (CKEDITOR.status = "basic_ready", t && t._load ? t() : e && setTimeout(function() {
                        CKEDITOR.loadFullCore && CKEDITOR.loadFullCore()
                    }, 1e3 * e))
                })
            }(), CKEDITOR.status = "basic_loaded"
        }(), CKEDITOR.VERBOSITY_WARN = 1, CKEDITOR.VERBOSITY_ERROR = 2, CKEDITOR.verbosity = CKEDITOR.VERBOSITY_WARN | CKEDITOR.VERBOSITY_ERROR, CKEDITOR.warn = function(t, e) {
            CKEDITOR.verbosity & CKEDITOR.VERBOSITY_WARN && CKEDITOR.fire("log", {
                type: "warn",
                errorCode: t,
                additionalData: e
            })
        }, CKEDITOR.error = function(t, e) {
            CKEDITOR.verbosity & CKEDITOR.VERBOSITY_ERROR && CKEDITOR.fire("log", {
                type: "error",
                errorCode: t,
                additionalData: e
            })
        }, CKEDITOR.on("log", function(t) {
            if (window.console && window.console.log) {
                var e = console[t.data.type] ? t.data.type : "log",
                    n = t.data.errorCode;
                (t = t.data.additionalData) ? console[e]("[CKEDITOR] Error code: " + n + ".", t) : console[e]("[CKEDITOR] Error code: " + n + "."), console[e]("[CKEDITOR] For more information about this error go to http://docs.ckeditor.com/#!/guide/dev_errors-section-" + n)
            }
        }, null, null, 999), CKEDITOR.dom = {}, function() {
            var t = [],
                e = CKEDITOR.env.gecko ? "-moz-" : CKEDITOR.env.webkit ? "-webkit-" : CKEDITOR.env.ie ? "-ms-" : "",
                n = /&/g,
                i = />/g,
                o = /</g,
                a = /"/g,
                s = /&(lt|gt|amp|quot|nbsp|shy|#\d{1,5});/g,
                r = {
                    lt: "<",
                    gt: ">",
                    amp: "&",
                    quot: '"',
                    nbsp: "\xa0",
                    shy: "\xad"
                },
                l = function(t, e) {
                    return "#" == e[0] ? String.fromCharCode(parseInt(e.slice(1), 10)) : r[e]
                };
            CKEDITOR.on("reset", function() {
                t = []
            }), CKEDITOR.tools = {
                arrayCompare: function(t, e) {
                    if (!t && !e)
                        return !0;
                    if (!t || !e || t.length != e.length)
                        return !1;
                    for (var n = 0; n < t.length; n++)
                        if (t[n] != e[n])
                            return !1;
                    return !0
                },
                getIndex: function(t, e) {
                    for (var n = 0; n < t.length; ++n)
                        if (e(t[n]))
                            return n;
                    return -1
                },
                clone: function(t) {
                    var e;
                    if (t && t instanceof Array) {
                        e = [];
                        for (var n = 0; n < t.length; n++)
                            e[n] = CKEDITOR.tools.clone(t[n]);
                        return e
                    }
                    if (null === t || "object" != typeof t || t instanceof String || t instanceof Number || t instanceof Boolean || t instanceof Date || t instanceof RegExp || t.nodeType || t.window === t)
                        return t;
                    e = new t.constructor;
                    for (n in t)
                        e[n] = CKEDITOR.tools.clone(t[n]);
                    return e
                },
                capitalize: function(t, e) {
                    return t.charAt(0).toUpperCase() + (e ? t.slice(1) : t.slice(1).toLowerCase())
                },
                extend: function(t) {
                    var e = arguments.length,
                        n,
                        i;
                    "boolean" == typeof (n = arguments[e - 1]) ? e-- : "boolean" == typeof (n = arguments[e - 2]) && (i = arguments[e - 1], e -= 2);
                    for (var o = 1; o < e; o++) {
                        var a = arguments[o],
                            s;
                        for (s in a)
                            !0 !== n && null != t[s] || (!i || s in i) && (t[s] = a[s])
                    }
                    return t
                },
                prototypedCopy: function(t) {
                    var e = function() {};
                    return e.prototype = t, new e
                },
                copy: function(t) {
                    var e = {},
                        n;
                    for (n in t)
                        e[n] = t[n];
                    return e
                },
                isArray: function(t) {
                    return "[object Array]" == Object.prototype.toString.call(t)
                },
                isEmpty: function(t) {
                    for (var e in t)
                        if (t.hasOwnProperty(e))
                            return !1;
                    return !0
                },
                cssVendorPrefix: function(t, n, i) {
                    return i ? e + t + ":" + n + ";" + t + ":" + n : (i = {}, i[t] = n, i[e + t] = n, i)
                },
                cssStyleToDomStyle: function() {
                    var t = document.createElement("div").style,
                        e = "undefined" != typeof t.cssFloat ? "cssFloat" : "undefined" != typeof t.styleFloat ? "styleFloat" : "float";
                    return function(t) {
                        return "float" == t ? e : t.replace(/-./g, function(t) {
                            return t.substr(1).toUpperCase()
                        })
                    }
                }(),
                buildStyleHtml: function(t) {
                    t = [].concat(t);
                    for (var e, n = [], i = 0; i < t.length; i++)
                        (e = t[i]) && (/@import|[{}]/.test(e) ? n.push("<style>" + e + "</style>") : n.push('<link type="text/css" rel=stylesheet href="' + e + '">'));
                    return n.join("")
                },
                htmlEncode: function(t) {
                    return void 0 === t || null === t ? "" : String(t).replace(n, "&amp;").replace(i, "&gt;").replace(o, "&lt;")
                },
                htmlDecode: function(t) {
                    return t.replace(s, l)
                },
                htmlEncodeAttr: function(t) {
                    return CKEDITOR.tools.htmlEncode(t).replace(a, "&quot;")
                },
                htmlDecodeAttr: function(t) {
                    return CKEDITOR.tools.htmlDecode(t)
                },
                transformPlainTextToHtml: function(t, e) {
                    var n = e == CKEDITOR.ENTER_BR,
                        i = this.htmlEncode(t.replace(/\r\n/g, "\n")),
                        i = i.replace(/\t/g, "&nbsp;&nbsp; &nbsp;"),
                        o = e == CKEDITOR.ENTER_P ? "p" : "div";
                    if (!n) {
                        var a = /\n{2}/g;
                        if (a.test(i))
                            var s = "<" + o + ">",
                                r = "</" + o + ">",
                                i = s + i.replace(a, function() {
                                    return r + s
                                }) + r
                    }
                    return i = i.replace(/\n/g, "<br>"), n || (i = i.replace(new RegExp("<br>(?=</" + o + ">)"), function(t) {
                        return CKEDITOR.tools.repeat(t, 2)
                    })), i = i.replace(/^ | $/g, "&nbsp;"), i = i.replace(/(>|\s) /g, function(t, e) {
                        return e + "&nbsp;"
                    }).replace(/ (?=<)/g, "&nbsp;")
                },
                getNextNumber: function() {
                    var t = 0;
                    return function() {
                        return ++t
                    }
                }(),
                getNextId: function() {
                    return "cke_" + this.getNextNumber()
                },
                getUniqueId: function() {
                    for (var t = "e", e = 0; 8 > e; e++)
                        t += Math.floor(65536 * (1 + Math.random())).toString(16).substring(1);
                    return t
                },
                override: function(t, e) {
                    var n = e(t);
                    return n.prototype = t.prototype, n
                },
                setTimeout: function(t, e, n, i, o) {
                    return o || (o = window), n || (n = o), o.setTimeout(function() {
                        i ? t.apply(n, [].concat(i)) : t.apply(n)
                    }, e || 0)
                },
                trim: function() {
                    var t = /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g;
                    return function(e) {
                        return e.replace(t, "")
                    }
                }(),
                ltrim: function() {
                    var t = /^[ \t\n\r]+/g;
                    return function(e) {
                        return e.replace(t, "")
                    }
                }(),
                rtrim: function() {
                    var t = /[ \t\n\r]+$/g;
                    return function(e) {
                        return e.replace(t, "")
                    }
                }(),
                indexOf: function(t, e) {
                    if ("function" == typeof e) {
                        for (var n = 0, i = t.length; n < i; n++)
                            if (e(t[n]))
                                return n
                    } else {
                        if (t.indexOf)
                            return t.indexOf(e);
                        for (n = 0, i = t.length; n < i; n++)
                            if (t[n] === e)
                                return n
                    }
                    return -1
                },
                search: function(t, e) {
                    var n = CKEDITOR.tools.indexOf(t, e);
                    return 0 <= n ? t[n] : null
                },
                bind: function(t, e) {
                    return function() {
                        return t.apply(e, arguments)
                    }
                },
                createClass: function(t) {
                    var e = t.$,
                        n = t.base,
                        i = t.privates || t._,
                        o = t.proto;
                    if (t = t.statics, !e && (e = function() {
                        n && this.base.apply(this, arguments)
                    }), i)
                        var a = e,
                            e = function() {
                                var t = this._ || (this._ = {}),
                                    e;
                                for (e in i) {
                                    var n = i[e];
                                    t[e] = "function" == typeof n ? CKEDITOR.tools.bind(n, this) : n
                                }
                                a.apply(this, arguments)
                            };
                    return n && (e.prototype = this.prototypedCopy(n.prototype), e.prototype.constructor = e, e.base = n, e.baseProto = n.prototype, e.prototype.base = function() {
                        this.base = n.prototype.base, n.apply(this, arguments), this.base = arguments.callee
                    }), o && this.extend(e.prototype, o, !0), t && this.extend(e, t, !0), e
                },
                addFunction: function(e, n) {
                    return t.push(function() {
                        return e.apply(n || this, arguments)
                    }) - 1
                },
                removeFunction: function(e) {
                    t[e] = null
                },
                callFunction: function(e) {
                    var n = t[e];
                    return n && n.apply(window, Array.prototype.slice.call(arguments, 1))
                },
                cssLength: function() {
                    var t = /^-?\d+\.?\d*px$/,
                        e;
                    return function(n) {
                        return e = CKEDITOR.tools.trim(n + "") + "px", t.test(e) ? e : n || ""
                    }
                }(),
                convertToPx: function() {
                    var t;
                    return function(e) {
                        return t || (t = CKEDITOR.dom.element.createFromHtml('<div style="position:absolute;left:-9999px;top:-9999px;margin:0px;padding:0px;border:0px;"></div>', CKEDITOR.document), CKEDITOR.document.getBody().append(t)), /%$/.test(e) ? e : (t.setStyle("width", e), t.$.clientWidth)
                    }
                }(),
                repeat: function(t, e) {
                    return Array(e + 1).join(t)
                },
                tryThese: function() {
                    for (var t, e = 0, n = arguments.length; e < n; e++) {
                        var i = arguments[e];
                        try {
                            t = i();
                            break
                        } catch (t) {}
                    }
                    return t
                },
                genKey: function() {
                    return Array.prototype.slice.call(arguments).join("-")
                },
                defer: function(t) {
                    return function() {
                        var e = arguments,
                            n = this;
                        window.setTimeout(function() {
                            t.apply(n, e)
                        }, 0)
                    }
                },
                normalizeCssText: function(t, e) {
                    var n = [],
                        i,
                        o = CKEDITOR.tools.parseCssText(t, !0, e);
                    for (i in o)
                        n.push(i + ":" + o[i]);
                    return n.sort(), n.length ? n.join(";") + ";" : ""
                },
                convertRgbToHex: function(t) {
                    return t.replace(/(?:rgb\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\))/gi, function(t, e, n, i) {
                        for (t = [e, n, i], e = 0; 3 > e; e++)
                            t[e] = ("0" + parseInt(t[e], 10).toString(16)).slice(-2);
                        return "#" + t.join("")
                    })
                },
                normalizeHex: function(t) {
                    return t.replace(/#(([0-9a-f]{3}){1,2})($|;|\s+)/gi, function(t, e, n, i) {
                        return t = e.toLowerCase(), 3 == t.length && (t = t.split(""), t = [t[0], t[0], t[1], t[1], t[2], t[2]].join("")), "#" + t + i
                    })
                },
                parseCssText: function(t, e, n) {
                    var i = {};
                    return n && (t = new CKEDITOR.dom.element("span").setAttribute("style", t).getAttribute("style") || ""), t && (t = CKEDITOR.tools.normalizeHex(CKEDITOR.tools.convertRgbToHex(t))), t && ";" != t ? (t.replace(/&quot;/g, '"').replace(/\s*([^:;\s]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(t, n, o) {
                        e && (n = n.toLowerCase(), "font-family" == n && (o = o.replace(/\s*,\s*/g, ",")), o = CKEDITOR.tools.trim(o)), i[n] = o
                    }), i) : i
                },
                writeCssText: function(t, e) {
                    var n,
                        i = [];
                    for (n in t)
                        i.push(n + ":" + t[n]);
                    return e && i.sort(), i.join("; ")
                },
                objectCompare: function(t, e, n) {
                    var i;
                    if (!t && !e)
                        return !0;
                    if (!t || !e)
                        return !1;
                    for (i in t)
                        if (t[i] != e[i])
                            return !1;
                    if (!n)
                        for (i in e)
                            if (t[i] != e[i])
                                return !1;
                    return !0
                },
                objectKeys: function(t) {
                    var e = [],
                        n;
                    for (n in t)
                        e.push(n);
                    return e
                },
                convertArrayToObject: function(t, e) {
                    var n = {};
                    1 == arguments.length && (e = !0);
                    for (var i = 0, o = t.length; i < o; ++i)
                        n[t[i]] = e;
                    return n
                },
                fixDomain: function() {
                    for (var t;;)
                        try {
                            t = window.parent.document.domain;
                            break
                        } catch (e) {
                            if (!(t = t ? t.replace(/.+?(?:\.|$)/, "") : document.domain))
                                break;
                            document.domain = t
                        }
                    return !!t
                },
                eventsBuffer: function(t, e, n) {
                    function i() {
                        a = (new Date).getTime(), o = !1, n ? e.call(n) : e()
                    }
                    var o,
                        a = 0;
                    return {
                        input: function() {
                            if (!o) {
                                var e = (new Date).getTime() - a;
                                e < t ? o = setTimeout(i, t - e) : i()
                            }
                        },
                        reset: function() {
                            o && clearTimeout(o), o = a = 0
                        }
                    }
                },
                enableHtml5Elements: function(t, e) {
                    for (var n = "abbr article aside audio bdi canvas data datalist details figcaption figure footer header hgroup main mark meter nav output progress section summary time video".split(" "), i = n.length, o; i--;)
                        o = t.createElement(n[i]), e && t.appendChild(o)
                },
                checkIfAnyArrayItemMatches: function(t, e) {
                    for (var n = 0, i = t.length; n < i; ++n)
                        if (t[n].match(e))
                            return !0;
                    return !1
                },
                checkIfAnyObjectPropertyMatches: function(t, e) {
                    for (var n in t)
                        if (n.match(e))
                            return !0;
                    return !1
                },
                keystrokeToString: function(t, e) {
                    var n = 16711680 & e,
                        i = 65535 & e,
                        o = CKEDITOR.env.mac,
                        a = [],
                        s = [];
                    return n & CKEDITOR.CTRL && (a.push(o ? "\u2318" : t[17]), s.push(o ? t[224] : t[17])), n & CKEDITOR.ALT && (a.push(o ? "\u2325" : t[18]), s.push(t[18])), n & CKEDITOR.SHIFT && (a.push(o ? "\u21e7" : t[16]), s.push(t[16])), i && (t[i] ? (a.push(t[i]), s.push(t[i])) : (a.push(String.fromCharCode(i)), s.push(String.fromCharCode(i)))), {
                        display: a.join("+"),
                        aria: s.join("+")
                    }
                },
                transparentImageData: "data:image/gif;base64,R0lGODlhAQABAPABAP///wAAACH5BAEKAAAALAAAAAABAAEAAAICRAEAOw==",
                getCookie: function(t) {
                    t = t.toLowerCase();
                    for (var e = document.cookie.split(";"), n, i, o = 0; o < e.length; o++)
                        if (n = e[o].split("="), (i = decodeURIComponent(CKEDITOR.tools.trim(n[0]).toLowerCase())) === t)
                            return decodeURIComponent(1 < n.length ? n[1] : "");
                    return null
                },
                setCookie: function(t, e) {
                    document.cookie = encodeURIComponent(t) + "=" + encodeURIComponent(e) + ";path=/"
                },
                getCsrfToken: function() {
                    var t = CKEDITOR.tools.getCookie("ckCsrfToken");
                    if (!t || 40 != t.length) {
                        var t = [],
                            e = "";
                        if (window.crypto && window.crypto.getRandomValues)
                            t = new Uint8Array(40), window.crypto.getRandomValues(t);
                        else
                            for (var n = 0; 40 > n; n++)
                                t.push(Math.floor(256 * Math.random()));
                        for (n = 0; n < t.length; n++)
                            var i = "abcdefghijklmnopqrstuvwxyz0123456789".charAt(t[n] % 36),
                                e = e + (.5 < Math.random() ? i.toUpperCase() : i);
                        t = e, CKEDITOR.tools.setCookie("ckCsrfToken", t)
                    }
                    return t
                },
                escapeCss: function(t) {
                    return t ? window.CSS && CSS.escape ? CSS.escape(t) : isNaN(parseInt(t.charAt(0), 10)) ? t : "\\3" + t.charAt(0) + " " + t.substring(1, t.length) : ""
                },
                style: {
                    parse: {
                        _colors: {
                            aliceblue: "#F0F8FF",
                            antiquewhite: "#FAEBD7",
                            aqua: "#00FFFF",
                            aquamarine: "#7FFFD4",
                            azure: "#F0FFFF",
                            beige: "#F5F5DC",
                            bisque: "#FFE4C4",
                            black: "#000000",
                            blanchedalmond: "#FFEBCD",
                            blue: "#0000FF",
                            blueviolet: "#8A2BE2",
                            brown: "#A52A2A",
                            burlywood: "#DEB887",
                            cadetblue: "#5F9EA0",
                            chartreuse: "#7FFF00",
                            chocolate: "#D2691E",
                            coral: "#FF7F50",
                            cornflowerblue: "#6495ED",
                            cornsilk: "#FFF8DC",
                            crimson: "#DC143C",
                            cyan: "#00FFFF",
                            darkblue: "#00008B",
                            darkcyan: "#008B8B",
                            darkgoldenrod: "#B8860B",
                            darkgray: "#A9A9A9",
                            darkgreen: "#006400",
                            darkgrey: "#A9A9A9",
                            darkkhaki: "#BDB76B",
                            darkmagenta: "#8B008B",
                            darkolivegreen: "#556B2F",
                            darkorange: "#FF8C00",
                            darkorchid: "#9932CC",
                            darkred: "#8B0000",
                            darksalmon: "#E9967A",
                            darkseagreen: "#8FBC8F",
                            darkslateblue: "#483D8B",
                            darkslategray: "#2F4F4F",
                            darkslategrey: "#2F4F4F",
                            darkturquoise: "#00CED1",
                            darkviolet: "#9400D3",
                            deeppink: "#FF1493",
                            deepskyblue: "#00BFFF",
                            dimgray: "#696969",
                            dimgrey: "#696969",
                            dodgerblue: "#1E90FF",
                            firebrick: "#B22222",
                            floralwhite: "#FFFAF0",
                            forestgreen: "#228B22",
                            fuchsia: "#FF00FF",
                            gainsboro: "#DCDCDC",
                            ghostwhite: "#F8F8FF",
                            gold: "#FFD700",
                            goldenrod: "#DAA520",
                            gray: "#808080",
                            green: "#008000",
                            greenyellow: "#ADFF2F",
                            grey: "#808080",
                            honeydew: "#F0FFF0",
                            hotpink: "#FF69B4",
                            indianred: "#CD5C5C",
                            indigo: "#4B0082",
                            ivory: "#FFFFF0",
                            khaki: "#F0E68C",
                            lavender: "#E6E6FA",
                            lavenderblush: "#FFF0F5",
                            lawngreen: "#7CFC00",
                            lemonchiffon: "#FFFACD",
                            lightblue: "#ADD8E6",
                            lightcoral: "#F08080",
                            lightcyan: "#E0FFFF",
                            lightgoldenrodyellow: "#FAFAD2",
                            lightgray: "#D3D3D3",
                            lightgreen: "#90EE90",
                            lightgrey: "#D3D3D3",
                            lightpink: "#FFB6C1",
                            lightsalmon: "#FFA07A",
                            lightseagreen: "#20B2AA",
                            lightskyblue: "#87CEFA",
                            lightslategray: "#778899",
                            lightslategrey: "#778899",
                            lightsteelblue: "#B0C4DE",
                            lightyellow: "#FFFFE0",
                            lime: "#00FF00",
                            limegreen: "#32CD32",
                            linen: "#FAF0E6",
                            magenta: "#FF00FF",
                            maroon: "#800000",
                            mediumaquamarine: "#66CDAA",
                            mediumblue: "#0000CD",
                            mediumorchid: "#BA55D3",
                            mediumpurple: "#9370DB",
                            mediumseagreen: "#3CB371",
                            mediumslateblue: "#7B68EE",
                            mediumspringgreen: "#00FA9A",
                            mediumturquoise: "#48D1CC",
                            mediumvioletred: "#C71585",
                            midnightblue: "#191970",
                            mintcream: "#F5FFFA",
                            mistyrose: "#FFE4E1",
                            moccasin: "#FFE4B5",
                            navajowhite: "#FFDEAD",
                            navy: "#000080",
                            oldlace: "#FDF5E6",
                            olive: "#808000",
                            olivedrab: "#6B8E23",
                            orange: "#FFA500",
                            orangered: "#FF4500",
                            orchid: "#DA70D6",
                            palegoldenrod: "#EEE8AA",
                            palegreen: "#98FB98",
                            paleturquoise: "#AFEEEE",
                            palevioletred: "#DB7093",
                            papayawhip: "#FFEFD5",
                            peachpuff: "#FFDAB9",
                            peru: "#CD853F",
                            pink: "#FFC0CB",
                            plum: "#DDA0DD",
                            powderblue: "#B0E0E6",
                            purple: "#800080",
                            rebeccapurple: "#663399",
                            red: "#FF0000",
                            rosybrown: "#BC8F8F",
                            royalblue: "#4169E1",
                            saddlebrown: "#8B4513",
                            salmon: "#FA8072",
                            sandybrown: "#F4A460",
                            seagreen: "#2E8B57",
                            seashell: "#FFF5EE",
                            sienna: "#A0522D",
                            silver: "#C0C0C0",
                            skyblue: "#87CEEB",
                            slateblue: "#6A5ACD",
                            slategray: "#708090",
                            slategrey: "#708090",
                            snow: "#FFFAFA",
                            springgreen: "#00FF7F",
                            steelblue: "#4682B4",
                            tan: "#D2B48C",
                            teal: "#008080",
                            thistle: "#D8BFD8",
                            tomato: "#FF6347",
                            turquoise: "#40E0D0",
                            violet: "#EE82EE",
                            wheat: "#F5DEB3",
                            white: "#FFFFFF",
                            whitesmoke: "#F5F5F5",
                            yellow: "#FFFF00",
                            yellowgreen: "#9ACD32"
                        },
                        _rgbaRegExp: /rgba?\(\s*\d+%?\s*,\s*\d+%?\s*,\s*\d+%?\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                        _hslaRegExp: /hsla?\(\s*[0-9.]+\s*,\s*\d+%\s*,\s*\d+%\s*(?:,\s*[0-9.]+\s*)?\)/gi,
                        background: function(t) {
                            var e = {},
                                n = this._findColor(t);
                            return n.length && (e.color = n[0], CKEDITOR.tools.array.forEach(n, function(e) {
                                t = t.replace(e, "")
                            })), (t = CKEDITOR.tools.trim(t)) && (e.unprocessed = t), e
                        },
                        margin: function(t) {
                            function e(t) {
                                n.top = i[t[0]], n.right = i[t[1]], n.bottom = i[t[2]], n.left = i[t[3]]
                            }
                            var n = {},
                                i = t.match(/(?:\-?[\.\d]+(?:%|\w*)|auto|inherit|initial|unset)/g) || ["0px"];
                            switch (i.length) {
                            case 1:
                                e([0, 0, 0, 0]);
                                break;
                            case 2:
                                e([0, 1, 0, 1]);
                                break;
                            case 3:
                                e([0, 1, 2, 1]);
                                break;
                            case 4:
                                e([0, 1, 2, 3])
                            }
                            return n
                        },
                        _findColor: function(t) {
                            var e = [],
                                n = CKEDITOR.tools.array,
                                e = e.concat(t.match(this._rgbaRegExp) || []),
                                e = e.concat(t.match(this._hslaRegExp) || []);
                            return e = e.concat(n.filter(t.split(/\s+/), function(t) {
                                return !!t.match(/^\#[a-f0-9]{3}(?:[a-f0-9]{3})?$/gi) || t.toLowerCase() in CKEDITOR.tools.style.parse._colors
                            }))
                        }
                    }
                },
                array: {
                    filter: function(t, e, n) {
                        var i = [];
                        return this.forEach(t, function(o, a) {
                            e.call(n, o, a, t) && i.push(o)
                        }), i
                    },
                    forEach: function(t, e, n) {
                        var i = t.length,
                            o;
                        for (o = 0; o < i; o++)
                            e.call(n, t[o], o, t)
                    },
                    map: function(t, e, n) {
                        for (var i = [], o = 0; o < t.length; o++)
                            i.push(e.call(n, t[o], o, t));
                        return i
                    },
                    reduce: function(t, e, n, i) {
                        for (var o = 0; o < t.length; o++)
                            n = e.call(i, n, t[o], o, t);
                        return n
                    }
                },
                object: {
                    findKey: function(t, e) {
                        if ("object" != typeof t)
                            return null;
                        for (var n in t)
                            if (t[n] === e)
                                return n;
                        return null
                    }
                }
            }, CKEDITOR.tools.array.indexOf = CKEDITOR.tools.indexOf, CKEDITOR.tools.array.isArray = CKEDITOR.tools.isArray
        }(), CKEDITOR.dtd = function() {
            var t = CKEDITOR.tools.extend,
                e = function(t, e) {
                    for (var n = CKEDITOR.tools.clone(t), i = 1; i < arguments.length; i++) {
                        e = arguments[i];
                        for (var o in e)
                            delete n[o]
                    }
                    return n
                },
                n = {},
                i = {},
                o = {
                    address: 1,
                    article: 1,
                    aside: 1,
                    blockquote: 1,
                    details: 1,
                    div: 1,
                    dl: 1,
                    fieldset: 1,
                    figure: 1,
                    footer: 1,
                    form: 1,
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1,
                    header: 1,
                    hgroup: 1,
                    hr: 1,
                    main: 1,
                    menu: 1,
                    nav: 1,
                    ol: 1,
                    p: 1,
                    pre: 1,
                    section: 1,
                    table: 1,
                    ul: 1
                },
                a = {
                    command: 1,
                    link: 1,
                    meta: 1,
                    noscript: 1,
                    script: 1,
                    style: 1
                },
                s = {},
                r = {
                    "#": 1
                },
                l = {
                    center: 1,
                    dir: 1,
                    noframes: 1
                };
            return t(n, {
                a: 1,
                abbr: 1,
                area: 1,
                audio: 1,
                b: 1,
                bdi: 1,
                bdo: 1,
                br: 1,
                button: 1,
                canvas: 1,
                cite: 1,
                code: 1,
                command: 1,
                datalist: 1,
                del: 1,
                dfn: 1,
                em: 1,
                embed: 1,
                i: 1,
                iframe: 1,
                img: 1,
                input: 1,
                ins: 1,
                kbd: 1,
                keygen: 1,
                label: 1,
                map: 1,
                mark: 1,
                meter: 1,
                noscript: 1,
                object: 1,
                output: 1,
                progress: 1,
                q: 1,
                ruby: 1,
                s: 1,
                samp: 1,
                script: 1,
                select: 1,
                small: 1,
                span: 1,
                strong: 1,
                sub: 1,
                sup: 1,
                textarea: 1,
                time: 1,
                u: 1,
                "var": 1,
                video: 1,
                wbr: 1
            }, r, {
                acronym: 1,
                applet: 1,
                basefont: 1,
                big: 1,
                font: 1,
                isindex: 1,
                strike: 1,
                style: 1,
                tt: 1
            }), t(i, o, n, l), e = {
                a: e(n, {
                    a: 1,
                    button: 1
                }),
                abbr: n,
                address: i,
                area: s,
                article: i,
                aside: i,
                audio: t({
                    source: 1,
                    track: 1
                }, i),
                b: n,
                base: s,
                bdi: n,
                bdo: n,
                blockquote: i,
                body: i,
                br: s,
                button: e(n, {
                    a: 1,
                    button: 1
                }),
                canvas: n,
                caption: i,
                cite: n,
                code: n,
                col: s,
                colgroup: {
                    col: 1
                },
                command: s,
                datalist: t({
                    option: 1
                }, n),
                dd: i,
                del: n,
                details: t({
                    summary: 1
                }, i),
                dfn: n,
                div: i,
                dl: {
                    dt: 1,
                    dd: 1
                },
                dt: i,
                em: n,
                embed: s,
                fieldset: t({
                    legend: 1
                }, i),
                figcaption: i,
                figure: t({
                    figcaption: 1
                }, i),
                footer: i,
                form: i,
                h1: n,
                h2: n,
                h3: n,
                h4: n,
                h5: n,
                h6: n,
                head: t({
                    title: 1,
                    base: 1
                }, a),
                header: i,
                hgroup: {
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1
                },
                hr: s,
                html: t({
                    head: 1,
                    body: 1
                }, i, a),
                i: n,
                iframe: r,
                img: s,
                input: s,
                ins: n,
                kbd: n,
                keygen: s,
                label: n,
                legend: n,
                li: i,
                link: s,
                main: i,
                map: i,
                mark: n,
                menu: t({
                    li: 1
                }, i),
                meta: s,
                meter: e(n, {
                    meter: 1
                }),
                nav: i,
                noscript: t({
                    link: 1,
                    meta: 1,
                    style: 1
                }, n),
                object: t({
                    param: 1
                }, n),
                ol: {
                    li: 1
                },
                optgroup: {
                    option: 1
                },
                option: r,
                output: n,
                p: n,
                param: s,
                pre: n,
                progress: e(n, {
                    progress: 1
                }),
                q: n,
                rp: n,
                rt: n,
                ruby: t({
                    rp: 1,
                    rt: 1
                }, n),
                s: n,
                samp: n,
                script: r,
                section: i,
                select: {
                    optgroup: 1,
                    option: 1
                },
                small: n,
                source: s,
                span: n,
                strong: n,
                style: r,
                sub: n,
                summary: t({
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1
                }, n),
                sup: n,
                table: {
                    caption: 1,
                    colgroup: 1,
                    thead: 1,
                    tfoot: 1,
                    tbody: 1,
                    tr: 1
                },
                tbody: {
                    tr: 1
                },
                td: i,
                textarea: r,
                tfoot: {
                    tr: 1
                },
                th: i,
                thead: {
                    tr: 1
                },
                time: e(n, {
                    time: 1
                }),
                title: r,
                tr: {
                    th: 1,
                    td: 1
                },
                track: s,
                u: n,
                ul: {
                    li: 1
                },
                "var": n,
                video: t({
                    source: 1,
                    track: 1
                }, i),
                wbr: s,
                acronym: n,
                applet: t({
                    param: 1
                }, i),
                basefont: s,
                big: n,
                center: i,
                dialog: s,
                dir: {
                    li: 1
                },
                font: n,
                isindex: s,
                noframes: i,
                strike: n,
                tt: n
            }, t(e, {
                $block: t({
                    audio: 1,
                    dd: 1,
                    dt: 1,
                    figcaption: 1,
                    li: 1,
                    video: 1
                }, o, l),
                $blockLimit: {
                    article: 1,
                    aside: 1,
                    audio: 1,
                    body: 1,
                    caption: 1,
                    details: 1,
                    dir: 1,
                    div: 1,
                    dl: 1,
                    fieldset: 1,
                    figcaption: 1,
                    figure: 1,
                    footer: 1,
                    form: 1,
                    header: 1,
                    hgroup: 1,
                    main: 1,
                    menu: 1,
                    nav: 1,
                    ol: 1,
                    section: 1,
                    table: 1,
                    td: 1,
                    th: 1,
                    tr: 1,
                    ul: 1,
                    video: 1
                },
                $cdata: {
                    script: 1,
                    style: 1
                },
                $editable: {
                    address: 1,
                    article: 1,
                    aside: 1,
                    blockquote: 1,
                    body: 1,
                    details: 1,
                    div: 1,
                    fieldset: 1,
                    figcaption: 1,
                    footer: 1,
                    form: 1,
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1,
                    header: 1,
                    hgroup: 1,
                    main: 1,
                    nav: 1,
                    p: 1,
                    pre: 1,
                    section: 1
                },
                $empty: {
                    area: 1,
                    base: 1,
                    basefont: 1,
                    br: 1,
                    col: 1,
                    command: 1,
                    dialog: 1,
                    embed: 1,
                    hr: 1,
                    img: 1,
                    input: 1,
                    isindex: 1,
                    keygen: 1,
                    link: 1,
                    meta: 1,
                    param: 1,
                    source: 1,
                    track: 1,
                    wbr: 1
                },
                $inline: n,
                $list: {
                    dl: 1,
                    ol: 1,
                    ul: 1
                },
                $listItem: {
                    dd: 1,
                    dt: 1,
                    li: 1
                },
                $nonBodyContent: t({
                    body: 1,
                    head: 1,
                    html: 1
                }, e.head),
                $nonEditable: {
                    applet: 1,
                    audio: 1,
                    button: 1,
                    embed: 1,
                    iframe: 1,
                    map: 1,
                    object: 1,
                    option: 1,
                    param: 1,
                    script: 1,
                    textarea: 1,
                    video: 1
                },
                $object: {
                    applet: 1,
                    audio: 1,
                    button: 1,
                    hr: 1,
                    iframe: 1,
                    img: 1,
                    input: 1,
                    object: 1,
                    select: 1,
                    table: 1,
                    textarea: 1,
                    video: 1
                },
                $removeEmpty: {
                    abbr: 1,
                    acronym: 1,
                    b: 1,
                    bdi: 1,
                    bdo: 1,
                    big: 1,
                    cite: 1,
                    code: 1,
                    del: 1,
                    dfn: 1,
                    em: 1,
                    font: 1,
                    i: 1,
                    ins: 1,
                    label: 1,
                    kbd: 1,
                    mark: 1,
                    meter: 1,
                    output: 1,
                    q: 1,
                    ruby: 1,
                    s: 1,
                    samp: 1,
                    small: 1,
                    span: 1,
                    strike: 1,
                    strong: 1,
                    sub: 1,
                    sup: 1,
                    time: 1,
                    tt: 1,
                    u: 1,
                    "var": 1
                },
                $tabIndex: {
                    a: 1,
                    area: 1,
                    button: 1,
                    input: 1,
                    object: 1,
                    select: 1,
                    textarea: 1
                },
                $tableContent: {
                    caption: 1,
                    col: 1,
                    colgroup: 1,
                    tbody: 1,
                    td: 1,
                    tfoot: 1,
                    th: 1,
                    thead: 1,
                    tr: 1
                },
                $transparent: {
                    a: 1,
                    audio: 1,
                    canvas: 1,
                    del: 1,
                    ins: 1,
                    map: 1,
                    noscript: 1,
                    object: 1,
                    video: 1
                },
                $intermediate: {
                    caption: 1,
                    colgroup: 1,
                    dd: 1,
                    dt: 1,
                    figcaption: 1,
                    legend: 1,
                    li: 1,
                    optgroup: 1,
                    option: 1,
                    rp: 1,
                    rt: 1,
                    summary: 1,
                    tbody: 1,
                    td: 1,
                    tfoot: 1,
                    th: 1,
                    thead: 1,
                    tr: 1
                }
            }), e
        }(), CKEDITOR.dom.event = function(t) {
            this.$ = t
        }, CKEDITOR.dom.event.prototype = {
            getKey: function() {
                return this.$.keyCode || this.$.which
            },
            getKeystroke: function() {
                var t = this.getKey();
                return (this.$.ctrlKey || this.$.metaKey) && (t += CKEDITOR.CTRL), this.$.shiftKey && (t += CKEDITOR.SHIFT), this.$.altKey && (t += CKEDITOR.ALT), t
            },
            preventDefault: function(t) {
                var e = this.$;
                e.preventDefault ? e.preventDefault() : e.returnValue = !1, t && this.stopPropagation()
            },
            stopPropagation: function() {
                var t = this.$;
                t.stopPropagation ? t.stopPropagation() : t.cancelBubble = !0
            },
            getTarget: function() {
                var t = this.$.target || this.$.srcElement;
                return t ? new CKEDITOR.dom.node(t) : null
            },
            getPhase: function() {
                return this.$.eventPhase || 2
            },
            getPageOffset: function() {
                var t = this.getTarget().getDocument().$;
                return {
                    x: this.$.pageX || this.$.clientX + (t.documentElement.scrollLeft || t.body.scrollLeft),
                    y: this.$.pageY || this.$.clientY + (t.documentElement.scrollTop || t.body.scrollTop)
                }
            }
        }, CKEDITOR.CTRL = 1114112, CKEDITOR.SHIFT = 2228224, CKEDITOR.ALT = 4456448, CKEDITOR.EVENT_PHASE_CAPTURING = 1, CKEDITOR.EVENT_PHASE_AT_TARGET = 2, CKEDITOR.EVENT_PHASE_BUBBLING = 3, CKEDITOR.dom.domObject = function(t) {
            t && (this.$ = t)
        }, CKEDITOR.dom.domObject.prototype = function() {
            var t = function(t, e) {
                return function(n) {
                    "undefined" != typeof CKEDITOR && t.fire(e, new CKEDITOR.dom.event(n))
                }
            };
            return {
                getPrivate: function() {
                    var t;
                    return (t = this.getCustomData("_")) || this.setCustomData("_", t = {}), t
                },
                on: function(e) {
                    var n = this.getCustomData("_cke_nativeListeners");
                    return n || (n = {}, this.setCustomData("_cke_nativeListeners", n)), n[e] || (n = n[e] = t(this, e), this.$.addEventListener ? this.$.addEventListener(e, n, !!CKEDITOR.event.useCapture) : this.$.attachEvent && this.$.attachEvent("on" + e, n)), CKEDITOR.event.prototype.on.apply(this, arguments)
                },
                removeListener: function(t) {
                    if (CKEDITOR.event.prototype.removeListener.apply(this, arguments), !this.hasListeners(t)) {
                        var e = this.getCustomData("_cke_nativeListeners"),
                            n = e && e[t];
                        n && (this.$.removeEventListener ? this.$.removeEventListener(t, n, !1) : this.$.detachEvent && this.$.detachEvent("on" + t, n), delete e[t])
                    }
                },
                removeAllListeners: function() {
                    var t = this.getCustomData("_cke_nativeListeners"),
                        e;
                    for (e in t) {
                        var n = t[e];
                        this.$.detachEvent ? this.$.detachEvent("on" + e, n) : this.$.removeEventListener && this.$.removeEventListener(e, n, !1), delete t[e]
                    }
                    CKEDITOR.event.prototype.removeAllListeners.call(this)
                }
            }
        }(), function(t) {
            var e = {};
            CKEDITOR.on("reset", function() {
                e = {}
            }), t.equals = function(t) {
                try {
                    return t && t.$ === this.$
                } catch (t) {
                    return !1
                }
            }, t.setCustomData = function(t, n) {
                var i = this.getUniqueId();
                return (e[i] || (e[i] = {}))[t] = n, this
            }, t.getCustomData = function(t) {
                var n = this.$["data-cke-expando"];
                return (n = n && e[n]) && t in n ? n[t] : null
            }, t.removeCustomData = function(t) {
                var n = this.$["data-cke-expando"],
                    n = n && e[n],
                    i,
                    o;
                return n && (i = n[t], o = t in n, delete n[t]), o ? i : null
            }, t.clearCustomData = function() {
                this.removeAllListeners();
                var t = this.$["data-cke-expando"];
                t && delete e[t]
            }, t.getUniqueId = function() {
                return this.$["data-cke-expando"] || (this.$["data-cke-expando"] = CKEDITOR.tools.getNextNumber())
            }, CKEDITOR.event.implementOn(t)
        }(CKEDITOR.dom.domObject.prototype), CKEDITOR.dom.node = function(t) {
            return t ? new CKEDITOR.dom[t.nodeType == CKEDITOR.NODE_DOCUMENT ? "document" : t.nodeType == CKEDITOR.NODE_ELEMENT ? "element" : t.nodeType == CKEDITOR.NODE_TEXT ? "text" : t.nodeType == CKEDITOR.NODE_COMMENT ? "comment" : t.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT ? "documentFragment" : "domObject"](t) : this
        }, CKEDITOR.dom.node.prototype = new CKEDITOR.dom.domObject, CKEDITOR.NODE_ELEMENT = 1, CKEDITOR.NODE_DOCUMENT = 9, CKEDITOR.NODE_TEXT = 3, CKEDITOR.NODE_COMMENT = 8, CKEDITOR.NODE_DOCUMENT_FRAGMENT = 11, CKEDITOR.POSITION_IDENTICAL = 0, CKEDITOR.POSITION_DISCONNECTED = 1, CKEDITOR.POSITION_FOLLOWING = 2, CKEDITOR.POSITION_PRECEDING = 4, CKEDITOR.POSITION_IS_CONTAINED = 8, CKEDITOR.POSITION_CONTAINS = 16, CKEDITOR.tools.extend(CKEDITOR.dom.node.prototype, {
            appendTo: function(t, e) {
                return t.append(this, e), t
            },
            clone: function(t, e) {
                function n(i) {
                    if (i["data-cke-expando"] && (i["data-cke-expando"] = !1), (i.nodeType == CKEDITOR.NODE_ELEMENT || i.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && (e || i.nodeType != CKEDITOR.NODE_ELEMENT || i.removeAttribute("id", !1), t)) {
                        i = i.childNodes;
                        for (var o = 0; o < i.length; o++)
                            n(i[o])
                    }
                }
                function i(e) {
                    if (e.type == CKEDITOR.NODE_ELEMENT || e.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                        if (e.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                            var n = e.getName();
                            ":" == n[0] && e.renameNode(n.substring(1))
                        }
                        if (t)
                            for (n = 0; n < e.getChildCount(); n++)
                                i(e.getChild(n))
                    }
                }
                var o = this.$.cloneNode(t);
                return n(o), o = new CKEDITOR.dom.node(o), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (this.type == CKEDITOR.NODE_ELEMENT || this.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT) && i(o), o
            },
            hasPrevious: function() {
                return !!this.$.previousSibling
            },
            hasNext: function() {
                return !!this.$.nextSibling
            },
            insertAfter: function(t) {
                return t.$.parentNode.insertBefore(this.$, t.$.nextSibling), t
            },
            insertBefore: function(t) {
                return t.$.parentNode.insertBefore(this.$, t.$), t
            },
            insertBeforeMe: function(t) {
                return this.$.parentNode.insertBefore(t.$, this.$), t
            },
            getAddress: function(t) {
                for (var e = [], n = this.getDocument().$.documentElement, i = this.$; i && i != n;) {
                    var o = i.parentNode;
                    o && e.unshift(this.getIndex.call({
                        $: i
                    }, t)), i = o
                }
                return e
            },
            getDocument: function() {
                return new CKEDITOR.dom.document(this.$.ownerDocument || this.$.parentNode.ownerDocument)
            },
            getIndex: function(t) {
                function e(t, i) {
                    var o = i ? t.nextSibling : t.previousSibling;
                    return o && o.nodeType == CKEDITOR.NODE_TEXT ? n(o) ? e(o, i) : o : null
                }
                function n(t) {
                    return !t.nodeValue || t.nodeValue == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE
                }
                var i = this.$,
                    o = -1,
                    a;
                if (!this.$.parentNode || t && i.nodeType == CKEDITOR.NODE_TEXT && n(i) && !e(i) && !e(i, !0))
                    return -1;
                do {
                    t && i != this.$ && i.nodeType == CKEDITOR.NODE_TEXT && (a || n(i)) || (o++, a = i.nodeType == CKEDITOR.NODE_TEXT)
                } while (i = i.previousSibling);
                return o
            },
            getNextSourceNode: function(t, e, n) {
                if (n && !n.call) {
                    var i = n;
                    n = function(t) {
                        return !t.equals(i)
                    }
                }
                t = !t && this.getFirst && this.getFirst();
                var o;
                if (!t) {
                    if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0))
                        return null;
                    t = this.getNext()
                }
                for (; !t && (o = (o || this).getParent());) {
                    if (n && !1 === n(o, !0))
                        return null;
                    t = o.getNext()
                }
                return !t || n && !1 === n(t) ? null : e && e != t.type ? t.getNextSourceNode(!1, e, n) : t
            },
            getPreviousSourceNode: function(t, e, n) {
                if (n && !n.call) {
                    var i = n;
                    n = function(t) {
                        return !t.equals(i)
                    }
                }
                t = !t && this.getLast && this.getLast();
                var o;
                if (!t) {
                    if (this.type == CKEDITOR.NODE_ELEMENT && n && !1 === n(this, !0))
                        return null;
                    t = this.getPrevious()
                }
                for (; !t && (o = (o || this).getParent());) {
                    if (n && !1 === n(o, !0))
                        return null;
                    t = o.getPrevious()
                }
                return !t || n && !1 === n(t) ? null : e && t.type != e ? t.getPreviousSourceNode(!1, e, n) : t
            },
            getPrevious: function(t) {
                var e = this.$,
                    n;
                do {
                    n = (e = e.previousSibling) && 10 != e.nodeType && new CKEDITOR.dom.node(e)
                } while (n && t && !t(n));
                return n
            },
            getNext: function(t) {
                var e = this.$,
                    n;
                do {
                    n = (e = e.nextSibling) && new CKEDITOR.dom.node(e)
                } while (n && t && !t(n));
                return n
            },
            getParent: function(t) {
                var e = this.$.parentNode;
                return e && (e.nodeType == CKEDITOR.NODE_ELEMENT || t && e.nodeType == CKEDITOR.NODE_DOCUMENT_FRAGMENT) ? new CKEDITOR.dom.node(e) : null
            },
            getParents: function(t) {
                var e = this,
                    n = [];
                do {
                    n[t ? "push" : "unshift"](e)
                } while (e = e.getParent());
                return n
            },
            getCommonAncestor: function(t) {
                if (t.equals(this))
                    return this;
                if (t.contains && t.contains(this))
                    return t;
                var e = this.contains ? this : this.getParent();
                do {
                    if (e.contains(t))
                        return e
                } while (e = e.getParent());
                return null
            },
            getPosition: function(t) {
                var e = this.$,
                    n = t.$;
                if (e.compareDocumentPosition)
                    return e.compareDocumentPosition(n);
                if (e == n)
                    return CKEDITOR.POSITION_IDENTICAL;
                if (this.type == CKEDITOR.NODE_ELEMENT && t.type == CKEDITOR.NODE_ELEMENT) {
                    if (e.contains) {
                        if (e.contains(n))
                            return CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING;
                        if (n.contains(e))
                            return CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING
                    }
                    if ("sourceIndex" in e)
                        return 0 > e.sourceIndex || 0 > n.sourceIndex ? CKEDITOR.POSITION_DISCONNECTED : e.sourceIndex < n.sourceIndex ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING
                }
                e = this.getAddress(), t = t.getAddress();
                for (var n = Math.min(e.length, t.length), i = 0; i < n; i++)
                    if (e[i] != t[i])
                        return e[i] < t[i] ? CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_FOLLOWING;
                return e.length < t.length ? CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_PRECEDING : CKEDITOR.POSITION_IS_CONTAINED + CKEDITOR.POSITION_FOLLOWING
            },
            getAscendant: function(t, e) {
                var n = this.$,
                    i,
                    o;
                e || (n = n.parentNode), "function" == typeof t ? (o = !0, i = t) : (o = !1, i = function(e) {
                    return e = "string" == typeof e.nodeName ? e.nodeName.toLowerCase() : "", "string" == typeof t ? e == t : e in t
                });
                for (; n;) {
                    if (i(o ? new CKEDITOR.dom.node(n) : n))
                        return new CKEDITOR.dom.node(n);
                    try {
                        n = n.parentNode
                    } catch (t) {
                        n = null
                    }
                }
                return null
            },
            hasAscendant: function(t, e) {
                var n = this.$;
                for (e || (n = n.parentNode); n;) {
                    if (n.nodeName && n.nodeName.toLowerCase() == t)
                        return !0;
                    n = n.parentNode
                }
                return !1
            },
            move: function(t, e) {
                t.append(this.remove(), e)
            },
            remove: function(t) {
                var e = this.$,
                    n = e.parentNode;
                if (n) {
                    if (t)
                        for (; t = e.firstChild;)
                            n.insertBefore(e.removeChild(t), e);
                    n.removeChild(e)
                }
                return this
            },
            replace: function(t) {
                this.insertBefore(t), t.remove()
            },
            trim: function() {
                this.ltrim(), this.rtrim()
            },
            ltrim: function() {
                for (var t; this.getFirst && (t = this.getFirst());) {
                    if (t.type == CKEDITOR.NODE_TEXT) {
                        var e = CKEDITOR.tools.ltrim(t.getText()),
                            n = t.getLength();
                        if (!e) {
                            t.remove();
                            continue
                        }
                        e.length < n && (t.split(n - e.length), this.$.removeChild(this.$.firstChild))
                    }
                    break
                }
            },
            rtrim: function() {
                for (var t; this.getLast && (t = this.getLast());) {
                    if (t.type == CKEDITOR.NODE_TEXT) {
                        var e = CKEDITOR.tools.rtrim(t.getText()),
                            n = t.getLength();
                        if (!e) {
                            t.remove();
                            continue
                        }
                        e.length < n && (t.split(e.length), this.$.lastChild.parentNode.removeChild(this.$.lastChild))
                    }
                    break
                }
                CKEDITOR.env.needsBrFiller && (t = this.$.lastChild) && 1 == t.type && "br" == t.nodeName.toLowerCase() && t.parentNode.removeChild(t)
            },
            isReadOnly: function(t) {
                var e = this;
                if (this.type != CKEDITOR.NODE_ELEMENT && (e = this.getParent()), CKEDITOR.env.edge && e && e.is("textarea", "input") && (t = !0), !t && e && "undefined" != typeof e.$.isContentEditable)
                    return !(e.$.isContentEditable || e.data("cke-editable"));
                for (; e;) {
                    if (e.data("cke-editable"))
                        return !1;
                    if (e.hasAttribute("contenteditable"))
                        return "false" == e.getAttribute("contenteditable");
                    e = e.getParent()
                }
                return !0
            }
        }), CKEDITOR.dom.window = function(t) {
            CKEDITOR.dom.domObject.call(this, t)
        }, CKEDITOR.dom.window.prototype = new CKEDITOR.dom.domObject, CKEDITOR.tools.extend(CKEDITOR.dom.window.prototype, {
            focus: function() {
                this.$.focus()
            },
            getViewPaneSize: function() {
                var t = this.$.document,
                    e = "CSS1Compat" == t.compatMode;
                return {
                    width: (e ? t.documentElement.clientWidth : t.body.clientWidth) || 0,
                    height: (e ? t.documentElement.clientHeight : t.body.clientHeight) || 0
                }
            },
            getScrollPosition: function() {
                var t = this.$;
                return "pageXOffset" in t ? {
                    x: t.pageXOffset || 0,
                    y: t.pageYOffset || 0
                } : (t = t.document, {
                    x: t.documentElement.scrollLeft || t.body.scrollLeft || 0,
                    y: t.documentElement.scrollTop || t.body.scrollTop || 0
                })
            },
            getFrame: function() {
                var t = this.$.frameElement;
                return t ? new CKEDITOR.dom.element.get(t) : null
            }
        }), CKEDITOR.dom.document = function(t) {
            CKEDITOR.dom.domObject.call(this, t)
        }, CKEDITOR.dom.document.prototype = new CKEDITOR.dom.domObject, CKEDITOR.tools.extend(CKEDITOR.dom.document.prototype, {
            type: CKEDITOR.NODE_DOCUMENT,
            appendStyleSheet: function(t) {
                if (this.$.createStyleSheet)
                    this.$.createStyleSheet(t);
                else {
                    var e = new CKEDITOR.dom.element("link");
                    e.setAttributes({
                        rel: "stylesheet",
                        type: "text/css",
                        href: t
                    }), this.getHead().append(e)
                }
            },
            appendStyleText: function(t) {
                if (this.$.createStyleSheet) {
                    var e = this.$.createStyleSheet("");
                    e.cssText = t
                } else {
                    var n = new CKEDITOR.dom.element("style", this);
                    n.append(new CKEDITOR.dom.text(t, this)), this.getHead().append(n)
                }
                return e || n.$.sheet
            },
            createElement: function(t, e) {
                var n = new CKEDITOR.dom.element(t, this);
                return e && (e.attributes && n.setAttributes(e.attributes), e.styles && n.setStyles(e.styles)), n
            },
            createText: function(t) {
                return new CKEDITOR.dom.text(t, this)
            },
            focus: function() {
                this.getWindow().focus()
            },
            getActive: function() {
                var t;
                try {
                    t = this.$.activeElement
                } catch (t) {
                    return null
                }
                return new CKEDITOR.dom.element(t)
            },
            getById: function(t) {
                return (t = this.$.getElementById(t)) ? new CKEDITOR.dom.element(t) : null
            },
            getByAddress: function(t, e) {
                for (var n = this.$.documentElement, i = 0; n && i < t.length; i++) {
                    var o = t[i];
                    if (e)
                        for (var a = -1, s = 0; s < n.childNodes.length; s++) {
                            var r = n.childNodes[s];
                            if ((!0 !== e || 3 != r.nodeType || !r.previousSibling || 3 != r.previousSibling.nodeType) && ++a == o) {
                                n = r;
                                break
                            }
                        }
                    else
                        n = n.childNodes[o]
                }
                return n ? new CKEDITOR.dom.node(n) : null
            },
            getElementsByTag: function(t, e) {
                return CKEDITOR.env.ie && 8 >= document.documentMode || !e || (t = e + ":" + t), new CKEDITOR.dom.nodeList(this.$.getElementsByTagName(t))
            },
            getHead: function() {
                var t = this.$.getElementsByTagName("head")[0];
                return t = t ? new CKEDITOR.dom.element(t) : this.getDocumentElement().append(new CKEDITOR.dom.element("head"), !0)
            },
            getBody: function() {
                return new CKEDITOR.dom.element(this.$.body)
            },
            getDocumentElement: function() {
                return new CKEDITOR.dom.element(this.$.documentElement)
            },
            getWindow: function() {
                return new CKEDITOR.dom.window(this.$.parentWindow || this.$.defaultView)
            },
            write: function(t) {
                this.$.open("text/html", "replace"), CKEDITOR.env.ie && (t = t.replace(/(?:^\s*<!DOCTYPE[^>]*?>)|^/i, '$&\n<script data-cke-temp="1">(' + CKEDITOR.tools.fixDomain + ")();</script>")), this.$.write(t), this.$.close()
            },
            find: function(t) {
                return new CKEDITOR.dom.nodeList(this.$.querySelectorAll(t))
            },
            findOne: function(t) {
                return (t = this.$.querySelector(t)) ? new CKEDITOR.dom.element(t) : null
            },
            _getHtml5ShivFrag: function() {
                var t = this.getCustomData("html5ShivFrag");
                return t || (t = this.$.createDocumentFragment(), CKEDITOR.tools.enableHtml5Elements(t, !0), this.setCustomData("html5ShivFrag", t)), t
            }
        }), CKEDITOR.dom.nodeList = function(t) {
            this.$ = t
        }, CKEDITOR.dom.nodeList.prototype = {
            count: function() {
                return this.$.length
            },
            getItem: function(t) {
                return 0 > t || t >= this.$.length ? null : (t = this.$[t]) ? new CKEDITOR.dom.node(t) : null
            }
        }, CKEDITOR.dom.element = function(t, e) {
            "string" == typeof t && (t = (e ? e.$ : document).createElement(t)), CKEDITOR.dom.domObject.call(this, t)
        }, CKEDITOR.dom.element.get = function(t) {
            return (t = "string" == typeof t ? document.getElementById(t) || document.getElementsByName(t)[0] : t) && (t.$ ? t : new CKEDITOR.dom.element(t))
        }, CKEDITOR.dom.element.prototype = new CKEDITOR.dom.node, CKEDITOR.dom.element.createFromHtml = function(t, e) {
            var n = new CKEDITOR.dom.element("div", e);
            return n.setHtml(t), n.getFirst().remove()
        }, CKEDITOR.dom.element.setMarker = function(t, e, n, i) {
            var o = e.getCustomData("list_marker_id") || e.setCustomData("list_marker_id", CKEDITOR.tools.getNextNumber()).getCustomData("list_marker_id"),
                a = e.getCustomData("list_marker_names") || e.setCustomData("list_marker_names", {}).getCustomData("list_marker_names");
            return t[o] = e, a[n] = 1, e.setCustomData(n, i)
        }, CKEDITOR.dom.element.clearAllMarkers = function(t) {
            for (var e in t)
                CKEDITOR.dom.element.clearMarkers(t, t[e], 1)
        }, CKEDITOR.dom.element.clearMarkers = function(t, e, n) {
            var i = e.getCustomData("list_marker_names"),
                o = e.getCustomData("list_marker_id"),
                a;
            for (a in i)
                e.removeCustomData(a);
            e.removeCustomData("list_marker_names"), n && (e.removeCustomData("list_marker_id"), delete t[o])
        }, function() {
            function t(t, e) {
                return -1 < (" " + t + " ").replace(a, " ").indexOf(" " + e + " ")
            }
            function e(t) {
                var e = !0;
                return t.$.id || (t.$.id = "cke_tmp_" + CKEDITOR.tools.getNextNumber(), e = !1), function() {
                    e || t.removeAttribute("id")
                }
            }
            function n(t, e) {
                var n = CKEDITOR.tools.escapeCss(t.$.id);
                return "#" + n + " " + e.split(/,\s*/).join(", #" + n + " ")
            }
            function i(t) {
                for (var e = 0, n = 0, i = s[t].length; n < i; n++)
                    e += parseFloat(this.getComputedStyle(s[t][n]) || 0, 10) || 0;
                return e
            }
            var o = document.createElement("_").classList,
                o = void 0 !== o && null !== String(o.add).match(/\[Native code\]/gi),
                a = /[\n\t\r]/g;
            CKEDITOR.tools.extend(CKEDITOR.dom.element.prototype, {
                type: CKEDITOR.NODE_ELEMENT,
                addClass: o ? function(t) {
                    return this.$.classList.add(t), this
                } : function(e) {
                    var n = this.$.className;
                    return n && (t(n, e) || (n += " " + e)), this.$.className = n || e, this
                },
                removeClass: o ? function(t) {
                    var e = this.$;
                    return e.classList.remove(t), e.className || e.removeAttribute("class"), this
                } : function(e) {
                    var n = this.getAttribute("class");
                    return n && t(n, e) && ((n = n.replace(new RegExp("(?:^|\\s+)" + e + "(?=\\s|$)"), "").replace(/^\s+/, "")) ? this.setAttribute("class", n) : this.removeAttribute("class")), this
                },
                hasClass: function(e) {
                    return t(this.$.className, e)
                },
                append: function(t, e) {
                    return "string" == typeof t && (t = this.getDocument().createElement(t)), e ? this.$.insertBefore(t.$, this.$.firstChild) : this.$.appendChild(t.$), t
                },
                appendHtml: function(t) {
                    if (this.$.childNodes.length) {
                        var e = new CKEDITOR.dom.element("div", this.getDocument());
                        e.setHtml(t), e.moveChildren(this)
                    } else
                        this.setHtml(t)
                },
                appendText: function(t) {
                    null != this.$.text && CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? this.$.text += t : this.append(new CKEDITOR.dom.text(t))
                },
                appendBogus: function(t) {
                    if (t || CKEDITOR.env.needsBrFiller) {
                        for (t = this.getLast(); t && t.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.rtrim(t.getText());)
                            t = t.getPrevious();
                        t && t.is && t.is("br") || (t = this.getDocument().createElement("br"), CKEDITOR.env.gecko && t.setAttribute("type", "_moz"), this.append(t))
                    }
                },
                breakParent: function(t, e) {
                    var n = new CKEDITOR.dom.range(this.getDocument());
                    n.setStartAfter(this), n.setEndAfter(t);
                    var i = n.extractContents(!1, e || !1),
                        o;
                    if (n.insertNode(this.remove()), CKEDITOR.env.ie && !CKEDITOR.env.edge) {
                        for (n = new CKEDITOR.dom.element("div"); o = i.getFirst();)
                            o.$.style.backgroundColor && (o.$.style.backgroundColor = o.$.style.backgroundColor), n.append(o);
                        n.insertAfter(this), n.remove(!0)
                    } else
                        i.insertAfterNode(this)
                },
                contains: document.compareDocumentPosition ? function(t) {
                    return !!(16 & this.$.compareDocumentPosition(t.$))
                } : function(t) {
                    var e = this.$;
                    return t.type != CKEDITOR.NODE_ELEMENT ? e.contains(t.getParent().$) : e != t.$ && e.contains(t.$)
                },
                focus: function() {
                    function t() {
                        try {
                            this.$.focus()
                        } catch (t) {}
                    }
                    return function(e) {
                        e ? CKEDITOR.tools.setTimeout(t, 100, this) : t.call(this)
                    }
                }(),
                getHtml: function() {
                    var t = this.$.innerHTML;
                    return CKEDITOR.env.ie ? t.replace(/<\?[^>]*>/g, "") : t
                },
                getOuterHtml: function() {
                    if (this.$.outerHTML)
                        return this.$.outerHTML.replace(/<\?[^>]*>/, "");
                    var t = this.$.ownerDocument.createElement("div");
                    return t.appendChild(this.$.cloneNode(!0)), t.innerHTML
                },
                getClientRect: function() {
                    var t = CKEDITOR.tools.extend({}, this.$.getBoundingClientRect());
                    return !t.width && (t.width = t.right - t.left), !t.height && (t.height = t.bottom - t.top), t
                },
                setHtml: CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? function(t) {
                    try {
                        var e = this.$;
                        if (this.getParent())
                            return e.innerHTML = t;
                        var n = this.getDocument()._getHtml5ShivFrag();
                        return n.appendChild(e), e.innerHTML = t, n.removeChild(e), t
                    } catch (n) {
                        for (this.$.innerHTML = "", e = new CKEDITOR.dom.element("body", this.getDocument()), e.$.innerHTML = t, e = e.getChildren(); e.count();)
                            this.append(e.getItem(0));
                        return t
                    }
                } : function(t) {
                    return this.$.innerHTML = t
                },
                setText: function() {
                    var t = document.createElement("p");
                    return t.innerHTML = "x", t = t.textContent, function(e) {
                        this.$[t ? "textContent" : "innerText"] = e
                    }
                }(),
                getAttribute: function() {
                    var t = function(t) {
                        return this.$.getAttribute(t, 2)
                    };
                    return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(t) {
                        switch (t) {
                        case "class":
                            t = "className";
                            break;
                        case "http-equiv":
                            t = "httpEquiv";
                            break;
                        case "name":
                            return this.$.name;
                        case "tabindex":
                            return t = this.$.getAttribute(t, 2), 0 !== t && 0 === this.$.tabIndex && (t = null), t;
                        case "checked":
                            return t = this.$.attributes.getNamedItem(t), (t.specified ? t.nodeValue : this.$.checked) ? "checked" : null;
                        case "hspace":
                        case "value":
                            return this.$[t];
                        case "style":
                            return this.$.style.cssText;
                        case "contenteditable":
                        case "contentEditable":
                            return this.$.attributes.getNamedItem("contentEditable").specified ? this.$.getAttribute("contentEditable") : null
                        }
                        return this.$.getAttribute(t, 2)
                    } : t
                }(),
                getAttributes: function(t) {
                    var e = {},
                        n = this.$.attributes,
                        i;
                    for (t = CKEDITOR.tools.isArray(t) ? t : [], i = 0; i < n.length; i++)
                        -1 === CKEDITOR.tools.indexOf(t, n[i].name) && (e[n[i].name] = n[i].value);
                    return e
                },
                getChildren: function() {
                    return new CKEDITOR.dom.nodeList(this.$.childNodes)
                },
                getComputedStyle: document.defaultView && document.defaultView.getComputedStyle ? function(t) {
                    var e = this.getWindow().$.getComputedStyle(this.$, null);
                    return e ? e.getPropertyValue(t) : ""
                } : function(t) {
                    return this.$.currentStyle[CKEDITOR.tools.cssStyleToDomStyle(t)]
                },
                getDtd: function() {
                    var t = CKEDITOR.dtd[this.getName()];
                    return this.getDtd = function() {
                        return t
                    }, t
                },
                getElementsByTag: CKEDITOR.dom.document.prototype.getElementsByTag,
                getTabIndex: function() {
                    var t = this.$.tabIndex;
                    return 0 !== t || CKEDITOR.dtd.$tabIndex[this.getName()] || 0 === parseInt(this.getAttribute("tabindex"), 10) ? t : -1
                },
                getText: function() {
                    return this.$.textContent || this.$.innerText || ""
                },
                getWindow: function() {
                    return this.getDocument().getWindow()
                },
                getId: function() {
                    return this.$.id || null
                },
                getNameAtt: function() {
                    return this.$.name || null
                },
                getName: function() {
                    var t = this.$.nodeName.toLowerCase();
                    if (CKEDITOR.env.ie && 8 >= document.documentMode) {
                        var e = this.$.scopeName;
                        "HTML" != e && (t = e.toLowerCase() + ":" + t)
                    }
                    return this.getName = function() {
                        return t
                    }, this.getName()
                },
                getValue: function() {
                    return this.$.value
                },
                getFirst: function(t) {
                    var e = this.$.firstChild;
                    return (e = e && new CKEDITOR.dom.node(e)) && t && !t(e) && (e = e.getNext(t)), e
                },
                getLast: function(t) {
                    var e = this.$.lastChild;
                    return (e = e && new CKEDITOR.dom.node(e)) && t && !t(e) && (e = e.getPrevious(t)), e
                },
                getStyle: function(t) {
                    return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)]
                },
                is: function() {
                    var t = this.getName();
                    if ("object" == typeof arguments[0])
                        return !!arguments[0][t];
                    for (var e = 0; e < arguments.length; e++)
                        if (arguments[e] == t)
                            return !0;
                    return !1
                },
                isEditable: function(t) {
                    var e = this.getName();
                    return !(this.isReadOnly() || "none" == this.getComputedStyle("display") || "hidden" == this.getComputedStyle("visibility") || CKEDITOR.dtd.$nonEditable[e] || CKEDITOR.dtd.$empty[e] || this.is("a") && (this.data("cke-saved-name") || this.hasAttribute("name")) && !this.getChildCount()) && (!1 === t || !(!(t = CKEDITOR.dtd[e] || CKEDITOR.dtd.span) || !t["#"]))
                },
                isIdentical: function(t) {
                    var e = this.clone(0, 1);
                    if (t = t.clone(0, 1), e.removeAttributes(["_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name"]), t.removeAttributes(["_moz_dirty", "data-cke-expando", "data-cke-saved-href", "data-cke-saved-name"]), e.$.isEqualNode)
                        return e.$.style.cssText = CKEDITOR.tools.normalizeCssText(e.$.style.cssText), t.$.style.cssText = CKEDITOR.tools.normalizeCssText(t.$.style.cssText), e.$.isEqualNode(t.$);
                    if (e = e.getOuterHtml(), t = t.getOuterHtml(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && this.is("a")) {
                        var n = this.getParent();
                        n.type == CKEDITOR.NODE_ELEMENT && (n = n.clone(), n.setHtml(e), e = n.getHtml(), n.setHtml(t), t = n.getHtml())
                    }
                    return e == t
                },
                isVisible: function() {
                    var t = (this.$.offsetHeight || this.$.offsetWidth) && "hidden" != this.getComputedStyle("visibility"),
                        e,
                        n;
                    return t && CKEDITOR.env.webkit && (e = this.getWindow(), !e.equals(CKEDITOR.document.getWindow()) && (n = e.$.frameElement) && (t = new CKEDITOR.dom.element(n).isVisible())), !!t
                },
                isEmptyInlineRemoveable: function() {
                    if (!CKEDITOR.dtd.$removeEmpty[this.getName()])
                        return !1;
                    for (var t = this.getChildren(), e = 0, n = t.count(); e < n; e++) {
                        var i = t.getItem(e);
                        if ((i.type != CKEDITOR.NODE_ELEMENT || !i.data("cke-bookmark")) && (i.type == CKEDITOR.NODE_ELEMENT && !i.isEmptyInlineRemoveable() || i.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(i.getText())))
                            return !1
                    }
                    return !0
                },
                hasAttributes: CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function() {
                    for (var t = this.$.attributes, e = 0; e < t.length; e++) {
                        var n = t[e];
                        switch (n.nodeName) {
                        case "class":
                            if (this.getAttribute("class"))
                                return !0;
                        case "data-cke-expando":
                            continue;
                        default:
                            if (n.specified)
                                return !0
                        }
                    }
                    return !1
                } : function() {
                    var t = this.$.attributes,
                        e = t.length,
                        n = {
                            "data-cke-expando": 1,
                            _moz_dirty: 1
                        };
                    return 0 < e && (2 < e || !n[t[0].nodeName] || 2 == e && !n[t[1].nodeName])
                },
                hasAttribute: function() {
                    function t(t) {
                        var e = this.$.attributes.getNamedItem(t);
                        if ("input" == this.getName())
                            switch (t) {
                            case "class":
                                return 0 < this.$.className.length;
                            case "checked":
                                return !!this.$.checked;
                            case "value":
                                return t = this.getAttribute("type"), "checkbox" == t || "radio" == t ? "on" != this.$.value : !!this.$.value
                            }
                        return !!e && e.specified
                    }
                    return CKEDITOR.env.ie ? 8 > CKEDITOR.env.version ? function(e) {
                        return "name" == e ? !!this.$.name : t.call(this, e)
                    } : t : function(t) {
                        return !!this.$.attributes.getNamedItem(t)
                    }
                }(),
                hide: function() {
                    this.setStyle("display", "none")
                },
                moveChildren: function(t, e) {
                    var n = this.$;
                    if (t = t.$, n != t) {
                        var i;
                        if (e)
                            for (; i = n.lastChild;)
                                t.insertBefore(n.removeChild(i), t.firstChild);
                        else
                            for (; i = n.firstChild;)
                                t.appendChild(n.removeChild(i))
                    }
                },
                mergeSiblings: function() {
                    function t(t, e, n) {
                        if (e && e.type == CKEDITOR.NODE_ELEMENT) {
                            for (var i = []; e.data("cke-bookmark") || e.isEmptyInlineRemoveable();)
                                if (i.push(e), !(e = n ? e.getNext() : e.getPrevious()) || e.type != CKEDITOR.NODE_ELEMENT)
                                    return;
                            if (t.isIdentical(e)) {
                                for (var o = n ? t.getLast() : t.getFirst(); i.length;)
                                    i.shift().move(t, !n);
                                e.moveChildren(t, !n), e.remove(), o && o.type == CKEDITOR.NODE_ELEMENT && o.mergeSiblings()
                            }
                        }
                    }
                    return function(e) {
                        (!1 === e || CKEDITOR.dtd.$removeEmpty[this.getName()] || this.is("a")) && (t(this, this.getNext(), !0), t(this, this.getPrevious()))
                    }
                }(),
                show: function() {
                    this.setStyles({
                        display: "",
                        visibility: ""
                    })
                },
                setAttribute: function() {
                    var t = function(t, e) {
                        return this.$.setAttribute(t, e), this
                    };
                    return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(e, n) {
                        return "class" == e ? this.$.className = n : "style" == e ? this.$.style.cssText = n : "tabindex" == e ? this.$.tabIndex = n : "checked" == e ? this.$.checked = n : "contenteditable" == e ? t.call(this, "contentEditable", n) : t.apply(this, arguments), this
                    } : CKEDITOR.env.ie8Compat && CKEDITOR.env.secure ? function(e, n) {
                        if ("src" == e && n.match(/^http:\/\//))
                            try {
                                t.apply(this, arguments)
                            } catch (t) {}
                        else
                            t.apply(this, arguments);
                        return this
                    } : t
                }(),
                setAttributes: function(t) {
                    for (var e in t)
                        this.setAttribute(e, t[e]);
                    return this
                },
                setValue: function(t) {
                    return this.$.value = t, this
                },
                removeAttribute: function() {
                    var t = function(t) {
                        this.$.removeAttribute(t)
                    };
                    return CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) ? function(t) {
                        "class" == t ? t = "className" : "tabindex" == t ? t = "tabIndex" : "contenteditable" == t && (t = "contentEditable"), this.$.removeAttribute(t)
                    } : t
                }(),
                removeAttributes: function(t) {
                    if (CKEDITOR.tools.isArray(t))
                        for (var e = 0; e < t.length; e++)
                            this.removeAttribute(t[e]);
                    else
                        for (e in t = t || this.getAttributes())
                            t.hasOwnProperty(e) && this.removeAttribute(e)
                },
                removeStyle: function(t) {
                    var e = this.$.style;
                    if (e.removeProperty || "border" != t && "margin" != t && "padding" != t)
                        e.removeProperty ? e.removeProperty(t) : e.removeAttribute(CKEDITOR.tools.cssStyleToDomStyle(t)), this.$.style.cssText || this.removeAttribute("style");
                    else {
                        var n = ["top", "left", "right", "bottom"],
                            i;
                        "border" == t && (i = ["color", "style", "width"]);
                        for (var e = [], o = 0; o < n.length; o++)
                            if (i)
                                for (var a = 0; a < i.length; a++)
                                    e.push([t, n[o], i[a]].join("-"));
                            else
                                e.push([t, n[o]].join("-"));
                        for (t = 0; t < e.length; t++)
                            this.removeStyle(e[t])
                    }
                },
                setStyle: function(t, e) {
                    return this.$.style[CKEDITOR.tools.cssStyleToDomStyle(t)] = e, this
                },
                setStyles: function(t) {
                    for (var e in t)
                        this.setStyle(e, t[e]);
                    return this
                },
                setOpacity: function(t) {
                    CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? (t = Math.round(100 * t), this.setStyle("filter", 100 <= t ? "" : "progid:DXImageTransform.Microsoft.Alpha(opacity=" + t + ")")) : this.setStyle("opacity", t)
                },
                unselectable: function() {
                    if (this.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "none")), CKEDITOR.env.ie) {
                        this.setAttribute("unselectable", "on");
                        for (var t, e = this.getElementsByTag("*"), n = 0, i = e.count(); n < i; n++)
                            t = e.getItem(n), t.setAttribute("unselectable", "on")
                    }
                },
                getPositionedAncestor: function() {
                    for (var t = this; "html" != t.getName();) {
                        if ("static" != t.getComputedStyle("position"))
                            return t;
                        t = t.getParent()
                    }
                    return null
                },
                getDocumentPosition: function(t) {
                    var e = 0,
                        n = 0,
                        i = this.getDocument(),
                        o = i.getBody(),
                        a = "BackCompat" == i.$.compatMode;
                    if (document.documentElement.getBoundingClientRect && (CKEDITOR.env.ie ? 8 !== CKEDITOR.env.version : 1)) {
                        var s = this.$.getBoundingClientRect(),
                            r = i.$.documentElement,
                            l = r.clientTop || o.$.clientTop || 0,
                            c = r.clientLeft || o.$.clientLeft || 0,
                            u = !0;
                        CKEDITOR.env.ie && (u = i.getDocumentElement().contains(this), i = i.getBody().contains(this), u = a && i || !a && u), u && (CKEDITOR.env.webkit || CKEDITOR.env.ie && 12 <= CKEDITOR.env.version ? (e = o.$.scrollLeft || r.scrollLeft, n = o.$.scrollTop || r.scrollTop) : (n = a ? o.$ : r, e = n.scrollLeft, n = n.scrollTop), e = s.left + e - c, n = s.top + n - l)
                    } else
                        for (l = this, c = null; l && "body" != l.getName() && "html" != l.getName();) {
                            for (e += l.$.offsetLeft - l.$.scrollLeft, n += l.$.offsetTop - l.$.scrollTop, l.equals(this) || (e += l.$.clientLeft || 0, n += l.$.clientTop || 0); c && !c.equals(l);)
                                e -= c.$.scrollLeft, n -= c.$.scrollTop, c = c.getParent();
                            c = l, l = (s = l.$.offsetParent) ? new CKEDITOR.dom.element(s) : null
                        }
                    return t && (s = this.getWindow(), l = t.getWindow(), !s.equals(l) && s.$.frameElement && (t = new CKEDITOR.dom.element(s.$.frameElement).getDocumentPosition(t), e += t.x, n += t.y)), document.documentElement.getBoundingClientRect || !CKEDITOR.env.gecko || a || (e += this.$.clientLeft ? 1 : 0, n += this.$.clientTop ? 1 : 0), {
                        x: e,
                        y: n
                    }
                },
                scrollIntoView: function(t) {
                    var e = this.getParent();
                    if (e)
                        do {
                            if ((e.$.clientWidth && e.$.clientWidth < e.$.scrollWidth || e.$.clientHeight && e.$.clientHeight < e.$.scrollHeight) && !e.is("body") && this.scrollIntoParent(e, t, 1), e.is("html")) {
                                var n = e.getWindow();
                                try {
                                    var i = n.$.frameElement;
                                    i && (e = new CKEDITOR.dom.element(i))
                                } catch (t) {}
                            }
                        } while (e = e.getParent())
                },
                scrollIntoParent: function(t, e, n) {
                    function i(e, n) {
                        /body|html/.test(t.getName()) ? t.getWindow().$.scrollBy(e, n) : (t.$.scrollLeft += e, t.$.scrollTop += n)
                    }
                    function o(t, e) {
                        var n = {
                            x: 0,
                            y: 0
                        };
                        if (!t.is(u ? "body" : "html")) {
                            var i = t.$.getBoundingClientRect();
                            n.x = i.left, n.y = i.top
                        }
                        return i = t.getWindow(), i.equals(e) || (i = o(CKEDITOR.dom.element.get(i.$.frameElement), e), n.x += i.x, n.y += i.y), n
                    }
                    function a(t, e) {
                        return parseInt(t.getComputedStyle("margin-" + e) || 0, 10) || 0
                    }
                    var s,
                        r,
                        l,
                        c;
                    !t && (t = this.getWindow()), l = t.getDocument();
                    var u = "BackCompat" == l.$.compatMode;
                    t instanceof CKEDITOR.dom.window && (t = u ? l.getBody() : l.getDocumentElement()), CKEDITOR.env.webkit && (l = this.getEditor(!1)) && (l._.previousScrollTop = null), l = t.getWindow(), r = o(this, l);
                    var d = o(t, l),
                        h = this.$.offsetHeight;
                    s = this.$.offsetWidth;
                    var f = t.$.clientHeight,
                        p = t.$.clientWidth;
                    l = r.x - a(this, "left") - d.x || 0, c = r.y - a(this, "top") - d.y || 0, s = r.x + s + a(this, "right") - (d.x + p) || 0, r = r.y + h + a(this, "bottom") - (d.y + f) || 0, (0 > c || 0 < r) && i(0, !0 === e ? c : !1 === e ? r : 0 > c ? c : r), n && (0 > l || 0 < s) && i(0 > l ? l : s, 0)
                },
                setState: function(t, e, n) {
                    switch (e = e || "cke", t) {
                    case CKEDITOR.TRISTATE_ON:
                        this.addClass(e + "_on"), this.removeClass(e + "_off"), this.removeClass(e + "_disabled"), n && this.setAttribute("aria-pressed", !0), n && this.removeAttribute("aria-disabled");
                        break;
                    case CKEDITOR.TRISTATE_DISABLED:
                        this.addClass(e + "_disabled"), this.removeClass(e + "_off"), this.removeClass(e + "_on"), n && this.setAttribute("aria-disabled", !0), n && this.removeAttribute("aria-pressed");
                        break;
                    default:
                        this.addClass(e + "_off"), this.removeClass(e + "_on"), this.removeClass(e + "_disabled"), n && this.removeAttribute("aria-pressed"), n && this.removeAttribute("aria-disabled")
                    }
                },
                getFrameDocument: function() {
                    var t = this.$;
                    try {
                        t.contentWindow.document
                    } catch (e) {
                        t.src = t.src
                    }
                    return t && new CKEDITOR.dom.document(t.contentWindow.document)
                },
                copyAttributes: function(t, e) {
                    var n = this.$.attributes;
                    e = e || {};
                    for (var i = 0; i < n.length; i++) {
                        var o = n[i],
                            a = o.nodeName.toLowerCase(),
                            s;
                        a in e || ("checked" == a && (s = this.getAttribute(a)) ? t.setAttribute(a, s) : CKEDITOR.env.ie && !this.hasAttribute(a) || (s = this.getAttribute(a), null === s && (s = o.nodeValue), t.setAttribute(a, s)))
                    }
                    "" !== this.$.style.cssText && (t.$.style.cssText = this.$.style.cssText)
                },
                renameNode: function(t) {
                    if (this.getName() != t) {
                        var e = this.getDocument();
                        t = new CKEDITOR.dom.element(t, e), this.copyAttributes(t), this.moveChildren(t), this.getParent(!0) && this.$.parentNode.replaceChild(t.$, this.$), t.$["data-cke-expando"] = this.$["data-cke-expando"], this.$ = t.$, delete this.getName
                    }
                },
                getChild: function() {
                    function t(t, e) {
                        var n = t.childNodes;
                        if (0 <= e && e < n.length)
                            return n[e]
                    }
                    return function(e) {
                        var n = this.$;
                        if (e.slice)
                            for (e = e.slice(); 0 < e.length && n;)
                                n = t(n, e.shift());
                        else
                            n = t(n, e);
                        return n ? new CKEDITOR.dom.node(n) : null
                    }
                }(),
                getChildCount: function() {
                    return this.$.childNodes.length
                },
                disableContextMenu: function() {
                    function t(t) {
                        return t.type == CKEDITOR.NODE_ELEMENT && t.hasClass("cke_enable_context_menu")
                    }
                    this.on("contextmenu", function(e) {
                        e.data.getTarget().getAscendant(t, !0) || e.data.preventDefault()
                    })
                },
                getDirection: function(t) {
                    return t ? this.getComputedStyle("direction") || this.getDirection() || this.getParent() && this.getParent().getDirection(1) || this.getDocument().$.dir || "ltr" : this.getStyle("direction") || this.getAttribute("dir")
                },
                data: function(t, e) {
                    return t = "data-" + t, void 0 === e ? this.getAttribute(t) : (!1 === e ? this.removeAttribute(t) : this.setAttribute(t, e), null)
                },
                getEditor: function(t) {
                    var e = CKEDITOR.instances,
                        n,
                        i,
                        o;
                    t = t || void 0 === t;
                    for (n in e)
                        if (i = e[n], i.element.equals(this) && i.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || !t && (o = i.editable()) && (o.equals(this) || o.contains(this)))
                            return i;
                    return null
                },
                find: function(t) {
                    var i = e(this);
                    return t = new CKEDITOR.dom.nodeList(this.$.querySelectorAll(n(this, t))), i(), t
                },
                findOne: function(t) {
                    var i = e(this);
                    return t = this.$.querySelector(n(this, t)), i(), t ? new CKEDITOR.dom.element(t) : null
                },
                forEach: function(t, e, n) {
                    if (!(n || e && this.type != e))
                        var i = t(this);
                    if (!1 !== i) {
                        n = this.getChildren();
                        for (var o = 0; o < n.count(); o++)
                            i = n.getItem(o), i.type == CKEDITOR.NODE_ELEMENT ? i.forEach(t, e) : e && i.type != e || t(i)
                    }
                }
            });
            var s = {
                width: ["border-left-width", "border-right-width", "padding-left", "padding-right"],
                height: ["border-top-width", "border-bottom-width", "padding-top", "padding-bottom"]
            };
            CKEDITOR.dom.element.prototype.setSize = function(t, e, n) {
                "number" == typeof e && (!n || CKEDITOR.env.ie && CKEDITOR.env.quirks || (e -= i.call(this, t)), this.setStyle(t, e + "px"))
            }, CKEDITOR.dom.element.prototype.getSize = function(t, e) {
                var n = Math.max(this.$["offset" + CKEDITOR.tools.capitalize(t)], this.$["client" + CKEDITOR.tools.capitalize(t)]) || 0;
                return e && (n -= i.call(this, t)), n
            }
        }(), CKEDITOR.dom.documentFragment = function(t) {
            t = t || CKEDITOR.document, this.$ = t.type == CKEDITOR.NODE_DOCUMENT ? t.$.createDocumentFragment() : t
        }, CKEDITOR.tools.extend(CKEDITOR.dom.documentFragment.prototype, CKEDITOR.dom.element.prototype, {
            type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
            insertAfterNode: function(t) {
                t = t.$, t.parentNode.insertBefore(this.$, t.nextSibling)
            },
            getHtml: function() {
                var t = new CKEDITOR.dom.element("div");
                return this.clone(1, 1).appendTo(t), t.getHtml().replace(/\s*data-cke-expando=".*?"/g, "")
            }
        }, !0, {
            append: 1,
            appendBogus: 1,
            clone: 1,
            getFirst: 1,
            getHtml: 1,
            getLast: 1,
            getParent: 1,
            getNext: 1,
            getPrevious: 1,
            appendTo: 1,
            moveChildren: 1,
            insertBefore: 1,
            insertAfterNode: 1,
            replace: 1,
            trim: 1,
            type: 1,
            ltrim: 1,
            rtrim: 1,
            getDocument: 1,
            getChildCount: 1,
            getChild: 1,
            getChildren: 1
        }), function() {
            function t(t, e) {
                var n = this.range;
                if (this._.end)
                    return null;
                if (!this._.start) {
                    if (this._.start = 1, n.collapsed)
                        return this.end(), null;
                    n.optimize()
                }
                var i,
                    o = n.startContainer;
                i = n.endContainer;
                var a = n.startOffset,
                    s = n.endOffset,
                    r,
                    l = this.guard,
                    c = this.type,
                    u = t ? "getPreviousSourceNode" : "getNextSourceNode";
                if (!t && !this._.guardLTR) {
                    var d = i.type == CKEDITOR.NODE_ELEMENT ? i : i.getParent(),
                        h = i.type == CKEDITOR.NODE_ELEMENT ? i.getChild(s) : i.getNext();
                    this._.guardLTR = function(t, e) {
                        return !(e && d.equals(t) || h && t.equals(h) || t.type == CKEDITOR.NODE_ELEMENT && e && t.equals(n.root))
                    }
                }
                if (t && !this._.guardRTL) {
                    var f = o.type == CKEDITOR.NODE_ELEMENT ? o : o.getParent(),
                        p = o.type == CKEDITOR.NODE_ELEMENT ? a ? o.getChild(a - 1) : null : o.getPrevious();
                    this._.guardRTL = function(t, e) {
                        return !(e && f.equals(t) || p && t.equals(p) || t.type == CKEDITOR.NODE_ELEMENT && e && t.equals(n.root))
                    }
                }
                var m = t ? this._.guardRTL : this._.guardLTR;
                for (r = l ? function(t, e) {
                    return !1 !== m(t, e) && l(t, e)
                } : m, this.current ? i = this.current[u](!1, c, r) : (t ? i.type == CKEDITOR.NODE_ELEMENT && (i = 0 < s ? i.getChild(s - 1) : !1 === r(i, !0) ? null : i.getPreviousSourceNode(!0, c, r)) : (i = o, i.type == CKEDITOR.NODE_ELEMENT && ((i = i.getChild(a)) || (i = !1 === r(o, !0) ? null : o.getNextSourceNode(!0, c, r)))), i && !1 === r(i) && (i = null)); i && !this._.end;) {
                    if (this.current = i, this.evaluator && !1 === this.evaluator(i)) {
                        if (e && this.evaluator)
                            return !1
                    } else if (!e)
                        return i;
                    i = i[u](!1, c, r)
                }
                return this.end(), this.current = null
            }
            function e(e) {
                for (var n, i = null; n = t.call(this, e);)
                    i = n;
                return i
            }
            CKEDITOR.dom.walker = CKEDITOR.tools.createClass({
                $: function(t) {
                    this.range = t, this._ = {}
                },
                proto: {
                    end: function() {
                        this._.end = 1
                    },
                    next: function() {
                        return t.call(this)
                    },
                    previous: function() {
                        return t.call(this, 1)
                    },
                    checkForward: function() {
                        return !1 !== t.call(this, 0, 1)
                    },
                    checkBackward: function() {
                        return !1 !== t.call(this, 1, 1)
                    },
                    lastForward: function() {
                        return e.call(this)
                    },
                    lastBackward: function() {
                        return e.call(this, 1)
                    },
                    reset: function() {
                        delete this.current, this._ = {}
                    }
                }
            });
            var n = {
                    block: 1,
                    "list-item": 1,
                    table: 1,
                    "table-row-group": 1,
                    "table-header-group": 1,
                    "table-footer-group": 1,
                    "table-row": 1,
                    "table-column-group": 1,
                    "table-column": 1,
                    "table-cell": 1,
                    "table-caption": 1
                },
                i = {
                    absolute: 1,
                    fixed: 1
                };
            CKEDITOR.dom.element.prototype.isBlockBoundary = function(t) {
                return !("none" != this.getComputedStyle("float") || this.getComputedStyle("position") in i || !n[this.getComputedStyle("display")]) || !!(this.is(CKEDITOR.dtd.$block) || t && this.is(t))
            }, CKEDITOR.dom.walker.blockBoundary = function(t) {
                return function(e) {
                    return !(e.type == CKEDITOR.NODE_ELEMENT && e.isBlockBoundary(t))
                }
            }, CKEDITOR.dom.walker.listItemBoundary = function() {
                return this.blockBoundary({
                    br: 1
                })
            }, CKEDITOR.dom.walker.bookmark = function(t, e) {
                function n(t) {
                    return t && t.getName && "span" == t.getName() && t.data("cke-bookmark")
                }
                return function(i) {
                    var o,
                        a;
                    return o = i && i.type != CKEDITOR.NODE_ELEMENT && (a = i.getParent()) && n(a), o = t ? o : o || n(i), !!(e ^ o)
                }
            }, CKEDITOR.dom.walker.whitespaces = function(t) {
                return function(e) {
                    var n;
                    return e && e.type == CKEDITOR.NODE_TEXT && (n = !CKEDITOR.tools.trim(e.getText()) || CKEDITOR.env.webkit && e.getText() == CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE), !!(t ^ n)
                }
            }, CKEDITOR.dom.walker.invisible = function(t) {
                var e = CKEDITOR.dom.walker.whitespaces(),
                    n = CKEDITOR.env.webkit ? 1 : 0;
                return function(i) {
                    return e(i) ? i = 1 : (i.type == CKEDITOR.NODE_TEXT && (i = i.getParent()), i = i.$.offsetWidth <= n), !!(t ^ i)
                }
            }, CKEDITOR.dom.walker.nodeType = function(t, e) {
                return function(n) {
                    return !!(e ^ n.type == t)
                }
            }, CKEDITOR.dom.walker.bogus = function(t) {
                function e(t) {
                    return !a(t) && !s(t)
                }
                return function(n) {
                    var i = CKEDITOR.env.needsBrFiller ? n.is && n.is("br") : n.getText && o.test(n.getText());
                    return i && (i = n.getParent(), n = n.getNext(e), i = i.isBlockBoundary() && (!n || n.type == CKEDITOR.NODE_ELEMENT && n.isBlockBoundary())), !!(t ^ i)
                }
            }, CKEDITOR.dom.walker.temp = function(t) {
                return function(e) {
                    return e.type != CKEDITOR.NODE_ELEMENT && (e = e.getParent()), e = e && e.hasAttribute("data-cke-temp"), !!(t ^ e)
                }
            };
            var o = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/,
                a = CKEDITOR.dom.walker.whitespaces(),
                s = CKEDITOR.dom.walker.bookmark(),
                r = CKEDITOR.dom.walker.temp(),
                l = function(t) {
                    return s(t) || a(t) || t.type == CKEDITOR.NODE_ELEMENT && t.is(CKEDITOR.dtd.$inline) && !t.is(CKEDITOR.dtd.$empty)
                };
            CKEDITOR.dom.walker.ignored = function(t) {
                return function(e) {
                    return e = a(e) || s(e) || r(e), !!(t ^ e)
                }
            };
            var c = CKEDITOR.dom.walker.ignored();
            CKEDITOR.dom.walker.empty = function(t) {
                return function(e) {
                    for (var n = 0, i = e.getChildCount(); n < i; ++n)
                        if (!c(e.getChild(n)))
                            return !!t;
                    return !t
                }
            };
            var u = CKEDITOR.dom.walker.empty(),
                d = CKEDITOR.dom.walker.validEmptyBlockContainers = CKEDITOR.tools.extend(function(t) {
                    var e = {},
                        n;
                    for (n in t)
                        CKEDITOR.dtd[n]["#"] && (e[n] = 1);
                    return e
                }(CKEDITOR.dtd.$block), {
                    caption: 1,
                    td: 1,
                    th: 1
                });
            CKEDITOR.dom.walker.editable = function(t) {
                return function(e) {
                    return e = !c(e) && !!(e.type == CKEDITOR.NODE_TEXT || e.type == CKEDITOR.NODE_ELEMENT && (e.is(CKEDITOR.dtd.$inline) || e.is("hr") || "false" == e.getAttribute("contenteditable") || !CKEDITOR.env.needsBrFiller && e.is(d) && u(e))), !!(t ^ e)
                }
            }, CKEDITOR.dom.element.prototype.getBogus = function() {
                var t = this;
                do {
                    t = t.getPreviousSourceNode()
                } while (l(t));
                return !(!t || !(CKEDITOR.env.needsBrFiller ? t.is && t.is("br") : t.getText && o.test(t.getText()))) && t
            }
        }(), CKEDITOR.dom.range = function(t) {
            this.endOffset = this.endContainer = this.startOffset = this.startContainer = null, this.collapsed = !0;
            var e = t instanceof CKEDITOR.dom.document;
            this.document = e ? t : t.getDocument(), this.root = e ? t.getBody() : t
        }, function() {
            function t(t) {
                t.collapsed = t.startContainer && t.endContainer && t.startContainer.equals(t.endContainer) && t.startOffset == t.endOffset
            }
            function e(t, e, n, i, o) {
                function a(t, e, n, i) {
                    var a = n ? t.getPrevious() : t.getNext();
                    return i && l ? a : (u || i ? e.append(t.clone(!0, o), n) : (t.remove(), c && e.append(t)), a)
                }
                function s() {
                    var t,
                        e,
                        n,
                        i = Math.min(T.length, C.length);
                    for (t = 0; t < i; t++)
                        if (e = T[t], n = C[t],
                        !e.equals(n))
                            return t;
                    return t - 1
                }
                function r() {
                    var e = _ - 1,
                        n = v && b && !d.equals(h);
                    e < D - 1 || e < I - 1 || n ? (n ? t.moveToPosition(h, CKEDITOR.POSITION_BEFORE_START) : I == e + 1 && g ? t.moveToPosition(C[e], CKEDITOR.POSITION_BEFORE_END) : t.moveToPosition(C[e + 1], CKEDITOR.POSITION_BEFORE_START), i && (e = T[e + 1]) && e.type == CKEDITOR.NODE_ELEMENT && (n = CKEDITOR.dom.element.createFromHtml('<span data-cke-bookmark="1" style="display:none">&nbsp;</span>', t.document), n.insertAfter(e), e.mergeSiblings(!1), t.moveToBookmark({
                        startNode: n
                    }))) : t.collapse(!0)
                }
                t.optimizeBookmark();
                var l = 0 === e,
                    c = 1 == e,
                    u = 2 == e;
                e = u || c;
                var d = t.startContainer,
                    h = t.endContainer,
                    f = t.startOffset,
                    p = t.endOffset,
                    m,
                    g,
                    v,
                    b,
                    E,
                    y;
                if (u && h.type == CKEDITOR.NODE_TEXT && d.equals(h))
                    d = t.document.createText(d.substring(f, p)), n.append(d);
                else {
                    h.type == CKEDITOR.NODE_TEXT ? u ? y = !0 : h = h.split(p) : 0 < h.getChildCount() ? p >= h.getChildCount() ? (h = h.getChild(p - 1), g = !0) : h = h.getChild(p) : b = g = !0, d.type == CKEDITOR.NODE_TEXT ? u ? E = !0 : d.split(f) : 0 < d.getChildCount() ? 0 === f ? (d = d.getChild(f), m = !0) : d = d.getChild(f - 1) : v = m = !0;
                    for (var T = d.getParents(), C = h.getParents(), _ = s(), D = T.length - 1, I = C.length - 1, O = n, R, k, w, x = -1, S = _; S <= D; S++) {
                        for (k = T[S], w = k.getNext(), S != D || k.equals(C[S]) && D < I ? e && (R = O.append(k.clone(0, o))) : m ? a(k, O, !1, v) : E && O.append(t.document.createText(k.substring(f))); w;) {
                            if (w.equals(C[S])) {
                                x = S;
                                break
                            }
                            w = a(w, O)
                        }
                        O = R
                    }
                    for (O = n, S = _; S <= I; S++)
                        if (n = C[S], w = n.getPrevious(), n.equals(T[S]))
                            e && (O = O.getChild(0));
                        else {
                            if (S != I || n.equals(T[S]) && I < D ? e && (R = O.append(n.clone(0, o))) : g ? a(n, O, !1, b) : y && O.append(t.document.createText(n.substring(0, p))), S > x)
                                for (; w;)
                                    w = a(w, O, !0);
                            O = R
                        }
                    u || r()
                }
            }
            function n() {
                var t = !1,
                    e = CKEDITOR.dom.walker.whitespaces(),
                    n = CKEDITOR.dom.walker.bookmark(!0),
                    i = CKEDITOR.dom.walker.bogus();
                return function(o) {
                    return !(!n(o) && !e(o)) || (i(o) && !t ? t = !0 : !(o.type == CKEDITOR.NODE_TEXT && (o.hasAscendant("pre") || CKEDITOR.tools.trim(o.getText()).length) || o.type == CKEDITOR.NODE_ELEMENT && !o.is(a)))
                }
            }
            function i(t) {
                var e = CKEDITOR.dom.walker.whitespaces(),
                    n = CKEDITOR.dom.walker.bookmark(1);
                return function(i) {
                    return !(!n(i) && !e(i)) || (!t && s(i) || i.type == CKEDITOR.NODE_ELEMENT && i.is(CKEDITOR.dtd.$removeEmpty))
                }
            }
            function o(t) {
                return function() {
                    var e;
                    return this[t ? "getPreviousNode" : "getNextNode"](function(t) {
                        return !e && c(t) && (e = t), l(t) && !(s(t) && t.equals(e))
                    })
                }
            }
            var a = {
                    abbr: 1,
                    acronym: 1,
                    b: 1,
                    bdo: 1,
                    big: 1,
                    cite: 1,
                    code: 1,
                    del: 1,
                    dfn: 1,
                    em: 1,
                    font: 1,
                    i: 1,
                    ins: 1,
                    label: 1,
                    kbd: 1,
                    q: 1,
                    samp: 1,
                    small: 1,
                    span: 1,
                    strike: 1,
                    strong: 1,
                    sub: 1,
                    sup: 1,
                    tt: 1,
                    u: 1,
                    "var": 1
                },
                s = CKEDITOR.dom.walker.bogus(),
                r = /^[\t\r\n ]*(?:&nbsp;|\xa0)$/,
                l = CKEDITOR.dom.walker.editable(),
                c = CKEDITOR.dom.walker.ignored(!0);
            CKEDITOR.dom.range.prototype = {
                clone: function() {
                    var t = new CKEDITOR.dom.range(this.root);
                    return t._setStartContainer(this.startContainer), t.startOffset = this.startOffset, t._setEndContainer(this.endContainer), t.endOffset = this.endOffset, t.collapsed = this.collapsed, t
                },
                collapse: function(t) {
                    t ? (this._setEndContainer(this.startContainer), this.endOffset = this.startOffset) : (this._setStartContainer(this.endContainer), this.startOffset = this.endOffset), this.collapsed = !0
                },
                cloneContents: function(t) {
                    var n = new CKEDITOR.dom.documentFragment(this.document);
                    return this.collapsed || e(this, 2, n, !1, void 0 === t || t), n
                },
                deleteContents: function(t) {
                    this.collapsed || e(this, 0, null, t)
                },
                extractContents: function(t, n) {
                    var i = new CKEDITOR.dom.documentFragment(this.document);
                    return this.collapsed || e(this, 1, i, t, void 0 === n || n), i
                },
                createBookmark: function(t) {
                    var e,
                        n,
                        i,
                        o,
                        a = this.collapsed;
                    return e = this.document.createElement("span"), e.data("cke-bookmark", 1), e.setStyle("display", "none"), e.setHtml("&nbsp;"), t && (i = "cke_bm_" + CKEDITOR.tools.getNextNumber(), e.setAttribute("id", i + (a ? "C" : "S"))), a || (n = e.clone(), n.setHtml("&nbsp;"), t && n.setAttribute("id", i + "E"), o = this.clone(), o.collapse(), o.insertNode(n)), o = this.clone(), o.collapse(!0), o.insertNode(e), n ? (this.setStartAfter(e), this.setEndBefore(n)) : this.moveToPosition(e, CKEDITOR.POSITION_AFTER_END), {
                        startNode: t ? i + (a ? "C" : "S") : e,
                        endNode: t ? i + "E" : n,
                        serializable: t,
                        collapsed: a
                    }
                },
                createBookmark2: function() {
                    function t(t) {
                        var e = t.container,
                            i = t.offset,
                            o;
                        o = e;
                        var a = i;
                        if (o = o.type != CKEDITOR.NODE_ELEMENT || 0 === a || a == o.getChildCount() ? 0 : o.getChild(a - 1).type == CKEDITOR.NODE_TEXT && o.getChild(a).type == CKEDITOR.NODE_TEXT, o && (e = e.getChild(i - 1), i = e.getLength()), e.type == CKEDITOR.NODE_ELEMENT && 0 < i) {
                            t:
                            {
                                for (o = e; i--;)
                                    if (0 <= (a = o.getChild(i).getIndex(!0))) {
                                        i = a;
                                        break t
                                    }
                                i = -1
                            }i += 1
                        }
                        if (e.type == CKEDITOR.NODE_TEXT) {
                            for (o = e, a = 0; (o = o.getPrevious()) && o.type == CKEDITOR.NODE_TEXT;)
                                a += o.getText().replace(CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE, "").length;
                            o = a, e.getText() ? i += o : (a = e.getPrevious(n), o ? (i = o, e = a ? a.getNext() : e.getParent().getFirst()) : (e = e.getParent(), i = a ? a.getIndex(!0) + 1 : 0))
                        }
                        t.container = e, t.offset = i
                    }
                    function e(t, e) {
                        var n = e.getCustomData("cke-fillingChar");
                        if (n) {
                            var i = t.container;
                            n.equals(i) && (t.offset -= CKEDITOR.dom.selection.FILLING_CHAR_SEQUENCE.length, 0 >= t.offset && (t.offset = i.getIndex(), t.container = i.getParent()))
                        }
                    }
                    var n = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_TEXT, !0);
                    return function(n) {
                        var i = this.collapsed,
                            o = {
                                container: this.startContainer,
                                offset: this.startOffset
                            },
                            a = {
                                container: this.endContainer,
                                offset: this.endOffset
                            };
                        return n && (t(o), e(o, this.root), i || (t(a), e(a, this.root))), {
                            start: o.container.getAddress(n),
                            end: i ? null : a.container.getAddress(n),
                            startOffset: o.offset,
                            endOffset: a.offset,
                            normalized: n,
                            collapsed: i,
                            is2: !0
                        }
                    }
                }(),
                moveToBookmark: function(t) {
                    if (t.is2) {
                        var e = this.document.getByAddress(t.start, t.normalized),
                            n = t.startOffset,
                            i = t.end && this.document.getByAddress(t.end, t.normalized);
                        t = t.endOffset, this.setStart(e, n), i ? this.setEnd(i, t) : this.collapse(!0)
                    } else
                        e = (n = t.serializable) ? this.document.getById(t.startNode) : t.startNode, t = n ? this.document.getById(t.endNode) : t.endNode, this.setStartBefore(e), e.remove(), t ? (this.setEndBefore(t), t.remove()) : this.collapse(!0)
                },
                getBoundaryNodes: function() {
                    var t = this.startContainer,
                        e = this.endContainer,
                        n = this.startOffset,
                        i = this.endOffset,
                        o;
                    if (t.type == CKEDITOR.NODE_ELEMENT)
                        if ((o = t.getChildCount()) > n)
                            t = t.getChild(n);
                        else if (1 > o)
                            t = t.getPreviousSourceNode();
                        else {
                            for (t = t.$; t.lastChild;)
                                t = t.lastChild;
                            t = new CKEDITOR.dom.node(t), t = t.getNextSourceNode() || t
                        }
                    if (e.type == CKEDITOR.NODE_ELEMENT)
                        if ((o = e.getChildCount()) > i)
                            e = e.getChild(i).getPreviousSourceNode(!0);
                        else if (1 > o)
                            e = e.getPreviousSourceNode();
                        else {
                            for (e = e.$; e.lastChild;)
                                e = e.lastChild;
                            e = new CKEDITOR.dom.node(e)
                        }
                    return t.getPosition(e) & CKEDITOR.POSITION_FOLLOWING && (t = e), {
                        startNode: t,
                        endNode: e
                    }
                },
                getCommonAncestor: function(t, e) {
                    var n = this.startContainer,
                        i = this.endContainer,
                        n = n.equals(i) ? t && n.type == CKEDITOR.NODE_ELEMENT && this.startOffset == this.endOffset - 1 ? n.getChild(this.startOffset) : n : n.getCommonAncestor(i);
                    return e && !n.is ? n.getParent() : n
                },
                optimize: function() {
                    var t = this.startContainer,
                        e = this.startOffset;
                    t.type != CKEDITOR.NODE_ELEMENT && (e ? e >= t.getLength() && this.setStartAfter(t) : this.setStartBefore(t)), t = this.endContainer, e = this.endOffset, t.type != CKEDITOR.NODE_ELEMENT && (e ? e >= t.getLength() && this.setEndAfter(t) : this.setEndBefore(t))
                },
                optimizeBookmark: function() {
                    var t = this.startContainer,
                        e = this.endContainer;
                    t.is && t.is("span") && t.data("cke-bookmark") && this.setStartAt(t, CKEDITOR.POSITION_BEFORE_START), e && e.is && e.is("span") && e.data("cke-bookmark") && this.setEndAt(e, CKEDITOR.POSITION_AFTER_END)
                },
                trim: function(t, e) {
                    var n = this.startContainer,
                        i = this.startOffset,
                        o = this.collapsed;
                    if ((!t || o) && n && n.type == CKEDITOR.NODE_TEXT) {
                        if (i)
                            if (i >= n.getLength())
                                i = n.getIndex() + 1, n = n.getParent();
                            else {
                                var a = n.split(i),
                                    i = n.getIndex() + 1,
                                    n = n.getParent();
                                this.startContainer.equals(this.endContainer) ? this.setEnd(a, this.endOffset - this.startOffset) : n.equals(this.endContainer) && (this.endOffset += 1)
                            }
                        else
                            i = n.getIndex(), n = n.getParent();
                        if (this.setStart(n, i), o)
                            return void this.collapse(!0)
                    }
                    n = this.endContainer, i = this.endOffset, e || o || !n || n.type != CKEDITOR.NODE_TEXT || (i ? (i >= n.getLength() || n.split(i), i = n.getIndex() + 1) : i = n.getIndex(), n = n.getParent(), this.setEnd(n, i))
                },
                enlarge: function(t, e) {
                    function n(t) {
                        return t && t.type == CKEDITOR.NODE_ELEMENT && t.hasAttribute("contenteditable") ? null : t
                    }
                    var i = new RegExp(/[^\s\ufeff]/);
                    switch (t) {
                    case CKEDITOR.ENLARGE_INLINE:
                        var o = 1;
                    case CKEDITOR.ENLARGE_ELEMENT:
                        var a = function(t, e) {
                            var n = new CKEDITOR.dom.range(r);
                            n.setStart(t, e), n.setEndAt(r, CKEDITOR.POSITION_BEFORE_END);
                            var n = new CKEDITOR.dom.walker(n),
                                o;
                            for (n.guard = function(t) {
                                return !(t.type == CKEDITOR.NODE_ELEMENT && t.isBlockBoundary())
                            }; o = n.next();) {
                                if (o.type != CKEDITOR.NODE_TEXT)
                                    return !1;
                                if (m = o != t ? o.getText() : o.substring(e), i.test(m))
                                    return !1
                            }
                            return !0
                        };
                        if (this.collapsed)
                            break;
                        var s = this.getCommonAncestor(),
                            r = this.root,
                            l,
                            c,
                            u,
                            d,
                            h,
                            f = !1,
                            p,
                            m;
                        p = this.startContainer;
                        var g = this.startOffset;
                        for (p.type == CKEDITOR.NODE_TEXT ? (g && (p = !CKEDITOR.tools.trim(p.substring(0, g)).length && p, f = !!p), p && ((d = p.getPrevious()) || (u = p.getParent()))) : (g && (d = p.getChild(g - 1) || p.getLast()), d || (u = p)), u = n(u); u || d;) {
                            if (u && !d) {
                                if (!h && u.equals(s) && (h = !0), o ? u.isBlockBoundary() : !r.contains(u))
                                    break;
                                f && "inline" == u.getComputedStyle("display") || (f = !1, h ? l = u : this.setStartBefore(u)), d = u.getPrevious()
                            }
                            for (; d;)
                                if (p = !1, d.type == CKEDITOR.NODE_COMMENT)
                                    d = d.getPrevious();
                                else {
                                    if (d.type == CKEDITOR.NODE_TEXT)
                                        m = d.getText(), i.test(m) && (d = null), p = /[\s\ufeff]$/.test(m);
                                    else if ((d.$.offsetWidth > (CKEDITOR.env.webkit ? 1 : 0) || e && d.is("br")) && !d.data("cke-bookmark"))
                                        if (f && CKEDITOR.dtd.$removeEmpty[d.getName()]) {
                                            if (m = d.getText(), i.test(m))
                                                d = null;
                                            else
                                                for (var g = d.$.getElementsByTagName("*"), v = 0, b; b = g[v++];)
                                                    if (!CKEDITOR.dtd.$removeEmpty[b.nodeName.toLowerCase()]) {
                                                        d = null;
                                                        break
                                                    }
                                            d && (p = !!m.length)
                                        } else
                                            d = null;
                                    if (p && (f ? h ? l = u : u && this.setStartBefore(u) : f = !0), d) {
                                        if (p = d.getPrevious(), !u && !p) {
                                            u = d, d = null;
                                            break
                                        }
                                        d = p
                                    } else
                                        u = null
                                }
                            u && (u = n(u.getParent()))
                        }
                        for (p = this.endContainer, g = this.endOffset, u = d = null, h = f = !1, p.type == CKEDITOR.NODE_TEXT ? CKEDITOR.tools.trim(p.substring(g)).length ? f = !0 : (f = !p.getLength(), g == p.getLength() ? (d = p.getNext()) || (u = p.getParent()) : a(p, g) && (u = p.getParent())) : (d = p.getChild(g)) || (u = p); u || d;) {
                            if (u && !d) {
                                if (!h && u.equals(s) && (h = !0), o ? u.isBlockBoundary() : !r.contains(u))
                                    break;
                                f && "inline" == u.getComputedStyle("display") || (f = !1, h ? c = u : u && this.setEndAfter(u)), d = u.getNext()
                            }
                            for (; d;) {
                                if (p = !1, d.type == CKEDITOR.NODE_TEXT)
                                    m = d.getText(), a(d, 0) || (d = null), p = /^[\s\ufeff]/.test(m);
                                else if (d.type == CKEDITOR.NODE_ELEMENT) {
                                    if ((0 < d.$.offsetWidth || e && d.is("br")) && !d.data("cke-bookmark"))
                                        if (f && CKEDITOR.dtd.$removeEmpty[d.getName()]) {
                                            if (m = d.getText(), i.test(m))
                                                d = null;
                                            else
                                                for (g = d.$.getElementsByTagName("*"), v = 0; b = g[v++];)
                                                    if (!CKEDITOR.dtd.$removeEmpty[b.nodeName.toLowerCase()]) {
                                                        d = null;
                                                        break
                                                    }
                                            d && (p = !!m.length)
                                        } else
                                            d = null
                                } else
                                    p = 1;
                                if (p && f && (h ? c = u : this.setEndAfter(u)), d) {
                                    if (p = d.getNext(), !u && !p) {
                                        u = d, d = null;
                                        break
                                    }
                                    d = p
                                } else
                                    u = null
                            }
                            u && (u = n(u.getParent()))
                        }
                        l && c && (s = l.contains(c) ? c : l, this.setStartBefore(s), this.setEndAfter(s));
                        break;
                    case CKEDITOR.ENLARGE_BLOCK_CONTENTS:
                    case CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS:
                        u = new CKEDITOR.dom.range(this.root), r = this.root, u.setStartAt(r, CKEDITOR.POSITION_AFTER_START), u.setEnd(this.startContainer, this.startOffset), u = new CKEDITOR.dom.walker(u);
                        var E,
                            y,
                            T = CKEDITOR.dom.walker.blockBoundary(t == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? {
                                br: 1
                            } : null),
                            C = null,
                            _ = function(t) {
                                if (t.type == CKEDITOR.NODE_ELEMENT && "false" == t.getAttribute("contenteditable"))
                                    if (C) {
                                        if (C.equals(t))
                                            return void (C = null)
                                    } else
                                        C = t;
                                else if (C)
                                    return;
                                var e = T(t);
                                return e || (E = t), e
                            },
                            o = function(t) {
                                var e = _(t);
                                return !e && t.is && t.is("br") && (y = t), e
                            };
                        if (u.guard = _, u = u.lastBackward(), E = E || r, this.setStartAt(E, !E.is("br") && (!u && this.checkStartOfBlock() || u && E.contains(u)) ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_AFTER_END), t == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS) {
                            u = this.clone(), u = new CKEDITOR.dom.walker(u);
                            var D = CKEDITOR.dom.walker.whitespaces(),
                                I = CKEDITOR.dom.walker.bookmark();
                            if (u.evaluator = function(t) {
                                return !D(t) && !I(t)
                            }, (u = u.previous()) && u.type == CKEDITOR.NODE_ELEMENT && u.is("br"))
                                break
                        }
                        u = this.clone(), u.collapse(), u.setEndAt(r, CKEDITOR.POSITION_BEFORE_END), u = new CKEDITOR.dom.walker(u), u.guard = t == CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS ? o : _, E = C = y = null, u = u.lastForward(), E = E || r, this.setEndAt(E, !u && this.checkEndOfBlock() || u && E.contains(u) ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_BEFORE_START), y && this.setEndAfter(y)
                    }
                },
                shrink: function(t, e, n) {
                    var i = "boolean" == typeof n ? n : !n || "boolean" != typeof n.shrinkOnBlockBoundary || n.shrinkOnBlockBoundary,
                        o = n && n.skipBogus;
                    if (!this.collapsed) {
                        t = t || CKEDITOR.SHRINK_TEXT;
                        var a = this.clone(),
                            s = this.startContainer,
                            r = this.endContainer,
                            l = this.startOffset,
                            c = this.endOffset,
                            u = n = 1;
                        s && s.type == CKEDITOR.NODE_TEXT && (l ? l >= s.getLength() ? a.setStartAfter(s) : (a.setStartBefore(s), n = 0) : a.setStartBefore(s)), r && r.type == CKEDITOR.NODE_TEXT && (c ? c >= r.getLength() ? a.setEndAfter(r) : (a.setEndAfter(r), u = 0) : a.setEndBefore(r));
                        var a = new CKEDITOR.dom.walker(a),
                            d = CKEDITOR.dom.walker.bookmark(),
                            h = CKEDITOR.dom.walker.bogus();
                        a.evaluator = function(e) {
                            return e.type == (t == CKEDITOR.SHRINK_ELEMENT ? CKEDITOR.NODE_ELEMENT : CKEDITOR.NODE_TEXT)
                        };
                        var f;
                        return a.guard = function(e, n) {
                            return !!(o && h(e) || d(e)) || !(t == CKEDITOR.SHRINK_ELEMENT && e.type == CKEDITOR.NODE_TEXT || n && e.equals(f) || !1 === i && e.type == CKEDITOR.NODE_ELEMENT && e.isBlockBoundary() || e.type == CKEDITOR.NODE_ELEMENT && e.hasAttribute("contenteditable")) && (n || e.type != CKEDITOR.NODE_ELEMENT || (f = e), !0)
                        }, n && (s = a[t == CKEDITOR.SHRINK_ELEMENT ? "lastForward" : "next"]()) && this.setStartAt(s, e ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_START), u && (a.reset(), (a = a[t == CKEDITOR.SHRINK_ELEMENT ? "lastBackward" : "previous"]()) && this.setEndAt(a, e ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_END)), !(!n && !u)
                    }
                },
                insertNode: function(t) {
                    this.optimizeBookmark(), this.trim(!1, !0);
                    var e = this.startContainer,
                        n = e.getChild(this.startOffset);
                    n ? t.insertBefore(n) : e.append(t), t.getParent() && t.getParent().equals(this.endContainer) && this.endOffset++, this.setStartBefore(t)
                },
                moveToPosition: function(t, e) {
                    this.setStartAt(t, e), this.collapse(!0)
                },
                moveToRange: function(t) {
                    this.setStart(t.startContainer, t.startOffset), this.setEnd(t.endContainer, t.endOffset)
                },
                selectNodeContents: function(t) {
                    this.setStart(t, 0), this.setEnd(t, t.type == CKEDITOR.NODE_TEXT ? t.getLength() : t.getChildCount())
                },
                setStart: function(e, n) {
                    e.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[e.getName()] && (n = e.getIndex(), e = e.getParent()), this._setStartContainer(e), this.startOffset = n, this.endContainer || (this._setEndContainer(e), this.endOffset = n), t(this)
                },
                setEnd: function(e, n) {
                    e.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$empty[e.getName()] && (n = e.getIndex() + 1, e = e.getParent()), this._setEndContainer(e), this.endOffset = n, this.startContainer || (this._setStartContainer(e), this.startOffset = n), t(this)
                },
                setStartAfter: function(t) {
                    this.setStart(t.getParent(), t.getIndex() + 1)
                },
                setStartBefore: function(t) {
                    this.setStart(t.getParent(), t.getIndex())
                },
                setEndAfter: function(t) {
                    this.setEnd(t.getParent(), t.getIndex() + 1)
                },
                setEndBefore: function(t) {
                    this.setEnd(t.getParent(), t.getIndex())
                },
                setStartAt: function(e, n) {
                    switch (n) {
                    case CKEDITOR.POSITION_AFTER_START:
                        this.setStart(e, 0);
                        break;
                    case CKEDITOR.POSITION_BEFORE_END:
                        e.type == CKEDITOR.NODE_TEXT ? this.setStart(e, e.getLength()) : this.setStart(e, e.getChildCount());
                        break;
                    case CKEDITOR.POSITION_BEFORE_START:
                        this.setStartBefore(e);
                        break;
                    case CKEDITOR.POSITION_AFTER_END:
                        this.setStartAfter(e)
                    }
                    t(this)
                },
                setEndAt: function(e, n) {
                    switch (n) {
                    case CKEDITOR.POSITION_AFTER_START:
                        this.setEnd(e, 0);
                        break;
                    case CKEDITOR.POSITION_BEFORE_END:
                        e.type == CKEDITOR.NODE_TEXT ? this.setEnd(e, e.getLength()) : this.setEnd(e, e.getChildCount());
                        break;
                    case CKEDITOR.POSITION_BEFORE_START:
                        this.setEndBefore(e);
                        break;
                    case CKEDITOR.POSITION_AFTER_END:
                        this.setEndAfter(e)
                    }
                    t(this)
                },
                fixBlock: function(t, e) {
                    var n = this.createBookmark(),
                        i = this.document.createElement(e);
                    this.collapse(t), this.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), this.extractContents().appendTo(i), i.trim(), this.insertNode(i);
                    var o = i.getBogus();
                    return o && o.remove(), i.appendBogus(), this.moveToBookmark(n), i
                },
                splitBlock: function(t, e) {
                    var n = new CKEDITOR.dom.elementPath(this.startContainer, this.root),
                        i = new CKEDITOR.dom.elementPath(this.endContainer, this.root),
                        o = n.block,
                        a = i.block,
                        s = null;
                    return n.blockLimit.equals(i.blockLimit) ? ("br" != t && (o || (o = this.fixBlock(!0, t), a = new CKEDITOR.dom.elementPath(this.endContainer, this.root).block), a || (a = this.fixBlock(!1, t))), n = o && this.checkStartOfBlock(), i = a && this.checkEndOfBlock(), this.deleteContents(), o && o.equals(a) && (i ? (s = new CKEDITOR.dom.elementPath(this.startContainer, this.root), this.moveToPosition(a, CKEDITOR.POSITION_AFTER_END), a = null) : n ? (s = new CKEDITOR.dom.elementPath(this.startContainer, this.root), this.moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), o = null) : (a = this.splitElement(o, e || !1), o.is("ul", "ol") || o.appendBogus())), {
                        previousBlock: o,
                        nextBlock: a,
                        wasStartOfBlock: n,
                        wasEndOfBlock: i,
                        elementPath: s
                    }) : null
                },
                splitElement: function(t, e) {
                    if (!this.collapsed)
                        return null;
                    this.setEndAt(t, CKEDITOR.POSITION_BEFORE_END);
                    var n = this.extractContents(!1, e || !1),
                        i = t.clone(!1, e || !1);
                    return n.appendTo(i), i.insertAfter(t), this.moveToPosition(t, CKEDITOR.POSITION_AFTER_END), i
                },
                removeEmptyBlocksAtEnd: function() {
                    function t(t) {
                        return function(i) {
                            return !(e(i) || n(i) || i.type == CKEDITOR.NODE_ELEMENT && i.isEmptyInlineRemoveable() || t.is("table") && i.is("caption"))
                        }
                    }
                    var e = CKEDITOR.dom.walker.whitespaces(),
                        n = CKEDITOR.dom.walker.bookmark(!1);
                    return function(e) {
                        for (var n = this.createBookmark(), i = this[e ? "endPath" : "startPath"](), o = i.block || i.blockLimit, a; o && !o.equals(i.root) && !o.getFirst(t(o));)
                            a = o.getParent(), this[e ? "setEndAt" : "setStartAt"](o, CKEDITOR.POSITION_AFTER_END), o.remove(1), o = a;
                        this.moveToBookmark(n)
                    }
                }(),
                startPath: function() {
                    return new CKEDITOR.dom.elementPath(this.startContainer, this.root)
                },
                endPath: function() {
                    return new CKEDITOR.dom.elementPath(this.endContainer, this.root)
                },
                checkBoundaryOfElement: function(t, e) {
                    var n = e == CKEDITOR.START,
                        o = this.clone();
                    return o.collapse(n), o[n ? "setStartAt" : "setEndAt"](t, n ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), o = new CKEDITOR.dom.walker(o), o.evaluator = i(n), o[n ? "checkBackward" : "checkForward"]()
                },
                checkStartOfBlock: function() {
                    var t = this.startContainer,
                        e = this.startOffset;
                    return CKEDITOR.env.ie && e && t.type == CKEDITOR.NODE_TEXT && (t = CKEDITOR.tools.ltrim(t.substring(0, e)), r.test(t) && this.trim(0, 1)), this.trim(), t = new CKEDITOR.dom.elementPath(this.startContainer, this.root), e = this.clone(), e.collapse(!0), e.setStartAt(t.block || t.blockLimit, CKEDITOR.POSITION_AFTER_START), t = new CKEDITOR.dom.walker(e), t.evaluator = n(), t.checkBackward()
                },
                checkEndOfBlock: function() {
                    var t = this.endContainer,
                        e = this.endOffset;
                    return CKEDITOR.env.ie && t.type == CKEDITOR.NODE_TEXT && (t = CKEDITOR.tools.rtrim(t.substring(e)), r.test(t) && this.trim(1, 0)), this.trim(), t = new CKEDITOR.dom.elementPath(this.endContainer, this.root), e = this.clone(), e.collapse(!1), e.setEndAt(t.block || t.blockLimit, CKEDITOR.POSITION_BEFORE_END), t = new CKEDITOR.dom.walker(e), t.evaluator = n(), t.checkForward()
                },
                getPreviousNode: function(t, e, n) {
                    var i = this.clone();
                    return i.collapse(1), i.setStartAt(n || this.root, CKEDITOR.POSITION_AFTER_START), n = new CKEDITOR.dom.walker(i), n.evaluator = t, n.guard = e, n.previous()
                },
                getNextNode: function(t, e, n) {
                    var i = this.clone();
                    return i.collapse(), i.setEndAt(n || this.root, CKEDITOR.POSITION_BEFORE_END), n = new CKEDITOR.dom.walker(i), n.evaluator = t, n.guard = e, n.next()
                },
                checkReadOnly: function() {
                    function t(t, e) {
                        for (; t;) {
                            if (t.type == CKEDITOR.NODE_ELEMENT) {
                                if ("false" == t.getAttribute("contentEditable") && !t.data("cke-editable"))
                                    return 0;
                                if (t.is("html") || "true" == t.getAttribute("contentEditable") && (t.contains(e) || t.equals(e)))
                                    break
                            }
                            t = t.getParent()
                        }
                        return 1
                    }
                    return function() {
                        var e = this.startContainer,
                            n = this.endContainer;
                        return !(t(e, n) && t(n, e))
                    }
                }(),
                moveToElementEditablePosition: function(t, e) {
                    if (t.type == CKEDITOR.NODE_ELEMENT && !t.isEditable(!1))
                        return this.moveToPosition(t, e ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), !0;
                    for (var n = 0; t;) {
                        if (t.type == CKEDITOR.NODE_TEXT) {
                            e && this.endContainer && this.checkEndOfBlock() && r.test(t.getText()) ? this.moveToPosition(t, CKEDITOR.POSITION_BEFORE_START) : this.moveToPosition(t, e ? CKEDITOR.POSITION_AFTER_END : CKEDITOR.POSITION_BEFORE_START), n = 1;
                            break
                        }
                        if (t.type == CKEDITOR.NODE_ELEMENT)
                            if (t.isEditable())
                                this.moveToPosition(t, e ? CKEDITOR.POSITION_BEFORE_END : CKEDITOR.POSITION_AFTER_START), n = 1;
                            else if (e && t.is("br") && this.endContainer && this.checkEndOfBlock())
                                this.moveToPosition(t, CKEDITOR.POSITION_BEFORE_START);
                            else if ("false" == t.getAttribute("contenteditable") && t.is(CKEDITOR.dtd.$block))
                                return this.setStartBefore(t), this.setEndAfter(t), !0;
                        var i = t,
                            o = n,
                            a = void 0;
                        i.type == CKEDITOR.NODE_ELEMENT && i.isEditable(!1) && (a = i[e ? "getLast" : "getFirst"](c)), o || a || (a = i[e ? "getPrevious" : "getNext"](c)), t = a
                    }
                    return !!n
                },
                moveToClosestEditablePosition: function(t, e) {
                    var n,
                        i = 0,
                        o,
                        a,
                        s = [CKEDITOR.POSITION_AFTER_END, CKEDITOR.POSITION_BEFORE_START];
                    return t ? (n = new CKEDITOR.dom.range(this.root), n.moveToPosition(t, s[e ? 0 : 1])) : n = this.clone(), t && !t.is(CKEDITOR.dtd.$block) ? i = 1 : (o = n[e ? "getNextEditableNode" : "getPreviousEditableNode"]()) && (i = 1, (a = o.type == CKEDITOR.NODE_ELEMENT) && o.is(CKEDITOR.dtd.$block) && "false" == o.getAttribute("contenteditable") ? (n.setStartAt(o, CKEDITOR.POSITION_BEFORE_START), n.setEndAt(o, CKEDITOR.POSITION_AFTER_END)) : !CKEDITOR.env.needsBrFiller && a && o.is(CKEDITOR.dom.walker.validEmptyBlockContainers) ? (n.setEnd(o, 0), n.collapse()) : n.moveToPosition(o, s[e ? 1 : 0])), i && this.moveToRange(n), !!i
                },
                moveToElementEditStart: function(t) {
                    return this.moveToElementEditablePosition(t)
                },
                moveToElementEditEnd: function(t) {
                    return this.moveToElementEditablePosition(t, !0)
                },
                getEnclosedNode: function() {
                    var t = this.clone();
                    if (t.optimize(), t.startContainer.type != CKEDITOR.NODE_ELEMENT || t.endContainer.type != CKEDITOR.NODE_ELEMENT)
                        return null;
                    var t = new CKEDITOR.dom.walker(t),
                        e = CKEDITOR.dom.walker.bookmark(!1, !0),
                        n = CKEDITOR.dom.walker.whitespaces(!0);
                    t.evaluator = function(t) {
                        return n(t) && e(t)
                    };
                    var i = t.next();
                    return t.reset(), i && i.equals(t.previous()) ? i : null
                },
                getTouchedStartNode: function() {
                    var t = this.startContainer;
                    return this.collapsed || t.type != CKEDITOR.NODE_ELEMENT ? t : t.getChild(this.startOffset) || t
                },
                getTouchedEndNode: function() {
                    var t = this.endContainer;
                    return this.collapsed || t.type != CKEDITOR.NODE_ELEMENT ? t : t.getChild(this.endOffset - 1) || t
                },
                getNextEditableNode: o(),
                getPreviousEditableNode: o(1),
                _getTableElement: function(t) {
                    t = t || {
                        td: 1,
                        th: 1,
                        tr: 1,
                        tbody: 1,
                        thead: 1,
                        tfoot: 1,
                        table: 1
                    };
                    var e = this.startContainer,
                        n = this.endContainer,
                        i = e.getAscendant("table", !0),
                        o = n.getAscendant("table", !0);
                    return CKEDITOR.env.safari && i && n.equals(this.root) ? e.getAscendant(t, !0) : this.getEnclosedNode() ? this.getEnclosedNode().getAscendant(t, !0) : i && o && (i.equals(o) || i.contains(o) || o.contains(i)) ? e.getAscendant(t, !0) : null
                },
                scrollIntoView: function() {
                    var t = new CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", this.document),
                        e,
                        n,
                        i,
                        o = this.clone();
                    o.optimize(), (i = o.startContainer.type == CKEDITOR.NODE_TEXT) ? (n = o.startContainer.getText(), e = o.startContainer.split(o.startOffset), t.insertAfter(o.startContainer)) : o.insertNode(t), t.scrollIntoView(), i && (o.startContainer.setText(n), e.remove()), t.remove()
                },
                _setStartContainer: function(t) {
                    this.startContainer = t
                },
                _setEndContainer: function(t) {
                    this.endContainer = t
                },
                _find: function(t, e) {
                    var n = this.getCommonAncestor(),
                        i = this.getBoundaryNodes(),
                        o = [],
                        a,
                        s,
                        r,
                        l;
                    if (n && n.find)
                        for (s = n.find(t), a = 0; a < s.count(); a++)
                            n = s.getItem(a), (e || !n.isReadOnly()) && (r = n.getPosition(i.startNode) & CKEDITOR.POSITION_FOLLOWING || i.startNode.equals(n), l = n.getPosition(i.endNode) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_IS_CONTAINED || i.endNode.equals(n), r && l && o.push(n));
                    return o
                }
            }, CKEDITOR.dom.range.mergeRanges = function(t) {
                return CKEDITOR.tools.array.reduce(t, function(t, e) {
                    var n = t[t.length - 1],
                        i = !1;
                    if (e = e.clone(), e.enlarge(CKEDITOR.ENLARGE_ELEMENT), n) {
                        var o = new CKEDITOR.dom.range(e.root),
                            i = new CKEDITOR.dom.walker(o),
                            a = CKEDITOR.dom.walker.whitespaces();
                        for (o.setStart(n.endContainer, n.endOffset), o.setEnd(e.startContainer, e.startOffset), o = i.next(); a(o) || e.endContainer.equals(o);)
                            o = i.next();
                        i = !o
                    }
                    return i ? n.setEnd(e.endContainer, e.endOffset) : t.push(e), t
                }, [])
            }
        }(), CKEDITOR.POSITION_AFTER_START = 1, CKEDITOR.POSITION_BEFORE_END = 2, CKEDITOR.POSITION_BEFORE_START = 3, CKEDITOR.POSITION_AFTER_END = 4, CKEDITOR.ENLARGE_ELEMENT = 1, CKEDITOR.ENLARGE_BLOCK_CONTENTS = 2, CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS = 3, CKEDITOR.ENLARGE_INLINE = 4, CKEDITOR.START = 1, CKEDITOR.END = 2, CKEDITOR.SHRINK_ELEMENT = 1, CKEDITOR.SHRINK_TEXT = 2, function() {
            function t(t) {
                1 > arguments.length || (this.range = t, this.forceBrBreak = 0, this.enlargeBr = 1, this.enforceRealBlocks = 0, this._ || (this._ = {}))
            }
            function e(t) {
                var e = [];
                return t.forEach(function(t) {
                    if ("true" == t.getAttribute("contenteditable"))
                        return e.push(t), !1
                }, CKEDITOR.NODE_ELEMENT, !0), e
            }
            function n(t, i, o, a) {
                t:
                {
                    null == a && (a = e(o));
                    for (var s; s = a.shift();)
                        if (s.getDtd().p) {
                            a = {
                                element: s,
                                remaining: a
                            };
                            break t
                        }
                    a = null
                }return a ? (s = CKEDITOR.filter.instances[a.element.data("cke-filter")]) && !s.check(i) ? n(t, i, o, a.remaining) : (i = new CKEDITOR.dom.range(a.element), i.selectNodeContents(a.element), i = i.createIterator(), i.enlargeBr = t.enlargeBr, i.enforceRealBlocks = t.enforceRealBlocks, i.activeFilter = i.filter = s, t._.nestedEditable = {
                    element: a.element,
                    container: o,
                    remaining: a.remaining,
                    iterator: i
                }, 1) : 0
            }
            function i(t, e, n) {
                return !!e && (t = t.clone(), t.collapse(!n), t.checkBoundaryOfElement(e, n ? CKEDITOR.START : CKEDITOR.END))
            }
            var o = /^[\r\n\t ]+$/,
                a = CKEDITOR.dom.walker.bookmark(!1, !0),
                s = CKEDITOR.dom.walker.whitespaces(!0),
                r = function(t) {
                    return a(t) && s(t)
                },
                l = {
                    dd: 1,
                    dt: 1,
                    li: 1
                };
            t.prototype = {
                getNextParagraph: function(t) {
                    var e,
                        s,
                        c,
                        u,
                        d;
                    if (t = t || "p", this._.nestedEditable) {
                        if (e = this._.nestedEditable.iterator.getNextParagraph(t))
                            return this.activeFilter = this._.nestedEditable.iterator.activeFilter, e;
                        if (this.activeFilter = this.filter, n(this, t, this._.nestedEditable.container, this._.nestedEditable.remaining))
                            return this.activeFilter = this._.nestedEditable.iterator.activeFilter, this._.nestedEditable.iterator.getNextParagraph(t);
                        this._.nestedEditable = null
                    }
                    if (!this.range.root.getDtd()[t])
                        return null;
                    if (!this._.started) {
                        var h = this.range.clone();
                        s = h.startPath();
                        var f = h.endPath(),
                            p = !h.collapsed && i(h, s.block),
                            m = !h.collapsed && i(h, f.block, 1);
                        h.shrink(CKEDITOR.SHRINK_ELEMENT, !0), p && h.setStartAt(s.block, CKEDITOR.POSITION_BEFORE_END), m && h.setEndAt(f.block, CKEDITOR.POSITION_AFTER_START), s = h.endContainer.hasAscendant("pre", !0) || h.startContainer.hasAscendant("pre", !0), h.enlarge(this.forceBrBreak && !s || !this.enlargeBr ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS), h.collapsed || (s = new CKEDITOR.dom.walker(h.clone()), f = CKEDITOR.dom.walker.bookmark(!0, !0), s.evaluator = f, this._.nextNode = s.next(), s = new CKEDITOR.dom.walker(h.clone()), s.evaluator = f, s = s.previous(), this._.lastNode = s.getNextSourceNode(!0, null, h.root), this._.lastNode && this._.lastNode.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(this._.lastNode.getText()) && this._.lastNode.getParent().isBlockBoundary() && (f = this.range.clone(), f.moveToPosition(this._.lastNode, CKEDITOR.POSITION_AFTER_END), f.checkEndOfBlock() && (f = new CKEDITOR.dom.elementPath(f.endContainer, f.root), this._.lastNode = (f.block || f.blockLimit).getNextSourceNode(!0))), this._.lastNode && h.root.contains(this._.lastNode) || (this._.lastNode = this._.docEndMarker = h.document.createText(""), this._.lastNode.insertAfter(s)), h = null), this._.started = 1, s = h
                    }
                    for (f = this._.nextNode, h = this._.lastNode, this._.nextNode = null; f;) {
                        var p = 0,
                            m = f.hasAscendant("pre"),
                            g = f.type != CKEDITOR.NODE_ELEMENT,
                            v = 0;
                        if (g)
                            f.type == CKEDITOR.NODE_TEXT && o.test(f.getText()) && (g = 0);
                        else {
                            var b = f.getName();
                            if (CKEDITOR.dtd.$block[b] && "false" == f.getAttribute("contenteditable")) {
                                e = f, n(this, t, e);
                                break
                            }
                            if (f.isBlockBoundary(this.forceBrBreak && !m && {
                                br: 1
                            })) {
                                if ("br" == b)
                                    g = 1;
                                else if (!s && !f.getChildCount() && "hr" != b) {
                                    e = f, c = f.equals(h);
                                    break
                                }
                                s && (s.setEndAt(f, CKEDITOR.POSITION_BEFORE_START), "br" != b && (this._.nextNode = f)), p = 1
                            } else {
                                if (f.getFirst()) {
                                    s || (s = this.range.clone(), s.setStartAt(f, CKEDITOR.POSITION_BEFORE_START)), f = f.getFirst();
                                    continue
                                }
                                g = 1
                            }
                        }
                        if (g && !s && (s = this.range.clone(), s.setStartAt(f, CKEDITOR.POSITION_BEFORE_START)), c = (!p || g) && f.equals(h), s && !p)
                            for (; !f.getNext(r) && !c;) {
                                if (b = f.getParent(), b.isBlockBoundary(this.forceBrBreak && !m && {
                                    br: 1
                                })) {
                                    p = 1, g = 0, c || b.equals(h), s.setEndAt(b, CKEDITOR.POSITION_BEFORE_END);
                                    break
                                }
                                f = b, g = 1, c = f.equals(h), v = 1
                            }
                        if (g && s.setEndAt(f, CKEDITOR.POSITION_AFTER_END), f = this._getNextSourceNode(f, v, h), (c = !f) || p && s)
                            break
                    }
                    if (!e) {
                        if (!s)
                            return this._.docEndMarker && this._.docEndMarker.remove(), this._.nextNode = null;
                        e = new CKEDITOR.dom.elementPath(s.startContainer, s.root), f = e.blockLimit, p = {
                            div: 1,
                            th: 1,
                            td: 1
                        }, e = e.block, !e && f && !this.enforceRealBlocks && p[f.getName()] && s.checkStartOfBlock() && s.checkEndOfBlock() && !f.equals(s.root) ? e = f : !e || this.enforceRealBlocks && e.is(l) ? (e = this.range.document.createElement(t), s.extractContents().appendTo(e), e.trim(), s.insertNode(e), u = d = !0) : "li" != e.getName() ? s.checkStartOfBlock() && s.checkEndOfBlock() || (e = e.clone(!1), s.extractContents().appendTo(e), e.trim(), d = s.splitBlock(), u = !d.wasStartOfBlock, d = !d.wasEndOfBlock, s.insertNode(e)) : c || (this._.nextNode = e.equals(h) ? null : this._getNextSourceNode(s.getBoundaryNodes().endNode, 1, h))
                    }
                    return u && (u = e.getPrevious()) && u.type == CKEDITOR.NODE_ELEMENT && ("br" == u.getName() ? u.remove() : u.getLast() && "br" == u.getLast().$.nodeName.toLowerCase() && u.getLast().remove()), d && (u = e.getLast()) && u.type == CKEDITOR.NODE_ELEMENT && "br" == u.getName() && (!CKEDITOR.env.needsBrFiller || u.getPrevious(a) || u.getNext(a)) && u.remove(), this._.nextNode || (this._.nextNode = c || e.equals(h) || !h ? null : this._getNextSourceNode(e, 1, h)), e
                },
                _getNextSourceNode: function(t, e, n) {
                    function i(t) {
                        return !(t.equals(n) || t.equals(o))
                    }
                    var o = this.range.root;
                    for (t = t.getNextSourceNode(e, null, i); !a(t);)
                        t = t.getNextSourceNode(e, null, i);
                    return t
                }
            }, CKEDITOR.dom.range.prototype.createIterator = function() {
                return new t(this)
            }
        }(), CKEDITOR.command = function(t, e) {
            this.uiItems = [], this.exec = function(n) {
                return !(this.state == CKEDITOR.TRISTATE_DISABLED || !this.checkAllowed()) && (this.editorFocus && t.focus(), !1 === this.fire("exec") || !1 !== e.exec.call(this, t, n))
            }, this.refresh = function(t, n) {
                return !(this.readOnly || !t.readOnly) || (this.context && !n.isContextFor(this.context) || !this.checkAllowed(!0) ? (this.disable(), !0) : (this.startDisabled || this.enable(), this.modes && !this.modes[t.mode] && this.disable(), !1 === this.fire("refresh", {
                        editor: t,
                        path: n
                    }) || e.refresh && !1 !== e.refresh.apply(this, arguments)))
            };
            var n;
            this.checkAllowed = function(e) {
                return e || "boolean" != typeof n ? n = t.activeFilter.checkFeature(this) : n
            }, CKEDITOR.tools.extend(this, e, {
                modes: {
                    wysiwyg: 1
                },
                editorFocus: 1,
                contextSensitive: !!e.context,
                state: CKEDITOR.TRISTATE_DISABLED
            }), CKEDITOR.event.call(this)
        }, CKEDITOR.command.prototype = {
            enable: function() {
                this.state == CKEDITOR.TRISTATE_DISABLED && this.checkAllowed() && this.setState(this.preserveState && "undefined" != typeof this.previousState ? this.previousState : CKEDITOR.TRISTATE_OFF)
            },
            disable: function() {
                this.setState(CKEDITOR.TRISTATE_DISABLED)
            },
            setState: function(t) {
                return !(this.state == t || t != CKEDITOR.TRISTATE_DISABLED && !this.checkAllowed()) && (this.previousState = this.state, this.state = t, this.fire("state"), !0)
            },
            toggleState: function() {
                this.state == CKEDITOR.TRISTATE_OFF ? this.setState(CKEDITOR.TRISTATE_ON) : this.state == CKEDITOR.TRISTATE_ON && this.setState(CKEDITOR.TRISTATE_OFF)
            }
        }, CKEDITOR.event.implementOn(CKEDITOR.command.prototype), CKEDITOR.ENTER_P = 1, CKEDITOR.ENTER_BR = 2, CKEDITOR.ENTER_DIV = 3, CKEDITOR.config = {
            customConfig: "config.js",
            autoUpdateElement: !0,
            language: "",
            defaultLanguage: "en",
            contentsLangDirection: "",
            enterMode: CKEDITOR.ENTER_P,
            forceEnterMode: !1,
            shiftEnterMode: CKEDITOR.ENTER_BR,
            docType: "<!DOCTYPE html>",
            bodyId: "",
            bodyClass: "",
            fullPage: !1,
            height: 200,
            contentsCss: CKEDITOR.getUrl("contents.css"),
            extraPlugins: "",
            removePlugins: "",
            protectedSource: [],
            tabIndex: 0,
            width: "",
            baseFloatZIndex: 1e4,
            blockedKeystrokes: [CKEDITOR.CTRL + 66, CKEDITOR.CTRL + 73, CKEDITOR.CTRL + 85]
        }, function() {
            function t(t, e, n, i, o) {
                var a,
                    r;
                t = [];
                for (a in e) {
                    r = e[a], r = "boolean" == typeof r ? {} : "function" == typeof r ? {
                        match: r
                    } : R(r), "$" != a.charAt(0) && (r.elements = a), n && (r.featureName = n.toLowerCase());
                    var l = r;
                    l.elements = s(l.elements, /\s+/) || null, l.propertiesOnly = l.propertiesOnly || !0 === l.elements;
                    var c = /\s*,\s*/,
                        u = void 0;
                    for (u in x) {
                        l[u] = s(l[u], c) || null;
                        var d = l,
                            h = S[u],
                            f = s(l[S[u]], c),
                            p = l[u],
                            m = [],
                            g = !0,
                            b = void 0;
                        f ? g = !1 : f = {};
                        for (b in p)
                            "!" == b.charAt(0) && (b = b.slice(1), m.push(b), f[b] = !0, g = !1);
                        for (; b = m.pop();)
                            p[b] = p["!" + b], delete p["!" + b];
                        d[h] = !g && f || null
                    }
                    l.match = l.match || null, i.push(r), t.push(r)
                }
                e = o.elements, o = o.generic;
                var E;
                for (n = 0, i = t.length; n < i; ++n) {
                    a = R(t[n]), r = !0 === a.classes || !0 === a.styles || !0 === a.attributes, l = a, u = h = c = void 0;
                    for (c in x)
                        l[c] = v(l[c]);
                    d = !0;
                    for (u in S) {
                        c = S[u], h = l[c], f = [], p = void 0;
                        for (p in h)
                            -1 < p.indexOf("*") ? f.push(new RegExp("^" + p.replace(/\*/g, ".*") + "$")) : f.push(p);
                        h = f, h.length && (l[c] = h, d = !1)
                    }
                    if (l.nothingRequired = d, l.noProperties = !(l.attributes || l.classes || l.styles), !0 === a.elements || null === a.elements)
                        o[r ? "unshift" : "push"](a);
                    else
                        for (E in l = a.elements, delete a.elements, l)
                            e[E] ? e[E][r ? "unshift" : "push"](a) : e[E] = [a]
                }
            }
            function e(t, e, i, o) {
                if ((!t.match || t.match(e)) && (o || r(t, e)) && (t.propertiesOnly || (i.valid = !0), i.allAttributes || (i.allAttributes = n(t.attributes, e.attributes, i.validAttributes)), i.allStyles || (i.allStyles = n(t.styles, e.styles, i.validStyles)), !i.allClasses)) {
                    if (t = t.classes, e = e.classes, o = i.validClasses, t)
                        if (!0 === t)
                            t = !0;
                        else {
                            for (var a = 0, s = e.length, l; a < s; ++a)
                                l = e[a],
                                o[l] || (o[l] = t(l));
                            t = !1
                        }
                    else
                        t = !1;
                    i.allClasses = t
                }
            }
            function n(t, e, n) {
                if (!t)
                    return !1;
                if (!0 === t)
                    return !0;
                for (var i in e)
                    n[i] || (n[i] = t(i));
                return !1
            }
            function i(t, e, n) {
                if (!t.match || t.match(e)) {
                    if (t.noProperties)
                        return !1;
                    if (n.hadInvalidAttribute = o(t.attributes, e.attributes) || n.hadInvalidAttribute, n.hadInvalidStyle = o(t.styles, e.styles) || n.hadInvalidStyle, t = t.classes, e = e.classes, t) {
                        for (var i = !1, a = !0 === t, s = e.length; s--;)
                            (a || t(e[s])) && (e.splice(s, 1), i = !0);
                        t = i
                    } else
                        t = !1;
                    n.hadInvalidClass = t || n.hadInvalidClass
                }
            }
            function o(t, e) {
                if (!t)
                    return !1;
                var n = !1,
                    i = !0 === t,
                    o;
                for (o in e)
                    (i || t(o)) && (delete e[o], n = !0);
                return n
            }
            function a(t, e, n) {
                return !(t.disabled || t.customConfig && !n || !e) && (t._.cachedChecks = {}, !0)
            }
            function s(t, e) {
                if (!t)
                    return !1;
                if (!0 === t)
                    return t;
                if ("string" == typeof t)
                    return "*" == (t = k(t)) || CKEDITOR.tools.convertArrayToObject(t.split(e));
                if (CKEDITOR.tools.isArray(t))
                    return !!t.length && CKEDITOR.tools.convertArrayToObject(t);
                var n = {},
                    i = 0,
                    o;
                for (o in t)
                    n[o] = t[o], i++;
                return !!i && n
            }
            function r(t, e) {
                if (t.nothingRequired)
                    return !0;
                var n,
                    i,
                    o,
                    a;
                if (o = t.requiredClasses)
                    for (a = e.classes, n = 0; n < o.length; ++n)
                        if ("string" == typeof (i = o[n])) {
                            if (-1 == CKEDITOR.tools.indexOf(a, i))
                                return !1
                        } else if (!CKEDITOR.tools.checkIfAnyArrayItemMatches(a, i))
                            return !1;
                return l(e.styles, t.requiredStyles) && l(e.attributes, t.requiredAttributes)
            }
            function l(t, e) {
                if (!e)
                    return !0;
                for (var n = 0, i; n < e.length; ++n)
                    if ("string" == typeof (i = e[n])) {
                        if (!(i in t))
                            return !1
                    } else if (!CKEDITOR.tools.checkIfAnyObjectPropertyMatches(t, i))
                        return !1;
                return !0
            }
            function c(t) {
                if (!t)
                    return {};
                t = t.split(/\s*,\s*/).sort();
                for (var e = {}; t.length;)
                    e[t.shift()] = "cke-test";
                return e
            }
            function u(t) {
                var e,
                    n,
                    i,
                    o,
                    a = {},
                    s = 1;
                for (t = k(t); e = t.match(K);)
                    (n = e[2]) ? (i = d(n, "styles"), o = d(n, "attrs"), n = d(n, "classes")) : i = o = n = null, a["$" + s++] = {
                        elements: e[1],
                        classes: n,
                        styles: i,
                        attributes: o
                    }, t = t.slice(e[0].length);
                return a
            }
            function d(t, e) {
                var n = t.match(N[e]);
                return n ? k(n[1]) : null
            }
            function h(t) {
                var e = t.styleBackup = t.attributes.style,
                    n = t.classBackup = t.attributes["class"];
                t.styles || (t.styles = CKEDITOR.tools.parseCssText(e || "", 1)), t.classes || (t.classes = n ? n.split(/\s+/) : [])
            }
            function f(t, n, o, a) {
                var s = 0,
                    r;
                if (a.toHtml && (n.name = n.name.replace(A, "$1")), a.doCallbacks && t.elementCallbacks) {
                    t:
                    {
                        r = t.elementCallbacks;
                        for (var l = 0, c = r.length, u; l < c; ++l)
                            if (u = r[l](n)) {
                                r = u;
                                break t
                            }
                        r = void 0
                    }if (r)
                        return r
                }
                if (a.doTransform && (r = t._.transformations[n.name])) {
                    for (h(n), l = 0; l < r.length; ++l)
                        T(t, n, r[l]);
                    m(n)
                }
                if (a.doFilter) {
                    t:
                    {
                        l = n.name, c = t._, t = c.allowedRules.elements[l], r = c.allowedRules.generic, l = c.disallowedRules.elements[l], c = c.disallowedRules.generic, u = a.skipRequired;
                        var d = {
                                valid: !1,
                                validAttributes: {},
                                validClasses: {},
                                validStyles: {},
                                allAttributes: !1,
                                allClasses: !1,
                                allStyles: !1,
                                hadInvalidAttribute: !1,
                                hadInvalidClass: !1,
                                hadInvalidStyle: !1
                            },
                            f,
                            p;
                        if (t || r) {
                            if (h(n), l)
                                for (f = 0, p = l.length; f < p; ++f)
                                    if (!1 === i(l[f], n, d)) {
                                        t = null;
                                        break t
                                    }
                            if (c)
                                for (f = 0, p = c.length; f < p; ++f)
                                    i(c[f], n, d);
                            if (t)
                                for (f = 0, p = t.length; f < p; ++f)
                                    e(t[f], n, d, u);
                            if (r)
                                for (f = 0, p = r.length; f < p; ++f)
                                    e(r[f], n, d, u);
                            t = d
                        } else
                            t = null
                    }if (!t || !t.valid)
                        return o.push(n), 1;
                    p = t.validAttributes;
                    var v = t.validStyles;
                    r = t.validClasses;
                    var l = n.attributes,
                        b = n.styles,
                        c = n.classes;
                    u = n.classBackup;
                    var E = n.styleBackup,
                        y,
                        C,
                        _ = [],
                        d = [],
                        D = /^data-cke-/;
                    if (f = !1, delete l.style, delete l["class"], delete n.classBackup, delete n.styleBackup, !t.allAttributes)
                        for (y in l)
                            p[y] || (D.test(y) ? y == (C = y.replace(/^data-cke-saved-/, "")) || p[C] || (delete l[y], f = !0) : (delete l[y], f = !0));
                    if (!t.allStyles || t.hadInvalidStyle) {
                        for (y in b)
                            t.allStyles || v[y] ? _.push(y + ":" + b[y]) : f = !0;
                        _.length && (l.style = _.sort().join("; "))
                    } else
                        E && (l.style = E);
                    if (!t.allClasses || t.hadInvalidClass) {
                        for (y = 0; y < c.length; ++y)
                            (t.allClasses || r[c[y]]) && d.push(c[y]);
                        d.length && (l["class"] = d.sort().join(" ")), u && d.length < u.split(/\s+/).length && (f = !0)
                    } else
                        u && (l["class"] = u);
                    if (f && (s = 1), !a.skipFinalValidation && !g(n))
                        return o.push(n), 1
                }
                return a.toHtml && (n.name = n.name.replace(F, "cke:$1")), s
            }
            function p(t) {
                var e = [],
                    n;
                for (n in t)
                    -1 < n.indexOf("*") && e.push(n.replace(/\*/g, ".*"));
                return e.length ? new RegExp("^(?:" + e.join("|") + ")$") : null
            }
            function m(t) {
                var e = t.attributes,
                    n;
                delete e.style, delete e["class"], (n = CKEDITOR.tools.writeCssText(t.styles, !0)) && (e.style = n), t.classes.length && (e["class"] = t.classes.sort().join(" "))
            }
            function g(t) {
                switch (t.name) {
                case "a":
                    if (!(t.children.length || t.attributes.name || t.attributes.id))
                        return !1;
                    break;
                case "img":
                    if (!t.attributes.src)
                        return !1
                }
                return !0
            }
            function v(t) {
                if (!t)
                    return !1;
                if (!0 === t)
                    return !0;
                var e = p(t);
                return function(n) {
                    return n in t || e && n.match(e)
                }
            }
            function b() {
                return new CKEDITOR.htmlParser.element("br")
            }
            function E(t) {
                return t.type == CKEDITOR.NODE_ELEMENT && ("br" == t.name || O.$block[t.name])
            }
            function y(t, e, n) {
                var i = t.name;
                if (O.$empty[i] || !t.children.length)
                    "hr" == i && "br" == e ? t.replaceWith(b()) : (t.parent && n.push({
                        check: "it",
                        el: t.parent
                    }), t.remove());
                else if (O.$block[i] || "tr" == i)
                    if ("br" == e)
                        t.previous && !E(t.previous) && (e = b(), e.insertBefore(t)), t.next && !E(t.next) && (e = b(), e.insertAfter(t)), t.replaceWithChildren();
                    else {
                        var i = t.children,
                            o;
                        t:
                        {
                            o = O[e];
                            for (var a = 0, s = i.length, r; a < s; ++a)
                                if (r = i[a], r.type == CKEDITOR.NODE_ELEMENT && !o[r.name]) {
                                    o = !1;
                                    break t
                                }
                            o = !0
                        }if (o)
                            t.name = e, t.attributes = {}, n.push({
                                check: "parent-down",
                                el: t
                            });
                        else {
                            o = t.parent;
                            for (var a = o.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || "body" == o.name, l, c, s = i.length; 0 < s;)
                                r = i[--s], a && (r.type == CKEDITOR.NODE_TEXT || r.type == CKEDITOR.NODE_ELEMENT && O.$inline[r.name]) ? (l || (l = new CKEDITOR.htmlParser.element(e), l.insertAfter(t), n.push({
                                    check: "parent-down",
                                    el: l
                                })), l.add(r, 0)) : (l = null, c = O[o.name] || O.span, r.insertAfter(t), o.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || r.type != CKEDITOR.NODE_ELEMENT || c[r.name] || n.push({
                                    check: "el-up",
                                    el: r
                                }));
                            t.remove()
                        }
                    }
                else
                    i in {
                        style: 1,
                        script: 1
                    } ? t.remove() : (t.parent && n.push({
                        check: "it",
                        el: t.parent
                    }), t.replaceWithChildren())
            }
            function T(t, e, n) {
                var i,
                    o;
                for (i = 0; i < n.length; ++i)
                    if (o = n[i], !(o.check && !t.check(o.check, !1) || o.left && !o.left(e))) {
                        o.right(e, P);
                        break
                    }
            }
            function C(t, e) {
                var n = e.getDefinition(),
                    i = n.attributes,
                    o = n.styles,
                    a,
                    s,
                    r,
                    l;
                if (t.name != n.element)
                    return !1;
                for (a in i)
                    if ("class" == a) {
                        for (n = i[a].split(/\s+/), r = t.classes.join("|"); l = n.pop();)
                            if (-1 == r.indexOf(l))
                                return !1
                    } else if (t.attributes[a] != i[a])
                        return !1;
                for (s in o)
                    if (t.styles[s] != o[s])
                        return !1;
                return !0
            }
            function _(t, e) {
                var n,
                    i;
                return "string" == typeof t ? n = t : t instanceof CKEDITOR.style ? i = t : (n = t[0], i = t[1]), [{
                    element: n,
                    left: i,
                    right: function(t, n) {
                        n.transform(t, e)
                    }
                }]
            }
            function D(t) {
                return function(e) {
                    return C(e, t)
                }
            }
            function I(t) {
                return function(e, n) {
                    n[t](e)
                }
            }
            var O = CKEDITOR.dtd,
                R = CKEDITOR.tools.copy,
                k = CKEDITOR.tools.trim,
                w = ["", "p", "br", "div"];
            CKEDITOR.FILTER_SKIP_TREE = 2, CKEDITOR.filter = function(t) {
                if (this.allowedContent = [], this.disallowedContent = [], this.elementCallbacks = null, this.disabled = !1, this.editor = null, this.id = CKEDITOR.tools.getNextNumber(), this._ = {
                    allowedRules: {
                        elements: {},
                        generic: []
                    },
                    disallowedRules: {
                        elements: {},
                        generic: []
                    },
                    transformations: {},
                    cachedTests: {}
                }, CKEDITOR.filter.instances[this.id] = this, t instanceof CKEDITOR.editor) {
                    t = this.editor = t, this.customConfig = !0;
                    var e = t.config.allowedContent;
                    !0 === e ? this.disabled = !0 : (e || (this.customConfig = !1), this.allow(e, "config", 1), this.allow(t.config.extraAllowedContent, "extra", 1), this.allow(w[t.enterMode] + " " + w[t.shiftEnterMode], "default", 1), this.disallow(t.config.disallowedContent))
                } else
                    this.customConfig = !1, this.allow(t, "default", 1)
            }, CKEDITOR.filter.instances = {}, CKEDITOR.filter.prototype = {
                allow: function(e, n, i) {
                    if (!a(this, e, i))
                        return !1;
                    var o,
                        s;
                    if ("string" == typeof e)
                        e = u(e);
                    else if (e instanceof CKEDITOR.style) {
                        if (e.toAllowedContentRules)
                            return this.allow(e.toAllowedContentRules(this.editor), n, i);
                        o = e.getDefinition(), e = {}, i = o.attributes, e[o.element] = o = {
                            styles: o.styles,
                            requiredStyles: o.styles && CKEDITOR.tools.objectKeys(o.styles)
                        }, i && (i = R(i), o.classes = i["class"] ? i["class"].split(/\s+/) : null, o.requiredClasses = o.classes, delete i["class"], o.attributes = i, o.requiredAttributes = i && CKEDITOR.tools.objectKeys(i))
                    } else if (CKEDITOR.tools.isArray(e)) {
                        for (o = 0; o < e.length; ++o)
                            s = this.allow(e[o], n, i);
                        return s
                    }
                    return t(this, e, n, this.allowedContent, this._.allowedRules), !0
                },
                applyTo: function(t, e, n, i) {
                    if (this.disabled)
                        return !1;
                    var o = this,
                        a = [],
                        s = this.editor && this.editor.config.protectedSource,
                        r,
                        l = !1,
                        c = {
                            doFilter: !n,
                            doTransform: !0,
                            doCallbacks: !0,
                            toHtml: e
                        };
                    t.forEach(function(t) {
                        if (t.type == CKEDITOR.NODE_ELEMENT) {
                            if ("off" == t.attributes["data-cke-filter"])
                                return !1;
                            if (!e || "span" != t.name || !~CKEDITOR.tools.objectKeys(t.attributes).join("|").indexOf("data-cke-"))
                                if (1 & (r = f(o, t, a, c)))
                                    l = !0;
                                else if (2 & r)
                                    return !1
                        } else if (t.type == CKEDITOR.NODE_COMMENT && t.value.match(/^\{cke_protected\}(?!\{C\})/)) {
                            var n;
                            t:
                            {
                                var i = decodeURIComponent(t.value.replace(/^\{cke_protected\}/, ""));
                                n = [];
                                var u,
                                    d,
                                    h;
                                if (s)
                                    for (d = 0; d < s.length; ++d)
                                        if ((h = i.match(s[d])) && h[0].length == i.length) {
                                            n = !0;
                                            break t
                                        }
                                i = CKEDITOR.htmlParser.fragment.fromHtml(i), 1 == i.children.length && (u = i.children[0]).type == CKEDITOR.NODE_ELEMENT && f(o, u, n, c), n = !n.length
                            }n || a.push(t)
                        }
                    }, null, !0), a.length && (l = !0);
                    var u;
                    t = [], i = w[i || (this.editor ? this.editor.enterMode : CKEDITOR.ENTER_P)];
                    for (var d; n = a.pop();)
                        n.type == CKEDITOR.NODE_ELEMENT ? y(n, i, t) : n.remove();
                    for (; u = t.pop();)
                        if (n = u.el, n.parent)
                            switch (d = O[n.parent.name] || O.span, u.check) {
                            case "it":
                                O.$removeEmpty[n.name] && !n.children.length ? y(n, i, t) : g(n) || y(n, i, t);
                                break;
                            case "el-up":
                                n.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || d[n.name] || y(n, i, t);
                                break;
                            case "parent-down":
                                n.parent.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT || d[n.name] || y(n.parent, i, t)
                            }
                    return l
                },
                checkFeature: function(t) {
                    return !(!this.disabled && t) || (t.toFeature && (t = t.toFeature(this.editor)), !t.requiredContent || this.check(t.requiredContent))
                },
                disable: function() {
                    this.disabled = !0
                },
                disallow: function(e) {
                    return !!a(this, e, !0) && ("string" == typeof e && (e = u(e)), t(this, e, null, this.disallowedContent, this._.disallowedRules), !0)
                },
                addContentForms: function(t) {
                    if (!this.disabled && t) {
                        var e,
                            n,
                            i = [],
                            o;
                        for (e = 0; e < t.length && !o; ++e)
                            ("string" == typeof (n = t[e]) || n instanceof CKEDITOR.style) && this.check(n) && (o = n);
                        if (o) {
                            for (e = 0; e < t.length; ++e)
                                i.push(_(t[e], o));
                            this.addTransformations(i)
                        }
                    }
                },
                addElementCallback: function(t) {
                    this.elementCallbacks || (this.elementCallbacks = []), this.elementCallbacks.push(t)
                },
                addFeature: function(t) {
                    return !(!this.disabled && t) || (t.toFeature && (t = t.toFeature(this.editor)), this.allow(t.allowedContent, t.name), this.addTransformations(t.contentTransformations), this.addContentForms(t.contentForms), !t.requiredContent || !this.customConfig && !this.disallowedContent.length || this.check(t.requiredContent))
                },
                addTransformations: function(t) {
                    var e,
                        n;
                    if (!this.disabled && t) {
                        var i = this._.transformations,
                            o;
                        for (o = 0; o < t.length; ++o) {
                            e = t[o];
                            var a = void 0,
                                s = void 0,
                                r = void 0,
                                l = void 0,
                                c = void 0,
                                u = void 0;
                            for (n = [], s = 0; s < e.length; ++s)
                                r = e[s], "string" == typeof r ? (r = r.split(/\s*:\s*/), l = r[0], c = null, u = r[1]) : (l = r.check, c = r.left, u = r.right), a || (a = r, a = a.element ? a.element : l ? l.match(/^([a-z0-9]+)/i)[0] : a.left.getDefinition().element), c instanceof CKEDITOR.style && (c = D(c)), n.push({
                                    check: l == a ? null : l,
                                    left: c,
                                    right: "string" == typeof u ? I(u) : u
                                });
                            e = a, i[e] || (i[e] = []), i[e].push(n)
                        }
                    }
                },
                check: function(t, e, n) {
                    if (this.disabled)
                        return !0;
                    if (CKEDITOR.tools.isArray(t)) {
                        for (var i = t.length; i--;)
                            if (this.check(t[i], e, n))
                                return !0;
                        return !1
                    }
                    var o,
                        a;
                    if ("string" == typeof t) {
                        if ((a = t + "<" + (!1 === e ? "0" : "1") + (n ? "1" : "0") + ">") in this._.cachedChecks)
                            return this._.cachedChecks[a];
                        i = u(t).$1, o = i.styles;
                        var s = i.classes;
                        i.name = i.elements, i.classes = s = s ? s.split(/\s*,\s*/) : [], i.styles = c(o), i.attributes = c(i.attributes), i.children = [], s.length && (i.attributes["class"] = s.join(" ")), o && (i.attributes.style = CKEDITOR.tools.writeCssText(i.styles)), o = i
                    } else
                        i = t.getDefinition(), o = i.styles, s = i.attributes || {}, o && !CKEDITOR.tools.isEmpty(o) ? (o = R(o), s.style = CKEDITOR.tools.writeCssText(o, !0)) : o = {}, o = {
                            name: i.element,
                            attributes: s,
                            classes: s["class"] ? s["class"].split(/\s+/) : [],
                            styles: o,
                            children: []
                        };
                    var s = CKEDITOR.tools.clone(o),
                        r = [],
                        l;
                    if (!1 !== e && (l = this._.transformations[o.name])) {
                        for (i = 0; i < l.length; ++i)
                            T(this, o, l[i]);
                        m(o)
                    }
                    return f(this, s, r, {
                        doFilter: !0,
                        doTransform: !1 !== e,
                        skipRequired: !n,
                        skipFinalValidation: !n
                    }), e = !(0 < r.length) && !!CKEDITOR.tools.objectCompare(o.attributes, s.attributes, !0), "string" == typeof t && (this._.cachedChecks[a] = e), e
                },
                getAllowedEnterMode: function() {
                    var t = ["p", "div", "br"],
                        e = {
                            p: CKEDITOR.ENTER_P,
                            div: CKEDITOR.ENTER_DIV,
                            br: CKEDITOR.ENTER_BR
                        };
                    return function(n, i) {
                        var o = t.slice(),
                            a;
                        if (this.check(w[n]))
                            return n;
                        for (i || (o = o.reverse()); a = o.pop();)
                            if (this.check(a))
                                return e[a];
                        return CKEDITOR.ENTER_BR
                    }
                }(),
                destroy: function() {
                    delete CKEDITOR.filter.instances[this.id], delete this._, delete this.allowedContent, delete this.disallowedContent
                }
            };
            var x = {
                    styles: 1,
                    attributes: 1,
                    classes: 1
                },
                S = {
                    styles: "requiredStyles",
                    attributes: "requiredAttributes",
                    classes: "requiredClasses"
                },
                K = /^([a-z0-9\-*\s]+)((?:\s*\{[!\w\-,\s\*]+\}\s*|\s*\[[!\w\-,\s\*]+\]\s*|\s*\([!\w\-,\s\*]+\)\s*){0,3})(?:;\s*|$)/i,
                N = {
                    styles: /{([^}]+)}/,
                    attrs: /\[([^\]]+)\]/,
                    classes: /\(([^\)]+)\)/
                },
                A = /^cke:(object|embed|param)$/,
                F = /^(object|embed|param)$/,
                P;
            P = CKEDITOR.filter.transformationsTools = {
                sizeToStyle: function(t) {
                    this.lengthToStyle(t, "width"), this.lengthToStyle(t, "height")
                },
                sizeToAttribute: function(t) {
                    this.lengthToAttribute(t, "width"), this.lengthToAttribute(t, "height")
                },
                lengthToStyle: function(t, e, n) {
                    if (!((n = n || e) in t.styles)) {
                        var i = t.attributes[e];
                        i && (/^\d+$/.test(i) && (i += "px"), t.styles[n] = i)
                    }
                    delete t.attributes[e]
                },
                lengthToAttribute: function(t, e, n) {
                    if (!((n = n || e) in t.attributes)) {
                        var i = t.styles[e],
                            o = i && i.match(/^(\d+)(?:\.\d*)?px$/);
                        o ? t.attributes[n] = o[1] : "cke-test" == i && (t.attributes[n] = "cke-test")
                    }
                    delete t.styles[e]
                },
                alignmentToStyle: function(t) {
                    if (!("float" in t.styles)) {
                        var e = t.attributes.align;
                        "left" != e && "right" != e || (t.styles["float"] = e)
                    }
                    delete t.attributes.align
                },
                alignmentToAttribute: function(t) {
                    if (!("align" in t.attributes)) {
                        var e = t.styles["float"];
                        "left" != e && "right" != e || (t.attributes.align = e)
                    }
                    delete t.styles["float"]
                },
                splitBorderShorthand: function(t) {
                    function e(e) {
                        t.styles["border-top-width"] = n[e[0]], t.styles["border-right-width"] = n[e[1]], t.styles["border-bottom-width"] = n[e[2]], t.styles["border-left-width"] = n[e[3]]
                    }
                    if (t.styles.border) {
                        var n = t.styles.border.match(/([\.\d]+\w+)/g) || ["0px"];
                        switch (n.length) {
                        case 1:
                            t.styles["border-width"] = n[0];
                            break;
                        case 2:
                            e([0, 1, 0, 1]);
                            break;
                        case 3:
                            e([0, 1, 2, 1]);
                            break;
                        case 4:
                            e([0, 1, 2, 3])
                        }
                        t.styles["border-style"] = t.styles["border-style"] || (t.styles.border.match(/(none|hidden|dotted|dashed|solid|double|groove|ridge|inset|outset|initial|inherit)/) || [])[0], t.styles["border-style"] || delete t.styles["border-style"], delete t.styles.border
                    }
                },
                listTypeToStyle: function(t) {
                    if (t.attributes.type)
                        switch (t.attributes.type) {
                        case "a":
                            t.styles["list-style-type"] = "lower-alpha";
                            break;
                        case "A":
                            t.styles["list-style-type"] = "upper-alpha";
                            break;
                        case "i":
                            t.styles["list-style-type"] = "lower-roman";
                            break;
                        case "I":
                            t.styles["list-style-type"] = "upper-roman";
                            break;
                        case "1":
                            t.styles["list-style-type"] = "decimal";
                            break;
                        default:
                            t.styles["list-style-type"] = t.attributes.type
                        }
                },
                splitMarginShorthand: function(t) {
                    function e(e) {
                        t.styles["margin-top"] = n[e[0]], t.styles["margin-right"] = n[e[1]], t.styles["margin-bottom"] = n[e[2]], t.styles["margin-left"] = n[e[3]]
                    }
                    if (t.styles.margin) {
                        var n = t.styles.margin.match(/(\-?[\.\d]+\w+)/g) || ["0px"];
                        switch (n.length) {
                        case 1:
                            e([0, 0, 0, 0]);
                            break;
                        case 2:
                            e([0, 1, 0, 1]);
                            break;
                        case 3:
                            e([0, 1, 2, 1]);
                            break;
                        case 4:
                            e([0, 1, 2, 3])
                        }
                        delete t.styles.margin
                    }
                },
                matchesStyle: C,
                transform: function(t, e) {
                    if ("string" == typeof e)
                        t.name = e;
                    else {
                        var n = e.getDefinition(),
                            i = n.styles,
                            o = n.attributes,
                            a,
                            s,
                            r,
                            l;
                        t.name = n.element;
                        for (a in o)
                            if ("class" == a)
                                for (n = t.classes.join("|"), r = o[a].split(/\s+/); l = r.pop();)
                                    -1 == n.indexOf(l) && t.classes.push(l);
                            else
                                t.attributes[a] = o[a];
                        for (s in i)
                            t.styles[s] = i[s]
                    }
                }
            }
        }(), function() {
            CKEDITOR.focusManager = function(t) {
                return t.focusManager ? t.focusManager : (this.hasFocus = !1, this.currentActive = null, this._ = {
                    editor: t
                }, this)
            }, CKEDITOR.focusManager._ = {
                blurDelay: 200
            }, CKEDITOR.focusManager.prototype = {
                focus: function(t) {
                    this._.timer && clearTimeout(this._.timer), t && (this.currentActive = t), this.hasFocus || this._.locked || ((t = CKEDITOR.currentInstance) && t.focusManager.blur(1), this.hasFocus = !0, (t = this._.editor.container) && t.addClass("cke_focus"), this._.editor.fire("focus"))
                },
                lock: function() {
                    this._.locked = 1
                },
                unlock: function() {
                    delete this._.locked
                },
                blur: function(t) {
                    function e() {
                        if (this.hasFocus) {
                            this.hasFocus = !1;
                            var t = this._.editor.container;
                            t && t.removeClass("cke_focus"), this._.editor.fire("blur")
                        }
                    }
                    if (!this._.locked) {
                        this._.timer && clearTimeout(this._.timer);
                        var n = CKEDITOR.focusManager._.blurDelay;
                        t || !n ? e.call(this) : this._.timer = CKEDITOR.tools.setTimeout(function() {
                            delete this._.timer, e.call(this)
                        }, n, this)
                    }
                },
                add: function(t, e) {
                    var n = t.getCustomData("focusmanager");
                    if (!n || n != this) {
                        n && n.remove(t);
                        var n = "focus",
                            i = "blur";
                        e && (CKEDITOR.env.ie ? (n = "focusin", i = "focusout") : CKEDITOR.event.useCapture = 1);
                        var o = {
                            blur: function() {
                                t.equals(this.currentActive) && this.blur()
                            },
                            focus: function() {
                                this.focus(t)
                            }
                        };
                        t.on(n, o.focus, this), t.on(i, o.blur, this), e && (CKEDITOR.event.useCapture = 0), t.setCustomData("focusmanager", this), t.setCustomData("focusmanager_handlers", o)
                    }
                },
                remove: function(t) {
                    t.removeCustomData("focusmanager");
                    var e = t.removeCustomData("focusmanager_handlers");
                    t.removeListener("blur", e.blur), t.removeListener("focus", e.focus)
                }
            }
        }(), CKEDITOR.keystrokeHandler = function(t) {
            return t.keystrokeHandler ? t.keystrokeHandler : (this.keystrokes = {}, this.blockedKeystrokes = {}, this._ = {
                editor: t
            }, this)
        }, function() {
            var t,
                e = function(e) {
                    e = e.data;
                    var n = e.getKeystroke(),
                        i = this.keystrokes[n],
                        o = this._.editor;
                    return t = !1 === o.fire("key", {
                        keyCode: n,
                        domEvent: e
                    }), t || (i && (t = !1 !== o.execCommand(i, {
                        from: "keystrokeHandler"
                    })), t || (t = !!this.blockedKeystrokes[n])), t && e.preventDefault(!0), !t
                },
                n = function(e) {
                    t && (t = !1, e.data.preventDefault(!0))
                };
            CKEDITOR.keystrokeHandler.prototype = {
                attach: function(t) {
                    t.on("keydown", e, this), CKEDITOR.env.gecko && CKEDITOR.env.mac && t.on("keypress", n, this)
                }
            }
        }(), function() {
            CKEDITOR.lang = {
                languages: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    bn: 1,
                    bs: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    "en-au": 1,
                    "en-ca": 1,
                    "en-gb": 1,
                    en: 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fo: 1,
                    "fr-ca": 1,
                    fr: 1,
                    gl: 1,
                    gu: 1,
                    he: 1,
                    hi: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    is: 1,
                    it: 1,
                    ja: 1,
                    ka: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    mk: 1,
                    mn: 1,
                    ms: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    "pt-br": 1,
                    pt: 1,
                    ro: 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    "sr-latn": 1,
                    sr: 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    "zh-cn": 1,
                    zh: 1
                },
                rtl: {
                    ar: 1,
                    fa: 1,
                    he: 1,
                    ku: 1,
                    ug: 1
                },
                load: function(t, e, n) {
                    t && CKEDITOR.lang.languages[t] || (t = this.detect(e, t));
                    var i = this;
                    e = function() {
                        i[t].dir = i.rtl[t] ? "rtl" : "ltr", n(t, i[t])
                    }, this[t] ? e() : CKEDITOR.scriptLoader.load(CKEDITOR.getUrl("lang/" + t + ".js"), e, this)
                },
                detect: function(t, e) {
                    var n = this.languages;
                    e = e || navigator.userLanguage || navigator.language || t;
                    var i = e.toLowerCase().match(/([a-z]+)(?:-([a-z]+))?/),
                        o = i[1],
                        i = i[2];
                    return n[o + "-" + i] ? o = o + "-" + i : n[o] || (o = null), CKEDITOR.lang.detect = o ? function() {
                        return o
                    } : function(t) {
                        return t
                    }, o || t
                }
            }
        }(), CKEDITOR.scriptLoader = function() {
            var t = {},
                e = {};
            return {
                load: function(n, i, o, a) {
                    var s = "string" == typeof n;
                    s && (n = [n]), o || (o = CKEDITOR);
                    var r = n.length,
                        l = [],
                        c = [],
                        u = function(t) {
                            i && (s ? i.call(o, t) : i.call(o, l, c))
                        };
                    if (0 === r)
                        u(!0);
                    else {
                        var d = function(t, e) {
                                (e ? l : c).push(t), 0 >= --r && (a && CKEDITOR.document.getDocumentElement().removeStyle("cursor"), u(e))
                            },
                            h = function(n, i) {
                                t[n] = 1;
                                var o = e[n];
                                delete e[n];
                                for (var a = 0; a < o.length; a++)
                                    o[a](n, i)
                            },
                            f = function(n) {
                                if (t[n])
                                    d(n, !0);
                                else {
                                    var o = e[n] || (e[n] = []);
                                    if (o.push(d), !(1 < o.length)) {
                                        var a = new CKEDITOR.dom.element("script");
                                        a.setAttributes({
                                            type: "text/javascript",
                                            src: n
                                        }), i && (CKEDITOR.env.ie && (8 >= CKEDITOR.env.version || CKEDITOR.env.ie9Compat) ? a.$.onreadystatechange = function() {
                                            "loaded" != a.$.readyState && "complete" != a.$.readyState || (a.$.onreadystatechange = null, h(n, !0))
                                        } : (a.$.onload = function() {
                                            setTimeout(function() {
                                                h(n, !0)
                                            }, 0)
                                        }, a.$.onerror = function() {
                                            h(n, !1)
                                        })), a.appendTo(CKEDITOR.document.getHead())
                                    }
                                }
                            };
                        a && CKEDITOR.document.getDocumentElement().setStyle("cursor", "wait");
                        for (var p = 0; p < r; p++)
                            f(n[p])
                    }
                },
                queue: function() {
                    function t() {
                        var t;
                        (t = e[0]) && this.load(t.scriptUrl, t.callback, CKEDITOR, 0)
                    }
                    var e = [];
                    return function(n, i) {
                        var o = this;
                        e.push({
                            scriptUrl: n,
                            callback: function() {
                                i && i.apply(this, arguments), e.shift(), t.call(o)
                            }
                        }), 1 == e.length && t.call(this)
                    }
                }()
            }
        }(), CKEDITOR.resourceManager = function(t, e) {
            this.basePath = t, this.fileName = e, this.registered = {}, this.loaded = {}, this.externals = {}, this._ = {
                waitingList: {}
            }
        }, CKEDITOR.resourceManager.prototype = {
            add: function(t, e) {
                if (this.registered[t])
                    throw Error('[CKEDITOR.resourceManager.add] The resource name "' + t + '" is already registered.');
                var n = this.registered[t] = e || {};
                return n.name = t, n.path = this.getPath(t), CKEDITOR.fire(t + CKEDITOR.tools.capitalize(this.fileName) + "Ready", n), this.get(t)
            },
            get: function(t) {
                return this.registered[t] || null
            },
            getPath: function(t) {
                var e = this.externals[t];
                return CKEDITOR.getUrl(e && e.dir || this.basePath + t + "/")
            },
            getFilePath: function(t) {
                var e = this.externals[t];
                return CKEDITOR.getUrl(this.getPath(t) + (e ? e.file : this.fileName + ".js"))
            },
            addExternal: function(t, e, n) {
                t = t.split(",");
                for (var i = 0; i < t.length; i++) {
                    var o = t[i];
                    n || (e = e.replace(/[^\/]+$/, function(t) {
                        return n = t, ""
                    })), this.externals[o] = {
                        dir: e,
                        file: n || this.fileName + ".js"
                    }
                }
            },
            load: function(t, e, n) {
                CKEDITOR.tools.isArray(t) || (t = t ? [t] : []);
                for (var i = this.loaded, o = this.registered, a = [], s = {}, r = {}, l = 0; l < t.length; l++) {
                    var c = t[l];
                    if (c)
                        if (i[c] || o[c])
                            r[c] = this.get(c);
                        else {
                            var u = this.getFilePath(c);
                            a.push(u), u in s || (s[u] = []), s[u].push(c)
                        }
                }
                CKEDITOR.scriptLoader.load(a, function(t, o) {
                    if (o.length)
                        throw Error('[CKEDITOR.resourceManager.load] Resource name "' + s[o[0]].join(",") + '" was not found at "' + o[0] + '".');
                    for (var a = 0; a < t.length; a++)
                        for (var l = s[t[a]], c = 0; c < l.length; c++) {
                            var u = l[c];
                            r[u] = this.get(u), i[u] = 1
                        }
                    e.call(n, r)
                }, this)
            }
        }, CKEDITOR.plugins = new CKEDITOR.resourceManager("plugins/", "plugin"), CKEDITOR.plugins.load = CKEDITOR.tools.override(CKEDITOR.plugins.load, function(t) {
            var e = {};
            return function(n, i, o) {
                var a = {},
                    s = function(n) {
                        t.call(this, n, function(t) {
                            CKEDITOR.tools.extend(a, t);
                            var n = [],
                                r;
                            for (r in t) {
                                var l = t[r],
                                    c = l && l.requires;
                                if (!e[r]) {
                                    if (l.icons)
                                        for (var u = l.icons.split(","), d = u.length; d--;)
                                            CKEDITOR.skin.addIcon(u[d], l.path + "icons/" + (CKEDITOR.env.hidpi && l.hidpi ? "hidpi/" : "") + u[d] + ".png");
                                    e[r] = 1
                                }
                                if (c)
                                    for (c.split && (c = c.split(",")), l = 0; l < c.length; l++)
                                        a[c[l]] || n.push(c[l])
                            }
                            if (n.length)
                                s.call(this, n);
                            else {
                                for (r in a)
                                    l = a[r], l.onLoad && !l.onLoad._called && (!1 === l.onLoad() && delete a[r], l.onLoad._called = 1);
                                i && i.call(o || window, a)
                            }
                        }, this)
                    };
                s.call(this, n)
            }
        }), CKEDITOR.plugins.setLang = function(t, e, n) {
            var i = this.get(t);
            t = i.langEntries || (i.langEntries = {}), i = i.lang || (i.lang = []), i.split && (i = i.split(",")), -1 == CKEDITOR.tools.indexOf(i, e) && i.push(e), t[e] = n
        }, CKEDITOR.ui = function(t) {
            return t.ui ? t.ui : (this.items = {}, this.instances = {}, this.editor = t, this._ = {
                handlers: {}
            }, this)
        }, CKEDITOR.ui.prototype = {
            add: function(t, e, n) {
                n.name = t.toLowerCase();
                var i = this.items[t] = {
                    type: e,
                    command: n.command || null,
                    args: Array.prototype.slice.call(arguments, 2)
                };
                CKEDITOR.tools.extend(i, n)
            },
            get: function(t) {
                return this.instances[t]
            },
            create: function(t) {
                var e = this.items[t],
                    n = e && this._.handlers[e.type],
                    i = e && e.command && this.editor.getCommand(e.command),
                    n = n && n.create.apply(this, e.args);
                return this.instances[t] = n, i && i.uiItems.push(n), n && !n.type && (n.type = e.type), n
            },
            addHandler: function(t, e) {
                this._.handlers[t] = e
            },
            space: function(t) {
                return CKEDITOR.document.getById(this.spaceId(t))
            },
            spaceId: function(t) {
                return this.editor.id + "_" + t
            }
        }, CKEDITOR.event.implementOn(CKEDITOR.ui), function() {
            function t(t, o, s) {
                if (CKEDITOR.event.call(this), t = t && CKEDITOR.tools.clone(t), void 0 !== o) {
                    if (!(o instanceof CKEDITOR.dom.element))
                        throw Error("Expect element of type CKEDITOR.dom.element.");
                    if (!s)
                        throw Error("One of the element modes must be specified.");
                    if (CKEDITOR.env.ie && CKEDITOR.env.quirks && s == CKEDITOR.ELEMENT_MODE_INLINE)
                        throw Error("Inline element mode is not supported on IE quirks.");
                    if (!n(o, s))
                        throw Error('The specified element mode is not supported on element: "' + o.getName() + '".');
                    this.element = o, this.elementMode = s, this.name = this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO && (o.getId() || o.getNameAtt())
                } else
                    this.elementMode = CKEDITOR.ELEMENT_MODE_NONE;
                this._ = {}, this.commands = {}, this.templates = {}, this.name = this.name || e(), this.id = CKEDITOR.tools.getNextId(), this.status = "unloaded", this.config = CKEDITOR.tools.prototypedCopy(CKEDITOR.config), this.ui = new CKEDITOR.ui(this), this.focusManager = new CKEDITOR.focusManager(this), this.keystrokeHandler = new CKEDITOR.keystrokeHandler(this), this.on("readOnly", i), this.on("selectionChange", function(t) {
                    a(this, t.data.path)
                }), this.on("activeFilterChange", function() {
                    a(this, this.elementPath(), !0)
                }), this.on("mode", i), this.on("instanceReady", function() {
                    this.config.startupFocus && this.focus()
                }), CKEDITOR.fire("instanceCreated", null, this), CKEDITOR.add(this), CKEDITOR.tools.setTimeout(function() {
                    "destroyed" !== this.status ? r(this, t) : CKEDITOR.warn("editor-incorrect-destroy")
                }, 0, this)
            }
            function e() {
                do {
                    var t = "editor" + ++p
                } while (CKEDITOR.instances[t]);
                return t
            }
            function n(t, e) {
                return e == CKEDITOR.ELEMENT_MODE_INLINE ? t.is(CKEDITOR.dtd.$editable) || t.is("textarea") : e == CKEDITOR.ELEMENT_MODE_REPLACE ? !t.is(CKEDITOR.dtd.$nonBodyContent) : 1
            }
            function i() {
                var t = this.commands,
                    e;
                for (e in t)
                    o(this, t[e])
            }
            function o(t, e) {
                e[e.startDisabled ? "disable" : t.readOnly && !e.readOnly ? "disable" : e.modes[t.mode] ? "enable" : "disable"]()
            }
            function a(t, e, n) {
                if (e) {
                    var i,
                        o,
                        a = t.commands;
                    for (o in a)
                        i = a[o], (n || i.contextSensitive) && i.refresh(t, e)
                }
            }
            function s(t) {
                var e = t.config.customConfig;
                if (!e)
                    return !1;
                var e = CKEDITOR.getUrl(e),
                    n = m[e] || (m[e] = {});
                return n.fn ? (n.fn.call(t, t.config), CKEDITOR.getUrl(t.config.customConfig) != e && s(t) || t.fireOnce("customConfigLoaded")) : CKEDITOR.scriptLoader.queue(e, function() {
                    n.fn = CKEDITOR.editorConfig ? CKEDITOR.editorConfig : function() {}, s(t)
                }), !0
            }
            function r(t, e) {
                t.on("customConfigLoaded", function() {
                    if (e) {
                        if (e.on)
                            for (var n in e.on)
                                t.on(n, e.on[n]);
                        CKEDITOR.tools.extend(t.config, e, !0), delete t.config.on
                    }
                    n = t.config, t.readOnly = !!n.readOnly || (t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? t.element.is("textarea") ? t.element.hasAttribute("disabled") || t.element.hasAttribute("readonly") : t.element.isReadOnly() : t.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (t.element.hasAttribute("disabled") || t.element.hasAttribute("readonly"))), t.blockless = t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && !(t.element.is("textarea") || CKEDITOR.dtd[t.element.getName()].p), t.tabIndex = n.tabIndex || t.element && t.element.getAttribute("tabindex") || 0, t.activeEnterMode = t.enterMode = t.blockless ? CKEDITOR.ENTER_BR : n.enterMode, t.activeShiftEnterMode = t.shiftEnterMode = t.blockless ? CKEDITOR.ENTER_BR : n.shiftEnterMode, n.skin && (CKEDITOR.skinName = n.skin), t.fireOnce("configLoaded"), t.dataProcessor = new CKEDITOR.htmlDataProcessor(t), t.filter = t.activeFilter = new CKEDITOR.filter(t), l(t)
                }), e && null != e.customConfig && (t.config.customConfig = e.customConfig), s(t) || t.fireOnce("customConfigLoaded")
            }
            function l(t) {
                CKEDITOR.skin.loadPart("editor", function() {
                    c(t)
                })
            }
            function c(t) {
                CKEDITOR.lang.load(t.config.language, t.config.defaultLanguage, function(e, n) {
                    var i = t.config.title;
                    t.langCode = e, t.lang = CKEDITOR.tools.prototypedCopy(n), t.title = "string" == typeof i || !1 === i ? i : [t.lang.editor, t.name].join(", "), t.config.contentsLangDirection || (t.config.contentsLangDirection = t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? t.element.getDirection(1) : t.lang.dir), t.fire("langLoaded"), u(t)
                })
            }
            function u(t) {
                t.getStylesSet(function(e) {
                    t.once("loaded", function() {
                        t.fire("stylesSet", {
                            styles: e
                        })
                    }, null, null, 1), d(t)
                })
            }
            function d(t) {
                var e = t.config,
                    n = e.plugins,
                    i = e.extraPlugins,
                    o = e.removePlugins;
                if (i)
                    var a = new RegExp("(?:^|,)(?:" + i.replace(/\s*,\s*/g, "|") + ")(?=,|$)", "g"),
                        n = n.replace(a, ""),
                        n = n + "," + i;
                if (o)
                    var s = new RegExp("(?:^|,)(?:" + o.replace(/\s*,\s*/g, "|") + ")(?=,|$)", "g"),
                        n = n.replace(s, "");
                CKEDITOR.env.air && (n += ",adobeair"), CKEDITOR.plugins.load(n.split(","), function(n) {
                    var i = [],
                        o = [],
                        a = [];
                    t.plugins = n;
                    for (var r in n) {
                        var l = n[r],
                            c = l.lang,
                            u = null,
                            d = l.requires,
                            h;
                        if (CKEDITOR.tools.isArray(d) && (d = d.join(",")), d && (h = d.match(s)))
                            for (; d = h.pop();)
                                CKEDITOR.error("editor-plugin-required", {
                                    plugin: d.replace(",", ""),
                                    requiredBy: r
                                });
                        c && !t.lang[r] && (c.split && (c = c.split(",")), 0 <= CKEDITOR.tools.indexOf(c, t.langCode) ? u = t.langCode : (u = t.langCode.replace(/-.*/, ""), u = u != t.langCode && 0 <= CKEDITOR.tools.indexOf(c, u) ? u : 0 <= CKEDITOR.tools.indexOf(c, "en") ? "en" : c[0]), l.langEntries && l.langEntries[u] ? (t.lang[r] = l.langEntries[u], u = null) : a.push(CKEDITOR.getUrl(l.path + "lang/" + u + ".js"))), o.push(u), i.push(l)
                    }
                    CKEDITOR.scriptLoader.load(a, function() {
                        for (var n = ["beforeInit", "init", "afterInit"], a = 0; a < n.length; a++)
                            for (var s = 0; s < i.length; s++) {
                                var r = i[s];
                                0 === a && o[s] && r.lang && r.langEntries && (t.lang[r.name] = r.langEntries[o[s]]), r[n[a]] && r[n[a]](t)
                            }
                        for (t.fireOnce("pluginsLoaded"), e.keystrokes && t.setKeystroke(t.config.keystrokes), s = 0; s < t.config.blockedKeystrokes.length; s++)
                            t.keystrokeHandler.blockedKeystrokes[t.config.blockedKeystrokes[s]] = 1;
                        t.status = "loaded", t.fireOnce("loaded"), CKEDITOR.fire("instanceLoaded", null, t)
                    })
                })
            }
            function h() {
                var t = this.element;
                if (t && this.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO) {
                    var e = this.getData();
                    return this.config.htmlEncodeOutput && (e = CKEDITOR.tools.htmlEncode(e)), t.is("textarea") ? t.setValue(e) : t.setHtml(e), !0
                }
                return !1
            }
            function f(t, e) {
                function n(t) {
                    var e = t.startContainer,
                        n = t.endContainer;
                    return !(!e.is || !(e.is("tr") || e.is("td") && e.equals(n) && t.endOffset === e.getChildCount()))
                }
                function i(t) {
                    var e = t.startContainer;
                    return e.is("tr") ? t.cloneContents() : e.clone(!0)
                }
                for (var o = new CKEDITOR.dom.documentFragment, a, s, r, l = 0; l < t.length; l++) {
                    var c = t[l],
                        u = c.startContainer.getAscendant("tr", !0);
                    n(c) ? (a || (a = u.getAscendant("table").clone(), a.append(u.getAscendant({
                        thead: 1,
                        tbody: 1,
                        tfoot: 1
                    }).clone()), o.append(a), a = a.findOne("thead, tbody, tfoot")), s && s.equals(u) || (s = u, r = u.clone(), a.append(r)), r.append(i(c))) : o.append(c.cloneContents())
                }
                return a ? o : e.getHtmlFromRange(t[0])
            }
            t.prototype = CKEDITOR.editor.prototype, CKEDITOR.editor = t;
            var p = 0,
                m = {};
            CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                addCommand: function(t, e) {
                    e.name = t.toLowerCase();
                    var n = new CKEDITOR.command(this, e);
                    return this.mode && o(this, n), this.commands[t] = n
                },
                _attachToForm: function() {
                    function t(t) {
                        n.updateElement(), n._.required && !i.getValue() && !1 === n.fire("required") && t.data.preventDefault()
                    }
                    function e(t) {
                        return !!(t && t.call && t.apply)
                    }
                    var n = this,
                        i = n.element,
                        o = new CKEDITOR.dom.element(i.$.form);
                    i.is("textarea") && o && (o.on("submit", t), e(o.$.submit) && (o.$.submit = CKEDITOR.tools.override(o.$.submit, function(e) {
                        return function() {
                            t(), e.apply ? e.apply(this) : e()
                        }
                    })), n.on("destroy", function() {
                        o.removeListener("submit", t)
                    }))
                },
                destroy: function(t) {
                    this.fire("beforeDestroy"), !t && h.call(this), this.editable(null), this.filter && (this.filter.destroy(), delete this.filter), delete this.activeFilter, this.status = "destroyed", this.fire("destroy"), this.removeAllListeners(), CKEDITOR.remove(this), CKEDITOR.fire("instanceDestroyed", null, this)
                },
                elementPath: function(t) {
                    if (!t) {
                        if (!(t = this.getSelection()))
                            return null;
                        t = t.getStartElement()
                    }
                    return t ? new CKEDITOR.dom.elementPath(t, this.editable()) : null
                },
                createRange: function() {
                    var t = this.editable();
                    return t ? new CKEDITOR.dom.range(t) : null
                },
                execCommand: function(t, e) {
                    var n = this.getCommand(t),
                        i = {
                            name: t,
                            commandData: e || {},
                            command: n
                        };
                    return !(!n || n.state == CKEDITOR.TRISTATE_DISABLED || !1 === this.fire("beforeCommandExec", i) || (i.returnValue = n.exec(i.commandData), n.async || !1 === this.fire("afterCommandExec", i))) && i.returnValue
                },
                getCommand: function(t) {
                    return this.commands[t]
                },
                getData: function(t) {
                    !t && this.fire("beforeGetData");
                    var e = this._.data;
                    return "string" != typeof e && (e = (e = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? e.is("textarea") ? e.getValue() : e.getHtml() : ""), e = {
                        dataValue: e
                    }, !t && this.fire("getData", e), e.dataValue
                },
                getSnapshot: function() {
                    var t = this.fire("getSnapshot");
                    return "string" != typeof t && (t = (t = this.element) && this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE ? t.is("textarea") ? t.getValue() : t.getHtml() : ""), t
                },
                loadSnapshot: function(t) {
                    this.fire("loadSnapshot", t)
                },
                setData: function(t, e, n) {
                    var i = !0,
                        o = e;
                    e && "object" == typeof e && (n = e.internal, o = e.callback, i = !e.noSnapshot), !n && i && this.fire("saveSnapshot"), !o && n || this.once("dataReady", function(t) {
                        !n && i && this.fire("saveSnapshot"), o && o.call(t.editor)
                    }), t = {
                        dataValue: t
                    }, !n && this.fire("setData", t), this._.data = t.dataValue, !n && this.fire("afterSetData", t)
                },
                setReadOnly: function(t) {
                    t = null == t || t, this.readOnly != t && (this.readOnly = t, this.keystrokeHandler.blockedKeystrokes[8] = +t, this.editable().setReadOnly(t), this.fire("readOnly"))
                },
                insertHtml: function(t, e, n) {
                    this.fire("insertHtml", {
                        dataValue: t,
                        mode: e,
                        range: n
                    })
                },
                insertText: function(t) {
                    this.fire("insertText", t)
                },
                insertElement: function(t) {
                    this.fire("insertElement", t)
                },
                getSelectedHtml: function(t) {
                    var e = this.editable(),
                        n = this.getSelection(),
                        n = n && n.getRanges();
                    return e && n && 0 !== n.length ? (e = f(n, e), t ? e.getHtml() : e) : null
                },
                extractSelectedHtml: function(t, e) {
                    var n = this.editable(),
                        i = this.getSelection().getRanges(),
                        o = new CKEDITOR.dom.documentFragment,
                        a;
                    if (!n || 0 === i.length)
                        return null;
                    for (a = 0; a < i.length; a++)
                        o.append(n.extractHtmlFromRange(i[a], e));
                    return e || this.getSelection().selectRanges([i[0]]), t ? o.getHtml() : o
                },
                focus: function() {
                    this.fire("beforeFocus")
                },
                checkDirty: function() {
                    return "ready" == this.status && this._.previousValue !== this.getSnapshot()
                },
                resetDirty: function() {
                    this._.previousValue = this.getSnapshot()
                },
                updateElement: function() {
                    return h.call(this)
                },
                setKeystroke: function() {
                    for (var t = this.keystrokeHandler.keystrokes, e = CKEDITOR.tools.isArray(arguments[0]) ? arguments[0] : [[].slice.call(arguments, 0)], n, i, o = e.length; o--;)
                        n = e[o], i = 0, CKEDITOR.tools.isArray(n) && (i = n[1], n = n[0]), i ? t[n] = i : delete t[n]
                },
                getCommandKeystroke: function(t) {
                    if (t = "string" == typeof t ? this.getCommand(t) : t) {
                        var e = CKEDITOR.tools.object.findKey(this.commands, t),
                            n = this.keystrokeHandler.keystrokes,
                            i;
                        if (t.fakeKeystroke)
                            return t.fakeKeystroke;
                        for (i in n)
                            if (n.hasOwnProperty(i) && n[i] == e)
                                return i
                    }
                    return null
                },
                addFeature: function(t) {
                    return this.filter.addFeature(t)
                },
                setActiveFilter: function(t) {
                    t || (t = this.filter), this.activeFilter !== t && (this.activeFilter = t, this.fire("activeFilterChange"), t === this.filter ? this.setActiveEnterMode(null, null) : this.setActiveEnterMode(t.getAllowedEnterMode(this.enterMode), t.getAllowedEnterMode(this.shiftEnterMode, !0)))
                },
                setActiveEnterMode: function(t, e) {
                    t = t ? this.blockless ? CKEDITOR.ENTER_BR : t : this.enterMode, e = e ? this.blockless ? CKEDITOR.ENTER_BR : e : this.shiftEnterMode, this.activeEnterMode == t && this.activeShiftEnterMode == e || (this.activeEnterMode = t, this.activeShiftEnterMode = e, this.fire("activeEnterModeChange"))
                },
                showNotification: function(t) {
                    alert(t)
                }
            })
        }(), CKEDITOR.ELEMENT_MODE_NONE = 0, CKEDITOR.ELEMENT_MODE_REPLACE = 1, CKEDITOR.ELEMENT_MODE_APPENDTO = 2, CKEDITOR.ELEMENT_MODE_INLINE = 3, CKEDITOR.htmlParser = function() {
            this._ = {
                htmlPartsRegex: /<(?:(?:\/([^>]+)>)|(?:!--([\S|\s]*?)--\x3e)|(?:([^\/\s>]+)((?:\s+[\w\-:.]+(?:\s*=\s*?(?:(?:"[^"]*")|(?:'[^']*')|[^\s"'\/>]+))?)*)[\S\s]*?(\/?)>))/g
            }
        }, function() {
            var t = /([\w\-:.]+)(?:(?:\s*=\s*(?:(?:"([^"]*)")|(?:'([^']*)')|([^\s>]+)))|(?=\s|$))/g,
                e = {
                    checked: 1,
                    compact: 1,
                    declare: 1,
                    defer: 1,
                    disabled: 1,
                    ismap: 1,
                    multiple: 1,
                    nohref: 1,
                    noresize: 1,
                    noshade: 1,
                    nowrap: 1,
                    readonly: 1,
                    selected: 1
                };
            CKEDITOR.htmlParser.prototype = {
                onTagOpen: function() {},
                onTagClose: function() {},
                onText: function() {},
                onCDATA: function() {},
                onComment: function() {},
                parse: function(n) {
                    for (var i, o, a = 0, s; i = this._.htmlPartsRegex.exec(n);)
                        if (o = i.index, o > a && (a = n.substring(a, o), s ? s.push(a) : this.onText(a)), a = this._.htmlPartsRegex.lastIndex, !(o = i[1]) || (o = o.toLowerCase(), s && CKEDITOR.dtd.$cdata[o] && (this.onCDATA(s.join("")), s = null), s))
                            if (s)
                                s.push(i[0]);
                            else if (o = i[3]) {
                                if (o = o.toLowerCase(), !/="/.test(o)) {
                                    var r = {},
                                        l,
                                        c = i[4];
                                    if (i = !!i[5], c)
                                        for (; l = t.exec(c);) {
                                            var u = l[1].toLowerCase();
                                            l = l[2] || l[3] || l[4] || "", r[u] = !l && e[u] ? u : CKEDITOR.tools.htmlDecodeAttr(l)
                                        }
                                    this.onTagOpen(o, r, i), !s && CKEDITOR.dtd.$cdata[o] && (s = [])
                                }
                            } else
                                (o = i[2]) && this.onComment(o);
                        else
                            this.onTagClose(o);
                    n.length > a && this.onText(n.substring(a, n.length))
                }
            }
        }(), CKEDITOR.htmlParser.basicWriter = CKEDITOR.tools.createClass({
            $: function() {
                this._ = {
                    output: []
                }
            },
            proto: {
                openTag: function(t) {
                    this._.output.push("<", t)
                },
                openTagClose: function(t, e) {
                    e ? this._.output.push(" />") : this._.output.push(">")
                },
                attribute: function(t, e) {
                    "string" == typeof e && (e = CKEDITOR.tools.htmlEncodeAttr(e)), this._.output.push(" ", t, '="', e, '"')
                },
                closeTag: function(t) {
                    this._.output.push("</", t, ">")
                },
                text: function(t) {
                    this._.output.push(t)
                },
                comment: function(t) {
                    this._.output.push("<!--", t, "-->")
                },
                write: function(t) {
                    this._.output.push(t)
                },
                reset: function() {
                    this._.output = [], this._.indent = !1
                },
                getHtml: function(t) {
                    var e = this._.output.join("");
                    return t && this.reset(), e
                }
            }
        }), function() {
            CKEDITOR.htmlParser.node = function() {}, CKEDITOR.htmlParser.node.prototype = {
                remove: function() {
                    var t = this.parent.children,
                        e = CKEDITOR.tools.indexOf(t, this),
                        n = this.previous,
                        i = this.next;
                    n && (n.next = i), i && (i.previous = n), t.splice(e, 1), this.parent = null
                },
                replaceWith: function(t) {
                    var e = this.parent.children,
                        n = CKEDITOR.tools.indexOf(e, this),
                        i = t.previous = this.previous,
                        o = t.next = this.next;
                    i && (i.next = t), o && (o.previous = t), e[n] = t, t.parent = this.parent, this.parent = null
                },
                insertAfter: function(t) {
                    var e = t.parent.children,
                        n = CKEDITOR.tools.indexOf(e, t),
                        i = t.next;
                    e.splice(n + 1, 0, this), this.next = t.next, this.previous = t, t.next = this, i && (i.previous = this), this.parent = t.parent
                },
                insertBefore: function(t) {
                    var e = t.parent.children,
                        n = CKEDITOR.tools.indexOf(e, t);
                    e.splice(n, 0, this), this.next = t, (this.previous = t.previous) && (t.previous.next = this), t.previous = this, this.parent = t.parent
                },
                getAscendant: function(t) {
                    for (var e = ("function" == typeof t ? t : "string" == typeof t ? function(e) {
                            return e.name == t
                        } : function(e) {
                            return e.name in t
                        }), n = this.parent; n && n.type == CKEDITOR.NODE_ELEMENT;) {
                        if (e(n))
                            return n;
                        n = n.parent
                    }
                    return null
                },
                wrapWith: function(t) {
                    return this.replaceWith(t), t.add(this), t
                },
                getIndex: function() {
                    return CKEDITOR.tools.indexOf(this.parent.children, this)
                },
                getFilterContext: function(t) {
                    return t || {}
                }
            }
        }(), CKEDITOR.htmlParser.comment = function(t) {
            this.value = t, this._ = {
                isBlockLike: !1
            }
        }, CKEDITOR.htmlParser.comment.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
            type: CKEDITOR.NODE_COMMENT,
            filter: function(t, e) {
                var n = this.value;
                return (n = t.onComment(e, n, this)) ? "string" != typeof n ? (this.replaceWith(n), !1) : (this.value = n, !0) : (this.remove(), !1)
            },
            writeHtml: function(t, e) {
                e && this.filter(e), t.comment(this.value)
            }
        }), function() {
            CKEDITOR.htmlParser.text = function(t) {
                this.value = t, this._ = {
                    isBlockLike: !1
                }
            }, CKEDITOR.htmlParser.text.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_TEXT,
                filter: function(t, e) {
                    if (!(this.value = t.onText(e, this.value, this)))
                        return this.remove(), !1
                },
                writeHtml: function(t, e) {
                    e && this.filter(e), t.text(this.value)
                }
            })
        }(), function() {
            CKEDITOR.htmlParser.cdata = function(t) {
                this.value = t
            }, CKEDITOR.htmlParser.cdata.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_TEXT,
                filter: function() {},
                writeHtml: function(t) {
                    t.write(this.value)
                }
            })
        }(), CKEDITOR.htmlParser.fragment = function() {
            this.children = [], this.parent = null, this._ = {
                isBlockLike: !0,
                hasInlineStarted: !1
            }
        }, function() {
            function t(t) {
                return !t.attributes["data-cke-survive"] && ("a" == t.name && t.attributes.href || CKEDITOR.dtd.$removeEmpty[t.name])
            }
            var e = CKEDITOR.tools.extend({
                    table: 1,
                    ul: 1,
                    ol: 1,
                    dl: 1
                }, CKEDITOR.dtd.table, CKEDITOR.dtd.ul, CKEDITOR.dtd.ol, CKEDITOR.dtd.dl),
                n = {
                    ol: 1,
                    ul: 1
                },
                i = CKEDITOR.tools.extend({}, {
                    html: 1
                }, CKEDITOR.dtd.html, CKEDITOR.dtd.body, CKEDITOR.dtd.head, {
                    style: 1,
                    script: 1
                }),
                o = {
                    ul: "li",
                    ol: "li",
                    dl: "dd",
                    table: "tbody",
                    tbody: "tr",
                    thead: "tr",
                    tfoot: "tr",
                    tr: "td"
                };
            CKEDITOR.htmlParser.fragment.fromHtml = function(a, s, r) {
                function l(t) {
                    var e;
                    if (0 < g.length)
                        for (var n = 0; n < g.length; n++) {
                            var i = g[n],
                                o = i.name,
                                a = CKEDITOR.dtd[o],
                                s = b.name && CKEDITOR.dtd[b.name];
                            s && !s[o] || t && a && !a[t] && CKEDITOR.dtd[t] ? o == b.name && (d(b, b.parent, 1), n--) : (e || (c(), e = 1), i = i.clone(), i.parent = b, b = i, g.splice(n, 1), n--)
                        }
                }
                function c() {
                    for (; v.length;)
                        d(v.shift(), b)
                }
                function u(t) {
                    if (t._.isBlockLike && "pre" != t.name && "textarea" != t.name) {
                        var e = t.children.length,
                            n = t.children[e - 1],
                            i;
                        n && n.type == CKEDITOR.NODE_TEXT && ((i = CKEDITOR.tools.rtrim(n.value)) ? n.value = i : t.children.length = e - 1)
                    }
                }
                function d(e, n, i) {
                    n = n || b || m;
                    var o = b;
                    void 0 === e.previous && (h(n, e) && (b = n, p.onTagOpen(r, {}), e.returnPoint = n = b), u(e), t(e) && !e.children.length || n.add(e), "pre" == e.name && (y = !1), "textarea" == e.name && (E = !1)), e.returnPoint ? (b = e.returnPoint, delete e.returnPoint) : b = i ? n : o
                }
                function h(t, e) {
                    if ((t == m || "body" == t.name) && r && (!t.name || CKEDITOR.dtd[t.name][r])) {
                        var n,
                            i;
                        return (n = e.attributes && (i = e.attributes["data-cke-real-element-type"]) ? i : e.name) && n in CKEDITOR.dtd.$inline && !(n in CKEDITOR.dtd.head) && !e.isOrphan || e.type == CKEDITOR.NODE_TEXT
                    }
                }
                function f(t, e) {
                    return (t in CKEDITOR.dtd.$listItem || t in CKEDITOR.dtd.$tableContent) && (t == e || "dt" == t && "dd" == e || "dd" == t && "dt" == e)
                }
                var p = new CKEDITOR.htmlParser,
                    m = s instanceof CKEDITOR.htmlParser.element ? s : "string" == typeof s ? new CKEDITOR.htmlParser.element(s) : new CKEDITOR.htmlParser.fragment,
                    g = [],
                    v = [],
                    b = m,
                    E = "textarea" == m.name,
                    y = "pre" == m.name;
                p.onTagOpen = function(o, a, s, r) {
                    if (a = new CKEDITOR.htmlParser.element(o, a), a.isUnknown && s && (a.isEmpty = !0), a.isOptionalClose = r, t(a))
                        g.push(a);
                    else {
                        if ("pre" == o)
                            y = !0;
                        else {
                            if ("br" == o && y)
                                return void b.add(new CKEDITOR.htmlParser.text("\n"));
                            "textarea" == o && (E = !0)
                        }
                        if ("br" == o)
                            v.push(a);
                        else {
                            for (; r = (s = b.name) ? CKEDITOR.dtd[s] || (b._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : i, !(a.isUnknown || b.isUnknown || r[o]);)
                                if (b.isOptionalClose)
                                    p.onTagClose(s);
                                else if (o in n && s in n)
                                    s = b.children, (s = s[s.length - 1]) && "li" == s.name || d(s = new CKEDITOR.htmlParser.element("li"), b), !a.returnPoint && (a.returnPoint = b), b = s;
                                else if (o in CKEDITOR.dtd.$listItem && !f(o, s))
                                    p.onTagOpen("li" == o ? "ul" : "dl", {}, 0, 1);
                                else if (s in e && !f(o, s))
                                    !a.returnPoint && (a.returnPoint = b), b = b.parent;
                                else {
                                    if (s in CKEDITOR.dtd.$inline && g.unshift(b), !b.parent) {
                                        a.isOrphan = 1;
                                        break
                                    }
                                    d(b, b.parent, 1)
                                }
                            l(o), c(), a.parent = b, a.isEmpty ? d(a) : b = a
                        }
                    }
                }, p.onTagClose = function(t) {
                    for (var e = g.length - 1; 0 <= e; e--)
                        if (t == g[e].name)
                            return void g.splice(e, 1);
                    for (var n = [], i = [], o = b; o != m && o.name != t;)
                        o._.isBlockLike || i.unshift(o), n.push(o), o = o.returnPoint || o.parent;
                    if (o != m) {
                        for (e = 0; e < n.length; e++) {
                            var a = n[e];
                            d(a, a.parent)
                        }
                        b = o, o._.isBlockLike && c(), d(o, o.parent), o == b && (b = b.parent), g = g.concat(i)
                    }
                    "body" == t && (r = !1)
                }, p.onText = function(t) {
                    if (b._.hasInlineStarted && !v.length || y || E || (t = CKEDITOR.tools.ltrim(t), 0 !== t.length)) {
                        var n = b.name,
                            a = n ? CKEDITOR.dtd[n] || (b._.isBlockLike ? CKEDITOR.dtd.div : CKEDITOR.dtd.span) : i;
                        !E && !a["#"] && n in e ? (p.onTagOpen(o[n] || ""), p.onText(t)) : (c(), l(), y || E || (t = t.replace(/[\t\r\n ]{2,}|[\t\r\n]/g, " ")), t = new CKEDITOR.htmlParser.text(t), h(b, t) && this.onTagOpen(r, {}, 0, 1), b.add(t))
                    }
                }, p.onCDATA = function(t) {
                    b.add(new CKEDITOR.htmlParser.cdata(t))
                }, p.onComment = function(t) {
                    c(), l(), b.add(new CKEDITOR.htmlParser.comment(t))
                }, p.parse(a);
                for (c(); b != m;)
                    d(b, b.parent, 1);
                return u(m), m
            }, CKEDITOR.htmlParser.fragment.prototype = {
                type: CKEDITOR.NODE_DOCUMENT_FRAGMENT,
                add: function(t, e) {
                    isNaN(e) && (e = this.children.length);
                    var n = 0 < e ? this.children[e - 1] : null;
                    if (n) {
                        if (t._.isBlockLike && n.type == CKEDITOR.NODE_TEXT && (n.value = CKEDITOR.tools.rtrim(n.value), 0 === n.value.length))
                            return this.children.pop(), void this.add(t);
                        n.next = t
                    }
                    t.previous = n, t.parent = this, this.children.splice(e, 0, t), this._.hasInlineStarted || (this._.hasInlineStarted = t.type == CKEDITOR.NODE_TEXT || t.type == CKEDITOR.NODE_ELEMENT && !t._.isBlockLike)
                },
                filter: function(t, e) {
                    e = this.getFilterContext(e), t.onRoot(e, this), this.filterChildren(t, !1, e)
                },
                filterChildren: function(t, e, n) {
                    if (this.childrenFilteredBy != t.id)
                        for (n = this.getFilterContext(n), e && !this.parent && t.onRoot(n, this), this.childrenFilteredBy = t.id, e = 0; e < this.children.length; e++)
                            !1 === this.children[e].filter(t, n) && e--
                },
                writeHtml: function(t, e) {
                    e && this.filter(e), this.writeChildrenHtml(t)
                },
                writeChildrenHtml: function(t, e, n) {
                    var i = this.getFilterContext();
                    for (n && !this.parent && e && e.onRoot(i, this), e && this.filterChildren(e, !1, i), e = 0, n = this.children, i = n.length; e < i; e++)
                        n[e].writeHtml(t)
                },
                forEach: function(t, e, n) {
                    if (!(n || e && this.type != e))
                        var i = t(this);
                    if (!1 !== i) {
                        n = this.children;
                        for (var o = 0; o < n.length; o++)
                            i = n[o], i.type == CKEDITOR.NODE_ELEMENT ? i.forEach(t, e) : e && i.type != e || t(i)
                    }
                },
                getFilterContext: function(t) {
                    return t || {}
                }
            }
        }(), function() {
            function t() {
                this.rules = []
            }
            function e(e, n, i, o) {
                var a,
                    s;
                for (a in n)
                    (s = e[a]) || (s = e[a] = new t), s.add(n[a], i, o)
            }
            CKEDITOR.htmlParser.filter = CKEDITOR.tools.createClass({
                $: function(e) {
                    this.id = CKEDITOR.tools.getNextNumber(), this.elementNameRules = new t, this.attributeNameRules = new t, this.elementsRules = {}, this.attributesRules = {}, this.textRules = new t, this.commentRules = new t, this.rootRules = new t, e && this.addRules(e, 10)
                },
                proto: {
                    addRules: function(t, n) {
                        var i;
                        "number" == typeof n ? i = n : n && "priority" in n && (i = n.priority), "number" != typeof i && (i = 10), "object" != typeof n && (n = {}), t.elementNames && this.elementNameRules.addMany(t.elementNames, i, n), t.attributeNames && this.attributeNameRules.addMany(t.attributeNames, i, n), t.elements && e(this.elementsRules, t.elements, i, n), t.attributes && e(this.attributesRules, t.attributes, i, n), t.text && this.textRules.add(t.text, i, n), t.comment && this.commentRules.add(t.comment, i, n), t.root && this.rootRules.add(t.root, i, n)
                    },
                    applyTo: function(t) {
                        t.filter(this)
                    },
                    onElementName: function(t, e) {
                        return this.elementNameRules.execOnName(t, e)
                    },
                    onAttributeName: function(t, e) {
                        return this.attributeNameRules.execOnName(t, e)
                    },
                    onText: function(t, e, n) {
                        return this.textRules.exec(t, e, n)
                    },
                    onComment: function(t, e, n) {
                        return this.commentRules.exec(t, e, n)
                    },
                    onRoot: function(t, e) {
                        return this.rootRules.exec(t, e)
                    },
                    onElement: function(t, e) {
                        for (var n = [this.elementsRules["^"], this.elementsRules[e.name], this.elementsRules.$], i, o = 0; 3 > o; o++)
                            if (i = n[o]) {
                                if (!1 === (i = i.exec(t, e, this)))
                                    return null;
                                if (i && i != e)
                                    return this.onNode(t, i);
                                if (e.parent && !e.name)
                                    break
                            }
                        return e
                    },
                    onNode: function(t, e) {
                        var n = e.type;
                        return n == CKEDITOR.NODE_ELEMENT ? this.onElement(t, e) : n == CKEDITOR.NODE_TEXT ? new CKEDITOR.htmlParser.text(this.onText(t, e.value)) : n == CKEDITOR.NODE_COMMENT ? new CKEDITOR.htmlParser.comment(this.onComment(t, e.value)) : null
                    },
                    onAttribute: function(t, e, n, i) {
                        return (n = this.attributesRules[n]) ? n.exec(t, i, e, this) : i
                    }
                }
            }), CKEDITOR.htmlParser.filterRulesGroup = t, t.prototype = {
                add: function(t, e, n) {
                    this.rules.splice(this.findIndex(e), 0, {
                        value: t,
                        priority: e,
                        options: n
                    })
                },
                addMany: function(t, e, n) {
                    for (var i = [this.findIndex(e), 0], o = 0, a = t.length; o < a; o++)
                        i.push({
                            value: t[o],
                            priority: e,
                            options: n
                        });
                    this.rules.splice.apply(this.rules, i)
                },
                findIndex: function(t) {
                    for (var e = this.rules, n = e.length - 1; 0 <= n && t < e[n].priority;)
                        n--;
                    return n + 1
                },
                exec: function(t, e) {
                    var n = e instanceof CKEDITOR.htmlParser.node || e instanceof CKEDITOR.htmlParser.fragment,
                        i = Array.prototype.slice.call(arguments, 1),
                        o = this.rules,
                        a = o.length,
                        s,
                        r,
                        l,
                        c;
                    for (c = 0; c < a; c++)
                        if (n && (s = e.type, r = e.name), l = o[c], !(t.nonEditable && !l.options.applyToAll || t.nestedEditable && l.options.excludeNestedEditable)) {
                            if (!1 === (l = l.value.apply(null, i)) || n && l && (l.name != r || l.type != s))
                                return l;
                            null != l && (i[0] = e = l)
                        }
                    return e
                },
                execOnName: function(t, e) {
                    for (var n = 0, i = this.rules, o = i.length, a; e && n < o; n++)
                        a = i[n], t.nonEditable && !a.options.applyToAll || t.nestedEditable && a.options.excludeNestedEditable || (e = e.replace(a.value[0], a.value[1]));
                    return e
                }
            }
        }(), function() {
            function t(t, e) {
                function r(t) {
                    return t || CKEDITOR.env.needsNbspFiller ? new CKEDITOR.htmlParser.text("\xa0") : new CKEDITOR.htmlParser.element("br", {
                        "data-cke-bogus": 1
                    })
                }
                function l(t, e) {
                    return function(o) {
                        if (o.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                            var s = [],
                                l = n(o),
                                u,
                                h;
                            if (l)
                                for (c(l, 1) && s.push(l); l;)
                                    a(l) && (u = i(l)) && c(u) && ((h = i(u)) && !a(h) ? s.push(u) : (r(d).insertAfter(u), u.remove())), l = l.previous;
                            for (l = 0; l < s.length; l++)
                                s[l].remove();
                            (s = !t || !1 !== ("function" == typeof e ? e(o) : e)) && ((d || CKEDITOR.env.needsBrFiller || o.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) && (d || CKEDITOR.env.needsBrFiller || !(7 < document.documentMode || o.name in CKEDITOR.dtd.tr || o.name in CKEDITOR.dtd.$listItem)) ? (s = n(o), s = !s || "form" == o.name && "input" == s.name) : s = !1), s && o.add(r(t))
                        }
                    }
                }
                function c(t, e) {
                    if ((!d || CKEDITOR.env.needsBrFiller) && t.type == CKEDITOR.NODE_ELEMENT && "br" == t.name && !t.attributes["data-cke-eol"])
                        return !0;
                    var n;
                    return !!(t.type == CKEDITOR.NODE_TEXT && (n = t.value.match(g)) && (n.index && (new CKEDITOR.htmlParser.text(t.value.substring(0, n.index)).insertBefore(t), t.value = n[0]), !CKEDITOR.env.needsBrFiller && d && (!e || t.parent.name in h) || !d && ((n = t.previous) && "br" == n.name || !n || a(n))))
                }
                var u = {
                        elements: {}
                    },
                    d = "html" == e,
                    h = CKEDITOR.tools.extend({}, y),
                    f;
                for (f in h)
                    "#" in b[f] || delete h[f];
                for (f in h)
                    u.elements[f] = l(d, t.config.fillEmptyBlocks);
                return u.root = l(d, !1), u.elements.br = function(t) {
                    return function(e) {
                        if (e.parent.type != CKEDITOR.NODE_DOCUMENT_FRAGMENT) {
                            var n = e.attributes;
                            if ("data-cke-bogus" in n || "data-cke-eol" in n)
                                delete n["data-cke-bogus"];
                            else {
                                for (n = e.next; n && o(n);)
                                    n = n.next;
                                var l = i(e);
                                !n && a(e.parent) ? s(e.parent, r(t)) : a(n) && l && !a(l) && r(t).insertBefore(n)
                            }
                        }
                    }
                }(d), u
            }
            function e(t, e) {
                return t != CKEDITOR.ENTER_BR && !1 !== e && (t == CKEDITOR.ENTER_DIV ? "div" : "p")
            }
            function n(t) {
                for (t = t.children[t.children.length - 1]; t && o(t);)
                    t = t.previous;
                return t
            }
            function i(t) {
                for (t = t.previous; t && o(t);)
                    t = t.previous;
                return t
            }
            function o(t) {
                return t.type == CKEDITOR.NODE_TEXT && !CKEDITOR.tools.trim(t.value) || t.type == CKEDITOR.NODE_ELEMENT && t.attributes["data-cke-bookmark"]
            }
            function a(t) {
                return t && (t.type == CKEDITOR.NODE_ELEMENT && t.name in y || t.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT)
            }
            function s(t, e) {
                var n = t.children[t.children.length - 1];
                t.children.push(e), e.parent = t, n && (n.next = e, e.previous = n)
            }
            function r(t) {
                t = t.attributes, "false" != t.contenteditable && (t["data-cke-editable"] = t.contenteditable ? "true" : 1), t.contenteditable = "false"
            }
            function l(t) {
                switch (t = t.attributes, t["data-cke-editable"]) {
                case "true":
                    t.contenteditable = "true";
                    break;
                case "1":
                    delete t.contenteditable
                }
            }
            function c(t) {
                return t.replace(I, function(t, e, n) {
                    return "<" + e + n.replace(O, function(t, e) {
                        return R.test(e) && -1 == n.indexOf("data-cke-saved-" + e) ? " data-cke-saved-" + t + " data-cke-" + CKEDITOR.rnd + "-" + t : t
                    }) + ">"
                })
            }
            function u(t, e) {
                return t.replace(e, function(t, e, n) {
                    return 0 === t.indexOf("<textarea") && (t = e + f(n).replace(/</g, "&lt;").replace(/>/g, "&gt;") + "</textarea>"), "<cke:encoded>" + encodeURIComponent(t) + "</cke:encoded>"
                })
            }
            function d(t) {
                return t.replace(x, function(t, e) {
                    return decodeURIComponent(e)
                })
            }
            function h(t) {
                return t.replace(/\x3c!--(?!{cke_protected})[\s\S]+?--\x3e/g, function(t) {
                    return "<!--" + v + "{C}" + encodeURIComponent(t).replace(/--/g, "%2D%2D") + "-->"
                })
            }
            function f(t) {
                return t.replace(/\x3c!--\{cke_protected\}\{C\}([\s\S]+?)--\x3e/g, function(t, e) {
                    return decodeURIComponent(e)
                })
            }
            function p(t, e) {
                var n = e._.dataStore;
                return t.replace(/\x3c!--\{cke_protected\}([\s\S]+?)--\x3e/g, function(t, e) {
                    return decodeURIComponent(e)
                }).replace(/\{cke_protected_(\d+)\}/g, function(t, e) {
                    return n && n[e] || ""
                })
            }
            function m(t, e) {
                var n = [],
                    i = e.config.protectedSource,
                    o = e._.dataStore || (e._.dataStore = {
                        id: 1
                    }),
                    a = /<\!--\{cke_temp(comment)?\}(\d*?)--\x3e/g,
                    i = [/<script[\s\S]*?(<\/script>|$)/gi, /<noscript[\s\S]*?<\/noscript>/gi, /<meta[\s\S]*?\/?>/gi].concat(i);
                t = t.replace(/\x3c!--[\s\S]*?--\x3e/g, function(t) {
                    return "<!--{cke_tempcomment}" + (n.push(t) - 1) + "-->"
                });
                for (var s = 0; s < i.length; s++)
                    t = t.replace(i[s], function(t) {
                        return t = t.replace(a, function(t, e, i) {
                            return n[i]
                        }), /cke_temp(comment)?/.test(t) ? t : "<!--{cke_temp}" + (n.push(t) - 1) + "-->"
                    });
                return t = t.replace(a, function(t, e, i) {
                    return "<!--" + v + (e ? "{C}" : "") + encodeURIComponent(n[i]).replace(/--/g, "%2D%2D") + "-->"
                }), t = t.replace(/<\w+(?:\s+(?:(?:[^\s=>]+\s*=\s*(?:[^'"\s>]+|'[^']*'|"[^"]*"))|[^\s=\/>]+))+\s*\/?>/g, function(t) {
                    return t.replace(/\x3c!--\{cke_protected\}([^>]*)--\x3e/g, function(t, e) {
                        return o[o.id] = decodeURIComponent(e), "{cke_protected_" + o.id++ + "}"
                    })
                }), t = t.replace(/<(title|iframe|textarea)([^>]*)>([\s\S]*?)<\/\1>/g, function(t, n, i, o) {
                    return "<" + n + i + ">" + p(f(o), e) + "</" + n + ">"
                })
            }
            CKEDITOR.htmlDataProcessor = function(n) {
                var i,
                    o,
                    a = this;
                this.editor = n, this.dataFilter = i = new CKEDITOR.htmlParser.filter, this.htmlFilter = o = new CKEDITOR.htmlParser.filter, this.writer = new CKEDITOR.htmlParser.basicWriter, i.addRules(T), i.addRules(C, {
                    applyToAll: !0
                }), i.addRules(t(n, "data"), {
                    applyToAll: !0
                }), o.addRules(_), o.addRules(D, {
                    applyToAll: !0
                }), o.addRules(t(n, "html"), {
                    applyToAll: !0
                }), n.on("toHtml", function(t) {
                    t = t.data;
                    var i = t.dataValue,
                        o,
                        i = m(i, n),
                        i = u(i, w),
                        i = c(i),
                        i = u(i, k),
                        i = i.replace(S, "$1cke:$2"),
                        i = i.replace(N, "<cke:$1$2></cke:$1>"),
                        i = i.replace(/(<pre\b[^>]*>)(\r\n|\n)/g, "$1$2$2"),
                        i = i.replace(/([^a-z0-9<\-])(on\w{3,})(?!>)/gi, "$1data-cke-" + CKEDITOR.rnd + "-$2");
                    o = t.context || n.editable().getName();
                    var a;
                    CKEDITOR.env.ie && 9 > CKEDITOR.env.version && "pre" == o && (o = "div", i = "<pre>" + i + "</pre>", a = 1), o = n.document.createElement(o), o.setHtml("a" + i), i = o.getHtml().substr(1), i = i.replace(new RegExp("data-cke-" + CKEDITOR.rnd + "-", "ig"), ""), a && (i = i.replace(/^<pre>|<\/pre>$/gi, "")), i = i.replace(K, "$1$2"), i = d(i), i = f(i), o = !1 !== t.fixForBody && e(t.enterMode, n.config.autoParagraph), i = CKEDITOR.htmlParser.fragment.fromHtml(i, t.context, o), o && (a = i, !a.children.length && CKEDITOR.dtd[a.name][o] && (o = new CKEDITOR.htmlParser.element(o), a.add(o))), t.dataValue = i
                }, null, null, 5), n.on("toHtml", function(t) {
                    t.data.filter.applyTo(t.data.dataValue, !0, t.data.dontFilter, t.data.enterMode) && n.fire("dataFiltered")
                }, null, null, 6), n.on("toHtml", function(t) {
                    t.data.dataValue.filterChildren(a.dataFilter, !0)
                }, null, null, 10), n.on("toHtml", function(t) {
                    t = t.data;
                    var e = t.dataValue,
                        n = new CKEDITOR.htmlParser.basicWriter;
                    e.writeChildrenHtml(n), e = n.getHtml(!0), t.dataValue = h(e)
                }, null, null, 15), n.on("toDataFormat", function(t) {
                    var i = t.data.dataValue;
                    t.data.enterMode != CKEDITOR.ENTER_BR && (i = i.replace(/^<br *\/?>/i, "")), t.data.dataValue = CKEDITOR.htmlParser.fragment.fromHtml(i, t.data.context, e(t.data.enterMode, n.config.autoParagraph))
                }, null, null, 5), n.on("toDataFormat", function(t) {
                    t.data.dataValue.filterChildren(a.htmlFilter, !0)
                }, null, null, 10), n.on("toDataFormat", function(t) {
                    t.data.filter.applyTo(t.data.dataValue, !1, !0)
                }, null, null, 11), n.on("toDataFormat", function(t) {
                    var e = t.data.dataValue,
                        i = a.writer;
                    i.reset(), e.writeChildrenHtml(i), e = i.getHtml(!0), e = f(e), e = p(e, n), t.data.dataValue = e
                }, null, null, 15)
            }, CKEDITOR.htmlDataProcessor.prototype = {
                toHtml: function(t, e, n, i) {
                    var o = this.editor,
                        a,
                        s,
                        r,
                        l;
                    return e && "object" == typeof e ? (a = e.context, n = e.fixForBody, i = e.dontFilter, s = e.filter, r = e.enterMode, l = e.protectedWhitespaces) : a = e, a || null === a || (a = o.editable().getName()), o.fire("toHtml", {
                        dataValue: t,
                        context: a,
                        fixForBody: n,
                        dontFilter: i,
                        filter: s || o.filter,
                        enterMode: r || o.enterMode,
                        protectedWhitespaces: l
                    }).dataValue
                },
                toDataFormat: function(t, e) {
                    var n,
                        i,
                        o;
                    return e && (n = e.context, i = e.filter, o = e.enterMode), n || null === n || (n = this.editor.editable().getName()), this.editor.fire("toDataFormat", {
                        dataValue: t,
                        filter: i || this.editor.filter,
                        context: n,
                        enterMode: o || this.editor.enterMode
                    }).dataValue
                }
            };
            var g = /(?:&nbsp;|\xa0)$/,
                v = "{cke_protected}",
                b = CKEDITOR.dtd,
                E = "caption colgroup col thead tfoot tbody".split(" "),
                y = CKEDITOR.tools.extend({}, b.$blockLimit, b.$block),
                T = {
                    elements: {
                        input: r,
                        textarea: r
                    }
                },
                C = {
                    attributeNames: [[/^on/, "data-cke-pa-on"], [/^srcdoc/, "data-cke-pa-srcdoc"], [/^data-cke-expando$/, ""]],
                    elements: {
                        iframe: function(t) {
                            if (t.attributes && t.attributes.src) {
                                var e = t.attributes.src.toLowerCase().replace(/[^a-z]/gi, "");
                                0 !== e.indexOf("javascript") && 0 !== e.indexOf("data") || (t.attributes["data-cke-pa-src"] = t.attributes.src, delete t.attributes.src)
                            }
                        }
                    }
                },
                _ = {
                    elements: {
                        embed: function(t) {
                            var e = t.parent;
                            if (e && "object" == e.name) {
                                var n = e.attributes.width,
                                    e = e.attributes.height;
                                n && (t.attributes.width = n), e && (t.attributes.height = e)
                            }
                        },
                        a: function(t) {
                            var e = t.attributes;
                            if (!(t.children.length || e.name || e.id || t.attributes["data-cke-saved-name"]))
                                return !1
                        }
                    }
                },
                D = {
                    elementNames: [[/^cke:/, ""], [/^\?xml:namespace$/, ""]],
                    attributeNames: [[/^data-cke-(saved|pa)-/, ""], [/^data-cke-.*/, ""], ["hidefocus", ""]],
                    elements: {
                        $: function(t) {
                            var e = t.attributes;
                            if (e) {
                                if (e["data-cke-temp"])
                                    return !1;
                                for (var n = ["name", "href", "src"], i, o = 0; o < n.length; o++)
                                    (i = "data-cke-saved-" + n[o]) in e && delete e[n[o]]
                            }
                            return t
                        },
                        table: function(t) {
                            t.children.slice(0).sort(function(t, e) {
                                var n,
                                    i;
                                return t.type == CKEDITOR.NODE_ELEMENT && e.type == t.type && (n = CKEDITOR.tools.indexOf(E, t.name), i = CKEDITOR.tools.indexOf(E, e.name)), -1 < n && -1 < i && n != i || (n = t.parent ? t.getIndex() : -1, i = e.parent ? e.getIndex() : -1), n > i ? 1 : -1
                            })
                        },
                        param: function(t) {
                            return t.children = [], t.isEmpty = !0, t
                        },
                        span: function(t) {
                            "Apple-style-span" == t.attributes["class"] && delete t.name
                        },
                        html: function(t) {
                            delete t.attributes.contenteditable, delete t.attributes["class"]
                        },
                        body: function(t) {
                            delete t.attributes.spellcheck, delete t.attributes.contenteditable
                        },
                        style: function(t) {
                            var e = t.children[0];
                            e && e.value && (e.value = CKEDITOR.tools.trim(e.value)), t.attributes.type || (t.attributes.type = "text/css")
                        },
                        title: function(t) {
                            var e = t.children[0];
                            !e && s(t, e = new CKEDITOR.htmlParser.text), e.value = t.attributes["data-cke-title"] || ""
                        },
                        input: l,
                        textarea: l
                    },
                    attributes: {
                        "class": function(t) {
                            return CKEDITOR.tools.ltrim(t.replace(/(?:^|\s+)cke_[^\s]*/g, "")) || !1
                        }
                    }
                };
            CKEDITOR.env.ie && (D.attributes.style = function(t) {
                return t.replace(/(^|;)([^\:]+)/g, function(t) {
                    return t.toLowerCase()
                })
            });
            var I = /<(a|area|img|input|source)\b([^>]*)>/gi,
                O = /([\w-:]+)\s*=\s*(?:(?:"[^"]*")|(?:'[^']*')|(?:[^ "'>]+))/gi,
                R = /^(href|src|name)$/i,
                k = /(?:<style(?=[ >])[^>]*>[\s\S]*?<\/style>)|(?:<(:?link|meta|base)[^>]*>)/gi,
                w = /(<textarea(?=[ >])[^>]*>)([\s\S]*?)(?:<\/textarea>)/gi,
                x = /<cke:encoded>([^<]*)<\/cke:encoded>/gi,
                S = /(<\/?)((?:object|embed|param|html|body|head|title)[^>]*>)/gi,
                K = /(<\/?)cke:((?:html|body|head|title)[^>]*>)/gi,
                N = /<cke:(param|embed)([^>]*?)\/?>(?!\s*<\/cke:\1)/gi
        }(), CKEDITOR.htmlParser.element = function(t, e) {
            this.name = t, this.attributes = e || {}, this.children = [];
            var n = t || "",
                i = n.match(/^cke:(.*)/);
            i && (n = i[1]), n = !!(CKEDITOR.dtd.$nonBodyContent[n] || CKEDITOR.dtd.$block[n] || CKEDITOR.dtd.$listItem[n] || CKEDITOR.dtd.$tableContent[n] || CKEDITOR.dtd.$nonEditable[n] || "br" == n), this.isEmpty = !!CKEDITOR.dtd.$empty[t], this.isUnknown = !CKEDITOR.dtd[t], this._ = {
                isBlockLike: n,
                hasInlineStarted: this.isEmpty || !n
            }
        }, CKEDITOR.htmlParser.cssStyle = function(t) {
            var e = {};
            return ((t instanceof CKEDITOR.htmlParser.element ? t.attributes.style : t) || "").replace(/&quot;/g, '"').replace(/\s*([^ :;]+)\s*:\s*([^;]+)\s*(?=;|$)/g, function(t, n, i) {
                "font-family" == n && (i = i.replace(/["']/g, "")), e[n.toLowerCase()] = i
            }), {
                rules: e,
                populate: function(t) {
                    var e = this.toString();
                    e && (t instanceof CKEDITOR.dom.element ? t.setAttribute("style", e) : t instanceof CKEDITOR.htmlParser.element ? t.attributes.style = e : t.style = e)
                },
                toString: function() {
                    var t = [],
                        n;
                    for (n in e)
                        e[n] && t.push(n, ":", e[n], ";");
                    return t.join("")
                }
            }
        }, function() {
            function t(t) {
                return function(e) {
                    return e.type == CKEDITOR.NODE_ELEMENT && ("string" == typeof t ? e.name == t : e.name in t)
                }
            }
            var e = function(t, e) {
                    return t = t[0], e = e[0], t < e ? -1 : t > e ? 1 : 0
                },
                n = CKEDITOR.htmlParser.fragment.prototype;
            CKEDITOR.htmlParser.element.prototype = CKEDITOR.tools.extend(new CKEDITOR.htmlParser.node, {
                type: CKEDITOR.NODE_ELEMENT,
                add: n.add,
                clone: function() {
                    return new CKEDITOR.htmlParser.element(this.name, this.attributes)
                },
                filter: function(t, e) {
                    var n = this,
                        i,
                        o;
                    if (e = n.getFilterContext(e), e.off)
                        return !0;
                    for (n.parent || t.onRoot(e, n);;) {
                        if (i = n.name, !(o = t.onElementName(e, i)))
                            return this.remove(), !1;
                        if (n.name = o, !(n = t.onElement(e, n)))
                            return this.remove(), !1;
                        if (n !== this)
                            return this.replaceWith(n), !1;
                        if (n.name == i)
                            break;
                        if (n.type != CKEDITOR.NODE_ELEMENT)
                            return this.replaceWith(n), !1;
                        if (!n.name)
                            return this.replaceWithChildren(), !1
                    }
                    i = n.attributes;
                    var a,
                        s;
                    for (a in i) {
                        for (o = i[a];;) {
                            if (!(s = t.onAttributeName(e, a))) {
                                delete i[a];
                                break
                            }
                            if (s == a)
                                break;
                            delete i[a], a = s
                        }
                        s && (!1 === (o = t.onAttribute(e, n, s, o)) ? delete i[s] : i[s] = o)
                    }
                    return n.isEmpty || this.filterChildren(t, !1, e), !0
                },
                filterChildren: n.filterChildren,
                writeHtml: function(t, n) {
                    n && this.filter(n);
                    var i = this.name,
                        o = [],
                        a = this.attributes,
                        s,
                        r;
                    t.openTag(i, a);
                    for (s in a)
                        o.push([s, a[s]]);
                    for (t.sortAttributes && o.sort(e), s = 0, r = o.length; s < r; s++)
                        a = o[s], t.attribute(a[0], a[1]);
                    t.openTagClose(i, this.isEmpty), this.writeChildrenHtml(t), this.isEmpty || t.closeTag(i)
                },
                writeChildrenHtml: n.writeChildrenHtml,
                replaceWithChildren: function() {
                    for (var t = this.children, e = t.length; e;)
                        t[--e].insertAfter(this);
                    this.remove()
                },
                forEach: n.forEach,
                getFirst: function(e) {
                    if (!e)
                        return this.children.length ? this.children[0] : null;
                    "function" != typeof e && (e = t(e));
                    for (var n = 0, i = this.children.length; n < i; ++n)
                        if (e(this.children[n]))
                            return this.children[n];
                    return null
                },
                getHtml: function() {
                    var t = new CKEDITOR.htmlParser.basicWriter;
                    return this.writeChildrenHtml(t), t.getHtml()
                },
                setHtml: function(t) {
                    t = this.children = CKEDITOR.htmlParser.fragment.fromHtml(t).children;
                    for (var e = 0, n = t.length; e < n; ++e)
                        t[e].parent = this
                },
                getOuterHtml: function() {
                    var t = new CKEDITOR.htmlParser.basicWriter;
                    return this.writeHtml(t), t.getHtml()
                },
                split: function(t) {
                    for (var e = this.children.splice(t, this.children.length - t), n = this.clone(), i = 0; i < e.length; ++i)
                        e[i].parent = n;
                    return n.children = e, e[0] && (e[0].previous = null), 0 < t && (this.children[t - 1].next = null), this.parent.add(n, this.getIndex() + 1), n
                },
                find: function(t, e) {
                    void 0 === e && (e = !1);
                    var n = [],
                        i;
                    for (i = 0; i < this.children.length; i++) {
                        var o = this.children[i];
                        "function" == typeof t && t(o) ? n.push(o) : "string" == typeof t && o.name === t && n.push(o), e && o.find && (n = n.concat(o.find(t, e)))
                    }
                    return n
                },
                addClass: function(t) {
                    if (!this.hasClass(t)) {
                        var e = this.attributes["class"] || "";
                        this.attributes["class"] = e + (e ? " " : "") + t
                    }
                },
                removeClass: function(t) {
                    var e = this.attributes["class"];
                    e && ((e = CKEDITOR.tools.trim(e.replace(new RegExp("(?:\\s+|^)" + t + "(?:\\s+|$)"), " "))) ? this.attributes["class"] = e : delete this.attributes["class"])
                },
                hasClass: function(t) {
                    var e = this.attributes["class"];
                    return !!e && new RegExp("(?:^|\\s)" + t + "(?=\\s|$)").test(e)
                },
                getFilterContext: function(t) {
                    var e = [];
                    if (t || (t = {
                        off: !1,
                        nonEditable: !1,
                        nestedEditable: !1
                    }), t.off || "off" != this.attributes["data-cke-processor"] || e.push("off", !0), t.nonEditable || "false" != this.attributes.contenteditable ? t.nonEditable && !t.nestedEditable && "true" == this.attributes.contenteditable && e.push("nestedEditable", !0) : e.push("nonEditable", !0), e.length) {
                        t = CKEDITOR.tools.copy(t);
                        for (var n = 0; n < e.length; n += 2)
                            t[e[n]] = e[n + 1]
                    }
                    return t
                }
            }, !0)
        }(), function() {
            var t = /{([^}]+)}/g;
            CKEDITOR.template = function(t) {
                this.source = String(t)
            }, CKEDITOR.template.prototype.output = function(e, n) {
                var i = this.source.replace(t, function(t, n) {
                    return void 0 !== e[n] ? e[n] : t
                });
                return n ? n.push(i) : i
            }
        }(), delete CKEDITOR.loadFullCore, CKEDITOR.instances = {}, CKEDITOR.document = new CKEDITOR.dom.document(document), CKEDITOR.add = function(t) {
            CKEDITOR.instances[t.name] = t, t.on("focus", function() {
                CKEDITOR.currentInstance != t && (CKEDITOR.currentInstance = t, CKEDITOR.fire("currentInstance"))
            }), t.on("blur", function() {
                CKEDITOR.currentInstance == t && (CKEDITOR.currentInstance = null, CKEDITOR.fire("currentInstance"))
            }), CKEDITOR.fire("instance", null, t)
        }, CKEDITOR.remove = function(t) {
            delete CKEDITOR.instances[t.name]
        }, function() {
            var t = {};
            CKEDITOR.addTemplate = function(e, n) {
                var i = t[e];
                return i || (i = {
                        name: e,
                        source: n
                    }, CKEDITOR.fire("template", i), t[e] = new CKEDITOR.template(i.source))
            }, CKEDITOR.getTemplate = function(e) {
                return t[e]
            }
        }(), function() {
            var t = [];
            CKEDITOR.addCss = function(e) {
                t.push(e)
            }, CKEDITOR.getCss = function() {
                return t.join("\n")
            }
        }(), CKEDITOR.on("instanceDestroyed", function() {
            CKEDITOR.tools.isEmpty(this.instances) && CKEDITOR.fire("reset")
        }), CKEDITOR.TRISTATE_ON = 1, CKEDITOR.TRISTATE_OFF = 2, CKEDITOR.TRISTATE_DISABLED = 0, function() {
            CKEDITOR.inline = function(t, e) {
                if (!CKEDITOR.env.isCompatible)
                    return null;
                if (t = CKEDITOR.dom.element.get(t), t.getEditor())
                    throw 'The editor instance "' + t.getEditor().name + '" is already attached to the provided element.';
                var n = new CKEDITOR.editor(e, t, CKEDITOR.ELEMENT_MODE_INLINE),
                    i = t.is("textarea") ? t : null;
                return i ? (n.setData(i.getValue(), null, !0), t = CKEDITOR.dom.element.createFromHtml('<div contenteditable="' + !!n.readOnly + '" class="cke_textarea_inline">' + i.getValue() + "</div>", CKEDITOR.document), t.insertAfter(i), i.hide(), i.$.form && n._attachToForm()) : n.setData(t.getHtml(), null, !0), n.on("loaded", function() {
                    n.fire("uiReady"), n.editable(t), n.container = t, n.ui.contentsElement = t, n.setData(n.getData(1)), n.resetDirty(), n.fire("contentDom"), n.mode = "wysiwyg", n.fire("mode"), n.status = "ready", n.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, n)
                }, null, null, 1e4), n.on("destroy", function() {
                    i && (n.container.clearCustomData(), n.container.remove(), i.show()), n.element.clearCustomData(), delete n.element
                }), n
            }, CKEDITOR.inlineAll = function() {
                var t,
                    e,
                    n;
                for (n in CKEDITOR.dtd.$editable)
                    for (var i = CKEDITOR.document.getElementsByTag(n), o = 0, a = i.count(); o < a; o++)
                        t = i.getItem(o), "true" == t.getAttribute("contenteditable") && (e = {
                            element: t,
                            config: {}
                        }, !1 !== CKEDITOR.fire("inline", e) && CKEDITOR.inline(t, e.config))
            }, CKEDITOR.domReady(function() {
                !CKEDITOR.disableAutoInline && CKEDITOR.inlineAll()
            })
        }(), CKEDITOR.replaceClass = "ckeditor", function() {
            function t(t, i, o, a) {
                if (!CKEDITOR.env.isCompatible)
                    return null;
                if (t = CKEDITOR.dom.element.get(t), t.getEditor())
                    throw 'The editor instance "' + t.getEditor().name + '" is already attached to the provided element.';
                var s = new CKEDITOR.editor(i, t, a);
                return a == CKEDITOR.ELEMENT_MODE_REPLACE && (t.setStyle("visibility", "hidden"), s._.required = t.hasAttribute("required"), t.removeAttribute("required")), o && s.setData(o, null, !0), s.on("loaded", function() {
                    n(s), a == CKEDITOR.ELEMENT_MODE_REPLACE && s.config.autoUpdateElement && t.$.form && s._attachToForm(), s.setMode(s.config.startupMode, function() {
                        s.resetDirty(), s.status = "ready", s.fireOnce("instanceReady"), CKEDITOR.fire("instanceReady", null, s)
                    })
                }), s.on("destroy", e), s
            }
            function e() {
                var t = this.container,
                    e = this.element;
                t && (t.clearCustomData(), t.remove()), e && (e.clearCustomData(), this.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (e.show(), this._.required && e.setAttribute("required", "required")), delete this.element)
            }
            function n(t) {
                var e = t.name,
                    n = t.element,
                    i = t.elementMode,
                    o = t.fire("uiSpace", {
                        space: "top",
                        html: ""
                    }).html,
                    a = t.fire("uiSpace", {
                        space: "bottom",
                        html: ""
                    }).html,
                    s = new CKEDITOR.template('<{outerEl} id="cke_{name}" class="{id} cke cke_reset cke_chrome cke_editor_{name} cke_{langDir} ' + CKEDITOR.env.cssClass + '"  dir="{langDir}" lang="{langCode}" role="application"' + (t.title ? ' aria-labelledby="cke_{name}_arialbl"' : "") + ">" + (t.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : "") + '<{outerEl} class="cke_inner cke_reset" role="presentation">{topHtml}<{outerEl} id="{contentId}" class="cke_contents cke_reset" role="presentation"></{outerEl}>{bottomHtml}</{outerEl}></{outerEl}>'),
                    e = CKEDITOR.dom.element.createFromHtml(s.output({
                        id: t.id,
                        name: e,
                        langDir: t.lang.dir,
                        langCode: t.langCode,
                        voiceLabel: t.title,
                        topHtml: o ? '<span id="' + t.ui.spaceId("top") + '" class="cke_top cke_reset_all" role="presentation" style="height:auto">' + o + "</span>" : "",
                        contentId: t.ui.spaceId("contents"),
                        bottomHtml: a ? '<span id="' + t.ui.spaceId("bottom") + '" class="cke_bottom cke_reset_all" role="presentation">' + a + "</span>" : "",
                        outerEl: CKEDITOR.env.ie ? "span" : "div"
                    }));
                i == CKEDITOR.ELEMENT_MODE_REPLACE ? (n.hide(), e.insertAfter(n)) : n.append(e), t.container = e, t.ui.contentsElement = t.ui.space("contents"), o && t.ui.space("top").unselectable(), a && t.ui.space("bottom").unselectable(), n = t.config.width, i = t.config.height, n && e.setStyle("width", CKEDITOR.tools.cssLength(n)), i && t.ui.space("contents").setStyle("height", CKEDITOR.tools.cssLength(i)), e.disableContextMenu(), CKEDITOR.env.webkit && e.on("focus", function() {
                    t.focus()
                }), t.fireOnce("uiReady")
            }
            CKEDITOR.replace = function(e, n) {
                return t(e, n, null, CKEDITOR.ELEMENT_MODE_REPLACE)
            }, CKEDITOR.appendTo = function(e, n, i) {
                return t(e, n, i, CKEDITOR.ELEMENT_MODE_APPENDTO)
            }, CKEDITOR.replaceAll = function() {
                for (var t = document.getElementsByTagName("textarea"), e = 0; e < t.length; e++) {
                    var n = null,
                        i = t[e];
                    if (i.name || i.id) {
                        if ("string" == typeof arguments[0]) {
                            if (!new RegExp("(?:^|\\s)" + arguments[0] + "(?:$|\\s)").test(i.className))
                                continue
                        } else if ("function" == typeof arguments[0] && (n = {}, !1 === arguments[0](i, n)))
                            continue;
                        this.replace(i, n)
                    }
                }
            }, CKEDITOR.editor.prototype.addMode = function(t, e) {
                (this._.modes || (this._.modes = {}))[t] = e
            }, CKEDITOR.editor.prototype.setMode = function(t, e) {
                var n = this,
                    i = this._.modes;
                if (t != n.mode && i && i[t]) {
                    if (n.fire("beforeSetMode", t), n.mode) {
                        var o = n.checkDirty(),
                            i = n._.previousModeData,
                            a,
                            s = 0;
                        n.fire("beforeModeUnload"), n.editable(0), n._.previousMode = n.mode, n._.previousModeData = a = n.getData(1), "source" == n.mode && i == a && (n.fire("lockSnapshot", {
                            forceUpdate: !0
                        }), s = 1), n.ui.space("contents").setHtml(""), n.mode = ""
                    } else
                        n._.previousModeData = n.getData(1);
                    this._.modes[t](function() {
                        n.mode = t, void 0 !== o && !o && n.resetDirty(), s ? n.fire("unlockSnapshot") : "wysiwyg" == t && n.fire("saveSnapshot"), setTimeout(function() {
                            n.fire("mode"), e && e.call(n)
                        }, 0)
                    })
                }
            }, CKEDITOR.editor.prototype.resize = function(t, e, n, i) {
                var o = this.container,
                    a = this.ui.space("contents"),
                    s = CKEDITOR.env.webkit && this.document && this.document.getWindow().$.frameElement;
                i = i ? this.container.getFirst(function(t) {
                    return t.type == CKEDITOR.NODE_ELEMENT && t.hasClass("cke_inner")
                }) : o, i.setSize("width", t, !0), s && (s.style.width = "1%");
                var r = (i.$.offsetHeight || 0) - (a.$.clientHeight || 0),
                    o = Math.max(e - (n ? 0 : r), 0);
                e = n ? e + r : e, a.setStyle("height", o + "px"), s && (s.style.width = "100%"), this.fire("resize", {
                    outerHeight: e,
                    contentsHeight: o,
                    outerWidth: t || i.getSize("width")
                })
            }, CKEDITOR.editor.prototype.getResizable = function(t) {
                return t ? this.ui.space("contents") : this.container
            }, CKEDITOR.domReady(function() {
                CKEDITOR.replaceClass && CKEDITOR.replaceAll(CKEDITOR.replaceClass)
            })
        }(), CKEDITOR.config.startupMode = "wysiwyg", function() {
            function t(t) {
                var n = t.editor,
                    o = t.data.path,
                    a = o.blockLimit,
                    r = t.data.selection,
                    l = r.getRanges()[0],
                    c;
                (CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller) && (r = e(r, o)) && (r.appendBogus(), c = CKEDITOR.env.ie), s(n, o.block, a) && l.collapsed && !l.getCommonAncestor().isReadOnly() && (o = l.clone(), o.enlarge(CKEDITOR.ENLARGE_BLOCK_CONTENTS), a = new CKEDITOR.dom.walker(o), a.guard = function(t) {
                    return !i(t) || t.type == CKEDITOR.NODE_COMMENT || t.isReadOnly()
                }, !a.checkForward() || o.checkStartOfBlock() && o.checkEndOfBlock()) && (n = l.fixBlock(!0, n.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p"), CKEDITOR.env.needsBrFiller || (n = n.getFirst(i)) && n.type == CKEDITOR.NODE_TEXT && CKEDITOR.tools.trim(n.getText()).match(/^(?:&nbsp;|\xa0)$/) && n.remove(), c = 1, t.cancel()), c && l.select()
            }
            function e(t, e) {
                if (t.isFake)
                    return 0;
                var n = e.block || e.blockLimit,
                    o = n && n.getLast(i);
                return !n || !n.isBlockBoundary() || o && o.type == CKEDITOR.NODE_ELEMENT && o.isBlockBoundary() || n.is("pre") || n.getBogus() ? void 0 : n
            }
            function n(t) {
                var e = t.data.getTarget();
                e.is("input") && ("submit" != (e = e.getAttribute("type")) && "reset" != e || t.data.preventDefault())
            }
            function i(t) {
                return u(t) && d(t)
            }
            function o(t, e) {
                return function(n) {
                    var i = n.data.$.toElement || n.data.$.fromElement || n.data.$.relatedTarget;
                    (i = i && i.nodeType == CKEDITOR.NODE_ELEMENT ? new CKEDITOR.dom.element(i) : null) && (e.equals(i) || e.contains(i)) || t.call(this, n)
                }
            }
            function a(t) {
                function e(t) {
                    return function(e, o) {
                        if (o && e.type == CKEDITOR.NODE_ELEMENT && e.is(a) && (n = e), !(o || !i(e) || t && f(e)))
                            return !1
                    }
                }
                var n,
                    o = t.getRanges()[0];
                t = t.root;
                var a = {
                    table: 1,
                    ul: 1,
                    ol: 1,
                    dl: 1
                };
                if (o.startPath().contains(a)) {
                    var s = o.clone();
                    if (s.collapse(1), s.setStartAt(t, CKEDITOR.POSITION_AFTER_START), t = new CKEDITOR.dom.walker(s), t.guard = e(), t.checkBackward(), n)
                        return s = o.clone(), s.collapse(), s.setEndAt(n, CKEDITOR.POSITION_AFTER_END), t = new CKEDITOR.dom.walker(s), t.guard = e(!0), n = !1, t.checkForward(), n
                }
                return null
            }
            function s(t, e, n) {
                return !1 !== t.config.autoParagraph && t.activeEnterMode != CKEDITOR.ENTER_BR && (t.editable().equals(n) && !e || e && "true" == e.getAttribute("contenteditable"))
            }
            function r(t) {
                return t.activeEnterMode != CKEDITOR.ENTER_BR && !1 !== t.config.autoParagraph && (t.activeEnterMode == CKEDITOR.ENTER_DIV ? "div" : "p")
            }
            function l(t) {
                var e = t.editor;
                e.getSelection().scrollIntoView(), setTimeout(function() {
                    e.fire("saveSnapshot")
                }, 0)
            }
            function c(t, e, n) {
                var i = t.getCommonAncestor(e);
                for (e = t = n ? e : t; (t = t.getParent()) && !i.equals(t) && 1 == t.getChildCount();)
                    e = t;
                e.remove()
            }
            var u,
                d,
                h,
                f,
                p,
                m,
                g,
                v,
                b,
                E;
            CKEDITOR.editable = CKEDITOR.tools.createClass({
                base: CKEDITOR.dom.element,
                $: function(t, e) {
                    this.base(e.$ || e), this.editor = t, this.status = "unloaded", this.hasFocus = !1, this.setup()
                },
                proto: {
                    focus: function() {
                        var t;
                        if (CKEDITOR.env.webkit && !this.hasFocus && (t = this.editor._.previousActive || this.getDocument().getActive(), this.contains(t)))
                            return void t.focus();
                        CKEDITOR.env.edge && 14 < CKEDITOR.env.version && !this.hasFocus && this.getDocument().equals(CKEDITOR.document) && (this.editor._.previousScrollTop = this.$.scrollTop);
                        try {
                            if (!CKEDITOR.env.ie || CKEDITOR.env.edge && 14 < CKEDITOR.env.version || !this.getDocument().equals(CKEDITOR.document))
                                if (CKEDITOR.env.chrome) {
                                    var e = this.$.scrollTop;
                                    this.$.focus(), this.$.scrollTop = e
                                } else
                                    this.$.focus();
                            else
                                this.$.setActive()
                        } catch (t) {
                            if (!CKEDITOR.env.ie)
                                throw t
                        }
                        CKEDITOR.env.safari && !this.isInline() && (t = CKEDITOR.document.getActive(), t.equals(this.getWindow().getFrame()) || this.getWindow().focus())
                    },
                    on: function(t, e) {
                        var n = Array.prototype.slice.call(arguments, 0);
                        return CKEDITOR.env.ie && /^focus|blur$/.exec(t) && (t = "focus" == t ? "focusin" : "focusout", e = o(e, this), n[0] = t, n[1] = e), CKEDITOR.dom.element.prototype.on.apply(this, n)
                    },
                    attachListener: function(t) {
                        !this._.listeners && (this._.listeners = []);
                        var e = Array.prototype.slice.call(arguments, 1),
                            e = t.on.apply(t, e);
                        return this._.listeners.push(e), e
                    },
                    clearListeners: function() {
                        var t = this._.listeners;
                        try {
                            for (; t.length;)
                                t.pop().removeListener()
                        } catch (t) {}
                    },
                    restoreAttrs: function() {
                        var t = this._.attrChanges,
                            e,
                            n;
                        for (n in t)
                            t.hasOwnProperty(n) && (e = t[n], null !== e ? this.setAttribute(n, e) : this.removeAttribute(n))
                    },
                    attachClass: function(t) {
                        var e = this.getCustomData("classes");
                        this.hasClass(t) || (!e && (e = []), e.push(t), this.setCustomData("classes", e), this.addClass(t))
                    },
                    changeAttr: function(t, e) {
                        var n = this.getAttribute(t);
                        e !== n && (!this._.attrChanges && (this._.attrChanges = {}), t in this._.attrChanges || (this._.attrChanges[t] = n), this.setAttribute(t, e))
                    },
                    insertText: function(t) {
                        this.editor.focus(), this.insertHtml(this.transformPlainTextToHtml(t), "text")
                    },
                    transformPlainTextToHtml: function(t) {
                        var e = this.editor.getSelection().getStartElement().hasAscendant("pre", !0) ? CKEDITOR.ENTER_BR : this.editor.activeEnterMode;
                        return CKEDITOR.tools.transformPlainTextToHtml(t, e)
                    },
                    insertHtml: function(t, e, n) {
                        var i = this.editor;
                        i.focus(), i.fire("saveSnapshot"), n || (n = i.getSelection().getRanges()[0]), m(this, e || "html", t, n), n.select(), l(this), this.editor.fire("afterInsertHtml", {})
                    },
                    insertHtmlIntoRange: function(t, e, n) {
                        m(this, n || "html", t, e), this.editor.fire("afterInsertHtml", {
                            intoRange: e
                        })
                    },
                    insertElement: function(t, e) {
                        var n = this.editor;
                        n.focus(), n.fire("saveSnapshot");
                        var o = n.activeEnterMode,
                            n = n.getSelection(),
                            a = t.getName(),
                            a = CKEDITOR.dtd.$block[a];
                        e || (e = n.getRanges()[0]), this.insertElementIntoRange(t, e) && (e.moveToPosition(t, CKEDITOR.POSITION_AFTER_END), a && ((a = t.getNext(function(t) {
                            return i(t) && !f(t)
                        })) && a.type == CKEDITOR.NODE_ELEMENT && a.is(CKEDITOR.dtd.$block) ? a.getDtd()["#"] ? e.moveToElementEditStart(a) : e.moveToElementEditEnd(t) : a || o == CKEDITOR.ENTER_BR || (a = e.fixBlock(!0, o == CKEDITOR.ENTER_DIV ? "div" : "p"), e.moveToElementEditStart(a)))), n.selectRanges([e]), l(this)
                    },
                    insertElementIntoSelection: function(t) {
                        this.insertElement(t)
                    },
                    insertElementIntoRange: function(t, e) {
                        var n = this.editor,
                            i = n.config.enterMode,
                            o = t.getName(),
                            a = CKEDITOR.dtd.$block[o];
                        if (e.checkReadOnly())
                            return !1;
                        e.deleteContents(1), e.startContainer.type == CKEDITOR.NODE_ELEMENT && (e.startContainer.is({
                            tr: 1,
                            table: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1
                        }) ? g(e) : e.startContainer.is(CKEDITOR.dtd.$list) && v(e));
                        var s,
                            r;
                        if (a)
                            for (; (s = e.getCommonAncestor(0, 1)) && (r = CKEDITOR.dtd[s.getName()]) && (!r || !r[o]);)
                                s.getName() in CKEDITOR.dtd.span ? e.splitElement(s) : e.checkStartOfBlock() && e.checkEndOfBlock() ? (e.setStartBefore(s), e.collapse(!0), s.remove()) : e.splitBlock(i == CKEDITOR.ENTER_DIV ? "div" : "p", n.editable());
                        return e.insertNode(t), !0
                    },
                    setData: function(t, e) {
                        e || (t = this.editor.dataProcessor.toHtml(t)), this.setHtml(t), this.fixInitialSelection(), "unloaded" == this.status && (this.status = "ready"), this.editor.fire("dataReady")
                    },
                    getData: function(t) {
                        var e = this.getHtml();
                        return t || (e = this.editor.dataProcessor.toDataFormat(e)), e
                    },
                    setReadOnly: function(t) {
                        this.setAttribute("contenteditable", !t)
                    },
                    detach: function() {
                        this.removeClass("cke_editable"), this.status = "detached";
                        var t = this.editor;
                        this._.detach(), delete t.document, delete t.window
                    },
                    isInline: function() {
                        return this.getDocument().equals(CKEDITOR.document)
                    },
                    fixInitialSelection: function() {
                        function t() {
                            var t = n.getDocument().$,
                                e = t.getSelection(),
                                i;
                            t:
                            if (e.anchorNode && e.anchorNode == n.$)
                                i = !0;
                            else {
                                if (CKEDITOR.env.webkit && (i = n.getDocument().getActive()) && i.equals(n) && !e.anchorNode) {
                                    i = !0;
                                    break t
                                }
                                i = void 0
                            }
                            i && (i = new CKEDITOR.dom.range(n), i.moveToElementEditStart(n), t = t.createRange(), t.setStart(i.startContainer.$, i.startOffset), t.collapse(!0), e.removeAllRanges(), e.addRange(t))
                        }
                        function e() {
                            var t = n.getDocument().$,
                                e = t.selection,
                                i = n.getDocument().getActive();
                            "None" == e.type && i.equals(n) && (e = new CKEDITOR.dom.range(n), t = t.body.createTextRange(), e.moveToElementEditStart(n), e = e.startContainer, e.type != CKEDITOR.NODE_ELEMENT && (e = e.getParent()), t.moveToElementText(e.$), t.collapse(!0), t.select())
                        }
                        var n = this;
                        CKEDITOR.env.ie && (9 > CKEDITOR.env.version || CKEDITOR.env.quirks) ? this.hasFocus && (this.focus(), e()) : this.hasFocus ? (this.focus(), t()) : this.once("focus", function() {
                            t()
                        }, null, null, -999)
                    },
                    getHtmlFromRange: function(t) {
                        return t.collapsed ? new CKEDITOR.dom.documentFragment(t.document) : (t = {
                            doc: this.getDocument(),
                            range: t.clone()
                        }, b.eol.detect(t, this), b.bogus.exclude(t), b.cell.shrink(t), t.fragment = t.range.cloneContents(), b.tree.rebuild(t, this), b.eol.fix(t, this), new CKEDITOR.dom.documentFragment(t.fragment.$))
                    },
                    extractHtmlFromRange: function(t, e) {
                        var n = E,
                            i = {
                                range: t,
                                doc: t.document
                            },
                            o = this.getHtmlFromRange(t);
                        if (t.collapsed)
                            return t.optimize(), o;
                        t.enlarge(CKEDITOR.ENLARGE_INLINE, 1), n.table.detectPurge(i), i.bookmark = t.createBookmark(), delete i.range;
                        var a = this.editor.createRange();
                        if (a.moveToPosition(i.bookmark.startNode, CKEDITOR.POSITION_BEFORE_START), i.targetBookmark = a.createBookmark(), n.list.detectMerge(i, this), n.table.detectRanges(i, this), n.block.detectMerge(i, this), i.tableContentsRanges ? (n.table.deleteRanges(i), t.moveToBookmark(i.bookmark), i.range = t) : (t.moveToBookmark(i.bookmark), i.range = t, t.extractContents(n.detectExtractMerge(i))), t.moveToBookmark(i.targetBookmark), t.optimize(), n.fixUneditableRangePosition(t), n.list.merge(i, this), n.table.purge(i, this), n.block.merge(i, this), e) {
                            if (n = t.startPath(), i = t.checkStartOfBlock() && t.checkEndOfBlock() && n.block && !t.root.equals(n.block)) {
                                t:
                                {
                                    var i = n.block.getElementsByTag("span"),
                                        a = 0,
                                        s;
                                    if (i)
                                        for (; s = i.getItem(a++);)
                                            if (!d(s)) {
                                                i = !0;
                                                break t
                                            }
                                    i = !1
                                }i = !i
                            }
                            i && (t.moveToPosition(n.block, CKEDITOR.POSITION_BEFORE_START), n.block.remove())
                        } else
                            n.autoParagraph(this.editor, t), h(t.startContainer) && t.startContainer.appendBogus();
                        return t.startContainer.mergeSiblings(), o
                    },
                    setup: function() {
                        var t = this.editor;
                        if (this.attachListener(t, "beforeGetData", function() {
                            var e = this.getData();
                            this.is("textarea") || !1 !== t.config.ignoreEmptyParagraph && (e = e.replace(p, function(t, e) {
                                return e
                            })), t.setData(e, null, 1)
                        }, this), this.attachListener(t, "getSnapshot", function(t) {
                            t.data = this.getData(1)
                        }, this), this.attachListener(t, "afterSetData", function() {
                            this.setData(t.getData(1))
                        }, this), this.attachListener(t, "loadSnapshot", function(t) {
                            this.setData(t.data, 1)
                        }, this), this.attachListener(t, "beforeFocus", function() {
                            var e = t.getSelection();
                            (e = e && e.getNative()) && "Control" == e.type || this.focus()
                        }, this), this.attachListener(t, "insertHtml", function(t) {
                            this.insertHtml(t.data.dataValue, t.data.mode, t.data.range)
                        }, this), this.attachListener(t, "insertElement", function(t) {
                            this.insertElement(t.data)
                        }, this), this.attachListener(t, "insertText", function(t) {
                            this.insertText(t.data)
                        }, this), this.setReadOnly(t.readOnly), this.attachClass("cke_editable"), t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? this.attachClass("cke_editable_inline") : t.elementMode != CKEDITOR.ELEMENT_MODE_REPLACE && t.elementMode != CKEDITOR.ELEMENT_MODE_APPENDTO || this.attachClass("cke_editable_themed"), this.attachClass("cke_contents_" + t.config.contentsLangDirection), t.keystrokeHandler.blockedKeystrokes[8] = +t.readOnly, t.keystrokeHandler.attach(this), this.on("blur", function() {
                            this.hasFocus = !1
                        }, null, null, -1), this.on("focus", function() {
                            this.hasFocus = !0
                        }, null, null, -1), CKEDITOR.env.webkit && this.on("scroll", function() {
                            t._.previousScrollTop = t.editable().$.scrollTop
                        }, null, null, -1), CKEDITOR.env.edge && 14 < CKEDITOR.env.version) {
                            var e = function() {
                                var n = t.editable();
                                null != t._.previousScrollTop && n.getDocument().equals(CKEDITOR.document) && (n.$.scrollTop = t._.previousScrollTop, t._.previousScrollTop = null, this.removeListener("scroll", e))
                            };
                            this.on("scroll", e)
                        }
                        if (t.focusManager.add(this), this.equals(CKEDITOR.document.getActive()) && (this.hasFocus = !0, t.once("contentDom", function() {
                            t.focusManager.focus(this)
                        }, this)), this.isInline() && this.changeAttr("tabindex", t.tabIndex), !this.is("textarea")) {
                            t.document = this.getDocument(), t.window = this.getWindow();
                            var o = t.document;
                            this.changeAttr("spellcheck", !t.config.disableNativeSpellChecker);
                            var s = t.config.contentsLangDirection;
                            this.getDirection(1) != s && this.changeAttr("dir", s);
                            var r = CKEDITOR.getCss();
                            if (r) {
                                var s = o.getHead(),
                                    l = s.getCustomData("stylesheet");
                                l ? r != l.getText() && (CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? l.$.styleSheet.cssText = r : l.setText(r)) : (r = o.appendStyleText(r), r = new CKEDITOR.dom.element(r.ownerNode || r.owningElement), s.setCustomData("stylesheet", r), r.data("cke-temp", 1))
                            }
                            s = o.getCustomData("stylesheet_ref") || 0, o.setCustomData("stylesheet_ref", s + 1), this.setCustomData("cke_includeReadonly", !t.config.disableReadonlyStyling), this.attachListener(this, "click", function(t) {
                                t = t.data;
                                var e = new CKEDITOR.dom.elementPath(t.getTarget(), this).contains("a");
                                e && 2 != t.$.button && e.isReadOnly() && t.preventDefault()
                            });
                            var d = {
                                8: 1,
                                46: 1
                            };
                            this.attachListener(t, "key", function(e) {
                                if (t.readOnly)
                                    return !0;
                                var n = e.data.domEvent.getKey(),
                                    i;
                                if (e = t.getSelection(), 0 !== e.getRanges().length) {
                                    if (n in d) {
                                        var o,
                                            s = e.getRanges()[0],
                                            r = s.startPath(),
                                            l,
                                            c,
                                            h,
                                            n = 8 == n;
                                        CKEDITOR.env.ie && 11 > CKEDITOR.env.version && (o = e.getSelectedElement()) || (o = a(e)) ? (t.fire("saveSnapshot"), s.moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), o.remove(), s.select(), t.fire("saveSnapshot"), i = 1) : s.collapsed && ((l = r.block) && (h = l[n ? "getPrevious" : "getNext"](u)) && h.type == CKEDITOR.NODE_ELEMENT && h.is("table") && s[n ? "checkStartOfBlock" : "checkEndOfBlock"]() ? (t.fire("saveSnapshot"), s[n ? "checkEndOfBlock" : "checkStartOfBlock"]() && l.remove(), s["moveToElementEdit" + (n ? "End" : "Start")](h), s.select(), t.fire("saveSnapshot"), i = 1) : r.blockLimit && r.blockLimit.is("td") && (c = r.blockLimit.getAscendant("table")) && s.checkBoundaryOfElement(c, n ? CKEDITOR.START : CKEDITOR.END) && (h = c[n ? "getPrevious" : "getNext"](u)) ? (t.fire("saveSnapshot"), s["moveToElementEdit" + (n ? "End" : "Start")](h), s.checkStartOfBlock() && s.checkEndOfBlock() ? h.remove() : s.select(), t.fire("saveSnapshot"), i = 1) : (c = r.contains(["td", "th", "caption"])) && s.checkBoundaryOfElement(c, n ? CKEDITOR.START : CKEDITOR.END) && (i = 1))
                                    }
                                    return !i
                                }
                            }), t.blockless && CKEDITOR.env.ie && CKEDITOR.env.needsBrFiller && this.attachListener(this, "keyup", function(e) {
                                e.data.getKeystroke() in d && !this.getFirst(i) && (this.appendBogus(), e = t.createRange(), e.moveToPosition(this, CKEDITOR.POSITION_AFTER_START), e.select())
                            }), this.attachListener(this, "dblclick", function(e) {
                                if (t.readOnly)
                                    return !1;
                                e = {
                                    element: e.data.getTarget()
                                }, t.fire("doubleclick", e)
                            }), CKEDITOR.env.ie && this.attachListener(this, "click", n), CKEDITOR.env.ie && !CKEDITOR.env.edge || this.attachListener(this, "mousedown", function(e) {
                                var n = e.data.getTarget();
                                n.is("img", "hr", "input", "textarea", "select") && !n.isReadOnly() && (t.getSelection().selectElement(n), n.is("input", "textarea", "select") && e.data.preventDefault())
                            }), CKEDITOR.env.edge && this.attachListener(this, "mouseup", function(e) {
                                (e = e.data.getTarget()) && e.is("img") && t.getSelection().selectElement(e)
                            }), CKEDITOR.env.gecko && this.attachListener(this, "mouseup", function(e) {
                                if (2 == e.data.$.button && (e = e.data.getTarget(), !e.getOuterHtml().replace(p, ""))) {
                                    var n = t.createRange();
                                    n.moveToElementEditStart(e), n.select(!0)
                                }
                            }), CKEDITOR.env.webkit && (this.attachListener(this, "click", function(t) {
                                t.data.getTarget().is("input", "select") && t.data.preventDefault()
                            }), this.attachListener(this, "mouseup", function(t) {
                                t.data.getTarget().is("input", "textarea") && t.data.preventDefault()
                            })), CKEDITOR.env.webkit && this.attachListener(t, "key", function(e) {
                                if (t.readOnly)
                                    return !0;
                                var n = e.data.domEvent.getKey();
                                if (n in d && (e = t.getSelection(), 0 !== e.getRanges().length)) {
                                    var n = 8 == n,
                                        i = e.getRanges()[0];
                                    if (e = i.startPath(), i.collapsed)
                                        t:
                                        {
                                            var o = e.block;
                                            if (o && i[n ? "checkStartOfBlock" : "checkEndOfBlock"]() && i.moveToClosestEditablePosition(o, !n) && i.collapsed) {
                                                if (i.startContainer.type == CKEDITOR.NODE_ELEMENT) {
                                                    var a = i.startContainer.getChild(i.startOffset - (n ? 1 : 0));
                                                    if (a && a.type == CKEDITOR.NODE_ELEMENT && a.is("hr")) {
                                                        t.fire("saveSnapshot"), a.remove(), e = !0;
                                                        break t
                                                    }
                                                }
                                                if (!(i = i.startPath().block) || i && i.contains(o))
                                                    e = void 0;
                                                else {
                                                    t.fire("saveSnapshot");
                                                    var s;
                                                    (s = (n ? i : o).getBogus()) && s.remove(), s = t.getSelection(), a = s.createBookmarks(), (n ? o : i).moveChildren(n ? i : o, !1), e.lastElement.mergeSiblings(), c(o, i, !n), s.selectBookmarks(a), e = !0
                                                }
                                            } else
                                                e = !1
                                        } else
                                        n = i, s = e.block, i = n.endPath().block, s && i && !s.equals(i) ? (t.fire("saveSnapshot"), (o = s.getBogus()) && o.remove(), n.enlarge(CKEDITOR.ENLARGE_INLINE), n.deleteContents(), i.getParent() && (i.moveChildren(s, !1), e.lastElement.mergeSiblings(), c(s, i, !0)), n = t.getSelection().getRanges()[0], n.collapse(1), n.optimize(), "" === n.startContainer.getHtml() && n.startContainer.appendBogus(), n.select(), e = !0) : e = !1;
                                    if (!e)
                                        return;
                                    return t.getSelection().scrollIntoView(), t.fire("saveSnapshot"), !1
                                }
                            }, this, null, 100)
                        }
                    }
                },
                _: {
                    detach: function() {
                        this.editor.setData(this.editor.getData(), 0, 1), this.clearListeners(), this.restoreAttrs();
                        var t;
                        if (t = this.removeCustomData("classes"))
                            for (; t.length;)
                                this.removeClass(t.pop());
                        if (!this.is("textarea")) {
                            t = this.getDocument();
                            var e = t.getHead();
                            if (e.getCustomData("stylesheet")) {
                                var n = t.getCustomData("stylesheet_ref");
                                --n ? t.setCustomData("stylesheet_ref", n) : (t.removeCustomData("stylesheet_ref"), e.removeCustomData("stylesheet").remove())
                            }
                        }
                        this.editor.fire("contentDomUnload"), delete this.editor
                    }
                }
            }), CKEDITOR.editor.prototype.editable = function(t) {
                var e = this._.editable;
                return e && t ? 0 : (arguments.length && (e = this._.editable = t ? t instanceof CKEDITOR.editable ? t : new CKEDITOR.editable(this, t) : (e && e.detach(), null)), e)
            }, CKEDITOR.on("instanceLoaded", function(e) {
                var n = e.editor;
                n.on("insertElement", function(t) {
                    t = t.data, t.type == CKEDITOR.NODE_ELEMENT && (t.is("input") || t.is("textarea")) && ("false" != t.getAttribute("contentEditable") && t.data("cke-editable", t.hasAttribute("contenteditable") ? "true" : "1"), t.setAttribute("contentEditable", !1))
                }), n.on("selectionChange", function(e) {
                    if (!n.readOnly) {
                        var i = n.getSelection();
                        i && !i.isLocked && (i = n.checkDirty(), n.fire("lockSnapshot"), t(e), n.fire("unlockSnapshot"), !i && n.resetDirty())
                    }
                })
            }), CKEDITOR.on("instanceCreated", function(t) {
                var e = t.editor;
                e.on("mode", function() {
                    var t = e.editable();
                    if (t && t.isInline()) {
                        var n = e.title;
                        t.changeAttr("role", "textbox"), t.changeAttr("aria-label", n), n && t.changeAttr("title", n);
                        var i = e.fire("ariaEditorHelpLabel", {}).label;
                        if (i && (n = this.ui.space(this.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? "top" : "contents"))) {
                            var o = CKEDITOR.tools.getNextId(),
                                i = CKEDITOR.dom.element.createFromHtml('<span id="' + o + '" class="cke_voice_label">' + i + "</span>");
                            n.append(i), t.changeAttr("aria-describedby", o)
                        }
                    }
                })
            }), CKEDITOR.addCss(".cke_editable{cursor:text}.cke_editable img,.cke_editable input,.cke_editable textarea{cursor:default}"), u = CKEDITOR.dom.walker.whitespaces(!0), d = CKEDITOR.dom.walker.bookmark(!1, !0), h = CKEDITOR.dom.walker.empty(), f = CKEDITOR.dom.walker.bogus(), p = /(^|<body\b[^>]*>)\s*<(p|div|address|h\d|center|pre)[^>]*>\s*(?:<br[^>]*>|&nbsp;|\u00A0|&#160;)?\s*(:?<\/\2>)?\s*(?=$|<\/body>)/gi, m = function() {
                function t(t) {
                    return t.type == CKEDITOR.NODE_ELEMENT
                }
                function e(n, i) {
                    var o,
                        a,
                        s,
                        r,
                        l = [],
                        c = i.range.startContainer;
                    o = i.range.startPath();
                    for (var c = u[c.getName()], d = 0, h = n.getChildren(), f = h.count(), p = -1, m = -1, g = 0, v = o.contains(u.$list); d < f; ++d)
                        o = h.getItem(d), t(o) ? (s = o.getName(), v && s in CKEDITOR.dtd.$list ? l = l.concat(e(o, i)) : (r = !!c[s], "br" != s || !o.data("cke-eol") || d && d != f - 1 || (g = (a = d ? l[d - 1].node : h.getItem(d + 1)) && (!t(a) || !a.is("br")), a = a && t(a) && u.$block[a.getName()]), -1 != p || r || (p = d), r || (m = d), l.push({
                            isElement: 1,
                            isLineBreak: g,
                            isBlock: o.isBlockBoundary(),
                            hasBlockSibling: a,
                            node: o,
                            name: s,
                            allowed: r
                        }), a = g = 0)) : l.push({
                            isElement: 0,
                            node: o,
                            allowed: 1
                        });
                    return -1 < p && (l[p].firstNotAllowed = 1), -1 < m && (l[m].lastNotAllowed = 1), l
                }
                function n(e, i) {
                    var o = [],
                        a = e.getChildren(),
                        s = a.count(),
                        r,
                        l = 0,
                        c = u[i],
                        d = !e.is(u.$inline) || e.is("br");
                    for (d && o.push(" "); l < s; l++)
                        r = a.getItem(l), t(r) && !r.is(c) ? o = o.concat(n(r, i)) : o.push(r);
                    return d && o.push(" "), o
                }
                function o(e) {
                    return t(e.startContainer) && e.startContainer.getChild(e.startOffset - 1)
                }
                function a(e) {
                    return e && t(e) && (e.is(u.$removeEmpty) || e.is("a") && !e.isBlockBoundary())
                }
                function l(e, n, i, o) {
                    var a = e.clone(),
                        s,
                        r;
                    a.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), (s = new CKEDITOR.dom.walker(a).next()) && t(s) && d[s.getName()] && (r = s.getPrevious()) && t(r) && !r.getParent().equals(e.startContainer) && i.contains(r) && o.contains(s) && s.isIdentical(r) && (s.moveChildren(r), s.remove(), l(e, n, i, o))
                }
                function c(e, n) {
                    function i(e, n) {
                        if (n.isBlock && n.isElement && !n.node.is("br") && t(e) && e.is("br"))
                            return e.remove(), 1
                    }
                    var o = n.endContainer.getChild(n.endOffset),
                        a = n.endContainer.getChild(n.endOffset - 1);
                    o && i(o, e[e.length - 1]), a && i(a, e[0]) && (n.setEnd(n.endContainer, n.endOffset - 1), n.collapse())
                }
                var u = CKEDITOR.dtd,
                    d = {
                        p: 1,
                        div: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1,
                        ul: 1,
                        ol: 1,
                        li: 1,
                        pre: 1,
                        dl: 1,
                        blockquote: 1
                    },
                    h = {
                        p: 1,
                        div: 1,
                        h1: 1,
                        h2: 1,
                        h3: 1,
                        h4: 1,
                        h5: 1,
                        h6: 1
                    },
                    f = CKEDITOR.tools.extend({}, u.$inline);
                return delete f.br, function(d, p, m, g) {
                    var v = d.editor,
                        b = !1;
                    if ("unfiltered_html" == p && (p = "html", b = !0), !g.checkReadOnly()) {
                        var E = new CKEDITOR.dom.elementPath(g.startContainer, g.root).blockLimit || g.root;
                        d = {
                            type: p,
                            dontFilter: b,
                            editable: d,
                            editor: v,
                            range: g,
                            blockLimit: E,
                            mergeCandidates: [],
                            zombies: []
                        }, p = d.range, g = d.mergeCandidates;
                        var y,
                            T;
                        if ("text" == d.type && p.shrink(CKEDITOR.SHRINK_ELEMENT, !0, !1) && (y = CKEDITOR.dom.element.createFromHtml("<span>&nbsp;</span>", p.document), p.insertNode(y), p.setStartAfter(y)), b = new CKEDITOR.dom.elementPath(p.startContainer), d.endPath = E = new CKEDITOR.dom.elementPath(p.endContainer), !p.collapsed) {
                            var v = E.block || E.blockLimit,
                                C = p.getCommonAncestor();
                            v && !v.equals(C) && !v.contains(C) && p.checkEndOfBlock() && d.zombies.push(v), p.deleteContents()
                        }
                        for (; (T = o(p)) && t(T) && T.isBlockBoundary() && b.contains(T);)
                            p.moveToPosition(T, CKEDITOR.POSITION_BEFORE_END);
                        for (l(p, d.blockLimit, b, E), y && (p.setEndBefore(y), p.collapse(), y.remove()), y = p.startPath(), (v = y.contains(a, !1, 1)) && (p.splitElement(v), d.inlineStylesRoot = v, d.inlineStylesPeak = y.lastElement), y = p.createBookmark(), (v = y.startNode.getPrevious(i)) && t(v) && a(v) && g.push(v), (v = y.startNode.getNext(i)) && t(v) && a(v) && g.push(v), v = y.startNode; (v = v.getParent()) && a(v);)
                            g.push(v);
                        if (p.moveToBookmark(y), y = m) {
                            if (y = d.range, "text" == d.type && d.inlineStylesRoot) {
                                for (T = d.inlineStylesPeak, p = T.getDocument().createText("{cke-peak}"), g = d.inlineStylesRoot.getParent(); !T.equals(g);)
                                    p = p.appendTo(T.clone()), T = T.getParent();
                                m = p.getOuterHtml().split("{cke-peak}").join(m)
                            }
                            if (T = d.blockLimit.getName(), /^\s+|\s+$/.test(m) && "span" in CKEDITOR.dtd[T]) {
                                var _ = '<span data-cke-marker="1">&nbsp;</span>';
                                m = _ + m + _
                            }
                            if (m = d.editor.dataProcessor.toHtml(m, {
                                context: null,
                                fixForBody: !1,
                                protectedWhitespaces: !!_,
                                dontFilter: d.dontFilter,
                                filter: d.editor.activeFilter,
                                enterMode: d.editor.activeEnterMode
                            }), T = y.document.createElement("body"), T.setHtml(m), _ && (T.getFirst().remove(), T.getLast().remove()), (_ = y.startPath().block) && (1 != _.getChildCount() || !_.getBogus()))
                                t:
                                {
                                    var D;
                                    if (1 == T.getChildCount() && t(D = T.getFirst()) && D.is(h) && !D.hasAttribute("contenteditable")) {
                                        for (_ = D.getElementsByTag("*"), y = 0, g = _.count(); y < g; y++)
                                            if (p = _.getItem(y), !p.is(f))
                                                break t;
                                        D.moveChildren(D.getParent(1)), D.remove()
                                    }
                                }d.dataWrapper = T, y = m
                        }
                        if (y) {
                            D = d.range, y = D.document;
                            var I;
                            T = d.blockLimit, g = 0;
                            var O,
                                _ = [],
                                R,
                                k;
                            m = v = 0;
                            var w,
                                x;
                            p = D.startContainer;
                            var b = d.endPath.elements[0],
                                S,
                                E = b.getPosition(p),
                                C = !(!b.getCommonAncestor(p) || E == CKEDITOR.POSITION_IDENTICAL || E & CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED);
                            for (p = e(d.dataWrapper, d), c(p, D); g < p.length; g++) {
                                if (E = p[g], I = E.isLineBreak) {
                                    I = D, w = T;
                                    var K = void 0,
                                        N = void 0;
                                    E.hasBlockSibling ? I = 1 : (K = I.startContainer.getAscendant(u.$block, 1)) && K.is({
                                        div: 1,
                                        p: 1
                                    }) ? (N = K.getPosition(w), N == CKEDITOR.POSITION_IDENTICAL || N == CKEDITOR.POSITION_CONTAINS ? I = 0 : (w = I.splitElement(K), I.moveToPosition(w, CKEDITOR.POSITION_AFTER_START), I = 1)) : I = 0
                                }
                                if (I)
                                    m = 0 < g;
                                else {
                                    if (I = D.startPath(), !E.isBlock && s(d.editor, I.block, I.blockLimit) && (k = r(d.editor)) && (k = y.createElement(k), k.appendBogus(), D.insertNode(k), CKEDITOR.env.needsBrFiller && (O = k.getBogus()) && O.remove(), D.moveToPosition(k, CKEDITOR.POSITION_BEFORE_END)), (I = D.startPath().block) && !I.equals(R) && ((O = I.getBogus()) && (O.remove(), _.push(I)), R = I), E.firstNotAllowed && (v = 1), v && E.isElement) {
                                        for (I = D.startContainer, w = null; I && !u[I.getName()][E.name];) {
                                            if (I.equals(T)) {
                                                I = null;
                                                break
                                            }
                                            w = I, I = I.getParent()
                                        }
                                        if (I)
                                            w && (x = D.splitElement(w), d.zombies.push(x), d.zombies.push(w));
                                        else {
                                            w = T.getName(), S = !g, I = g == p.length - 1, w = n(E.node, w);
                                            for (var K = [], N = w.length, A = 0, F = void 0, P = 0, L = -1; A < N; A++)
                                                F = w[A], " " == F ? (P || S && !A || (K.push(new CKEDITOR.dom.text(" ")), L = K.length), P = 1) : (K.push(F), P = 0);
                                            I && L == K.length && K.pop(), S = K
                                        }
                                    }
                                    if (S) {
                                        for (; I = S.pop();)
                                            D.insertNode(I);
                                        S = 0
                                    } else
                                        D.insertNode(E.node);
                                    E.lastNotAllowed && g < p.length - 1 && ((x = C ? b : x) && D.setEndAt(x, CKEDITOR.POSITION_AFTER_START), v = 0), D.collapse()
                                }
                            }
                            1 != p.length ? O = !1 : (O = p[0], O = O.isElement && "false" == O.node.getAttribute("contenteditable")), O && (m = !0, I = p[0].node, D.setStartAt(I, CKEDITOR.POSITION_BEFORE_START), D.setEndAt(I, CKEDITOR.POSITION_AFTER_END)), d.dontMoveCaret = m, d.bogusNeededBlocks = _
                        }
                        O = d.range;
                        var $;
                        for (x = d.bogusNeededBlocks, S = O.createBookmark(); R = d.zombies.pop();)
                            R.getParent() && (k = O.clone(), k.moveToElementEditStart(R), k.removeEmptyBlocksAtEnd());
                        if (x)
                            for (; R = x.pop();)
                                CKEDITOR.env.needsBrFiller ? R.appendBogus() : R.append(O.document.createText("\xa0"));
                        for (; R = d.mergeCandidates.pop();)
                            R.mergeSiblings();
                        if (O.moveToBookmark(S), !d.dontMoveCaret) {
                            for (R = o(O); R && t(R) && !R.is(u.$empty);) {
                                if (R.isBlockBoundary())
                                    O.moveToPosition(R, CKEDITOR.POSITION_BEFORE_END);
                                else {
                                    if (a(R) && R.getHtml().match(/(\s|&nbsp;)$/g)) {
                                        $ = null;
                                        break
                                    }
                                    $ = O.clone(), $.moveToPosition(R, CKEDITOR.POSITION_BEFORE_END)
                                }
                                R = R.getLast(i)
                            }
                            $ && O.moveToRange($)
                        }
                    }
                }
            }(), g = function() {
                function t(t) {
                    return t = new CKEDITOR.dom.walker(t), t.guard = function(t, e) {
                        return !e && (t.type == CKEDITOR.NODE_ELEMENT ? t.is(CKEDITOR.dtd.$tableContent) : void 0)
                    }, t.evaluator = function(t) {
                        return t.type == CKEDITOR.NODE_ELEMENT
                    }, t
                }
                function e(t, e, n) {
                    return e = t.getDocument().createElement(e), t.append(e, n), e
                }
                function n(t) {
                    var e = t.count(),
                        n;
                    for (e; 0 < e--;)
                        n = t.getItem(e), CKEDITOR.tools.trim(n.getHtml()) || (n.appendBogus(), CKEDITOR.env.ie && 9 > CKEDITOR.env.version && n.getChildCount() && n.getFirst().remove())
                }
                return function(i) {
                    var o = i.startContainer,
                        a = o.getAscendant("table", 1),
                        s = !1;
                    n(a.getElementsByTag("td")), n(a.getElementsByTag("th")), a = i.clone(), a.setStart(o, 0), a = t(a).lastBackward(), a || (a = i.clone(), a.setEndAt(o, CKEDITOR.POSITION_BEFORE_END), a = t(a).lastForward(), s = !0), a || (a = o), a.is("table") ? (i.setStartAt(a, CKEDITOR.POSITION_BEFORE_START), i.collapse(!0), a.remove()) : (a.is({
                        tbody: 1,
                        thead: 1,
                        tfoot: 1
                    }) && (a = e(a, "tr", s)), a.is("tr") && (a = e(a, a.getParent().is("thead") ? "th" : "td", s)), (o = a.getBogus()) && o.remove(), i.moveToPosition(a, s ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END))
                }
            }(), v = function() {
                function t(t) {
                    return t = new CKEDITOR.dom.walker(t), t.guard = function(t, e) {
                        return !e && (t.type == CKEDITOR.NODE_ELEMENT ? t.is(CKEDITOR.dtd.$list) || t.is(CKEDITOR.dtd.$listItem) : void 0)
                    }, t.evaluator = function(t) {
                        return t.type == CKEDITOR.NODE_ELEMENT && t.is(CKEDITOR.dtd.$listItem)
                    }, t
                }
                return function(e) {
                    var n = e.startContainer,
                        i = !1,
                        o;
                    o = e.clone(), o.setStart(n, 0), o = t(o).lastBackward(), o || (o = e.clone(), o.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), o = t(o).lastForward(), i = !0), o || (o = n), o.is(CKEDITOR.dtd.$list) ? (e.setStartAt(o, CKEDITOR.POSITION_BEFORE_START), e.collapse(!0), o.remove()) : ((n = o.getBogus()) && n.remove(), e.moveToPosition(o, i ? CKEDITOR.POSITION_AFTER_START : CKEDITOR.POSITION_BEFORE_END), e.select())
                }
            }(), b = {
                eol: {
                    detect: function(t, e) {
                        var n = t.range,
                            i = n.clone(),
                            o = n.clone(),
                            a = new CKEDITOR.dom.elementPath(n.startContainer, e),
                            s = new CKEDITOR.dom.elementPath(n.endContainer, e);
                        i.collapse(1), o.collapse(), a.block && i.checkBoundaryOfElement(a.block, CKEDITOR.END) && (n.setStartAfter(a.block), t.prependEolBr = 1), s.block && o.checkBoundaryOfElement(s.block, CKEDITOR.START) && (n.setEndBefore(s.block), t.appendEolBr = 1)
                    },
                    fix: function(t, e) {
                        var n = e.getDocument(),
                            i;
                        t.appendEolBr && (i = this.createEolBr(n), t.fragment.append(i)), !t.prependEolBr || i && !i.getPrevious() || t.fragment.append(this.createEolBr(n), 1)
                    },
                    createEolBr: function(t) {
                        return t.createElement("br", {
                            attributes: {
                                "data-cke-eol": 1
                            }
                        })
                    }
                },
                bogus: {
                    exclude: function(t) {
                        var e = t.range.getBoundaryNodes(),
                            n = e.startNode,
                            e = e.endNode;
                        !e || !f(e) || n && n.equals(e) || t.range.setEndBefore(e)
                    }
                },
                tree: {
                    rebuild: function(t, e) {
                        var n = t.range,
                            i = n.getCommonAncestor(),
                            o = new CKEDITOR.dom.elementPath(i, e),
                            a = new CKEDITOR.dom.elementPath(n.startContainer, e),
                            n = new CKEDITOR.dom.elementPath(n.endContainer, e),
                            s;
                        if (i.type == CKEDITOR.NODE_TEXT && (i = i.getParent()), o.blockLimit.is({
                            tr: 1,
                            table: 1
                        })) {
                            var r = o.contains("table").getParent();
                            s = function(t) {
                                return !t.equals(r)
                            }
                        } else if (o.block && o.block.is(CKEDITOR.dtd.$listItem) && (a = a.contains(CKEDITOR.dtd.$list), n = n.contains(CKEDITOR.dtd.$list), !a.equals(n))) {
                            var l = o.contains(CKEDITOR.dtd.$list).getParent();
                            s = function(t) {
                                return !t.equals(l)
                            }
                        }
                        s || (s = function(t) {
                            return !t.equals(o.block) && !t.equals(o.blockLimit)
                        }), this.rebuildFragment(t, e, i, s)
                    },
                    rebuildFragment: function(t, e, n, i) {
                        for (var o; n && !n.equals(e) && i(n);)
                            o = n.clone(0, 1), t.fragment.appendTo(o), t.fragment = o, n = n.getParent()
                    }
                },
                cell: {
                    shrink: function(t) {
                        t = t.range;
                        var e = t.startContainer,
                            n = t.endContainer,
                            i = t.startOffset,
                            o = t.endOffset;
                        e.type == CKEDITOR.NODE_ELEMENT && e.equals(n) && e.is("tr") && ++i == o && t.shrink(CKEDITOR.SHRINK_TEXT)
                    }
                }
            }, E = function() {
                function t(t, e) {
                    var n = t.getParent();
                    n.is(CKEDITOR.dtd.$inline) && t[e ? "insertBefore" : "insertAfter"](n)
                }
                function e(e, n, i) {
                    t(n), t(i, 1);
                    for (var o; o = i.getNext();)
                        o.insertAfter(n), n = o;
                    h(e) && e.remove()
                }
                function n(t, e) {
                    var n = new CKEDITOR.dom.range(t);
                    return n.setStartAfter(e.startNode), n.setEndBefore(e.endNode), n
                }
                return {
                    list: {
                        detectMerge: function(t, e) {
                            var i = n(e, t.bookmark),
                                o = i.startPath(),
                                a = i.endPath(),
                                s = o.contains(CKEDITOR.dtd.$list),
                                r = a.contains(CKEDITOR.dtd.$list);
                            t.mergeList = s && r && s.getParent().equals(r.getParent()) && !s.equals(r), t.mergeListItems = o.block && a.block && o.block.is(CKEDITOR.dtd.$listItem) && a.block.is(CKEDITOR.dtd.$listItem), (t.mergeList || t.mergeListItems) && (i = i.clone(), i.setStartBefore(t.bookmark.startNode), i.setEndAfter(t.bookmark.endNode), t.mergeListBookmark = i.createBookmark())
                        },
                        merge: function(t, n) {
                            if (t.mergeListBookmark) {
                                var i = t.mergeListBookmark.startNode,
                                    o = t.mergeListBookmark.endNode,
                                    a = new CKEDITOR.dom.elementPath(i, n),
                                    s = new CKEDITOR.dom.elementPath(o, n);
                                if (t.mergeList) {
                                    var r = a.contains(CKEDITOR.dtd.$list),
                                        l = s.contains(CKEDITOR.dtd.$list);
                                    r.equals(l) || (l.moveChildren(r), l.remove())
                                }
                                t.mergeListItems && (a = a.contains(CKEDITOR.dtd.$listItem), s = s.contains(CKEDITOR.dtd.$listItem), a.equals(s) || e(s, i, o)), i.remove(), o.remove()
                            }
                        }
                    },
                    block: {
                        detectMerge: function(t, e) {
                            if (!t.tableContentsRanges && !t.mergeListBookmark) {
                                var n = new CKEDITOR.dom.range(e);
                                n.setStartBefore(t.bookmark.startNode), n.setEndAfter(t.bookmark.endNode), t.mergeBlockBookmark = n.createBookmark()
                            }
                        },
                        merge: function(t, n) {
                            if (t.mergeBlockBookmark && !t.purgeTableBookmark) {
                                var i = t.mergeBlockBookmark.startNode,
                                    o = t.mergeBlockBookmark.endNode,
                                    a = new CKEDITOR.dom.elementPath(i, n),
                                    s = new CKEDITOR.dom.elementPath(o, n),
                                    a = a.block,
                                    s = s.block;
                                a && s && !a.equals(s) && e(s, i, o), i.remove(), o.remove()
                            }
                        }
                    },
                    table: function() {
                        function t(t) {
                            var n = [],
                                o,
                                a = new CKEDITOR.dom.walker(t),
                                s = t.startPath().contains(i),
                                r = t.endPath().contains(i),
                                l = {};
                            return a.guard = function(a, c) {
                                if (a.type == CKEDITOR.NODE_ELEMENT) {
                                    var u = "visited_" + (c ? "out" : "in");
                                    if (a.getCustomData(u))
                                        return;
                                    CKEDITOR.dom.element.setMarker(l, a, u, 1)
                                }
                                c && s && a.equals(s) ? (o = t.clone(), o.setEndAt(s, CKEDITOR.POSITION_BEFORE_END), n.push(o)) : !c && r && a.equals(r) ? (o = t.clone(), o.setStartAt(r, CKEDITOR.POSITION_AFTER_START), n.push(o)) : ((u = !c) && (u = a.type == CKEDITOR.NODE_ELEMENT && a.is(i) && (!s || e(a, s)) && (!r || e(a, r))), u && (o = t.clone(), o.selectNodeContents(a), n.push(o)))
                            }, a.lastForward(), CKEDITOR.dom.element.clearAllMarkers(l), n
                        }
                        function e(t, e) {
                            var n = CKEDITOR.POSITION_CONTAINS + CKEDITOR.POSITION_IS_CONTAINED,
                                i = t.getPosition(e);
                            return i !== CKEDITOR.POSITION_IDENTICAL && 0 == (i & n)
                        }
                        var i = {
                            td: 1,
                            th: 1,
                            caption: 1
                        };
                        return {
                            detectPurge: function(t) {
                                var e = t.range,
                                    n = e.clone();
                                n.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                                var n = new CKEDITOR.dom.walker(n),
                                    o = 0;
                                if (n.evaluator = function(t) {
                                    t.type == CKEDITOR.NODE_ELEMENT && t.is(i) && ++o
                                }, n.checkForward(), 1 < o) {
                                    var n = e.startPath().contains("table"),
                                        a = e.endPath().contains("table");
                                    n && a && e.checkBoundaryOfElement(n, CKEDITOR.START) && e.checkBoundaryOfElement(a, CKEDITOR.END) && (e = t.range.clone(), e.setStartBefore(n), e.setEndAfter(a), t.purgeTableBookmark = e.createBookmark())
                                }
                            },
                            detectRanges: function(o, a) {
                                var s = n(a, o.bookmark),
                                    r = s.clone(),
                                    l,
                                    c,
                                    u = s.getCommonAncestor();
                                u.is(CKEDITOR.dtd.$tableContent) && !u.is(i) && (u = u.getAscendant("table", !0)), c = u, u = new CKEDITOR.dom.elementPath(s.startContainer, c), c = new CKEDITOR.dom.elementPath(s.endContainer, c), u = u.contains("table"), c = c.contains("table"), (u || c) && (u && c && e(u, c) ? (o.tableSurroundingRange = r, r.setStartAt(u, CKEDITOR.POSITION_AFTER_END), r.setEndAt(c, CKEDITOR.POSITION_BEFORE_START), r = s.clone(), r.setEndAt(u, CKEDITOR.POSITION_AFTER_END), l = s.clone(), l.setStartAt(c, CKEDITOR.POSITION_BEFORE_START), l = t(r).concat(t(l))) : u ? c || (o.tableSurroundingRange = r, r.setStartAt(u, CKEDITOR.POSITION_AFTER_END), s.setEndAt(u, CKEDITOR.POSITION_AFTER_END)) : (o.tableSurroundingRange = r, r.setEndAt(c, CKEDITOR.POSITION_BEFORE_START), s.setStartAt(c, CKEDITOR.POSITION_AFTER_START)), o.tableContentsRanges = l || t(s))
                            },
                            deleteRanges: function(t) {
                                for (var e; e = t.tableContentsRanges.pop();)
                                    e.extractContents(), h(e.startContainer) && e.startContainer.appendBogus();
                                t.tableSurroundingRange && t.tableSurroundingRange.extractContents()
                            },
                            purge: function(t) {
                                if (t.purgeTableBookmark) {
                                    var e = t.doc,
                                        n = t.range.clone(),
                                        e = e.createElement("p");
                                    e.insertBefore(t.purgeTableBookmark.startNode), n.moveToBookmark(t.purgeTableBookmark), n.deleteContents(), t.range.moveToPosition(e, CKEDITOR.POSITION_AFTER_START)
                                }
                            }
                        }
                    }(),
                    detectExtractMerge: function(t) {
                        return !(t.range.startPath().contains(CKEDITOR.dtd.$listItem) && t.range.endPath().contains(CKEDITOR.dtd.$listItem))
                    },
                    fixUneditableRangePosition: function(t) {
                        t.startContainer.getDtd()["#"] || t.moveToClosestEditablePosition(null, !0)
                    },
                    autoParagraph: function(t, e) {
                        var n = e.startPath(),
                            i;
                        s(t, n.block, n.blockLimit) && (i = r(t)) && (i = e.document.createElement(i), i.appendBogus(), e.insertNode(i), e.moveToPosition(i, CKEDITOR.POSITION_AFTER_START))
                    }
                }
            }()
        }(), function() {
            function t(t, e) {
                if (0 === t.length)
                    return !1;
                var n,
                    i;
                if ((n = !e && 1 === t.length) && !(n = t[0].collapsed)) {
                    var o = t[0];
                    n = o.startContainer.getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    var a = o.endContainer.getAscendant({
                        td: 1,
                        th: 1
                    }, !0);
                    i = CKEDITOR.tools.trim, n && n.equals(a) && !n.findOne("td, th, tr, tbody, table") ? (o = o.cloneContents(), n = !o.getFirst() || i(o.getFirst().getText()) !== i(n.getText())) : n = !1
                }
                if (n)
                    return !1;
                for (i = 0; i < t.length; i++)
                    if (!(n = t[i]._getTableElement()))
                        return !1;
                return !0
            }
            function e(t) {
                function e(t) {
                    t = t.find("td, th");
                    var e = [],
                        n;
                    for (n = 0; n < t.count(); n++)
                        e.push(t.getItem(n));
                    return e
                }
                var n = [],
                    i,
                    o;
                for (o = 0; o < t.length; o++)
                    i = t[o]._getTableElement(), i.is && i.is({
                        td: 1,
                        th: 1
                    }) ? n.push(i) : n = n.concat(e(i));
                return n
            }
            function n(t) {
                t = e(t);
                var n = "",
                    i = [],
                    o,
                    a;
                for (a = 0; a < t.length; a++)
                    o && !o.equals(t[a].getAscendant("tr")) ? (n += i.join("\t") + "\n", o = t[a].getAscendant("tr"), i = []) : 0 === a && (o = t[a].getAscendant("tr")), i.push(t[a].getText());
                return n += i.join("\t")
            }
            function i(t) {
                var e = this.root.editor,
                    i = e.getSelection(1);
                this.reset(), E = !0, i.root.once("selectionchange", function(t) {
                    t.cancel()
                }, null, null, 0), i.selectRanges([t[0]]), i = this._.cache, i.ranges = new CKEDITOR.dom.rangeList(t), i.type = CKEDITOR.SELECTION_TEXT, i.selectedElement = t[0]._getTableElement(), i.selectedText = n(t), i.nativeSel = null, this.isFake = 1, this.rev = g++, e._.fakeSelection = this, E = !1, this.root.fire("selectionchange")
            }
            function o() {
                var e = this._.fakeSelection,
                    n;
                if (e) {
                    n = this.getSelection(1);
                    var i;
                    if (!(i = !n) && (i = !n.isHidden())) {
                        i = e;
                        var o = n.getRanges(),
                            a = i.getRanges(),
                            s = o.length && o[0]._getTableElement() && o[0]._getTableElement().getAscendant("table", !0),
                            r = a.length && a[0]._getTableElement() && a[0]._getTableElement().getAscendant("table", !0),
                            l = 1 === o.length && o[0]._getTableElement() && o[0]._getTableElement().is("table"),
                            c = 1 === a.length && a[0]._getTableElement() && a[0]._getTableElement().is("table"),
                            u = 1 === o.length && o[0].collapsed,
                            a = t(o, !!CKEDITOR.env.webkit) && t(a);
                        s = !(!s || !r) && (s.equals(r) || r.contains(s)), s && (u || a) ? (l && !c && i.selectRanges(o), i = !0) : i = !1, i = !i
                    }
                    i && (e.reset(), e = 0)
                }
                (e || (e = n || this.getSelection(1)) && e.getType() != CKEDITOR.SELECTION_NONE) && (this.fire("selectionCheck", e), n = this.elementPath(), n.compare(this._.selectionPreviousPath) || (i = this._.selectionPreviousPath && this._.selectionPreviousPath.blockLimit.equals(n.blockLimit), CKEDITOR.env.webkit && !i && (this._.previousActive = this.document.getActive()), this._.selectionPreviousPath = n, this.fire("selectionChange", {
                    selection: e,
                    path: n
                })))
            }
            function a() {
                T = !0, y || (s.call(this), y = CKEDITOR.tools.setTimeout(s, 200, this))
            }
            function s() {
                y = null, T && (CKEDITOR.tools.setTimeout(o, 0, this), T = !1)
            }
            function r(t) {
                return !(!C(t) && (t.type != CKEDITOR.NODE_ELEMENT || t.is(CKEDITOR.dtd.$empty)))
            }
            function l(t) {
                function e(e, n) {
                    return !(!e || e.type == CKEDITOR.NODE_TEXT) && t.clone()["moveToElementEdit" + (n ? "End" : "Start")](e)
                }
                if (!(t.root instanceof CKEDITOR.editable))
                    return !1;
                var n = t.startContainer,
                    i = t.getPreviousNode(r, null, n),
                    o = t.getNextNode(r, null, n);
                return !(!e(i) && !e(o, 1) && (i || o || n.type == CKEDITOR.NODE_ELEMENT && n.isBlockBoundary() && n.getBogus()))
            }
            function c(t) {
                u(t, !1);
                var e = t.getDocument().createText(v);
                return t.setCustomData("cke-fillingChar", e), e
            }
            function u(t, e) {
                var n = t && t.removeCustomData("cke-fillingChar");
                if (n) {
                    if (!1 !== e) {
                        var i = t.getDocument().getSelection().getNative(),
                            o = i && "None" != i.type && i.getRangeAt(0),
                            a = v.length;
                        if (n.getLength() > a && o && o.intersectsNode(n.$)) {
                            var s = [{
                                node: i.anchorNode,
                                offset: i.anchorOffset
                            }, {
                                node: i.focusNode,
                                offset: i.focusOffset
                            }];
                            i.anchorNode == n.$ && i.anchorOffset > a && (s[0].offset -= a), i.focusNode == n.$ && i.focusOffset > a && (s[1].offset -= a)
                        }
                    }
                    n.setText(d(n.getText(), 1)), s && (n = t.getDocument().$, i = n.getSelection(), n = n.createRange(), n.setStart(s[0].node, s[0].offset), n.collapse(!0), i.removeAllRanges(), i.addRange(n), i.extend(s[1].node, s[1].offset))
                }
            }
            function d(t, e) {
                return e ? t.replace(b, function(t, e) {
                    return e ? "\xa0" : ""
                }) : t.replace(v, "")
            }
            function h(t, e) {
                var n = CKEDITOR.dom.element.createFromHtml('<div data-cke-hidden-sel="1" data-cke-temp="1" style="' + (CKEDITOR.env.ie && 14 > CKEDITOR.env.version ? "display:none" : "position:fixed;top:0;left:-1000px") + '">' + (e || "&nbsp;") + "</div>", t.document);
                t.fire("lockSnapshot"), t.editable().append(n);
                var i = t.getSelection(1),
                    o = t.createRange(),
                    a = i.root.on("selectionchange", function(t) {
                        t.cancel()
                    }, null, null, 0);
                o.setStartAt(n, CKEDITOR.POSITION_AFTER_START), o.setEndAt(n, CKEDITOR.POSITION_BEFORE_END), i.selectRanges([o]), a.removeListener(), t.fire("unlockSnapshot"), t._.hiddenSelectionContainer = n
            }
            function f(t) {
                var e = {
                    37: 1,
                    39: 1,
                    8: 1,
                    46: 1
                };
                return function(n) {
                    var i = n.data.getKeystroke();
                    if (e[i]) {
                        var o = t.getSelection().getRanges(),
                            a = o[0];
                        1 == o.length && a.collapsed && (i = a[38 > i ? "getPreviousEditableNode" : "getNextEditableNode"]()) && i.type == CKEDITOR.NODE_ELEMENT && "false" == i.getAttribute("contenteditable") && (t.getSelection().fake(i), n.data.preventDefault(), n.cancel())
                    }
                }
            }
            function p(t) {
                for (var e = 0; e < t.length; e++) {
                    var n = t[e];
                    if (n.getCommonAncestor().isReadOnly() && t.splice(e, 1), !n.collapsed) {
                        if (n.startContainer.isReadOnly())
                            for (var i = n.startContainer, o; i && !((o = i.type == CKEDITOR.NODE_ELEMENT) && i.is("body") || !i.isReadOnly());)
                                o && "false" == i.getAttribute("contentEditable") && n.setStartAfter(i), i = i.getParent();
                        i = n.startContainer, o = n.endContainer;
                        var a = n.startOffset,
                            s = n.endOffset,
                            r = n.clone();
                        i && i.type == CKEDITOR.NODE_TEXT && (a >= i.getLength() ? r.setStartAfter(i) : r.setStartBefore(i)), o && o.type == CKEDITOR.NODE_TEXT && (s ? r.setEndAfter(o) : r.setEndBefore(o)), i = new CKEDITOR.dom.walker(r), i.evaluator = function(i) {
                            if (i.type == CKEDITOR.NODE_ELEMENT && i.isReadOnly()) {
                                var o = n.clone();
                                return n.setEndBefore(i), n.collapsed && t.splice(e--, 1), i.getPosition(r.endContainer) & CKEDITOR.POSITION_CONTAINS || (o.setStartAfter(i), o.collapsed || t.splice(e + 1, 0, o)), !0
                            }
                            return !1
                        }, i.next()
                    }
                }
                return t
            }
            var m = "function" != typeof window.getSelection,
                g = 1,
                v = CKEDITOR.tools.repeat("\u200b", 7),
                b = new RegExp(v + "( )?", "g"),
                E,
                y,
                T,
                C = CKEDITOR.dom.walker.invisible(1),
                _ = function() {
                    function t(t) {
                        return function(e) {
                            var n = e.editor.createRange();
                            return n.moveToClosestEditablePosition(e.selected, t) && e.editor.getSelection().selectRanges([n]), !1
                        }
                    }
                    function e(t) {
                        return function(e) {
                            var n = e.editor,
                                i = n.createRange(),
                                o;
                            return (o = i.moveToClosestEditablePosition(e.selected, t)) || (o = i.moveToClosestEditablePosition(e.selected, !t)), o && n.getSelection().selectRanges([i]), n.fire("saveSnapshot"), e.selected.remove(), o || (i.moveToElementEditablePosition(n.editable()), n.getSelection().selectRanges([i])), n.fire("saveSnapshot"), !1
                        }
                    }
                    var n = t(),
                        i = t(1);
                    return {
                        37: n,
                        38: n,
                        39: i,
                        40: i,
                        8: e(),
                        46: e(1)
                    }
                }();
            CKEDITOR.on("instanceCreated", function(t) {
                function e() {
                    var t = n.getSelection();
                    t && t.removeAllRanges()
                }
                var n = t.editor;
                n.on("contentDom", function() {
                    function t() {
                        g = new CKEDITOR.dom.selection(n.getSelection()), g.lock()
                    }
                    function e() {
                        r.removeListener("mouseup", e), d.removeListener("mouseup", e);
                        var t = CKEDITOR.document.$.selection,
                            n = t.createRange();
                        "None" != t.type && n.parentElement().ownerDocument == s.$ && n.select()
                    }
                    function i(t) {
                        if (CKEDITOR.env.ie) {
                            var e = (t = t.getRanges()[0]) ? t.startContainer.getAscendant(function(t) {
                                return t.type == CKEDITOR.NODE_ELEMENT && ("false" == t.getAttribute("contenteditable") || "true" == t.getAttribute("contenteditable"))
                            }, !0) : null;
                            return t && "false" == e.getAttribute("contenteditable") && e
                        }
                    }
                    var s = n.document,
                        r = CKEDITOR.document,
                        l = n.editable(),
                        c = s.getBody(),
                        d = s.getDocumentElement(),
                        h = l.isInline(),
                        p,
                        g;
                    if (CKEDITOR.env.gecko && l.attachListener(l, "focus", function(t) {
                        t.removeListener(), 0 !== p && (t = n.getSelection().getNative()) && t.isCollapsed && t.anchorNode == l.$ && (t = n.createRange(), t.moveToElementEditStart(l), t.select())
                    }, null, null, -2), l.attachListener(l, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                        p && CKEDITOR.env.webkit && (p = n._.previousActive && n._.previousActive.equals(s.getActive())) && null != n._.previousScrollTop && n._.previousScrollTop != l.$.scrollTop && (l.$.scrollTop = n._.previousScrollTop), n.unlockSelection(p), p = 0
                    }, null, null, -1), l.attachListener(l, "mousedown", function() {
                        p = 0
                    }), (CKEDITOR.env.ie || h) && (m ? l.attachListener(l, "beforedeactivate", t, null, null, -1) : l.attachListener(n, "selectionCheck", t, null, null, -1), l.attachListener(l, CKEDITOR.env.webkit ? "DOMFocusOut" : "blur", function() {
                        n.lockSelection(g), p = 1
                    }, null, null, -1), l.attachListener(l, "mousedown", function() {
                        p = 0
                    })), CKEDITOR.env.ie && !h) {
                        var v;
                        if (l.attachListener(l, "mousedown", function(t) {
                            2 == t.data.$.button && ((t = n.document.getSelection()) && t.getType() != CKEDITOR.SELECTION_NONE || (v = n.window.getScrollPosition()))
                        }), l.attachListener(l, "mouseup", function(t) {
                            2 == t.data.$.button && v && (n.document.$.documentElement.scrollLeft = v.x, n.document.$.documentElement.scrollTop = v.y), v = null
                        }), "BackCompat" != s.$.compatMode) {
                            if (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) {
                                var b,
                                    E;
                                d.on("mousedown", function(t) {
                                    function e(t) {
                                        if (t = t.data.$, b) {
                                            var e = c.$.createTextRange();
                                            try {
                                                e.moveToPoint(t.clientX, t.clientY)
                                            } catch (t) {}
                                            b.setEndPoint(0 > E.compareEndPoints("StartToStart", e) ? "EndToEnd" : "StartToStart", e), b.select()
                                        }
                                    }
                                    function n() {
                                        d.removeListener("mousemove", e), r.removeListener("mouseup", n), d.removeListener("mouseup", n), b.select()
                                    }
                                    if (t = t.data, t.getTarget().is("html") && t.$.y < d.$.clientHeight && t.$.x < d.$.clientWidth) {
                                        b = c.$.createTextRange();
                                        try {
                                            b.moveToPoint(t.$.clientX, t.$.clientY)
                                        } catch (t) {}
                                        E = b.duplicate(), d.on("mousemove", e), r.on("mouseup", n), d.on("mouseup", n)
                                    }
                                })
                            }
                            7 < CKEDITOR.env.version && 11 > CKEDITOR.env.version && d.on("mousedown", function(t) {
                                t.data.getTarget().is("html") && (r.on("mouseup", e), d.on("mouseup", e))
                            })
                        }
                    }
                    if (l.attachListener(l, "selectionchange", o, n), l.attachListener(l, "keyup", a, n), l.attachListener(l, "keydown", function(t) {
                        var e = this.getSelection(1);
                        i(e) && (e.selectElement(i(e)), t.data.preventDefault())
                    }, n), l.attachListener(l, CKEDITOR.env.webkit ? "DOMFocusIn" : "focus", function() {
                        n.forceNextSelectionCheck(), n.selectionChange(1)
                    }), h && (CKEDITOR.env.webkit || CKEDITOR.env.gecko)) {
                        var y;
                        l.attachListener(l, "mousedown", function() {
                            y = 1
                        }), l.attachListener(s.getDocumentElement(), "mouseup", function() {
                            y && a.call(n), y = 0
                        })
                    } else
                        l.attachListener(CKEDITOR.env.ie ? l : s.getDocumentElement(), "mouseup", a, n);
                    CKEDITOR.env.webkit && l.attachListener(s, "keydown", function(t) {
                        switch (t.data.getKey()) {
                        case 13:
                        case 33:
                        case 34:
                        case 35:
                        case 36:
                        case 37:
                        case 39:
                        case 8:
                        case 45:
                        case 46:
                            l.hasFocus && u(l)
                        }
                    }, null, null, -1), l.attachListener(l, "keydown", f(n), null, null, -1)
                }), n.on("setData", function() {
                    n.unlockSelection(), CKEDITOR.env.webkit && e()
                }), n.on("contentDomUnload", function() {
                    n.unlockSelection()
                }), CKEDITOR.env.ie9Compat && n.on("beforeDestroy", e, null, null, 9), n.on("dataReady", function() {
                    delete n._.fakeSelection, delete n._.hiddenSelectionContainer, n.selectionChange(1)
                }), n.on("loadSnapshot", function() {
                    var t = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT),
                        e = n.editable().getLast(t);
                    e && e.hasAttribute("data-cke-hidden-sel") && (e.remove(), CKEDITOR.env.gecko && (t = n.editable().getFirst(t)) && t.is("br") && t.getAttribute("_moz_editor_bogus_node") && t.remove())
                }, null, null, 100), n.on("key", function(t) {
                    if ("wysiwyg" == n.mode) {
                        var e = n.getSelection();
                        if (e.isFake) {
                            var i = _[t.data.keyCode];
                            if (i)
                                return i({
                                    editor: n,
                                    selected: e.getSelectedElement(),
                                    selection: e,
                                    keyEvent: t
                                })
                        }
                    }
                })
            }), CKEDITOR.env.webkit && CKEDITOR.on("instanceReady", function(t) {
                var e = t.editor;
                e.on("selectionChange", function() {
                    var t = e.editable(),
                        n = t.getCustomData("cke-fillingChar");
                    n && (n.getCustomData("ready") ? (u(t), t.editor.fire("selectionCheck")) : n.setCustomData("ready", 1))
                }, null, null, -1), e.on("beforeSetMode", function() {
                    u(e.editable())
                }, null, null, -1), e.on("getSnapshot", function(t) {
                    t.data && (t.data = d(t.data))
                }, e, null, 20), e.on("toDataFormat", function(t) {
                    t.data.dataValue = d(t.data.dataValue)
                }, null, null, 0)
            }), CKEDITOR.editor.prototype.selectionChange = function(t) {
                (t ? o : a).call(this)
            }, CKEDITOR.editor.prototype.getSelection = function(t) {
                return !this._.savedSelection && !this._.fakeSelection || t ? (t = this.editable()) && "wysiwyg" == this.mode ? new CKEDITOR.dom.selection(t) : null : this._.savedSelection || this._.fakeSelection
            }, CKEDITOR.editor.prototype.lockSelection = function(t) {
                return t = t || this.getSelection(1), t.getType() != CKEDITOR.SELECTION_NONE && (!t.isLocked && t.lock(), this._.savedSelection = t, !0)
            }, CKEDITOR.editor.prototype.unlockSelection = function(t) {
                var e = this._.savedSelection;
                return !!e && (e.unlock(t), delete this._.savedSelection, !0)
            }, CKEDITOR.editor.prototype.forceNextSelectionCheck = function() {
                delete this._.selectionPreviousPath
            }, CKEDITOR.dom.document.prototype.getSelection = function() {
                return new CKEDITOR.dom.selection(this)
            }, CKEDITOR.dom.range.prototype.select = function() {
                var t = this.root instanceof CKEDITOR.editable ? this.root.editor.getSelection() : new CKEDITOR.dom.selection(this.root);
                return t.selectRanges([this]), t
            }, CKEDITOR.SELECTION_NONE = 1, CKEDITOR.SELECTION_TEXT = 2, CKEDITOR.SELECTION_ELEMENT = 3, CKEDITOR.dom.selection = function(t) {
                if (t instanceof CKEDITOR.dom.selection) {
                    var e = t;
                    t = t.root
                }
                var n = t instanceof CKEDITOR.dom.element;
                if (this.rev = e ? e.rev : g++, this.document = t instanceof CKEDITOR.dom.document ? t : t.getDocument(), this.root = n ? t : this.document.getBody(), this.isLocked = 0, this._ = {
                    cache: {}
                }, e)
                    return CKEDITOR.tools.extend(this._.cache, e._.cache), this.isFake = e.isFake, this.isLocked = e.isLocked, this;
                t = this.getNative();
                var i,
                    o;
                if (t)
                    if (t.getRangeAt)
                        i = (o = t.rangeCount && t.getRangeAt(0)) && new CKEDITOR.dom.node(o.commonAncestorContainer);
                    else {
                        try {
                            o = t.createRange()
                        } catch (t) {}
                        i = o && CKEDITOR.dom.element.get(o.item && o.item(0) || o.parentElement())
                    }
                return (!i || i.type != CKEDITOR.NODE_ELEMENT && i.type != CKEDITOR.NODE_TEXT || !this.root.equals(i) && !this.root.contains(i)) && (this._.cache.type = CKEDITOR.SELECTION_NONE, this._.cache.startElement = null, this._.cache.selectedElement = null, this._.cache.selectedText = "", this._.cache.ranges = new CKEDITOR.dom.rangeList), this
            };
            var D = {
                img: 1,
                hr: 1,
                li: 1,
                table: 1,
                tr: 1,
                td: 1,
                th: 1,
                embed: 1,
                object: 1,
                ol: 1,
                ul: 1,
                a: 1,
                input: 1,
                form: 1,
                select: 1,
                textarea: 1,
                button: 1,
                fieldset: 1,
                thead: 1,
                tfoot: 1
            };
            CKEDITOR.tools.extend(CKEDITOR.dom.selection, {
                _removeFillingCharSequenceString: d,
                _createFillingCharSequenceNode: c,
                FILLING_CHAR_SEQUENCE: v
            }), CKEDITOR.dom.selection.prototype = {
                getNative: function() {
                    return void 0 !== this._.cache.nativeSel ? this._.cache.nativeSel : this._.cache.nativeSel = m ? this.document.$.selection : this.document.getWindow().$.getSelection()
                },
                getType: m ? function() {
                    var t = this._.cache;
                    if (t.type)
                        return t.type;
                    var e = CKEDITOR.SELECTION_NONE;
                    try {
                        var n = this.getNative(),
                            i = n.type;
                        "Text" == i && (e = CKEDITOR.SELECTION_TEXT), "Control" == i && (e = CKEDITOR.SELECTION_ELEMENT), n.createRange().parentElement() && (e = CKEDITOR.SELECTION_TEXT)
                    } catch (t) {}
                    return t.type = e
                } : function() {
                    var t = this._.cache;
                    if (t.type)
                        return t.type;
                    var e = CKEDITOR.SELECTION_TEXT,
                        n = this.getNative();
                    if (n && n.rangeCount) {
                        if (1 == n.rangeCount) {
                            var n = n.getRangeAt(0),
                                i = n.startContainer;
                            i == n.endContainer && 1 == i.nodeType && 1 == n.endOffset - n.startOffset && D[i.childNodes[n.startOffset].nodeName.toLowerCase()] && (e = CKEDITOR.SELECTION_ELEMENT)
                        }
                    } else
                        e = CKEDITOR.SELECTION_NONE;
                    return t.type = e
                },
                getRanges: function() {
                    var t = m ? function() {
                        function t(t) {
                            return new CKEDITOR.dom.node(t).getIndex()
                        }
                        var e = function(e, n) {
                            e = e.duplicate(), e.collapse(n);
                            var i = e.parentElement();
                            if (!i.hasChildNodes())
                                return {
                                    container: i,
                                    offset: 0
                                };
                            for (var o = i.children, a, s, r = e.duplicate(), l = 0, c = o.length - 1, u = -1, d, h; l <= c;)
                                if (u = Math.floor((l + c) / 2), a = o[u], r.moveToElementText(a), 0 < (d = r.compareEndPoints("StartToStart", e)))
                                    c = u - 1;
                                else {
                                    if (!(0 > d))
                                        return {
                                            container: i,
                                            offset: t(a)
                                        };
                                    l = u + 1
                                }
                            if (-1 == u || u == o.length - 1 && 0 > d) {
                                if (r.moveToElementText(i), r.setEndPoint("StartToStart", e), r = r.text.replace(/(\r\n|\r)/g, "\n").length, o = i.childNodes, !r)
                                    return a = o[o.length - 1], a.nodeType != CKEDITOR.NODE_TEXT ? {
                                        container: i,
                                        offset: o.length
                                    } : {
                                        container: a,
                                        offset: a.nodeValue.length
                                    };
                                for (i = o.length; 0 < r && 0 < i;)
                                    s = o[--i], s.nodeType == CKEDITOR.NODE_TEXT && (h = s, r -= s.nodeValue.length);
                                return {
                                    container: h,
                                    offset: -r
                                }
                            }
                            if (r.collapse(0 < d), r.setEndPoint(0 < d ? "StartToStart" : "EndToStart", e), !(r = r.text.replace(/(\r\n|\r)/g, "\n").length))
                                return {
                                    container: i,
                                    offset: t(a) + (0 < d ? 0 : 1)
                                };
                            for (; 0 < r;)
                                try {
                                    s = a[0 < d ? "previousSibling" : "nextSibling"], s.nodeType == CKEDITOR.NODE_TEXT && (r -= s.nodeValue.length, h = s), a = s
                                } catch (e) {
                                    return {
                                        container: i,
                                        offset: t(a)
                                    }
                                }
                            return {
                                container: h,
                                offset: 0 < d ? -r : h.nodeValue.length + r
                            }
                        };
                        return function() {
                            var t = this.getNative(),
                                n = t && t.createRange(),
                                i = this.getType();
                            if (!t)
                                return [];
                            if (i == CKEDITOR.SELECTION_TEXT)
                                return t = new CKEDITOR.dom.range(this.root), i = e(n, !0), t.setStart(new CKEDITOR.dom.node(i.container), i.offset), i = e(n), t.setEnd(new CKEDITOR.dom.node(i.container), i.offset), t.endContainer.getPosition(t.startContainer) & CKEDITOR.POSITION_PRECEDING && t.endOffset <= t.startContainer.getIndex() && t.collapse(), [t];
                            if (i == CKEDITOR.SELECTION_ELEMENT) {
                                for (var i = [], o = 0; o < n.length; o++) {
                                    for (var a = n.item(o), s = a.parentNode, r = 0, t = new CKEDITOR.dom.range(this.root); r < s.childNodes.length && s.childNodes[r] != a; r++)
                                        ;
                                    t.setStart(new CKEDITOR.dom.node(s), r), t.setEnd(new CKEDITOR.dom.node(s), r + 1), i.push(t)
                                }
                                return i
                            }
                            return []
                        }
                    }() : function() {
                        var t = [],
                            e,
                            n = this.getNative();
                        if (!n)
                            return t;
                        for (var i = 0; i < n.rangeCount; i++) {
                            var o = n.getRangeAt(i);
                            e = new CKEDITOR.dom.range(this.root), e.setStart(new CKEDITOR.dom.node(o.startContainer), o.startOffset), e.setEnd(new CKEDITOR.dom.node(o.endContainer), o.endOffset), t.push(e)
                        }
                        return t
                    };
                    return function(e) {
                        var n = this._.cache,
                            i = n.ranges;
                        return i || (n.ranges = i = new CKEDITOR.dom.rangeList(t.call(this))), e ? p(new CKEDITOR.dom.rangeList(i.slice())) : i
                    }
                }(),
                getStartElement: function() {
                    var t = this._.cache;
                    if (void 0 !== t.startElement)
                        return t.startElement;
                    var e;
                    switch (this.getType()) {
                    case CKEDITOR.SELECTION_ELEMENT:
                        return this.getSelectedElement();
                    case CKEDITOR.SELECTION_TEXT:
                        var n = this.getRanges()[0];
                        if (n) {
                            if (n.collapsed)
                                e = n.startContainer, e.type != CKEDITOR.NODE_ELEMENT && (e = e.getParent());
                            else {
                                for (n.optimize(); e = n.startContainer, n.startOffset == (e.getChildCount ? e.getChildCount() : e.getLength()) && !e.isBlockBoundary();)
                                    n.setStartAfter(e);
                                if (e = n.startContainer, e.type != CKEDITOR.NODE_ELEMENT)
                                    return e.getParent();
                                if ((e = e.getChild(n.startOffset)) && e.type == CKEDITOR.NODE_ELEMENT)
                                    for (n = e.getFirst(); n && n.type == CKEDITOR.NODE_ELEMENT;)
                                        e = n, n = n.getFirst();
                                else
                                    e = n.startContainer
                            }
                            e = e.$
                        }
                    }
                    return t.startElement = e ? new CKEDITOR.dom.element(e) : null
                },
                getSelectedElement: function() {
                    var t = this._.cache;
                    if (void 0 !== t.selectedElement)
                        return t.selectedElement;
                    var e = this,
                        n = CKEDITOR.tools.tryThese(function() {
                            return e.getNative().createRange().item(0)
                        }, function() {
                            for (var t = e.getRanges()[0].clone(), n, i, o = 2; o && !((n = t.getEnclosedNode()) && n.type == CKEDITOR.NODE_ELEMENT && D[n.getName()] && (i = n)); o--)
                                t.shrink(CKEDITOR.SHRINK_ELEMENT);
                            return i && i.$
                        });
                    return t.selectedElement = n ? new CKEDITOR.dom.element(n) : null
                },
                getSelectedText: function() {
                    var t = this._.cache;
                    if (void 0 !== t.selectedText)
                        return t.selectedText;
                    var e = this.getNative(),
                        e = m ? "Control" == e.type ? "" : e.createRange().text : e.toString();
                    return t.selectedText = e
                },
                lock: function() {
                    this.getRanges(), this.getStartElement(), this.getSelectedElement(), this.getSelectedText(), this._.cache.nativeSel = null, this.isLocked = 1
                },
                unlock: function(e) {
                    if (this.isLocked) {
                        if (e)
                            var n = this.getSelectedElement(),
                                o = this.getRanges(),
                                a = this.isFake;
                        this.isLocked = 0, this.reset(), e && (e = n || o[0] && o[0].getCommonAncestor()) && e.getAscendant("body", 1) && (t(o) ? i.call(this, o) : a ? this.fake(n) : n ? this.selectElement(n) : this.selectRanges(o))
                    }
                },
                reset: function() {
                    this._.cache = {}, this.isFake = 0;
                    var t = this.root.editor;
                    if (t && t._.fakeSelection)
                        if (this.rev == t._.fakeSelection.rev) {
                            delete t._.fakeSelection;
                            var e = t._.hiddenSelectionContainer;
                            if (e) {
                                var n = t.checkDirty();
                                t.fire("lockSnapshot"), e.remove(), t.fire("unlockSnapshot"), !n && t.resetDirty()
                            }
                            delete t._.hiddenSelectionContainer
                        } else
                            CKEDITOR.warn("selection-fake-reset");
                    this.rev = g++
                },
                selectElement: function(t) {
                    var e = new CKEDITOR.dom.range(this.root);
                    e.setStartBefore(t), e.setEndAfter(t), this.selectRanges([e])
                },
                selectRanges: function(e) {
                    var n = this.root.editor,
                        o = n && n._.hiddenSelectionContainer;
                    if (this.reset(), o)
                        for (var o = this.root, a, s = 0; s < e.length; ++s)
                            a = e[s], a.endContainer.equals(o) && (a.endOffset = Math.min(a.endOffset, o.getChildCount()));
                    if (e.length)
                        if (this.isLocked) {
                            var r = CKEDITOR.document.getActive();
                            this.unlock(), this.selectRanges(e), this.lock(), r && !r.equals(this.root) && r.focus()
                        } else {
                            var d,
                                h,
                                f;
                            if (1 == e.length && !(f = e[0]).collapsed && (d = f.getEnclosedNode()) && d.type == CKEDITOR.NODE_ELEMENT && (f = f.clone(), f.shrink(CKEDITOR.SHRINK_ELEMENT, !0), (h = f.getEnclosedNode()) && h.type == CKEDITOR.NODE_ELEMENT && (d = h), "false" == d.getAttribute("contenteditable")) || (d = void 0), d)
                                this.fake(d);
                            else if (n && n.plugins.tableselection && CKEDITOR.plugins.tableselection.isSupportedEnvironment && t(e) && !E)
                                i.call(this, e);
                            else {
                                if (m) {
                                    h = CKEDITOR.dom.walker.whitespaces(!0), d = /\ufeff|\u00a0/, f = {
                                        table: 1,
                                        tbody: 1,
                                        tr: 1
                                    }, 1 < e.length && (n = e[e.length - 1], e[0].setEnd(n.endContainer, n.endOffset)), n = e[0], e = n.collapsed;
                                    var p,
                                        g,
                                        v;
                                    if ((o = n.getEnclosedNode()) && o.type == CKEDITOR.NODE_ELEMENT && o.getName() in D && (!o.is("a") || !o.getText()))
                                        try {
                                            return v = o.$.createControlRange(), v.addElement(o.$), void v.select()
                                        } catch (t) {}
                                    (n.startContainer.type == CKEDITOR.NODE_ELEMENT && n.startContainer.getName() in f || n.endContainer.type == CKEDITOR.NODE_ELEMENT && n.endContainer.getName() in f) && (n.shrink(CKEDITOR.NODE_ELEMENT, !0), e = n.collapsed), v = n.createBookmark(), f = v.startNode, e || (r = v.endNode), v = n.document.$.body.createTextRange(), v.moveToElementText(f.$), v.moveStart("character", 1), r ? (d = n.document.$.body.createTextRange(), d.moveToElementText(r.$), v.setEndPoint("EndToEnd", d), v.moveEnd("character", -1)) : (p = f.getNext(h), g = f.hasAscendant("pre"), p = !(p && p.getText && p.getText().match(d)) && (g || !f.hasPrevious() || f.getPrevious().is && f.getPrevious().is("br")), g = n.document.createElement("span"), g.setHtml("&#65279;"), g.insertBefore(f), p && n.document.createText("\ufeff").insertBefore(f)), n.setStartBefore(f), f.remove(), e ? (p ? (v.moveStart("character", -1), v.select(), n.document.$.selection.clear()) : v.select(), n.moveToPosition(g, CKEDITOR.POSITION_BEFORE_START), g.remove()) : (n.setEndBefore(r), r.remove(), v.select())
                                } else {
                                    if (!(r = this.getNative()))
                                        return;
                                    for (this.removeAllRanges(), v = 0; v < e.length; v++)
                                        if (v < e.length - 1 && (p = e[v], g = e[v + 1], d = p.clone(), d.setStart(p.endContainer, p.endOffset), d.setEnd(g.startContainer, g.startOffset), !d.collapsed && (d.shrink(CKEDITOR.NODE_ELEMENT, !0), n = d.getCommonAncestor(), d = d.getEnclosedNode(), n.isReadOnly() || d && d.isReadOnly())))
                                            g.setStart(p.startContainer, p.startOffset), e.splice(v--, 1);
                                        else {
                                            n = e[v], g = this.document.$.createRange(), n.collapsed && CKEDITOR.env.webkit && l(n) && (d = c(this.root), n.insertNode(d), (p = d.getNext()) && !d.getPrevious() && p.type == CKEDITOR.NODE_ELEMENT && "br" == p.getName() ? (u(this.root), n.moveToPosition(p, CKEDITOR.POSITION_BEFORE_START)) : n.moveToPosition(d, CKEDITOR.POSITION_AFTER_END)), g.setStart(n.startContainer.$, n.startOffset);
                                            try {
                                                g.setEnd(n.endContainer.$, n.endOffset)
                                            } catch (t) {
                                                if (!(0 <= t.toString().indexOf("NS_ERROR_ILLEGAL_VALUE")))
                                                    throw t;
                                                n.collapse(1), g.setEnd(n.endContainer.$, n.endOffset)
                                            }
                                            r.addRange(g)
                                        }
                                }
                                this.reset(), this.root.fire("selectionchange")
                            }
                        }
                },
                fake: function(t, e) {
                    var n = this.root.editor;
                    void 0 === e && t.hasAttribute("aria-label") && (e = t.getAttribute("aria-label")), this.reset(), h(n, e);
                    var i = this._.cache,
                        o = new CKEDITOR.dom.range(this.root);
                    o.setStartBefore(t), o.setEndAfter(t), i.ranges = new CKEDITOR.dom.rangeList(o), i.selectedElement = i.startElement = t, i.type = CKEDITOR.SELECTION_ELEMENT, i.selectedText = i.nativeSel = null, this.isFake = 1, this.rev = g++, n._.fakeSelection = this, this.root.fire("selectionchange")
                },
                isHidden: function() {
                    var t = this.getCommonAncestor();
                    return t && t.type == CKEDITOR.NODE_TEXT && (t = t.getParent()), !(!t || !t.data("cke-hidden-sel"))
                },
                isInTable: function() {
                    return t(this.getRanges())
                },
                createBookmarks: function(t) {
                    return t = this.getRanges().createBookmarks(t), this.isFake && (t.isFake = 1), t
                },
                createBookmarks2: function(t) {
                    return t = this.getRanges().createBookmarks2(t), this.isFake && (t.isFake = 1), t
                },
                selectBookmarks: function(e) {
                    for (var n = [], i, o = 0; o < e.length; o++) {
                        var a = new CKEDITOR.dom.range(this.root);
                        a.moveToBookmark(e[o]), n.push(a)
                    }
                    return e.isFake && ((i = t(n) ? n[0]._getTableElement() : n[0].getEnclosedNode()) && i.type == CKEDITOR.NODE_ELEMENT || (CKEDITOR.warn("selection-not-fake"), e.isFake = 0)), e.isFake && !t(n) ? this.fake(i) : this.selectRanges(n), this
                },
                getCommonAncestor: function() {
                    var t = this.getRanges();
                    return t.length ? t[0].startContainer.getCommonAncestor(t[t.length - 1].endContainer) : null
                },
                scrollIntoView: function() {
                    this.type != CKEDITOR.SELECTION_NONE && this.getRanges()[0].scrollIntoView()
                },
                removeAllRanges: function() {
                    if (this.getType() != CKEDITOR.SELECTION_NONE) {
                        var t = this.getNative();
                        try {
                            t && t[m ? "empty" : "removeAllRanges"]()
                        } catch (t) {}
                        this.reset()
                    }
                }
            }
        }(), CKEDITOR.STYLE_BLOCK = 1, CKEDITOR.STYLE_INLINE = 2, CKEDITOR.STYLE_OBJECT = 3, function() {
            function t(t, e) {
                for (var n, i; (t = t.getParent()) && !t.equals(e);)
                    if (t.getAttribute("data-nostyle"))
                        n = t;
                    else if (!i) {
                        var o = t.getAttribute("contentEditable");
                        "false" == o ? n = t : "true" == o && (i = 1)
                    }
                return n
            }
            function e(t, e, n, i) {
                return (t.getPosition(e) | i) == i && (!n.childRule || n.childRule(t))
            }
            function n(i) {
                var a = i.document;
                if (i.collapsed)
                    a = v(this, a), i.insertNode(a), i.moveToPosition(a, CKEDITOR.POSITION_BEFORE_END);
                else {
                    var s = this.element,
                        r = this._.definition,
                        l,
                        c = r.ignoreReadonly,
                        u = c || r.includeReadonly;
                    null == u && (u = i.root.getCustomData("cke_includeReadonly"));
                    var d = CKEDITOR.dtd[s];
                    d || (l = !0, d = CKEDITOR.dtd.span), i.enlarge(CKEDITOR.ENLARGE_INLINE, 1), i.trim();
                    var h = i.createBookmark(),
                        f = h.startNode,
                        m = h.endNode,
                        g = f,
                        b;
                    if (!c) {
                        var E = i.getCommonAncestor(),
                            c = t(f, E),
                            E = t(m, E);
                        c && (g = c.getNextSourceNode(!0)), E && (m = E)
                    }
                    for (g.getPosition(m) == CKEDITOR.POSITION_FOLLOWING && (g = 0); g;) {
                        if (c = !1, g.equals(m))
                            g = null, c = !0;
                        else {
                            var y = g.type == CKEDITOR.NODE_ELEMENT ? g.getName() : null,
                                E = y && "false" == g.getAttribute("contentEditable"),
                                T = y && g.getAttribute("data-nostyle");
                            if (y && g.data("cke-bookmark")) {
                                g = g.getNextSourceNode(!0);
                                continue
                            }
                            if (E && u && CKEDITOR.dtd.$block[y])
                                for (var C = g, _ = o(C), D = void 0, I = _.length, O = 0, C = I && new CKEDITOR.dom.range(C.getDocument()); O < I; ++O) {
                                    var D = _[O],
                                        R = CKEDITOR.filter.instances[D.data("cke-filter")];
                                    (R ? R.check(this) : 1) && (C.selectNodeContents(D), n.call(this, C))
                                }
                            if (_ = y ? !d[y] || T ? 0 : E && !u ? 0 : e(g, m, r, x) : 1) {
                                if (D = g.getParent(), _ = r, I = s, O = l, !D || !(D.getDtd() || CKEDITOR.dtd.span)[I] && !O || _.parentRule && !_.parentRule(D))
                                    c = !0;
                                else if (b || y && CKEDITOR.dtd.$removeEmpty[y] && (g.getPosition(m) | x) != x || (b = i.clone(), b.setStartBefore(g)), (y = g.type) == CKEDITOR.NODE_TEXT || E || y == CKEDITOR.NODE_ELEMENT && !g.getChildCount()) {
                                    for (var y = g, w; (c = !y.getNext(k)) && (w = y.getParent(), d[w.getName()]) && e(w, f, r, S);)
                                        y = w;
                                    b.setEndAfter(y)
                                }
                            } else
                                c = !0;
                            g = g.getNextSourceNode(T || E)
                        }
                        if (c && b && !b.collapsed) {
                            for (var c = v(this, a), E = c.hasAttributes(), T = b.getCommonAncestor(), y = {}, _ = {}, D = {}, I = {}, K, N, A; c && T;) {
                                if (T.getName() == s) {
                                    for (K in r.attributes)
                                        !I[K] && (A = T.getAttribute(N)) && (c.getAttribute(K) == A ? _[K] = 1 : I[K] = 1);
                                    for (N in r.styles)
                                        !D[N] && (A = T.getStyle(N)) && (c.getStyle(N) == A ? y[N] = 1 : D[N] = 1)
                                }
                                T = T.getParent()
                            }
                            for (K in _)
                                c.removeAttribute(K);
                            for (N in y)
                                c.removeStyle(N);
                            E && !c.hasAttributes() && (c = null), c ? (b.extractContents().appendTo(c), b.insertNode(c), p.call(this, c), c.mergeSiblings(), CKEDITOR.env.ie || c.$.normalize()) : (c = new CKEDITOR.dom.element("span"), b.extractContents().appendTo(c), b.insertNode(c), p.call(this, c), c.remove(!0)), b = null
                        }
                    }
                    i.moveToBookmark(h), i.shrink(CKEDITOR.SHRINK_TEXT), i.shrink(CKEDITOR.NODE_ELEMENT, !0)
                }
            }
            function i(t) {
                function e() {
                    for (var t = new CKEDITOR.dom.elementPath(i.getParent()), e = new CKEDITOR.dom.elementPath(u.getParent()), n = null, o = null, a = 0; a < t.elements.length; a++) {
                        var s = t.elements[a];
                        if (s == t.block || s == t.blockLimit)
                            break;
                        d.checkElementRemovable(s, !0) && (n = s)
                    }
                    for (a = 0; a < e.elements.length && ((s = e.elements[a]) != e.block && s != e.blockLimit); a++)
                        d.checkElementRemovable(s, !0) && (o = s);
                    o && u.breakParent(o), n && i.breakParent(n)
                }
                t.enlarge(CKEDITOR.ENLARGE_INLINE, 1);
                var n = t.createBookmark(),
                    i = n.startNode,
                    o = this._.definition.alwaysRemoveElement;
                if (t.collapsed) {
                    for (var a = new CKEDITOR.dom.elementPath(i.getParent(), t.root), s, r = 0, l; r < a.elements.length && (l = a.elements[r]) && l != a.block && l != a.blockLimit; r++)
                        if (this.checkElementRemovable(l)) {
                            var c;
                            !o && t.collapsed && (t.checkBoundaryOfElement(l, CKEDITOR.END) || (c = t.checkBoundaryOfElement(l, CKEDITOR.START))) ? (s = l, s.match = c ? "start" : "end") : (l.mergeSiblings(), l.is(this.element) ? f.call(this, l) : m(l, y(this)[l.getName()]))
                        }
                    if (s) {
                        for (o = i, r = 0; l = a.elements[r], !l.equals(s); r++)
                            l.match || (l = l.clone(), l.append(o), o = l);
                        o["start" == s.match ? "insertBefore" : "insertAfter"](s)
                    }
                } else {
                    var u = n.endNode,
                        d = this;
                    for (e(), a = i; !a.equals(u);)
                        s = a.getNextSourceNode(), a.type == CKEDITOR.NODE_ELEMENT && this.checkElementRemovable(a) && (a.getName() == this.element ? f.call(this, a) : m(a, y(this)[a.getName()]), s.type == CKEDITOR.NODE_ELEMENT && s.contains(i) && (e(), s = i.getNext())), a = s
                }
                t.moveToBookmark(n), t.shrink(CKEDITOR.NODE_ELEMENT, !0)
            }
            function o(t) {
                var e = [];
                return t.forEach(function(t) {
                    if ("true" == t.getAttribute("contenteditable"))
                        return e.push(t), !1
                }, CKEDITOR.NODE_ELEMENT, !0), e
            }
            function a(t) {
                var e = t.getEnclosedNode() || t.getCommonAncestor(!1, !0);
                (t = new CKEDITOR.dom.elementPath(e, t.root).contains(this.element, 1)) && !t.isReadOnly() && b(t, this)
            }
            function s(t) {
                var e = t.getCommonAncestor(!0, !0);
                if (t = new CKEDITOR.dom.elementPath(e, t.root).contains(this.element, 1)) {
                    var e = this._.definition,
                        n = e.attributes;
                    if (n)
                        for (var i in n)
                            t.removeAttribute(i, n[i]);
                    if (e.styles)
                        for (var o in e.styles)
                            e.styles.hasOwnProperty(o) && t.removeStyle(o)
                }
            }
            function r(t) {
                var e = t.createBookmark(!0),
                    n = t.createIterator();
                n.enforceRealBlocks = !0, this._.enterMode && (n.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR);
                for (var i, o = t.document, a; i = n.getNextParagraph();)
                    !i.isReadOnly() && (n.activeFilter ? n.activeFilter.check(this) : 1) && (a = v(this, o, i), c(i, a));
                t.moveToBookmark(e)
            }
            function l(t) {
                var e = t.createBookmark(1),
                    n = t.createIterator();
                n.enforceRealBlocks = !0, n.enlargeBr = this._.enterMode != CKEDITOR.ENTER_BR
                ;
                for (var i, o; i = n.getNextParagraph();)
                    this.checkElementRemovable(i) && (i.is("pre") ? ((o = this._.enterMode == CKEDITOR.ENTER_BR ? null : t.document.createElement(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div")) && i.copyAttributes(o), c(i, o)) : f.call(this, i));
                t.moveToBookmark(e)
            }
            function c(t, e) {
                var n = !e;
                n && (e = t.getDocument().createElement("div"), t.copyAttributes(e));
                var i = e && e.is("pre"),
                    o = t.is("pre"),
                    a = !i && o;
                if (i && !o) {
                    if (o = e, (a = t.getBogus()) && a.remove(), a = t.getHtml(), a = d(a, /(?:^[ \t\n\r]+)|(?:[ \t\n\r]+$)/g, ""), a = a.replace(/[ \t\r\n]*(<br[^>]*>)[ \t\r\n]*/gi, "$1"), a = a.replace(/([ \t\n\r]+|&nbsp;)/g, " "), a = a.replace(/<br\b[^>]*>/gi, "\n"), CKEDITOR.env.ie) {
                        var s = t.getDocument().createElement("div");
                        s.append(o), o.$.outerHTML = "<pre>" + a + "</pre>", o.copyAttributes(s.getFirst()), o = s.getFirst().remove()
                    } else
                        o.setHtml(a);
                    e = o
                } else
                    a ? e = h(n ? [t.getHtml()] : u(t), e) : t.moveChildren(e);
                if (e.replace(t), i) {
                    var n = e,
                        r;
                    (r = n.getPrevious(w)) && r.type == CKEDITOR.NODE_ELEMENT && r.is("pre") && (i = d(r.getHtml(), /\n$/, "") + "\n\n" + d(n.getHtml(), /^\n/, ""), CKEDITOR.env.ie ? n.$.outerHTML = "<pre>" + i + "</pre>" : n.setHtml(i), r.remove())
                } else
                    n && g(e)
            }
            function u(t) {
                var e = [];
                return d(t.getOuterHtml(), /(\S\s*)\n(?:\s|(<span[^>]+data-cke-bookmark.*?\/span>))*\n(?!$)/gi, function(t, e, n) {
                    return e + "</pre>" + n + "<pre>"
                }).replace(/<pre\b.*?>([\s\S]*?)<\/pre>/gi, function(t, n) {
                    e.push(n)
                }), e
            }
            function d(t, e, n) {
                var i = "",
                    o = "";
                return t = t.replace(/(^<span[^>]+data-cke-bookmark.*?\/span>)|(<span[^>]+data-cke-bookmark.*?\/span>$)/gi, function(t, e, n) {
                    return e && (i = e), n && (o = n), ""
                }), i + t.replace(e, n) + o
            }
            function h(t, e) {
                var n;
                1 < t.length && (n = new CKEDITOR.dom.documentFragment(e.getDocument()));
                for (var i = 0; i < t.length; i++) {
                    var o = t[i],
                        o = o.replace(/(\r\n|\r)/g, "\n"),
                        o = d(o, /^[ \t]*\n/, ""),
                        o = d(o, /\n$/, ""),
                        o = d(o, /^[ \t]+|[ \t]+$/g, function(t, e) {
                            return 1 == t.length ? "&nbsp;" : e ? " " + CKEDITOR.tools.repeat("&nbsp;", t.length - 1) : CKEDITOR.tools.repeat("&nbsp;", t.length - 1) + " "
                        }),
                        o = o.replace(/\n/g, "<br>"),
                        o = o.replace(/[ \t]{2,}/g, function(t) {
                            return CKEDITOR.tools.repeat("&nbsp;", t.length - 1) + " "
                        });
                    if (n) {
                        var a = e.clone();
                        a.setHtml(o), n.append(a)
                    } else
                        e.setHtml(o)
                }
                return n || e
            }
            function f(t, e) {
                var n = this._.definition,
                    i = n.attributes,
                    n = n.styles,
                    o = y(this)[t.getName()],
                    a = CKEDITOR.tools.isEmpty(i) && CKEDITOR.tools.isEmpty(n),
                    s;
                for (s in i)
                    ("class" != s && !this._.definition.fullMatch || t.getAttribute(s) == T(s, i[s])) && (e && "data-" == s.slice(0, 5) || (a = t.hasAttribute(s), t.removeAttribute(s)));
                for (var r in n)
                    this._.definition.fullMatch && t.getStyle(r) != T(r, n[r], !0) || (a = a || !!t.getStyle(r), t.removeStyle(r));
                m(t, o, D[t.getName()]), a && (this._.definition.alwaysRemoveElement ? g(t, 1) : !CKEDITOR.dtd.$block[t.getName()] || this._.enterMode == CKEDITOR.ENTER_BR && !t.hasAttributes() ? g(t) : t.renameNode(this._.enterMode == CKEDITOR.ENTER_P ? "p" : "div"))
            }
            function p(t) {
                for (var e = y(this), n = t.getElementsByTag(this.element), i, o = n.count(); 0 <= --o;)
                    i = n.getItem(o), i.isReadOnly() || f.call(this, i, !0);
                for (var a in e)
                    if (a != this.element)
                        for (n = t.getElementsByTag(a), o = n.count() - 1; 0 <= o; o--)
                            i = n.getItem(o), i.isReadOnly() || m(i, e[a])
            }
            function m(t, e, n) {
                if (e = e && e.attributes)
                    for (var i = 0; i < e.length; i++) {
                        var o = e[i][0],
                            a;
                        if (a = t.getAttribute(o)) {
                            var s = e[i][1];
                            (null === s || s.test && s.test(a) || "string" == typeof s && a == s) && t.removeAttribute(o)
                        }
                    }
                n || g(t)
            }
            function g(t, e) {
                if (!t.hasAttributes() || e)
                    if (CKEDITOR.dtd.$block[t.getName()]) {
                        var n = t.getPrevious(w),
                            i = t.getNext(w);
                        !n || n.type != CKEDITOR.NODE_TEXT && n.isBlockBoundary({
                            br: 1
                        }) || t.append("br", 1), !i || i.type != CKEDITOR.NODE_TEXT && i.isBlockBoundary({
                            br: 1
                        }) || t.append("br"), t.remove(!0)
                    } else
                        n = t.getFirst(), i = t.getLast(), t.remove(!0), n && (n.type == CKEDITOR.NODE_ELEMENT && n.mergeSiblings(), i && !n.equals(i) && i.type == CKEDITOR.NODE_ELEMENT && i.mergeSiblings())
            }
            function v(t, e, n) {
                var i;
                return i = t.element, "*" == i && (i = "span"), i = new CKEDITOR.dom.element(i, e), n && n.copyAttributes(i), i = b(i, t), e.getCustomData("doc_processing_style") && i.hasAttribute("id") ? i.removeAttribute("id") : e.setCustomData("doc_processing_style", 1), i
            }
            function b(t, e) {
                var n = e._.definition,
                    i = n.attributes,
                    n = CKEDITOR.style.getStyleText(n);
                if (i)
                    for (var o in i)
                        t.setAttribute(o, i[o]);
                return n && t.setAttribute("style", n), t
            }
            function E(t, e) {
                for (var n in t)
                    t[n] = t[n].replace(R, function(t, n) {
                        return e[n]
                    })
            }
            function y(t) {
                if (t._.overrides)
                    return t._.overrides;
                var e = t._.overrides = {},
                    n = t._.definition.overrides;
                if (n) {
                    CKEDITOR.tools.isArray(n) || (n = [n]);
                    for (var i = 0; i < n.length; i++) {
                        var o = n[i],
                            a,
                            s;
                        if ("string" == typeof o ? a = o.toLowerCase() : (a = o.element ? o.element.toLowerCase() : t.element, s = o.attributes), o = e[a] || (e[a] = {}), s) {
                            var o = o.attributes = o.attributes || [],
                                r;
                            for (r in s)
                                o.push([r.toLowerCase(), s[r]])
                        }
                    }
                }
                return e
            }
            function T(t, e, n) {
                var i = new CKEDITOR.dom.element("span");
                return i[n ? "setStyle" : "setAttribute"](t, e), i[n ? "getStyle" : "getAttribute"](t)
            }
            function C(t, e) {
                function n(t, e) {
                    return "font-family" == e.toLowerCase() ? t.replace(/["']/g, "") : t
                }
                "string" == typeof t && (t = CKEDITOR.tools.parseCssText(t)), "string" == typeof e && (e = CKEDITOR.tools.parseCssText(e, !0));
                for (var i in t)
                    if (!(i in e) || n(e[i], i) != n(t[i], i) && "inherit" != t[i] && "inherit" != e[i])
                        return !1;
                return !0
            }
            function _(t, e, n) {
                var i = t.document,
                    o = t.getRanges();
                e = e ? this.removeFromRange : this.applyToRange;
                var a,
                    s;
                if (t.isFake && t.isInTable())
                    for (a = [], s = 0; s < o.length; s++)
                        a.push(o[s].clone());
                for (var r = o.createIterator(); s = r.getNextRange();)
                    e.call(this, s, n);
                t.selectRanges(a || o), i.removeCustomData("doc_processing_style")
            }
            var D = {
                    address: 1,
                    div: 1,
                    h1: 1,
                    h2: 1,
                    h3: 1,
                    h4: 1,
                    h5: 1,
                    h6: 1,
                    p: 1,
                    pre: 1,
                    section: 1,
                    header: 1,
                    footer: 1,
                    nav: 1,
                    article: 1,
                    aside: 1,
                    figure: 1,
                    dialog: 1,
                    hgroup: 1,
                    time: 1,
                    meter: 1,
                    menu: 1,
                    command: 1,
                    keygen: 1,
                    output: 1,
                    progress: 1,
                    details: 1,
                    datagrid: 1,
                    datalist: 1
                },
                I = {
                    a: 1,
                    blockquote: 1,
                    embed: 1,
                    hr: 1,
                    img: 1,
                    li: 1,
                    object: 1,
                    ol: 1,
                    table: 1,
                    td: 1,
                    tr: 1,
                    th: 1,
                    ul: 1,
                    dl: 1,
                    dt: 1,
                    dd: 1,
                    form: 1,
                    audio: 1,
                    video: 1
                },
                O = /\s*(?:;\s*|$)/,
                R = /#\((.+?)\)/g,
                k = CKEDITOR.dom.walker.bookmark(0, 1),
                w = CKEDITOR.dom.walker.whitespaces(1);
            CKEDITOR.style = function(t, e) {
                if ("string" == typeof t.type)
                    return new CKEDITOR.style.customHandlers[t.type](t);
                var n = t.attributes;
                n && n.style && (t.styles = CKEDITOR.tools.extend({}, t.styles, CKEDITOR.tools.parseCssText(n.style)), delete n.style), e && (t = CKEDITOR.tools.clone(t), E(t.attributes, e), E(t.styles, e)), n = this.element = t.element ? "string" == typeof t.element ? t.element.toLowerCase() : t.element : "*", this.type = t.type || (D[n] ? CKEDITOR.STYLE_BLOCK : I[n] ? CKEDITOR.STYLE_OBJECT : CKEDITOR.STYLE_INLINE), "object" == typeof this.element && (this.type = CKEDITOR.STYLE_OBJECT), this._ = {
                    definition: t
                }
            }, CKEDITOR.style.prototype = {
                apply: function(t) {
                    if (t instanceof CKEDITOR.dom.document)
                        return _.call(this, t.getSelection());
                    if (this.checkApplicable(t.elementPath(), t)) {
                        var e = this._.enterMode;
                        e || (this._.enterMode = t.activeEnterMode), _.call(this, t.getSelection(), 0, t), this._.enterMode = e
                    }
                },
                remove: function(t) {
                    if (t instanceof CKEDITOR.dom.document)
                        return _.call(this, t.getSelection(), 1);
                    if (this.checkApplicable(t.elementPath(), t)) {
                        var e = this._.enterMode;
                        e || (this._.enterMode = t.activeEnterMode), _.call(this, t.getSelection(), 1, t), this._.enterMode = e
                    }
                },
                applyToRange: function(t) {
                    return this.applyToRange = this.type == CKEDITOR.STYLE_INLINE ? n : this.type == CKEDITOR.STYLE_BLOCK ? r : this.type == CKEDITOR.STYLE_OBJECT ? a : null, this.applyToRange(t)
                },
                removeFromRange: function(t) {
                    return this.removeFromRange = this.type == CKEDITOR.STYLE_INLINE ? i : this.type == CKEDITOR.STYLE_BLOCK ? l : this.type == CKEDITOR.STYLE_OBJECT ? s : null, this.removeFromRange(t)
                },
                applyToObject: function(t) {
                    b(t, this)
                },
                checkActive: function(t, e) {
                    switch (this.type) {
                    case CKEDITOR.STYLE_BLOCK:
                        return this.checkElementRemovable(t.block || t.blockLimit, !0, e);
                    case CKEDITOR.STYLE_OBJECT:
                    case CKEDITOR.STYLE_INLINE:
                        for (var n = t.elements, i = 0, o; i < n.length; i++)
                            if (o = n[i], this.type != CKEDITOR.STYLE_INLINE || o != t.block && o != t.blockLimit) {
                                if (this.type == CKEDITOR.STYLE_OBJECT) {
                                    var a = o.getName();
                                    if (!("string" == typeof this.element ? a == this.element : a in this.element))
                                        continue
                                }
                                if (this.checkElementRemovable(o, !0, e))
                                    return !0
                            }
                    }
                    return !1
                },
                checkApplicable: function(t, e, n) {
                    if (e && e instanceof CKEDITOR.filter && (n = e), n && !n.check(this))
                        return !1;
                    switch (this.type) {
                    case CKEDITOR.STYLE_OBJECT:
                        return !!t.contains(this.element);
                    case CKEDITOR.STYLE_BLOCK:
                        return !!t.blockLimit.getDtd()[this.element]
                    }
                    return !0
                },
                checkElementMatch: function(t, e) {
                    var n = this._.definition;
                    if (!t || !n.ignoreReadonly && t.isReadOnly())
                        return !1;
                    var i = t.getName();
                    if ("string" == typeof this.element ? i == this.element : i in this.element) {
                        if (!e && !t.hasAttributes())
                            return !0;
                        if (i = n._AC)
                            n = i;
                        else {
                            var i = {},
                                o = 0,
                                a = n.attributes;
                            if (a)
                                for (var s in a)
                                    o++, i[s] = a[s];
                            (s = CKEDITOR.style.getStyleText(n)) && (i.style || o++, i.style = s), i._length = o, n = n._AC = i
                        }
                        if (!n._length)
                            return !0;
                        for (var r in n)
                            if ("_length" != r)
                                if (i = t.getAttribute(r) || "", "style" == r ? C(n[r], i) : n[r] == i) {
                                    if (!e)
                                        return !0
                                } else if (e)
                                    return !1;
                        if (e)
                            return !0
                    }
                    return !1
                },
                checkElementRemovable: function(t, e, n) {
                    if (this.checkElementMatch(t, e, n))
                        return !0;
                    if (e = y(this)[t.getName()]) {
                        var i;
                        if (!(e = e.attributes))
                            return !0;
                        for (n = 0; n < e.length; n++)
                            if (i = e[n][0], i = t.getAttribute(i)) {
                                var o = e[n][1];
                                if (null === o)
                                    return !0;
                                if ("string" == typeof o) {
                                    if (i == o)
                                        return !0
                                } else if (o.test(i))
                                    return !0
                            }
                    }
                    return !1
                },
                buildPreview: function(t) {
                    var e = this._.definition,
                        n = [],
                        i = e.element;
                    "bdo" == i && (i = "span");
                    var n = ["<", i],
                        o = e.attributes;
                    if (o)
                        for (var a in o)
                            n.push(" ", a, '="', o[a], '"');
                    return (o = CKEDITOR.style.getStyleText(e)) && n.push(' style="', o, '"'), n.push(">", t || e.name, "</", i, ">"), n.join("")
                },
                getDefinition: function() {
                    return this._.definition
                }
            }, CKEDITOR.style.getStyleText = function(t) {
                var e = t._ST;
                if (e)
                    return e;
                var e = t.styles,
                    n = t.attributes && t.attributes.style || "",
                    i = "";
                n.length && (n = n.replace(O, ";"));
                for (var o in e) {
                    var a = e[o],
                        s = (o + ":" + a).replace(O, ";");
                    "inherit" == a ? i += s : n += s
                }
                return n.length && (n = CKEDITOR.tools.normalizeCssText(n, !0)), t._ST = n + i
            }, CKEDITOR.style.customHandlers = {}, CKEDITOR.style.addCustomHandler = function(t) {
                var e = function(t) {
                    this._ = {
                        definition: t
                    }, this.setup && this.setup(t)
                };
                return e.prototype = CKEDITOR.tools.extend(CKEDITOR.tools.prototypedCopy(CKEDITOR.style.prototype), {
                    assignedTo: CKEDITOR.STYLE_OBJECT
                }, t, !0), this.customHandlers[t.type] = e
            };
            var x = CKEDITOR.POSITION_PRECEDING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED,
                S = CKEDITOR.POSITION_FOLLOWING | CKEDITOR.POSITION_IDENTICAL | CKEDITOR.POSITION_IS_CONTAINED
        }(), CKEDITOR.styleCommand = function(t, e) {
            this.requiredContent = this.allowedContent = this.style = t, CKEDITOR.tools.extend(this, e, !0)
        }, CKEDITOR.styleCommand.prototype.exec = function(t) {
            t.focus(), this.state == CKEDITOR.TRISTATE_OFF ? t.applyStyle(this.style) : this.state == CKEDITOR.TRISTATE_ON && t.removeStyle(this.style)
        }, CKEDITOR.stylesSet = new CKEDITOR.resourceManager("", "stylesSet"), CKEDITOR.addStylesSet = CKEDITOR.tools.bind(CKEDITOR.stylesSet.add, CKEDITOR.stylesSet), CKEDITOR.loadStylesSet = function(t, e, n) {
            CKEDITOR.stylesSet.addExternal(t, e, ""), CKEDITOR.stylesSet.load(t, n)
        }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
            attachStyleStateChange: function(t, e) {
                var n = this._.styleStateChangeCallbacks;
                n || (n = this._.styleStateChangeCallbacks = [], this.on("selectionChange", function(t) {
                    for (var e = 0; e < n.length; e++) {
                        var i = n[e],
                            o = i.style.checkActive(t.data.path, this) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF;
                        i.fn.call(this, o)
                    }
                })), n.push({
                    style: t,
                    fn: e
                })
            },
            applyStyle: function(t) {
                t.apply(this)
            },
            removeStyle: function(t) {
                t.remove(this)
            },
            getStylesSet: function(t) {
                if (this._.stylesDefinitions)
                    t(this._.stylesDefinitions);
                else {
                    var e = this,
                        n = e.config.stylesCombo_stylesSet || e.config.stylesSet;
                    if (!1 === n)
                        t(null);
                    else if (n instanceof Array)
                        e._.stylesDefinitions = n, t(n);
                    else {
                        n || (n = "default");
                        var n = n.split(":"),
                            i = n[0];
                        CKEDITOR.stylesSet.addExternal(i, n[1] ? n.slice(1).join(":") : CKEDITOR.getUrl("styles.js"), ""), CKEDITOR.stylesSet.load(i, function(n) {
                            e._.stylesDefinitions = n[i], t(e._.stylesDefinitions)
                        })
                    }
                }
            }
        }), CKEDITOR.dom.comment = function(t, e) {
            "string" == typeof t && (t = (e ? e.$ : document).createComment(t)), CKEDITOR.dom.domObject.call(this, t)
        }, CKEDITOR.dom.comment.prototype = new CKEDITOR.dom.node, CKEDITOR.tools.extend(CKEDITOR.dom.comment.prototype, {
            type: CKEDITOR.NODE_COMMENT,
            getOuterHtml: function() {
                return "<!--" + this.$.nodeValue + "-->"
            }
        }), function() {
            var t = {},
                e = {},
                n;
            for (n in CKEDITOR.dtd.$blockLimit)
                n in CKEDITOR.dtd.$list || (t[n] = 1);
            for (n in CKEDITOR.dtd.$block)
                n in CKEDITOR.dtd.$blockLimit || n in CKEDITOR.dtd.$empty || (e[n] = 1);
            CKEDITOR.dom.elementPath = function(n, i) {
                var o = null,
                    a = null,
                    s = [],
                    r = n,
                    l;
                i = i || n.getDocument().getBody(), r || (r = i);
                do {
                    if (r.type == CKEDITOR.NODE_ELEMENT) {
                        if (s.push(r), !this.lastElement && (this.lastElement = r, r.is(CKEDITOR.dtd.$object) || "false" == r.getAttribute("contenteditable")))
                            continue;
                        if (r.equals(i))
                            break;
                        if (!a && (l = r.getName(), "true" == r.getAttribute("contenteditable") ? a = r : !o && e[l] && (o = r), t[l])) {
                            if (l = !o && "div" == l) {
                                t:
                                {
                                    l = r.getChildren();
                                    for (var c = 0, u = l.count(); c < u; c++) {
                                        var d = l.getItem(c);
                                        if (d.type == CKEDITOR.NODE_ELEMENT && CKEDITOR.dtd.$block[d.getName()]) {
                                            l = !0;
                                            break t
                                        }
                                    }
                                    l = !1
                                }l = !l
                            }
                            l ? o = r : a = r
                        }
                    }
                } while (r = r.getParent());
                a || (a = i), this.block = o, this.blockLimit = a, this.root = i, this.elements = s
            }
        }(), CKEDITOR.dom.elementPath.prototype = {
            compare: function(t) {
                var e = this.elements;
                if (!(t = t && t.elements) || e.length != t.length)
                    return !1;
                for (var n = 0; n < e.length; n++)
                    if (!e[n].equals(t[n]))
                        return !1;
                return !0
            },
            contains: function(t, e, n) {
                var i;
                "string" == typeof t && (i = function(e) {
                    return e.getName() == t
                }), t instanceof CKEDITOR.dom.element ? i = function(e) {
                    return e.equals(t)
                } : CKEDITOR.tools.isArray(t) ? i = function(e) {
                    return -1 < CKEDITOR.tools.indexOf(t, e.getName())
                } : "function" == typeof t ? i = t : "object" == typeof t && (i = function(e) {
                    return e.getName() in t
                });
                var o = this.elements,
                    a = o.length;
                for (e && a--, n && (o = Array.prototype.slice.call(o, 0), o.reverse()), e = 0; e < a; e++)
                    if (i(o[e]))
                        return o[e];
                return null
            },
            isContextFor: function(t) {
                var e;
                return !(t in CKEDITOR.dtd.$block) || (e = this.contains(CKEDITOR.dtd.$intermediate) || this.root.equals(this.block) && this.block || this.blockLimit, !!e.getDtd()[t])
            },
            direction: function() {
                return (this.block || this.blockLimit || this.root).getDirection(1)
            }
        }, CKEDITOR.dom.text = function(t, e) {
            "string" == typeof t && (t = (e ? e.$ : document).createTextNode(t)), this.$ = t
        }, CKEDITOR.dom.text.prototype = new CKEDITOR.dom.node, CKEDITOR.tools.extend(CKEDITOR.dom.text.prototype, {
            type: CKEDITOR.NODE_TEXT,
            getLength: function() {
                return this.$.nodeValue.length
            },
            getText: function() {
                return this.$.nodeValue
            },
            setText: function(t) {
                this.$.nodeValue = t
            },
            split: function(t) {
                var e = this.$.parentNode,
                    n = e.childNodes.length,
                    i = this.getLength(),
                    o = this.getDocument(),
                    a = new CKEDITOR.dom.text(this.$.splitText(t), o);
                return e.childNodes.length == n && (t >= i ? (a = o.createText(""), a.insertAfter(this)) : (t = o.createText(""), t.insertAfter(a), t.remove())), a
            },
            substring: function(t, e) {
                return "number" != typeof e ? this.$.nodeValue.substr(t) : this.$.nodeValue.substring(t, e)
            }
        }), function() {
            function t(t, e, n) {
                var i = t.serializable,
                    o = e[n ? "endContainer" : "startContainer"],
                    a = n ? "endOffset" : "startOffset",
                    s = i ? e.document.getById(t.startNode) : t.startNode;
                return t = i ? e.document.getById(t.endNode) : t.endNode, o.equals(s.getPrevious()) ? (e.startOffset = e.startOffset - o.getLength() - t.getPrevious().getLength(), o = t.getNext()) : o.equals(t.getPrevious()) && (e.startOffset -= o.getLength(), o = t.getNext()), o.equals(s.getParent()) && e[a]++, o.equals(t.getParent()) && e[a]++, e[n ? "endContainer" : "startContainer"] = o, e
            }
            CKEDITOR.dom.rangeList = function(t) {
                return t instanceof CKEDITOR.dom.rangeList ? t : (t ? t instanceof CKEDITOR.dom.range && (t = [t]) : t = [], CKEDITOR.tools.extend(t, e))
            };
            var e = {
                createIterator: function() {
                    var t = this,
                        e = CKEDITOR.dom.walker.bookmark(),
                        n = [],
                        i;
                    return {
                        getNextRange: function(o) {
                            i = void 0 === i ? 0 : i + 1;
                            var a = t[i];
                            if (a && 1 < t.length) {
                                if (!i)
                                    for (var s = t.length - 1; 0 <= s; s--)
                                        n.unshift(t[s].createBookmark(!0));
                                if (o)
                                    for (var r = 0; t[i + r + 1];) {
                                        var l = a.document;
                                        for (o = 0, s = l.getById(n[r].endNode), l = l.getById(n[r + 1].startNode);;) {
                                            if (s = s.getNextSourceNode(!1), l.equals(s))
                                                o = 1;
                                            else if (e(s) || s.type == CKEDITOR.NODE_ELEMENT && s.isBlockBoundary())
                                                continue;
                                            break
                                        }
                                        if (!o)
                                            break;
                                        r++
                                    }
                                for (a.moveToBookmark(n.shift()); r--;)
                                    s = t[++i], s.moveToBookmark(n.shift()), a.setEnd(s.endContainer, s.endOffset)
                            }
                            return a
                        }
                    }
                },
                createBookmarks: function(e) {
                    for (var n = [], i, o = 0; o < this.length; o++) {
                        n.push(i = this[o].createBookmark(e, !0));
                        for (var a = o + 1; a < this.length; a++)
                            this[a] = t(i, this[a]), this[a] = t(i, this[a], !0)
                    }
                    return n
                },
                createBookmarks2: function(t) {
                    for (var e = [], n = 0; n < this.length; n++)
                        e.push(this[n].createBookmark2(t));
                    return e
                },
                moveToBookmarks: function(t) {
                    for (var e = 0; e < this.length; e++)
                        this[e].moveToBookmark(t[e])
                }
            }
        }(), function() {
            function t() {
                return CKEDITOR.getUrl(CKEDITOR.skinName.split(",")[1] || "skins/" + CKEDITOR.skinName.split(",")[0] + "/")
            }
            function e(e) {
                var n = CKEDITOR.skin["ua_" + e],
                    i = CKEDITOR.env;
                if (n)
                    for (var n = n.split(",").sort(function(t, e) {
                            return t > e ? -1 : 1
                        }), o = 0, a; o < n.length; o++)
                        if (a = n[o], i.ie && (a.replace(/^ie/, "") == i.version || i.quirks && "iequirks" == a) && (a = "ie"), i[a]) {
                            e += "_" + n[o];
                            break
                        }
                return CKEDITOR.getUrl(t() + e + ".css")
            }
            function n(t, n) {
                a[t] || (CKEDITOR.document.appendStyleSheet(e(t)), a[t] = 1), n && n()
            }
            function i(t) {
                var e = t.getById(s);
                return e || (e = t.getHead().append("style"), e.setAttribute("id", s), e.setAttribute("type", "text/css")), e
            }
            function o(t, e, n) {
                var i,
                    o,
                    a;
                if (CKEDITOR.env.webkit)
                    for (e = e.split("}").slice(0, -1), o = 0; o < e.length; o++)
                        e[o] = e[o].split("{");
                for (var s = 0; s < t.length; s++)
                    if (CKEDITOR.env.webkit)
                        for (o = 0; o < e.length; o++) {
                            for (a = e[o][1], i = 0; i < n.length; i++)
                                a = a.replace(n[i][0], n[i][1]);
                            t[s].$.sheet.addRule(e[o][0], a)
                        }
                    else {
                        for (a = e, i = 0; i < n.length; i++)
                            a = a.replace(n[i][0], n[i][1]);
                        CKEDITOR.env.ie && 11 > CKEDITOR.env.version ? t[s].$.styleSheet.cssText += a : t[s].$.innerHTML += a
                    }
            }
            var a = {};
            CKEDITOR.skin = {
                path: t,
                loadPart: function(e, i) {
                    CKEDITOR.skin.name != CKEDITOR.skinName.split(",")[0] ? CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(t() + "skin.js"), function() {
                        n(e, i)
                    }) : n(e, i)
                },
                getPath: function(t) {
                    return CKEDITOR.getUrl(e(t))
                },
                icons: {},
                addIcon: function(t, e, n, i) {
                    t = t.toLowerCase(), this.icons[t] || (this.icons[t] = {
                        path: e,
                        offset: n || 0,
                        bgsize: i || "16px"
                    })
                },
                getIconStyle: function(t, e, n, i, o) {
                    var a;
                    return t && (t = t.toLowerCase(), e && (a = this.icons[t + "-rtl"]), a || (a = this.icons[t])), t = n || a && a.path || "", i = i || a && a.offset, o = o || a && a.bgsize || "16px", t && (t = t.replace(/'/g, "\\'")), t && "background-image:url('" + CKEDITOR.getUrl(t) + "');background-position:0 " + i + "px;background-size:" + o + ";"
                }
            }, CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                getUiColor: function() {
                    return this.uiColor
                },
                setUiColor: function(t) {
                    var e = i(CKEDITOR.document);
                    return (this.setUiColor = function(t) {
                        this.uiColor = t;
                        var n = CKEDITOR.skin.chameleon,
                            i = "",
                            a = "";
                        "function" == typeof n && (i = n(this, "editor"), a = n(this, "panel")), t = [[l, t]], o([e], i, t), o(r, a, t)
                    }).call(this, t)
                }
            });
            var s = "cke_ui_color",
                r = [],
                l = /\$color/g;
            CKEDITOR.on("instanceLoaded", function(t) {
                if (!CKEDITOR.env.ie || !CKEDITOR.env.quirks) {
                    var e = t.editor;
                    t = function(t) {
                        if (t = (t.data[0] || t.data).element.getElementsByTag("iframe").getItem(0).getFrameDocument(), !t.getById("cke_ui_color")) {
                            t = i(t), r.push(t);
                            var n = e.getUiColor();
                            n && o([t], CKEDITOR.skin.chameleon(e, "panel"), [[l, n]])
                        }
                    }, e.on("panelShow", t), e.on("menuShow", t), e.config.uiColor && e.setUiColor(e.config.uiColor)
                }
            })
        }(), function() {
            if (CKEDITOR.env.webkit)
                CKEDITOR.env.hc = !1;
            else {
                var t = CKEDITOR.dom.element.createFromHtml('<div style="width:0;height:0;position:absolute;left:-10000px;border:1px solid;border-color:red blue"></div>', CKEDITOR.document);
                t.appendTo(CKEDITOR.document.getHead());
                try {
                    var e = t.getComputedStyle("border-top-color"),
                        n = t.getComputedStyle("border-right-color");
                    CKEDITOR.env.hc = !(!e || e != n)
                } catch (t) {
                    CKEDITOR.env.hc = !1
                }
                t.remove()
            }
            if (CKEDITOR.env.hc && (CKEDITOR.env.cssClass += " cke_hc"), CKEDITOR.document.appendStyleText(".cke{visibility:hidden;}"), CKEDITOR.status = "loaded", CKEDITOR.fireOnce("loaded"), t = CKEDITOR._.pending)
                for (delete CKEDITOR._.pending, e = 0; e < t.length; e++)
                    CKEDITOR.editor.prototype.constructor.apply(t[e][0], t[e][1]), CKEDITOR.add(t[e][0])
        }(), /*
 Copyright (c) 2003-2017, CKSource - Frederico Knabben. All rights reserved.
 For licensing, see LICENSE.md or http://ckeditor.com/license
*/
        CKEDITOR.skin.name = "moono-lisa", CKEDITOR.skin.ua_editor = "ie,iequirks,ie8,gecko", CKEDITOR.skin.ua_dialog = "ie,iequirks,ie8", CKEDITOR.skin.chameleon = function() {
            var t = function() {
                    return function(t, e) {
                        for (var n = t.match(/[^#]./g), i = 0; 3 > i; i++) {
                            var o = i,
                                a;
                            a = parseInt(n[i], 16), a = ("0" + (0 > e ? 0 | a * (1 + e) : 0 | a + (255 - a) * e).toString(16)).slice(-2), n[o] = a
                        }
                        return "#" + n.join("")
                    }
                }(),
                e = {
                    editor: new CKEDITOR.template("{id}.cke_chrome [border-color:{defaultBorder};] {id} .cke_top [ background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_bottom [background-color:{defaultBackground};border-top-color:{defaultBorder};] {id} .cke_resizer [border-right-color:{ckeResizer}] {id} .cke_dialog_title [background-color:{defaultBackground};border-bottom-color:{defaultBorder};] {id} .cke_dialog_footer [background-color:{defaultBackground};outline-color:{defaultBorder};] {id} .cke_dialog_tab [background-color:{dialogTab};border-color:{defaultBorder};] {id} .cke_dialog_tab:hover [background-color:{lightBackground};] {id} .cke_dialog_contents [border-top-color:{defaultBorder};] {id} .cke_dialog_tab_selected, {id} .cke_dialog_tab_selected:hover [background:{dialogTabSelected};border-bottom-color:{dialogTabSelectedBorder};] {id} .cke_dialog_body [background:{dialogBody};border-color:{defaultBorder};] {id} a.cke_button_off:hover,{id} a.cke_button_off:focus,{id} a.cke_button_off:active [background-color:{darkBackground};border-color:{toolbarElementsBorder};] {id} .cke_button_on [background-color:{ckeButtonOn};border-color:{toolbarElementsBorder};] {id} .cke_toolbar_separator,{id} .cke_toolgroup a.cke_button:last-child:after,{id} .cke_toolgroup a.cke_button.cke_button_disabled:hover:last-child:after [background-color: {toolbarElementsBorder};border-color: {toolbarElementsBorder};] {id} a.cke_combo_button:hover,{id} a.cke_combo_button:focus,{id} .cke_combo_on a.cke_combo_button [border-color:{toolbarElementsBorder};background-color:{darkBackground};] {id} .cke_combo:after [border-color:{toolbarElementsBorder};] {id} .cke_path_item [color:{elementsPathColor};] {id} a.cke_path_item:hover,{id} a.cke_path_item:focus,{id} a.cke_path_item:active [background-color:{darkBackground};] {id}.cke_panel [border-color:{defaultBorder};] "),
                    panel: new CKEDITOR.template(".cke_panel_grouptitle [background-color:{lightBackground};border-color:{defaultBorder};] .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menubutton:hover,.cke_menubutton:focus,.cke_menubutton:active [background-color:{menubuttonHover};] .cke_menubutton:hover .cke_menubutton_icon, .cke_menubutton:focus .cke_menubutton_icon, .cke_menubutton:active .cke_menubutton_icon [background-color:{menubuttonIconHover};] .cke_menubutton_disabled:hover .cke_menubutton_icon,.cke_menubutton_disabled:focus .cke_menubutton_icon,.cke_menubutton_disabled:active .cke_menubutton_icon [background-color:{menubuttonIcon};] .cke_menuseparator [background-color:{menubuttonIcon};] a:hover.cke_colorbox, a:active.cke_colorbox [border-color:{defaultBorder};] a:hover.cke_colorauto, a:hover.cke_colormore, a:active.cke_colorauto, a:active.cke_colormore [background-color:{ckeColorauto};border-color:{defaultBorder};] ")
                };
            return function(n, i) {
                var o = t(n.uiColor, .4),
                    o = {
                        id: "." + n.id,
                        defaultBorder: t(o, -.2),
                        toolbarElementsBorder: t(o, -.25),
                        defaultBackground: o,
                        lightBackground: t(o, .8),
                        darkBackground: t(o, -.15),
                        ckeButtonOn: t(o, .4),
                        ckeResizer: t(o, -.4),
                        ckeColorauto: t(o, .8),
                        dialogBody: t(o, .7),
                        dialogTab: t(o, .65),
                        dialogTabSelected: "#FFF",
                        dialogTabSelectedBorder: "#FFF",
                        elementsPathColor: t(o, -.6),
                        menubuttonHover: t(o, .1),
                        menubuttonIcon: t(o, .5),
                        menubuttonIconHover: t(o, .3)
                    };
                return e[i].output(o).replace(/\[/g, "{").replace(/\]/g, "}")
            }
        }(), CKEDITOR.plugins.add("dialogui", {
            onLoad: function() {
                var t = function(t) {
                        this._ || (this._ = {}), this._["default"] = this._.initValue = t["default"] || "", this._.required = t.required || !1;
                        for (var e = [this._], n = 1; n < arguments.length; n++)
                            e.push(arguments[n]);
                        return e.push(!0), CKEDITOR.tools.extend.apply(CKEDITOR.tools, e), this._
                    },
                    e = {
                        build: function(t, e, n) {
                            return new CKEDITOR.ui.dialog.textInput(t, e, n)
                        }
                    },
                    n = {
                        build: function(t, e, n) {
                            return new CKEDITOR.ui.dialog[e.type](t, e, n)
                        }
                    },
                    i = {
                        isChanged: function() {
                            return this.getValue() != this.getInitValue()
                        },
                        reset: function(t) {
                            this.setValue(this.getInitValue(), t)
                        },
                        setInitValue: function() {
                            this._.initValue = this.getValue()
                        },
                        resetInitValue: function() {
                            this._.initValue = this._["default"]
                        },
                        getInitValue: function() {
                            return this._.initValue
                        }
                    },
                    o = CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                        onChange: function(t, e) {
                            this._.domOnChangeRegistered || (t.on("load", function() {
                                this.getInputElement().on("change", function() {
                                    t.parts.dialog.isVisible() && this.fire("change", {
                                        value: this.getValue()
                                    })
                                }, this)
                            }, this), this._.domOnChangeRegistered = !0), this.on("change", e)
                        }
                    }, !0),
                    a = /^on([A-Z]\w+)/,
                    s = function(t) {
                        for (var e in t)
                            (a.test(e) || "title" == e || "type" == e) && delete t[e];
                        return t
                    },
                    r = function(t) {
                        t = t.data.getKeystroke(), t == CKEDITOR.SHIFT + CKEDITOR.ALT + 36 ? this.setDirectionMarker("ltr") : t == CKEDITOR.SHIFT + CKEDITOR.ALT + 35 && this.setDirectionMarker("rtl")
                    };
                CKEDITOR.tools.extend(CKEDITOR.ui.dialog, {
                    labeledElement: function(e, n, i, o) {
                        if (!(4 > arguments.length)) {
                            var a = t.call(this, n);
                            a.labelId = CKEDITOR.tools.getNextId() + "_label", this._.children = [];
                            var s = {
                                role: n.role || "presentation"
                            };
                            n.includeLabel && (s["aria-labelledby"] = a.labelId), CKEDITOR.ui.dialog.uiElement.call(this, e, n, i, "div", null, s, function() {
                                var t = [],
                                    i = n.required ? " cke_required" : "";
                                return "horizontal" != n.labelLayout ? t.push('<label class="cke_dialog_ui_labeled_label' + i + '" ', ' id="' + a.labelId + '"', a.inputId ? ' for="' + a.inputId + '"' : "", (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", n.label, "</label>", '<div class="cke_dialog_ui_labeled_content"', n.controlStyle ? ' style="' + n.controlStyle + '"' : "", ' role="presentation">', o.call(this, e, n), "</div>") : (i = {
                                    type: "hbox",
                                    widths: n.widths,
                                    padding: 0,
                                    children: [{
                                        type: "html",
                                        html: '<label class="cke_dialog_ui_labeled_label' + i + '" id="' + a.labelId + '" for="' + a.inputId + '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">" + CKEDITOR.tools.htmlEncode(n.label) + "</label>"
                                    }, {
                                        type: "html",
                                        html: '<span class="cke_dialog_ui_labeled_content"' + (n.controlStyle ? ' style="' + n.controlStyle + '"' : "") + ">" + o.call(this, e, n) + "</span>"
                                    }]
                                }, CKEDITOR.dialog._.uiElementBuilders.hbox.build(e, i, t)), t.join("")
                            })
                        }
                    },
                    textInput: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            t.call(this, n);
                            var o = this._.inputId = CKEDITOR.tools.getNextId() + "_textInput",
                                a = {
                                    "class": "cke_dialog_ui_input_" + n.type,
                                    id: o,
                                    type: n.type
                                };
                            n.validate && (this.validate = n.validate), n.maxLength && (a.maxlength = n.maxLength), n.size && (a.size = n.size), n.inputStyle && (a.style = n.inputStyle);
                            var s = this,
                                l = !1;
                            e.on("load", function() {
                                s.getInputElement().on("keydown", function(t) {
                                    13 == t.data.getKeystroke() && (l = !0)
                                }), s.getInputElement().on("keyup", function(t) {
                                    13 == t.data.getKeystroke() && l && (e.getButton("ok") && setTimeout(function() {
                                        e.getButton("ok").click()
                                    }, 0), l = !1), s.bidi && r.call(s, t)
                                }, null, null, 1e3)
                            }), CKEDITOR.ui.dialog.labeledElement.call(this, e, n, i, function() {
                                var t = ['<div class="cke_dialog_ui_input_', n.type, '" role="presentation"'];
                                n.width && t.push('style="width:' + n.width + '" '), t.push("><input "), a["aria-labelledby"] = this._.labelId, this._.required && (a["aria-required"] = this._.required);
                                for (var e in a)
                                    t.push(e + '="' + a[e] + '" ');
                                return t.push(" /></div>"), t.join("")
                            })
                        }
                    },
                    textarea: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            t.call(this, n);
                            var o = this,
                                a = this._.inputId = CKEDITOR.tools.getNextId() + "_textarea",
                                s = {};
                            n.validate && (this.validate = n.validate), s.rows = n.rows || 5, s.cols = n.cols || 20, s["class"] = "cke_dialog_ui_input_textarea " + (n["class"] || ""), "undefined" != typeof n.inputStyle && (s.style = n.inputStyle), n.dir && (s.dir = n.dir), o.bidi && e.on("load", function() {
                                o.getInputElement().on("keyup", r)
                            }, o), CKEDITOR.ui.dialog.labeledElement.call(this, e, n, i, function() {
                                s["aria-labelledby"] = this._.labelId, this._.required && (s["aria-required"] = this._.required);
                                var t = ['<div class="cke_dialog_ui_input_textarea" role="presentation"><textarea id="', a, '" '],
                                    e;
                                for (e in s)
                                    t.push(e + '="' + CKEDITOR.tools.htmlEncode(s[e]) + '" ');
                                return t.push(">", CKEDITOR.tools.htmlEncode(o._["default"]), "</textarea></div>"), t.join("")
                            })
                        }
                    },
                    checkbox: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            var o = t.call(this, n, {
                                "default": !!n["default"]
                            });
                            n.validate && (this.validate = n.validate), CKEDITOR.ui.dialog.uiElement.call(this, e, n, i, "span", null, null, function() {
                                var t = CKEDITOR.tools.extend({}, n, {
                                        id: n.id ? n.id + "_checkbox" : CKEDITOR.tools.getNextId() + "_checkbox"
                                    }, !0),
                                    i = [],
                                    a = CKEDITOR.tools.getNextId() + "_label",
                                    r = {
                                        "class": "cke_dialog_ui_checkbox_input",
                                        type: "checkbox",
                                        "aria-labelledby": a
                                    };
                                return s(t), n["default"] && (r.checked = "checked"), "undefined" != typeof t.inputStyle && (t.style = t.inputStyle), o.checkbox = new CKEDITOR.ui.dialog.uiElement(e, t, i, "input", null, r), i.push(' <label id="', a, '" for="', r.id, '"' + (n.labelStyle ? ' style="' + n.labelStyle + '"' : "") + ">", CKEDITOR.tools.htmlEncode(n.label), "</label>"), i.join("")
                            })
                        }
                    },
                    radio: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            t.call(this, n), this._["default"] || (this._["default"] = this._.initValue = n.items[0][1]), n.validate && (this.validate = n.validate);
                            var o = [],
                                a = this;
                            n.role = "radiogroup", n.includeLabel = !0, CKEDITOR.ui.dialog.labeledElement.call(this, e, n, i, function() {
                                for (var t = [], i = [], r = (n.id ? n.id : CKEDITOR.tools.getNextId()) + "_radio", l = 0; l < n.items.length; l++) {
                                    var c = n.items[l],
                                        u = void 0 !== c[2] ? c[2] : c[0],
                                        d = void 0 !== c[1] ? c[1] : c[0],
                                        h = CKEDITOR.tools.getNextId() + "_radio_input",
                                        f = h + "_label",
                                        h = CKEDITOR.tools.extend({}, n, {
                                            id: h,
                                            title: null,
                                            type: null
                                        }, !0),
                                        u = CKEDITOR.tools.extend({}, h, {
                                            title: u
                                        }, !0),
                                        p = {
                                            type: "radio",
                                            "class": "cke_dialog_ui_radio_input",
                                            name: r,
                                            value: d,
                                            "aria-labelledby": f
                                        },
                                        m = [];
                                    a._["default"] == d && (p.checked = "checked"), s(h), s(u), "undefined" != typeof h.inputStyle && (h.style = h.inputStyle), h.keyboardFocusable = !0, o.push(new CKEDITOR.ui.dialog.uiElement(e, h, m, "input", null, p)), m.push(" "), new CKEDITOR.ui.dialog.uiElement(e, u, m, "label", null, {
                                        id: f,
                                        "for": p.id
                                    }, c[0]), t.push(m.join(""))
                                }
                                return new CKEDITOR.ui.dialog.hbox(e, o, t, i), i.join("")
                            }), this._.children = o
                        }
                    },
                    button: function(e, n, i) {
                        if (arguments.length) {
                            "function" == typeof n && (n = n(e.getParentEditor())), t.call(this, n, {
                                disabled: n.disabled || !1
                            }), CKEDITOR.event.implementOn(this);
                            var o = this;
                            e.on("load", function() {
                                var t = this.getElement();
                                !function() {
                                    t.on("click", function(t) {
                                        o.click(), t.data.preventDefault()
                                    }), t.on("keydown", function(t) {
                                        t.data.getKeystroke() in {
                                            32: 1
                                        } && (o.click(), t.data.preventDefault())
                                    })
                                }(), t.unselectable()
                            }, this);
                            var a = CKEDITOR.tools.extend({}, n);
                            delete a.style;
                            var s = CKEDITOR.tools.getNextId() + "_label";
                            CKEDITOR.ui.dialog.uiElement.call(this, e, a, i, "a", null, {
                                style: n.style,
                                href: "javascript:void(0)",
                                title: n.label,
                                hidefocus: "true",
                                "class": n["class"],
                                role: "button",
                                "aria-labelledby": s
                            }, '<span id="' + s + '" class="cke_dialog_ui_button">' + CKEDITOR.tools.htmlEncode(n.label) + "</span>")
                        }
                    },
                    select: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            var o = t.call(this, n);
                            n.validate && (this.validate = n.validate), o.inputId = CKEDITOR.tools.getNextId() + "_select", CKEDITOR.ui.dialog.labeledElement.call(this, e, n, i, function() {
                                var t = CKEDITOR.tools.extend({}, n, {
                                        id: n.id ? n.id + "_select" : CKEDITOR.tools.getNextId() + "_select"
                                    }, !0),
                                    i = [],
                                    a = [],
                                    r = {
                                        id: o.inputId,
                                        "class": "cke_dialog_ui_input_select",
                                        "aria-labelledby": this._.labelId
                                    };
                                i.push('<div class="cke_dialog_ui_input_', n.type, '" role="presentation"'), n.width && i.push('style="width:' + n.width + '" '), i.push(">"), void 0 !== n.size && (r.size = n.size), void 0 !== n.multiple && (r.multiple = n.multiple), s(t);
                                for (var l = 0, c; l < n.items.length && (c = n.items[l]); l++)
                                    a.push('<option value="', CKEDITOR.tools.htmlEncode(void 0 !== c[1] ? c[1] : c[0]).replace(/"/g, "&quot;"), '" /> ', CKEDITOR.tools.htmlEncode(c[0]));
                                return "undefined" != typeof t.inputStyle && (t.style = t.inputStyle), o.select = new CKEDITOR.ui.dialog.uiElement(e, t, i, "select", null, r, a.join("")), i.push("</div>"), i.join("")
                            })
                        }
                    },
                    file: function(e, n, i) {
                        if (!(3 > arguments.length)) {
                            void 0 === n["default"] && (n["default"] = "");
                            var o = CKEDITOR.tools.extend(t.call(this, n), {
                                definition: n,
                                buttons: []
                            });
                            n.validate && (this.validate = n.validate), e.on("load", function() {
                                CKEDITOR.document.getById(o.frameId).getParent().addClass("cke_dialog_ui_input_file")
                            }), CKEDITOR.ui.dialog.labeledElement.call(this, e, n, i, function() {
                                o.frameId = CKEDITOR.tools.getNextId() + "_fileInput";
                                var t = ['<iframe frameborder="0" allowtransparency="0" class="cke_dialog_ui_input_file" role="presentation" id="', o.frameId, '" title="', n.label, '" src="javascript:void('];
                                return t.push(CKEDITOR.env.ie ? "(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "})()" : "0"), t.push(')"></iframe>'), t.join("")
                            })
                        }
                    },
                    fileButton: function(e, n, i) {
                        var o = this;
                        if (!(3 > arguments.length)) {
                            t.call(this, n), n.validate && (this.validate = n.validate);
                            var a = CKEDITOR.tools.extend({}, n),
                                s = a.onClick;
                            a.className = (a.className ? a.className + " " : "") + "cke_dialog_ui_button", a.onClick = function(t) {
                                var i = n["for"];
                                s && !1 === s.call(this, t) || (e.getContentElement(i[0], i[1]).submit(), this.disable())
                            }, e.on("load", function() {
                                e.getContentElement(n["for"][0], n["for"][1])._.buttons.push(o)
                            }), CKEDITOR.ui.dialog.button.call(this, e, a, i)
                        }
                    },
                    html: function() {
                        var t = /^\s*<[\w:]+\s+([^>]*)?>/,
                            e = /^(\s*<[\w:]+(?:\s+[^>]*)?)((?:.|\r|\n)+)$/,
                            n = /\/$/;
                        return function(i, o, a) {
                            if (!(3 > arguments.length)) {
                                var s = [],
                                    r = o.html;
                                "<" != r.charAt(0) && (r = "<span>" + r + "</span>");
                                var l = o.focus;
                                if (l) {
                                    var c = this.focus;
                                    this.focus = function() {
                                        ("function" == typeof l ? l : c).call(this), this.fire("focus")
                                    }, o.isFocusable && (this.isFocusable = this.isFocusable), this.keyboardFocusable = !0
                                }
                                CKEDITOR.ui.dialog.uiElement.call(this, i, o, s, "span", null, null, ""), s = s.join("").match(t), r = r.match(e) || ["", "", ""], n.test(r[1]) && (r[1] = r[1].slice(0, -1), r[2] = "/" + r[2]), a.push([r[1], " ", s[1] || "", r[2]].join(""))
                            }
                        }
                    }(),
                    fieldset: function(t, e, n, i, o) {
                        var a = o.label;
                        this._ = {
                            children: e
                        }, CKEDITOR.ui.dialog.uiElement.call(this, t, o, i, "fieldset", null, null, function() {
                            var t = [];
                            a && t.push("<legend" + (o.labelStyle ? ' style="' + o.labelStyle + '"' : "") + ">" + a + "</legend>");
                            for (var e = 0; e < n.length; e++)
                                t.push(n[e]);
                            return t.join("")
                        })
                    }
                }, !0), CKEDITOR.ui.dialog.html.prototype = new CKEDITOR.ui.dialog.uiElement, CKEDITOR.ui.dialog.labeledElement.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                    setLabel: function(t) {
                        var e = CKEDITOR.document.getById(this._.labelId);
                        return 1 > e.getChildCount() ? new CKEDITOR.dom.text(t, CKEDITOR.document).appendTo(e) : e.getChild(0).$.nodeValue = t, this
                    },
                    getLabel: function() {
                        var t = CKEDITOR.document.getById(this._.labelId);
                        return !t || 1 > t.getChildCount() ? "" : t.getChild(0).getText()
                    },
                    eventProcessors: o
                }, !0), CKEDITOR.ui.dialog.button.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                    click: function() {
                        return !this._.disabled && this.fire("click", {
                                dialog: this._.dialog
                            })
                    },
                    enable: function() {
                        this._.disabled = !1;
                        var t = this.getElement();
                        t && t.removeClass("cke_disabled")
                    },
                    disable: function() {
                        this._.disabled = !0, this.getElement().addClass("cke_disabled")
                    },
                    isVisible: function() {
                        return this.getElement().getFirst().isVisible()
                    },
                    isEnabled: function() {
                        return !this._.disabled
                    },
                    eventProcessors: CKEDITOR.tools.extend({}, CKEDITOR.ui.dialog.uiElement.prototype.eventProcessors, {
                        onClick: function(t, e) {
                            this.on("click", function() {
                                e.apply(this, arguments)
                            })
                        }
                    }, !0),
                    accessKeyUp: function() {
                        this.click()
                    },
                    accessKeyDown: function() {
                        this.focus()
                    },
                    keyboardFocusable: !0
                }, !0), CKEDITOR.ui.dialog.textInput.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, {
                    getInputElement: function() {
                        return CKEDITOR.document.getById(this._.inputId)
                    },
                    focus: function() {
                        var t = this.selectParentTab();
                        setTimeout(function() {
                            var e = t.getInputElement();
                            e && e.$.focus()
                        }, 0)
                    },
                    select: function() {
                        var t = this.selectParentTab();
                        setTimeout(function() {
                            var e = t.getInputElement();
                            e && (e.$.focus(), e.$.select())
                        }, 0)
                    },
                    accessKeyUp: function() {
                        this.select()
                    },
                    setValue: function(t) {
                        if (this.bidi) {
                            var e = t && t.charAt(0);
                            (e = "\u202a" == e ? "ltr" : "\u202b" == e ? "rtl" : null) && (t = t.slice(1)), this.setDirectionMarker(e)
                        }
                        return t || (t = ""), CKEDITOR.ui.dialog.uiElement.prototype.setValue.apply(this, arguments)
                    },
                    getValue: function() {
                        var t = CKEDITOR.ui.dialog.uiElement.prototype.getValue.call(this);
                        if (this.bidi && t) {
                            var e = this.getDirectionMarker();
                            e && (t = ("ltr" == e ? "\u202a" : "\u202b") + t)
                        }
                        return t
                    },
                    setDirectionMarker: function(t) {
                        var e = this.getInputElement();
                        t ? e.setAttributes({
                            dir: t,
                            "data-cke-dir-marker": t
                        }) : this.getDirectionMarker() && e.removeAttributes(["dir", "data-cke-dir-marker"])
                    },
                    getDirectionMarker: function() {
                        return this.getInputElement().data("cke-dir-marker")
                    },
                    keyboardFocusable: !0
                }, i, !0), CKEDITOR.ui.dialog.textarea.prototype = new CKEDITOR.ui.dialog.textInput, CKEDITOR.ui.dialog.select.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, {
                    getInputElement: function() {
                        return this._.select.getElement()
                    },
                    add: function(t, e, n) {
                        var i = new CKEDITOR.dom.element("option", this.getDialog().getParentEditor().document),
                            o = this.getInputElement().$;
                        return i.$.text = t, i.$.value = void 0 === e || null === e ? t : e, void 0 === n || null === n ? CKEDITOR.env.ie ? o.add(i.$) : o.add(i.$, null) : o.add(i.$, n), this
                    },
                    remove: function(t) {
                        return this.getInputElement().$.remove(t), this
                    },
                    clear: function() {
                        for (var t = this.getInputElement().$; 0 < t.length;)
                            t.remove(0);
                        return this
                    },
                    keyboardFocusable: !0
                }, i, !0), CKEDITOR.ui.dialog.checkbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                    getInputElement: function() {
                        return this._.checkbox.getElement()
                    },
                    setValue: function(t, e) {
                        this.getInputElement().$.checked = t, !e && this.fire("change", {
                            value: t
                        })
                    },
                    getValue: function() {
                        return this.getInputElement().$.checked
                    },
                    accessKeyUp: function() {
                        this.setValue(!this.getValue())
                    },
                    eventProcessors: {
                        onChange: function(t, e) {
                            return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? o.onChange.apply(this, arguments) : (t.on("load", function() {
                                var t = this._.checkbox.getElement();
                                t.on("propertychange", function(e) {
                                    e = e.data.$, "checked" == e.propertyName && this.fire("change", {
                                        value: t.$.checked
                                    })
                                }, this)
                            }, this), this.on("change", e), null)
                        }
                    },
                    keyboardFocusable: !0
                }, i, !0), CKEDITOR.ui.dialog.radio.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                    setValue: function(t, e) {
                        for (var n = this._.children, i, o = 0; o < n.length && (i = n[o]); o++)
                            i.getElement().$.checked = i.getValue() == t;
                        !e && this.fire("change", {
                            value: t
                        })
                    },
                    getValue: function() {
                        for (var t = this._.children, e = 0; e < t.length; e++)
                            if (t[e].getElement().$.checked)
                                return t[e].getValue();
                        return null
                    },
                    accessKeyUp: function() {
                        var t = this._.children,
                            e;
                        for (e = 0; e < t.length; e++)
                            if (t[e].getElement().$.checked)
                                return void t[e].getElement().focus();
                        t[0].getElement().focus()
                    },
                    eventProcessors: {
                        onChange: function(t, e) {
                            return !CKEDITOR.env.ie || 8 < CKEDITOR.env.version ? o.onChange.apply(this, arguments) : (t.on("load", function() {
                                for (var t = this._.children, e = this, n = 0; n < t.length; n++)
                                    t[n].getElement().on("propertychange", function(t) {
                                        t = t.data.$, "checked" == t.propertyName && this.$.checked && e.fire("change", {
                                            value: this.getAttribute("value")
                                        })
                                    })
                            }, this), this.on("change", e), null)
                        }
                    }
                }, i, !0), CKEDITOR.ui.dialog.file.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.labeledElement, i, {
                    getInputElement: function() {
                        var t = CKEDITOR.document.getById(this._.frameId).getFrameDocument();
                        return 0 < t.$.forms.length ? new CKEDITOR.dom.element(t.$.forms[0].elements[0]) : this.getElement()
                    },
                    submit: function() {
                        return this.getInputElement().getParent().$.submit(), this
                    },
                    getAction: function() {
                        return this.getInputElement().getParent().$.action
                    },
                    registerEvents: function(t) {
                        var e = /^on([A-Z]\w+)/,
                            n,
                            i = function(t, e, n, i) {
                                t.on("formLoaded", function() {
                                    t.getInputElement().on(n, i, t)
                                })
                            },
                            o;
                        for (o in t)
                            (n = o.match(e)) && (this.eventProcessors[o] ? this.eventProcessors[o].call(this, this._.dialog, t[o]) : i(this, this._.dialog, n[1].toLowerCase(), t[o]));
                        return this
                    },
                    reset: function() {
                        function t() {
                            n.$.open();
                            var t = "";
                            i.size && (t = i.size - (CKEDITOR.env.ie ? 7 : 0));
                            var c = e.frameId + "_input";
                            for (n.$.write(['<html dir="' + r + '" lang="' + l + '"><head><title></title></head><body style="margin: 0; overflow: hidden; background: transparent;">', '<form enctype="multipart/form-data" method="POST" dir="' + r + '" lang="' + l + '" action="', CKEDITOR.tools.htmlEncode(i.action), '"><label id="', e.labelId, '" for="', c, '" style="display:none">', CKEDITOR.tools.htmlEncode(i.label), '</label><input style="width:100%" id="', c, '" aria-labelledby="', e.labelId, '" type="file" name="', CKEDITOR.tools.htmlEncode(i.id || "cke_upload"), '" size="', CKEDITOR.tools.htmlEncode(0 < t ? t : ""), '" /></form></body></html><script>', CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "", "window.parent.CKEDITOR.tools.callFunction(" + a + ");", "window.onbeforeunload = function() {window.parent.CKEDITOR.tools.callFunction(" + s + ")}", "</script>"].join("")), n.$.close(), t = 0; t < o.length; t++)
                                o[t].enable()
                        }
                        var e = this._,
                            n = CKEDITOR.document.getById(e.frameId).getFrameDocument(),
                            i = e.definition,
                            o = e.buttons,
                            a = this.formLoadedNumber,
                            s = this.formUnloadNumber,
                            r = e.dialog._.editor.lang.dir,
                            l = e.dialog._.editor.langCode;
                        a || (a = this.formLoadedNumber = CKEDITOR.tools.addFunction(function() {
                            this.fire("formLoaded")
                        }, this), s = this.formUnloadNumber = CKEDITOR.tools.addFunction(function() {
                            this.getInputElement().clearCustomData()
                        }, this), this.getDialog()._.editor.on("destroy", function() {
                            CKEDITOR.tools.removeFunction(a), CKEDITOR.tools.removeFunction(s)
                        })), CKEDITOR.env.gecko ? setTimeout(t, 500) : t()
                    },
                    getValue: function() {
                        return this.getInputElement().$.value || ""
                    },
                    setInitValue: function() {
                        this._.initValue = ""
                    },
                    eventProcessors: {
                        onChange: function(t, e) {
                            this._.domOnChangeRegistered || (this.on("formLoaded", function() {
                                this.getInputElement().on("change", function() {
                                    this.fire("change", {
                                        value: this.getValue()
                                    })
                                }, this)
                            }, this), this._.domOnChangeRegistered = !0), this.on("change", e)
                        }
                    },
                    keyboardFocusable: !0
                }, !0), CKEDITOR.ui.dialog.fileButton.prototype = new CKEDITOR.ui.dialog.button, CKEDITOR.ui.dialog.fieldset.prototype = CKEDITOR.tools.clone(CKEDITOR.ui.dialog.hbox.prototype), CKEDITOR.dialog.addUIElement("text", e), CKEDITOR.dialog.addUIElement("password", e), CKEDITOR.dialog.addUIElement("textarea", n), CKEDITOR.dialog.addUIElement("checkbox", n), CKEDITOR.dialog.addUIElement("radio", n), CKEDITOR.dialog.addUIElement("button", n), CKEDITOR.dialog.addUIElement("select", n), CKEDITOR.dialog.addUIElement("file", n), CKEDITOR.dialog.addUIElement("fileButton", n), CKEDITOR.dialog.addUIElement("html", n), CKEDITOR.dialog.addUIElement("fieldset", {
                    build: function(t, e, n) {
                        for (var i = e.children, o, a = [], s = [], r = 0; r < i.length && (o = i[r]); r++) {
                            var l = [];
                            a.push(l), s.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(t, o, l))
                        }
                        return new CKEDITOR.ui.dialog[e.type](t, s, a, n, e)
                    }
                })
            }
        }), CKEDITOR.DIALOG_RESIZE_NONE = 0, CKEDITOR.DIALOG_RESIZE_WIDTH = 1, CKEDITOR.DIALOG_RESIZE_HEIGHT = 2, CKEDITOR.DIALOG_RESIZE_BOTH = 3, CKEDITOR.DIALOG_STATE_IDLE = 1, CKEDITOR.DIALOG_STATE_BUSY = 2, function() {
            function t() {
                for (var t = this._.tabIdList.length, e = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId) + t, n = e - 1; n > e - t; n--)
                    if (this._.tabs[this._.tabIdList[n % t]][0].$.offsetHeight)
                        return this._.tabIdList[n % t];
                return null
            }
            function e() {
                for (var t = this._.tabIdList.length, e = CKEDITOR.tools.indexOf(this._.tabIdList, this._.currentTabId), n = e + 1; n < e + t; n++)
                    if (this._.tabs[this._.tabIdList[n % t]][0].$.offsetHeight)
                        return this._.tabIdList[n % t];
                return null
            }
            function n(t, e) {
                for (var n = t.$.getElementsByTagName("input"), i = 0, o = n.length; i < o; i++) {
                    var a = new CKEDITOR.dom.element(n[i]);
                    "text" == a.getAttribute("type").toLowerCase() && (e ? (a.setAttribute("value", a.getCustomData("fake_value") || ""), a.removeCustomData("fake_value")) : (a.setCustomData("fake_value", a.getAttribute("value")), a.setAttribute("value", "")))
                }
            }
            function i(t, e) {
                var n = this.getInputElement();
                n && (t ? n.removeAttribute("aria-invalid") : n.setAttribute("aria-invalid", !0)), t || (this.select ? this.select() : this.focus()), e && alert(e), this.fire("validated", {
                    valid: t,
                    msg: e
                })
            }
            function o() {
                var t = this.getInputElement();
                t && t.removeAttribute("aria-invalid")
            }
            function a(t) {
                var e = CKEDITOR.dom.element.createFromHtml(CKEDITOR.addTemplate("dialog", m).output({
                        id: CKEDITOR.tools.getNextNumber(),
                        editorId: t.id,
                        langDir: t.lang.dir,
                        langCode: t.langCode,
                        editorDialogClass: "cke_editor_" + t.name.replace(/\./g, "\\.") + "_dialog",
                        closeTitle: t.lang.common.close,
                        hidpi: CKEDITOR.env.hidpi ? "cke_hidpi" : ""
                    })),
                    n = e.getChild([0, 0, 0, 0, 0]),
                    i = n.getChild(0),
                    o = n.getChild(1);
                return t.plugins.clipboard && CKEDITOR.plugins.clipboard.preventDefaultDropOnElement(n), !CKEDITOR.env.ie || CKEDITOR.env.quirks || CKEDITOR.env.edge || (t = "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())", CKEDITOR.dom.element.createFromHtml('<iframe frameBorder="0" class="cke_iframe_shim" src="' + t + '" tabIndex="-1"></iframe>').appendTo(n.getParent())), i.unselectable(), o.unselectable(), {
                    element: e,
                    parts: {
                        dialog: e.getChild(0),
                        title: i,
                        close: o,
                        tabs: n.getChild(2),
                        contents: n.getChild([3, 0, 0, 0]),
                        footer: n.getChild([3, 0, 1, 0])
                    }
                }
            }
            function s(t, e, n) {
                this.element = e, this.focusIndex = n, this.tabIndex = 0, this.isFocusable = function() {
                    return !e.getAttribute("disabled") && e.isVisible()
                }, this.focus = function() {
                    t._.currentFocusIndex = this.focusIndex, this.element.focus()
                }, e.on("keydown", function(t) {
                    t.data.getKeystroke() in {
                        32: 1,
                        13: 1
                    } && this.fire("click")
                }), e.on("focus", function() {
                    this.fire("mouseover")
                }), e.on("blur", function() {
                    this.fire("mouseout")
                })
            }
            function r(t) {
                function e() {
                    t.layout()
                }
                var n = CKEDITOR.document.getWindow();
                n.on("resize", e), t.on("hide", function() {
                    n.removeListener("resize", e)
                })
            }
            function l(t, e) {
                this._ = {
                    dialog: t
                }, CKEDITOR.tools.extend(this, e)
            }
            function c(t) {
                function e(e) {
                    var n = t.getSize(),
                        l = CKEDITOR.document.getWindow().getViewPaneSize(),
                        c = e.data.$.screenX,
                        u = e.data.$.screenY,
                        d = c - i.x,
                        h = u - i.y;
                    i = {
                        x: c,
                        y: u
                    }, o.x += d, o.y += h, t.move(o.x + r[3] < s ? -r[3] : o.x - r[1] > l.width - n.width - s ? l.width - n.width + ("rtl" == a.lang.dir ? 0 : r[1]) : o.x, o.y + r[0] < s ? -r[0] : o.y - r[2] > l.height - n.height - s ? l.height - n.height + r[2] : o.y, 1), e.data.preventDefault()
                }
                function n() {
                    if (CKEDITOR.document.removeListener("mousemove", e), CKEDITOR.document.removeListener("mouseup", n), CKEDITOR.env.ie6Compat) {
                        var t = _.getChild(0).getFrameDocument();
                        t.removeListener("mousemove", e), t.removeListener("mouseup", n)
                    }
                }
                var i = null,
                    o = null,
                    a = t.getParentEditor(),
                    s = a.config.dialog_magnetDistance,
                    r = CKEDITOR.skin.margins || [0, 0, 0, 0];
                void 0 === s && (s = 20), t.parts.title.on("mousedown", function(a) {
                    if (i = {
                        x: a.data.$.screenX,
                        y: a.data.$.screenY
                    }, CKEDITOR.document.on("mousemove", e), CKEDITOR.document.on("mouseup", n), o = t.getPosition(), CKEDITOR.env.ie6Compat) {
                        var s = _.getChild(0).getFrameDocument();
                        s.on("mousemove", e), s.on("mouseup", n)
                    }
                    a.data.preventDefault()
                }, t)
            }
            function u(t) {
                function e(e) {
                    var n = "rtl" == a.lang.dir,
                        d = u.width,
                        h = u.height,
                        f = d + (e.data.$.screenX - c.x) * (n ? -1 : 1) * (t._.moved ? 1 : 2),
                        p = h + (e.data.$.screenY - c.y) * (t._.moved ? 1 : 2),
                        m = t._.element.getFirst(),
                        m = n && m.getComputedStyle("right"),
                        g = t.getPosition();
                    g.y + p > l.height && (p = l.height - g.y), (n ? m : g.x) + f > l.width && (f = l.width - (n ? m : g.x)), o != CKEDITOR.DIALOG_RESIZE_WIDTH && o != CKEDITOR.DIALOG_RESIZE_BOTH || (d = Math.max(i.minWidth || 0, f - s)), o != CKEDITOR.DIALOG_RESIZE_HEIGHT && o != CKEDITOR.DIALOG_RESIZE_BOTH || (h = Math.max(i.minHeight || 0, p - r)), t.resize(d, h), t._.moved || t.layout(), e.data.preventDefault()
                }
                function n() {
                    if (CKEDITOR.document.removeListener("mouseup", n), CKEDITOR.document.removeListener("mousemove", e), d && (d.remove(), d = null), CKEDITOR.env.ie6Compat) {
                        var t = _.getChild(0).getFrameDocument();
                        t.removeListener("mouseup", n), t.removeListener("mousemove", e)
                    }
                }
                var i = t.definition,
                    o = i.resizable;
                if (o != CKEDITOR.DIALOG_RESIZE_NONE) {
                    var a = t.getParentEditor(),
                        s,
                        r,
                        l,
                        c,
                        u,
                        d,
                        h = CKEDITOR.tools.addFunction(function(i) {
                            u = t.getSize();
                            var o = t.parts.contents;
                            o.$.getElementsByTagName("iframe").length && (d = CKEDITOR.dom.element.createFromHtml('<div class="cke_dialog_resize_cover" style="height: 100%; position: absolute; width: 100%;"></div>'), o.append(d)), r = u.height - t.parts.contents.getSize("height", !(CKEDITOR.env.gecko || CKEDITOR.env.ie && CKEDITOR.env.quirks)), s = u.width - t.parts.contents.getSize("width", 1), c = {
                                x: i.screenX,
                                y: i.screenY
                            }, l = CKEDITOR.document.getWindow().getViewPaneSize(), CKEDITOR.document.on("mousemove", e), CKEDITOR.document.on("mouseup", n), CKEDITOR.env.ie6Compat && (o = _.getChild(0).getFrameDocument(), o.on("mousemove", e), o.on("mouseup", n)), i.preventDefault && i.preventDefault()
                        });
                    t.on("load", function() {
                        var e = "";
                        o == CKEDITOR.DIALOG_RESIZE_WIDTH ? e = " cke_resizer_horizontal" : o == CKEDITOR.DIALOG_RESIZE_HEIGHT && (e = " cke_resizer_vertical"), e = CKEDITOR.dom.element.createFromHtml('<div class="cke_resizer' + e + " cke_resizer_" + a.lang.dir + '" title="' + CKEDITOR.tools.htmlEncode(a.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + h + ', event )">' + ("ltr" == a.lang.dir ? "\u25e2" : "\u25e3") + "</div>"), t.parts.footer.append(e, 1)
                    }), a.on("destroy", function() {
                        CKEDITOR.tools.removeFunction(h)
                    })
                }
            }
            function d(t) {
                t.data.preventDefault(1)
            }
            function h(t) {
                var e = CKEDITOR.document.getWindow(),
                    n = t.config,
                    i = CKEDITOR.skinName || t.config.skin,
                    o = n.dialog_backgroundCoverColor || ("moono-lisa" == i ? "black" : "white"),
                    i = n.dialog_backgroundCoverOpacity,
                    a = n.baseFloatZIndex,
                    n = CKEDITOR.tools.genKey(o, i, a),
                    s = C[n];
                s ? s.show() : (a = ['<div tabIndex="-1" style="position: ', CKEDITOR.env.ie6Compat ? "absolute" : "fixed", "; z-index: ", a, "; top: 0px; left: 0px; ", CKEDITOR.env.ie6Compat ? "" : "background-color: " + o, '" class="cke_dialog_background_cover">'], CKEDITOR.env.ie6Compat && (o = "<html><body style=\\'background-color:" + o + ";\\'></body></html>", a.push('<iframe hidefocus="true" frameborder="0" id="cke_dialog_background_iframe" src="javascript:'), a.push("void((function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.write( '" + o + "' );document.close();") + "})())"), a.push('" style="position:absolute;left:0;top:0;width:100%;height: 100%;filter: progid:DXImageTransform.Microsoft.Alpha(opacity=0)"></iframe>')), a.push("</div>"), s = CKEDITOR.dom.element.createFromHtml(a.join("")), s.setOpacity(void 0 !== i ? i : .5), s.on("keydown", d), s.on("keypress", d), s.on("keyup", d), s.appendTo(CKEDITOR.document.getBody()), C[n] = s), t.focusManager.add(s), _ = s, t = function() {
                    var t = e.getViewPaneSize();
                    s.setStyles({
                        width: t.width + "px",
                        height: t.height + "px"
                    })
                };
                var r = function() {
                    var t = e.getScrollPosition(),
                        n = CKEDITOR.dialog._.currentTop;
                    if (s.setStyles({
                        left: t.x + "px",
                        top: t.y + "px"
                    }), n)
                        do {
                            t = n.getPosition(), n.move(t.x, t.y)
                        } while (n = n._.parentDialog)
                };
                if (T = t, e.on("resize", t), t(), CKEDITOR.env.mac && CKEDITOR.env.webkit || s.focus(), CKEDITOR.env.ie6Compat) {
                    var l = function() {
                        r(), arguments.callee.prevScrollHandler.apply(this, arguments)
                    };
                    e.$.setTimeout(function() {
                        l.prevScrollHandler = window.onscroll || function() {}, window.onscroll = l
                    }, 0), r()
                }
            }
            function f(t) {
                _ && (t.focusManager.remove(_), t = CKEDITOR.document.getWindow(), _.hide(), t.removeListener("resize", T), CKEDITOR.env.ie6Compat && t.$.setTimeout(function() {
                    window.onscroll = window.onscroll && window.onscroll.prevScrollHandler || null
                }, 0), T = null)
            }
            var p = CKEDITOR.tools.cssLength,
                m = '<div class="cke_reset_all {editorId} {editorDialogClass} {hidpi}" dir="{langDir}" lang="{langCode}" role="dialog" aria-labelledby="cke_dialog_title_{id}"><table class="cke_dialog ' + CKEDITOR.env.cssClass + ' cke_{langDir}" style="position:absolute" role="presentation"><tr><td role="presentation"><div class="cke_dialog_body" role="presentation"><div id="cke_dialog_title_{id}" class="cke_dialog_title" role="presentation"></div><a id="cke_dialog_close_button_{id}" class="cke_dialog_close_button" href="javascript:void(0)" title="{closeTitle}" role="button"><span class="cke_label">X</span></a><div id="cke_dialog_tabs_{id}" class="cke_dialog_tabs" role="tablist"></div><table class="cke_dialog_contents" role="presentation"><tr><td id="cke_dialog_contents_{id}" class="cke_dialog_contents_body" role="presentation"></td></tr><tr><td id="cke_dialog_footer_{id}" class="cke_dialog_footer" role="presentation"></td></tr></table></div></td></tr></table></div>';
            CKEDITOR.dialog = function(n, s) {
                function r() {
                    var t = _._.focusList;
                    t.sort(function(t, e) {
                        return t.tabIndex != e.tabIndex ? e.tabIndex - t.tabIndex : t.focusIndex - e.focusIndex
                    });
                    for (var e = t.length, n = 0; n < e; n++)
                        t[n].focusIndex = n
                }
                function l(t) {
                    var e = _._.focusList;
                    if (t = t || 0, !(1 > e.length)) {
                        var n = _._.currentFocusIndex;
                        _._.tabBarMode && 0 > t && (n = 0);
                        try {
                            e[n].getInputElement().$.blur()
                        } catch (t) {}
                        var i = n,
                            o = 1 < _._.pageCount;
                        do {
                            if (i += t, o && !_._.tabBarMode && (i == e.length || -1 == i))
                                return _._.tabBarMode = !0, _._.tabs[_._.currentTabId][0].focus(), void (_._.currentFocusIndex = -1);
                            if ((i = (i + e.length) % e.length) == n)
                                break
                        } while (t && !e[i].isFocusable());
                        e[i].focus(), "text" == e[i].type && e[i].select()
                    }
                }
                function d(i) {
                    if (_ == CKEDITOR.dialog._.currentTop) {
                        var o = i.data.getKeystroke(),
                            a = "rtl" == n.lang.dir,
                            s = [37, 38, 39, 40];
                        if (E = T = 0, 9 == o || o == CKEDITOR.SHIFT + 9)
                            l(o == CKEDITOR.SHIFT + 9 ? -1 : 1), E = 1;
                        else if (o == CKEDITOR.ALT + 121 && !_._.tabBarMode && 1 < _.getPageCount())
                            _._.tabBarMode = !0, _._.tabs[_._.currentTabId][0].focus(), _._.currentFocusIndex = -1, E = 1;
                        else if (-1 != CKEDITOR.tools.indexOf(s, o) && _._.tabBarMode)
                            o = -1 != CKEDITOR.tools.indexOf([a ? 39 : 37, 38], o) ? t.call(_) : e.call(_), _.selectPage(o), _._.tabs[o][0].focus(), E = 1;
                        else if (13 != o && 32 != o || !_._.tabBarMode)
                            if (13 == o)
                                o = i.data.getTarget(), o.is("a", "button", "select", "textarea") || o.is("input") && "button" == o.$.type || ((o = this.getButton("ok")) && CKEDITOR.tools.setTimeout(o.click, 0, o), E = 1), T = 1;
                            else {
                                if (27 != o)
                                    return
                                    ;
                                (o = this.getButton("cancel")) ? CKEDITOR.tools.setTimeout(o.click, 0, o) : !1 !== this.fire("cancel", {
                                    hide: !0
                                }).hide && this.hide(), T = 1
                            }
                        else
                            this.selectPage(this._.currentTabId), this._.tabBarMode = !1, this._.currentFocusIndex = -1, l(1), E = 1;
                        h(i)
                    }
                }
                function h(t) {
                    E ? t.data.preventDefault(1) : T && t.data.stopPropagation()
                }
                var f = CKEDITOR.dialog._.dialogDefinitions[s],
                    p = CKEDITOR.tools.clone(g),
                    m = n.config.dialog_buttonsOrder || "OS",
                    v = n.lang.dir,
                    b = {},
                    E,
                    T;
                if (("OS" == m && CKEDITOR.env.mac || "rtl" == m && "ltr" == v || "ltr" == m && "rtl" == v) && p.buttons.reverse(), f = CKEDITOR.tools.extend(f(n), p), f = CKEDITOR.tools.clone(f), f = new y(this, f), p = a(n), this._ = {
                    editor: n,
                    element: p.element,
                    name: s,
                    contentSize: {
                        width: 0,
                        height: 0
                    },
                    size: {
                        width: 0,
                        height: 0
                    },
                    contents: {},
                    buttons: {},
                    accessKeyMap: {},
                    tabs: {},
                    tabIdList: [],
                    currentTabId: null,
                    currentTabIndex: null,
                    pageCount: 0,
                    lastTab: null,
                    tabBarMode: !1,
                    focusList: [],
                    currentFocusIndex: 0,
                    hasFocus: !1
                }, this.parts = p.parts, CKEDITOR.tools.setTimeout(function() {
                    n.fire("ariaWidget", this.parts.contents)
                }, 0, this), p = {
                    position: CKEDITOR.env.ie6Compat ? "absolute" : "fixed",
                    top: 0,
                    visibility: "hidden"
                }, p["rtl" == v ? "right" : "left"] = 0, this.parts.dialog.setStyles(p), CKEDITOR.event.call(this), this.definition = f = CKEDITOR.fire("dialogDefinition", {
                    name: s,
                    definition: f
                }, n).definition, !("removeDialogTabs" in n._) && n.config.removeDialogTabs) {
                    for (p = n.config.removeDialogTabs.split(";"), v = 0; v < p.length; v++)
                        if (m = p[v].split(":"), 2 == m.length) {
                            var C = m[0];
                            b[C] || (b[C] = []), b[C].push(m[1])
                        }
                    n._.removeDialogTabs = b
                }
                if (n._.removeDialogTabs && (b = n._.removeDialogTabs[s]))
                    for (v = 0; v < b.length; v++)
                        f.removeContents(b[v]);
                f.onLoad && this.on("load", f.onLoad), f.onShow && this.on("show", f.onShow), f.onHide && this.on("hide", f.onHide), f.onOk && this.on("ok", function(t) {
                    n.fire("saveSnapshot"), setTimeout(function() {
                        n.fire("saveSnapshot")
                    }, 0), !1 === f.onOk.call(this, t) && (t.data.hide = !1)
                }), this.state = CKEDITOR.DIALOG_STATE_IDLE, f.onCancel && this.on("cancel", function(t) {
                    !1 === f.onCancel.call(this, t) && (t.data.hide = !1)
                });
                var _ = this,
                    D = function(t) {
                        var e = _._.contents,
                            n = !1,
                            i;
                        for (i in e)
                            for (var o in e[i])
                                if (n = t.call(this, e[i][o]))
                                    return
                    };
                this.on("ok", function(t) {
                    D(function(e) {
                        if (e.validate) {
                            var n = e.validate(this),
                                o = "string" == typeof n || !1 === n;
                            return o && (t.data.hide = !1, t.stop()), i.call(e, !o, "string" == typeof n ? n : void 0), o
                        }
                    })
                }, this, null, 0), this.on("cancel", function(t) {
                    D(function(e) {
                        if (e.isChanged())
                            return n.config.dialog_noConfirmCancel || confirm(n.lang.common.confirmCancel) || (t.data.hide = !1), !0
                    })
                }, this, null, 0), this.parts.close.on("click", function(t) {
                    !1 !== this.fire("cancel", {
                        hide: !0
                    }).hide && this.hide(), t.data.preventDefault()
                }, this), this.changeFocus = l;
                var I = this._.element;
                for (n.focusManager.add(I, 1), this.on("show", function() {
                    I.on("keydown", d, this), CKEDITOR.env.gecko && I.on("keypress", h, this)
                }), this.on("hide", function() {
                    I.removeListener("keydown", d), CKEDITOR.env.gecko && I.removeListener("keypress", h), D(function(t) {
                        o.apply(t)
                    })
                }), this.on("iframeAdded", function(t) {
                    new CKEDITOR.dom.document(t.data.iframe.$.contentWindow.document).on("keydown", d, this, null, 0)
                }), this.on("show", function() {
                    r();
                    var t = 1 < _._.pageCount;
                    n.config.dialog_startupFocusTab && t ? (_._.tabBarMode = !0, _._.tabs[_._.currentTabId][0].focus(), _._.currentFocusIndex = -1) : this._.hasFocus || (this._.currentFocusIndex = t ? -1 : this._.focusList.length - 1, f.onFocus ? (t = f.onFocus.call(this)) && t.focus() : l(1))
                }, this, null, 4294967295), CKEDITOR.env.ie6Compat && this.on("load", function() {
                    var t = this.getElement(),
                        e = t.getFirst();
                    e.remove(), e.appendTo(t)
                }, this), c(this), u(this), new CKEDITOR.dom.text(f.title, CKEDITOR.document).appendTo(this.parts.title), v = 0; v < f.contents.length; v++)
                    (b = f.contents[v]) && this.addPage(b);
                for (this.parts.tabs.on("click", function(t) {
                    var e = t.data.getTarget();
                    e.hasClass("cke_dialog_tab") && (e = e.$.id, this.selectPage(e.substring(4, e.lastIndexOf("_"))), this._.tabBarMode && (this._.tabBarMode = !1, this._.currentFocusIndex = -1, l(1)), t.data.preventDefault())
                }, this), v = [], b = CKEDITOR.dialog._.uiElementBuilders.hbox.build(this, {
                    type: "hbox",
                    className: "cke_dialog_footer_buttons",
                    widths: [],
                    children: f.buttons
                }, v).getChild(), this.parts.footer.setHtml(v.join("")), v = 0; v < b.length; v++)
                    this._.buttons[b[v].id] = b[v]
            }, CKEDITOR.dialog.prototype = {
                destroy: function() {
                    this.hide(), this._.element.remove()
                },
                resize: function() {
                    return function(t, e) {
                        this._.contentSize && this._.contentSize.width == t && this._.contentSize.height == e || (CKEDITOR.dialog.fire("resize", {
                            dialog: this,
                            width: t,
                            height: e
                        }, this._.editor), this.fire("resize", {
                            width: t,
                            height: e
                        }, this._.editor), this.parts.contents.setStyles({
                            width: t + "px",
                            height: e + "px"
                        }), "rtl" == this._.editor.lang.dir && this._.position && (this._.position.x = CKEDITOR.document.getWindow().getViewPaneSize().width - this._.contentSize.width - parseInt(this._.element.getFirst().getStyle("right"), 10)), this._.contentSize = {
                            width: t,
                            height: e
                        })
                    }
                }(),
                getSize: function() {
                    var t = this._.element.getFirst();
                    return {
                        width: t.$.offsetWidth || 0,
                        height: t.$.offsetHeight || 0
                    }
                },
                move: function(t, e, n) {
                    var i = this._.element.getFirst(),
                        o = "rtl" == this._.editor.lang.dir,
                        a = "fixed" == i.getComputedStyle("position");
                    CKEDITOR.env.ie && i.setStyle("zoom", "100%"), a && this._.position && this._.position.x == t && this._.position.y == e || (this._.position = {
                        x: t,
                        y: e
                    }, a || (a = CKEDITOR.document.getWindow().getScrollPosition(), t += a.x, e += a.y), o && (a = this.getSize(), t = CKEDITOR.document.getWindow().getViewPaneSize().width - a.width - t), e = {
                        top: (0 < e ? e : 0) + "px"
                    }, e[o ? "right" : "left"] = (0 < t ? t : 0) + "px", i.setStyles(e), n && (this._.moved = 1))
                },
                getPosition: function() {
                    return CKEDITOR.tools.extend({}, this._.position)
                },
                show: function() {
                    var t = this._.element,
                        e = this.definition;
                    t.getParent() && t.getParent().equals(CKEDITOR.document.getBody()) ? t.setStyle("display", "block") : t.appendTo(CKEDITOR.document.getBody()), this.resize(this._.contentSize && this._.contentSize.width || e.width || e.minWidth, this._.contentSize && this._.contentSize.height || e.height || e.minHeight), this.reset(), this.selectPage(this.definition.contents[0].id), null === CKEDITOR.dialog._.currentZIndex && (CKEDITOR.dialog._.currentZIndex = this._.editor.config.baseFloatZIndex), this._.element.getFirst().setStyle("z-index", CKEDITOR.dialog._.currentZIndex += 10), null === CKEDITOR.dialog._.currentTop ? (CKEDITOR.dialog._.currentTop = this, this._.parentDialog = null, h(this._.editor)) : (this._.parentDialog = CKEDITOR.dialog._.currentTop, this._.parentDialog.getElement().getFirst().$.style.zIndex -= Math.floor(this._.editor.config.baseFloatZIndex / 2), CKEDITOR.dialog._.currentTop = this), t.on("keydown", I), t.on("keyup", O), this._.hasFocus = !1;
                    for (var n in e.contents)
                        if (e.contents[n]) {
                            var t = e.contents[n],
                                i = this._.tabs[t.id],
                                o = t.requiredContent,
                                a = 0;
                            if (i) {
                                for (var s in this._.contents[t.id]) {
                                    var l = this._.contents[t.id][s];
                                    "hbox" != l.type && "vbox" != l.type && l.getInputElement() && (l.requiredContent && !this._.editor.activeFilter.check(l.requiredContent) ? l.disable() : (l.enable(), a++))
                                }
                                !a || o && !this._.editor.activeFilter.check(o) ? i[0].addClass("cke_dialog_tab_disabled") : i[0].removeClass("cke_dialog_tab_disabled")
                            }
                        }
                    CKEDITOR.tools.setTimeout(function() {
                        this.layout(), r(this), this.parts.dialog.setStyle("visibility", ""), this.fireOnce("load", {}), CKEDITOR.ui.fire("ready", this), this.fire("show", {}), this._.editor.fire("dialogShow", this), this._.parentDialog || this._.editor.focusManager.lock(), this.foreach(function(t) {
                            t.setInitValue && t.setInitValue()
                        })
                    }, 100, this)
                },
                layout: function() {
                    var t = this.parts.dialog,
                        e = this.getSize(),
                        n = CKEDITOR.document.getWindow().getViewPaneSize(),
                        i = (n.width - e.width) / 2,
                        o = (n.height - e.height) / 2;
                    CKEDITOR.env.ie6Compat || (e.height + (0 < o ? o : 0) > n.height || e.width + (0 < i ? i : 0) > n.width ? t.setStyle("position", "absolute") : t.setStyle("position", "fixed")), this.move(this._.moved ? this._.position.x : i, this._.moved ? this._.position.y : o)
                },
                foreach: function(t) {
                    for (var e in this._.contents)
                        for (var n in this._.contents[e])
                            t.call(this, this._.contents[e][n]);
                    return this
                },
                reset: function() {
                    var t = function(t) {
                        t.reset && t.reset(1)
                    };
                    return function() {
                        return this.foreach(t), this
                    }
                }(),
                setupContent: function() {
                    var t = arguments;
                    this.foreach(function(e) {
                        e.setup && e.setup.apply(e, t)
                    })
                },
                commitContent: function() {
                    var t = arguments;
                    this.foreach(function(e) {
                        CKEDITOR.env.ie && this._.currentFocusIndex == e.focusIndex && e.getInputElement().$.blur(), e.commit && e.commit.apply(e, t)
                    })
                },
                hide: function() {
                    if (this.parts.dialog.isVisible()) {
                        this.fire("hide", {}), this._.editor.fire("dialogHide", this), this.selectPage(this._.tabIdList[0]);
                        var t = this._.element;
                        for (t.setStyle("display", "none"), this.parts.dialog.setStyle("visibility", "hidden"), k(this); CKEDITOR.dialog._.currentTop != this;)
                            CKEDITOR.dialog._.currentTop.hide();
                        if (this._.parentDialog) {
                            var e = this._.parentDialog.getElement().getFirst();
                            e.setStyle("z-index", parseInt(e.$.style.zIndex, 10) + Math.floor(this._.editor.config.baseFloatZIndex / 2))
                        } else
                            f(this._.editor);
                        if (CKEDITOR.dialog._.currentTop = this._.parentDialog)
                            CKEDITOR.dialog._.currentZIndex -= 10;
                        else {
                            CKEDITOR.dialog._.currentZIndex = null, t.removeListener("keydown", I), t.removeListener("keyup", O);
                            var n = this._.editor;
                            n.focus(), setTimeout(function() {
                                n.focusManager.unlock(), CKEDITOR.env.iOS && n.window.focus()
                            }, 0)
                        }
                        delete this._.parentDialog, this.foreach(function(t) {
                            t.resetInitValue && t.resetInitValue()
                        }), this.setState(CKEDITOR.DIALOG_STATE_IDLE)
                    }
                },
                addPage: function(t) {
                    if (!t.requiredContent || this._.editor.filter.check(t.requiredContent)) {
                        for (var e = [], n = t.label ? ' title="' + CKEDITOR.tools.htmlEncode(t.label) + '"' : "", i = CKEDITOR.dialog._.uiElementBuilders.vbox.build(this, {
                                type: "vbox",
                                className: "cke_dialog_page_contents",
                                children: t.elements,
                                expand: !!t.expand,
                                padding: t.padding,
                                style: t.style || "width: 100%;"
                            }, e), o = this._.contents[t.id] = {}, a = i.getChild(), s = 0; i = a.shift();)
                            i.notAllowed || "hbox" == i.type || "vbox" == i.type || s++, o[i.id] = i, "function" == typeof i.getChild && a.push.apply(a, i.getChild());
                        s || (t.hidden = !0), e = CKEDITOR.dom.element.createFromHtml(e.join("")), e.setAttribute("role", "tabpanel"), i = CKEDITOR.env, o = "cke_" + t.id + "_" + CKEDITOR.tools.getNextNumber(), n = CKEDITOR.dom.element.createFromHtml(['<a class="cke_dialog_tab"', 0 < this._.pageCount ? " cke_last" : "cke_first", n, t.hidden ? ' style="display:none"' : "", ' id="', o, '"', i.gecko && !i.hc ? "" : ' href="javascript:void(0)"', ' tabIndex="-1" hidefocus="true" role="tab">', t.label, "</a>"].join("")), e.setAttribute("aria-labelledby", o), this._.tabs[t.id] = [n, e], this._.tabIdList.push(t.id), !t.hidden && this._.pageCount++, this._.lastTab = n, this.updateStyle(), e.setAttribute("name", t.id), e.appendTo(this.parts.contents), n.unselectable(), this.parts.tabs.append(n), t.accessKey && (R(this, this, "CTRL+" + t.accessKey, x, w), this._.accessKeyMap["CTRL+" + t.accessKey] = t.id)
                    }
                },
                selectPage: function(t) {
                    if (this._.currentTabId != t && !this._.tabs[t][0].hasClass("cke_dialog_tab_disabled") && !1 !== this.fire("selectPage", {
                        page: t,
                        currentPage: this._.currentTabId
                    })) {
                        for (var e in this._.tabs) {
                            var i = this._.tabs[e][0],
                                o = this._.tabs[e][1];
                            e != t && (i.removeClass("cke_dialog_tab_selected"), o.hide()), o.setAttribute("aria-hidden", e != t)
                        }
                        var a = this._.tabs[t];
                        a[0].addClass("cke_dialog_tab_selected"), CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ? (n(a[1]), a[1].show(), setTimeout(function() {
                            n(a[1], 1)
                        }, 0)) : a[1].show(), this._.currentTabId = t, this._.currentTabIndex = CKEDITOR.tools.indexOf(this._.tabIdList, t)
                    }
                },
                updateStyle: function() {
                    this.parts.dialog[(1 === this._.pageCount ? "add" : "remove") + "Class"]("cke_single_page")
                },
                hidePage: function(e) {
                    var n = this._.tabs[e] && this._.tabs[e][0];
                    n && 1 != this._.pageCount && n.isVisible() && (e == this._.currentTabId && this.selectPage(t.call(this)), n.hide(), this._.pageCount--, this.updateStyle())
                },
                showPage: function(t) {
                    (t = this._.tabs[t] && this._.tabs[t][0]) && (t.show(), this._.pageCount++, this.updateStyle())
                },
                getElement: function() {
                    return this._.element
                },
                getName: function() {
                    return this._.name
                },
                getContentElement: function(t, e) {
                    var n = this._.contents[t];
                    return n && n[e]
                },
                getValueOf: function(t, e) {
                    return this.getContentElement(t, e).getValue()
                },
                setValueOf: function(t, e, n) {
                    return this.getContentElement(t, e).setValue(n)
                },
                getButton: function(t) {
                    return this._.buttons[t]
                },
                click: function(t) {
                    return this._.buttons[t].click()
                },
                disableButton: function(t) {
                    return this._.buttons[t].disable()
                },
                enableButton: function(t) {
                    return this._.buttons[t].enable()
                },
                getPageCount: function() {
                    return this._.pageCount
                },
                getParentEditor: function() {
                    return this._.editor
                },
                getSelectedElement: function() {
                    return this.getParentEditor().getSelection().getSelectedElement()
                },
                addFocusable: function(t, e) {
                    if (void 0 === e)
                        e = this._.focusList.length, this._.focusList.push(new s(this, t, e));
                    else {
                        this._.focusList.splice(e, 0, new s(this, t, e));
                        for (var n = e + 1; n < this._.focusList.length; n++)
                            this._.focusList[n].focusIndex++
                    }
                },
                setState: function(t) {
                    if (this.state != t) {
                        if (this.state = t, t == CKEDITOR.DIALOG_STATE_BUSY) {
                            if (!this.parts.spinner) {
                                var e = this.getParentEditor().lang.dir,
                                    n = {
                                        attributes: {
                                            "class": "cke_dialog_spinner"
                                        },
                                        styles: {
                                            "float": "rtl" == e ? "right" : "left"
                                        }
                                    };
                                n.styles["margin-" + ("rtl" == e ? "left" : "right")] = "8px", this.parts.spinner = CKEDITOR.document.createElement("div", n), this.parts.spinner.setHtml("&#8987;"), this.parts.spinner.appendTo(this.parts.title, 1)
                            }
                            this.parts.spinner.show(), this.getButton("ok").disable()
                        } else
                            t == CKEDITOR.DIALOG_STATE_IDLE && (this.parts.spinner && this.parts.spinner.hide(), this.getButton("ok").enable());
                        this.fire("state", t)
                    }
                }
            }, CKEDITOR.tools.extend(CKEDITOR.dialog, {
                add: function(t, e) {
                    this._.dialogDefinitions[t] && "function" != typeof e || (this._.dialogDefinitions[t] = e)
                },
                exists: function(t) {
                    return !!this._.dialogDefinitions[t]
                },
                getCurrent: function() {
                    return CKEDITOR.dialog._.currentTop
                },
                isTabEnabled: function(t, e, n) {
                    return !((t = t.config.removeDialogTabs) && t.match(new RegExp("(?:^|;)" + e + ":" + n + "(?:$|;)", "i")))
                },
                okButton: function() {
                    var t = function(t, e) {
                        return e = e || {}, CKEDITOR.tools.extend({
                            id: "ok",
                            type: "button",
                            label: t.lang.common.ok,
                            "class": "cke_dialog_ui_button_ok",
                            onClick: function(t) {
                                t = t.data.dialog, !1 !== t.fire("ok", {
                                    hide: !0
                                }).hide && t.hide()
                            }
                        }, e, !0)
                    };
                    return t.type = "button", t.override = function(e) {
                        return CKEDITOR.tools.extend(function(n) {
                            return t(n, e)
                        }, {
                            type: "button"
                        }, !0)
                    }, t
                }(),
                cancelButton: function() {
                    var t = function(t, e) {
                        return e = e || {}, CKEDITOR.tools.extend({
                            id: "cancel",
                            type: "button",
                            label: t.lang.common.cancel,
                            "class": "cke_dialog_ui_button_cancel",
                            onClick: function(t) {
                                t = t.data.dialog, !1 !== t.fire("cancel", {
                                    hide: !0
                                }).hide && t.hide()
                            }
                        }, e, !0)
                    };
                    return t.type = "button", t.override = function(e) {
                        return CKEDITOR.tools.extend(function(n) {
                            return t(n, e)
                        }, {
                            type: "button"
                        }, !0)
                    }, t
                }(),
                addUIElement: function(t, e) {
                    this._.uiElementBuilders[t] = e
                }
            }), CKEDITOR.dialog._ = {
                uiElementBuilders: {},
                dialogDefinitions: {},
                currentTop: null,
                currentZIndex: null
            }, CKEDITOR.event.implementOn(CKEDITOR.dialog), CKEDITOR.event.implementOn(CKEDITOR.dialog.prototype);
            var g = {
                    resizable: CKEDITOR.DIALOG_RESIZE_BOTH,
                    minWidth: 600,
                    minHeight: 400,
                    buttons: [CKEDITOR.dialog.okButton, CKEDITOR.dialog.cancelButton]
                },
                v = function(t, e, n) {
                    for (var i = 0, o; o = t[i]; i++)
                        if (o.id == e || n && o[n] && (o = v(o[n], e, n)))
                            return o;
                    return null
                },
                b = function(t, e, n, i, o) {
                    if (n) {
                        for (var a = 0, s; s = t[a]; a++) {
                            if (s.id == n)
                                return t.splice(a, 0, e), e;
                            if (i && s[i] && (s = b(s[i], e, n, i, !0)))
                                return s
                        }
                        if (o)
                            return null
                    }
                    return t.push(e), e
                },
                E = function(t, e, n) {
                    for (var i = 0, o; o = t[i]; i++) {
                        if (o.id == e)
                            return t.splice(i, 1);
                        if (n && o[n] && (o = E(o[n], e, n)))
                            return o
                    }
                    return null
                },
                y = function(t, e) {
                    this.dialog = t;
                    for (var n = e.contents, i = 0, o; o = n[i]; i++)
                        n[i] = o && new l(t, o);
                    CKEDITOR.tools.extend(this, e)
                };
            y.prototype = {
                getContents: function(t) {
                    return v(this.contents, t)
                },
                getButton: function(t) {
                    return v(this.buttons, t)
                },
                addContents: function(t, e) {
                    return b(this.contents, t, e)
                },
                addButton: function(t, e) {
                    return b(this.buttons, t, e)
                },
                removeContents: function(t) {
                    E(this.contents, t)
                },
                removeButton: function(t) {
                    E(this.buttons, t)
                }
            }, l.prototype = {
                get: function(t) {
                    return v(this.elements, t, "children")
                },
                add: function(t, e) {
                    return b(this.elements, t, e, "children")
                },
                remove: function(t) {
                    E(this.elements, t, "children")
                }
            };
            var T,
                C = {},
                _,
                D = {},
                I = function(t) {
                    var e = t.data.$.ctrlKey || t.data.$.metaKey,
                        n = t.data.$.altKey,
                        i = t.data.$.shiftKey,
                        o = String.fromCharCode(t.data.$.keyCode);
                    (e = D[(e ? "CTRL+" : "") + (n ? "ALT+" : "") + (i ? "SHIFT+" : "") + o]) && e.length && (e = e[e.length - 1], e.keydown && e.keydown.call(e.uiElement, e.dialog, e.key), t.data.preventDefault())
                },
                O = function(t) {
                    var e = t.data.$.ctrlKey || t.data.$.metaKey,
                        n = t.data.$.altKey,
                        i = t.data.$.shiftKey,
                        o = String.fromCharCode(t.data.$.keyCode);
                    (e = D[(e ? "CTRL+" : "") + (n ? "ALT+" : "") + (i ? "SHIFT+" : "") + o]) && e.length && (e = e[e.length - 1], e.keyup && (e.keyup.call(e.uiElement, e.dialog, e.key), t.data.preventDefault()))
                },
                R = function(t, e, n, i, o) {
                    (D[n] || (D[n] = [])).push({
                        uiElement: t,
                        dialog: e,
                        key: n,
                        keyup: o || t.accessKeyUp,
                        keydown: i || t.accessKeyDown
                    })
                },
                k = function(t) {
                    for (var e in D) {
                        for (var n = D[e], i = n.length - 1; 0 <= i; i--)
                            n[i].dialog != t && n[i].uiElement != t || n.splice(i, 1);
                        0 === n.length && delete D[e]
                    }
                },
                w = function(t, e) {
                    t._.accessKeyMap[e] && t.selectPage(t._.accessKeyMap[e])
                },
                x = function() {};
            !function() {
                CKEDITOR.ui.dialog = {
                    uiElement: function(t, e, n, i, o, a, s) {
                        if (!(4 > arguments.length)) {
                            var r = (i.call ? i(e) : i) || "div",
                                l = ["<", r, " "],
                                c = (o && o.call ? o(e) : o) || {},
                                u = (a && a.call ? a(e) : a) || {},
                                d = (s && s.call ? s.call(this, t, e) : s) || "",
                                h = this.domId = u.id || CKEDITOR.tools.getNextId() + "_uiElement";
                            e.requiredContent && !t.getParentEditor().filter.check(e.requiredContent) && (c.display = "none", this.notAllowed = !0), u.id = h;
                            var f = {};
                            e.type && (f["cke_dialog_ui_" + e.type] = 1), e.className && (f[e.className] = 1), e.disabled && (f.cke_disabled = 1);
                            for (var p = u["class"] && u["class"].split ? u["class"].split(" ") : [], h = 0; h < p.length; h++)
                                p[h] && (f[p[h]] = 1);
                            p = [];
                            for (h in f)
                                p.push(h);
                            u["class"] = p.join(" "), e.title && (u.title = e.title), f = (e.style || "").split(";"), e.align && (p = e.align, c["margin-left"] = "left" == p ? 0 : "auto", c["margin-right"] = "right" == p ? 0 : "auto");
                            for (h in c)
                                f.push(h + ":" + c[h]);
                            for (e.hidden && f.push("display:none"), h = f.length - 1; 0 <= h; h--)
                                "" === f[h] && f.splice(h, 1);
                            0 < f.length && (u.style = (u.style ? u.style + "; " : "") + f.join("; "));
                            for (h in u)
                                l.push(h + '="' + CKEDITOR.tools.htmlEncode(u[h]) + '" ');
                            l.push(">", d, "</", r, ">"), n.push(l.join("")), (this._ || (this._ = {})).dialog = t, "boolean" == typeof e.isChanged && (this.isChanged = function() {
                                return e.isChanged
                            }), "function" == typeof e.isChanged && (this.isChanged = e.isChanged), "function" == typeof e.setValue && (this.setValue = CKEDITOR.tools.override(this.setValue, function(t) {
                                return function(n) {
                                    t.call(this, e.setValue.call(this, n))
                                }
                            })), "function" == typeof e.getValue && (this.getValue = CKEDITOR.tools.override(this.getValue, function(t) {
                                return function() {
                                    return e.getValue.call(this, t.call(this))
                                }
                            })), CKEDITOR.event.implementOn(this), this.registerEvents(e), this.accessKeyUp && this.accessKeyDown && e.accessKey && R(this, t, "CTRL+" + e.accessKey);
                            var m = this;
                            t.on("load", function() {
                                var e = m.getInputElement();
                                if (e) {
                                    var n = m.type in {
                                        checkbox: 1,
                                        ratio: 1
                                    } && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? "cke_dialog_ui_focused" : "";
                                    e.on("focus", function() {
                                        t._.tabBarMode = !1, t._.hasFocus = !0, m.fire("focus"), n && this.addClass(n)
                                    }), e.on("blur", function() {
                                        m.fire("blur"), n && this.removeClass(n)
                                    })
                                }
                            }), CKEDITOR.tools.extend(this, e), this.keyboardFocusable && (this.tabIndex = e.tabIndex || 0, this.focusIndex = t._.focusList.push(this) - 1, this.on("focus", function() {
                                t._.currentFocusIndex = m.focusIndex
                            }))
                        }
                    },
                    hbox: function(t, e, n, i, o) {
                        if (!(4 > arguments.length)) {
                            this._ || (this._ = {});
                            var a = this._.children = e,
                                s = o && o.widths || null,
                                r = o && o.height || null,
                                l,
                                c = {
                                    role: "presentation"
                                };
                            o && o.align && (c.align = o.align), CKEDITOR.ui.dialog.uiElement.call(this, t, o || {
                                type: "hbox"
                            }, i, "table", {}, c, function() {
                                var t = ['<tbody><tr class="cke_dialog_ui_hbox">'];
                                for (l = 0; l < n.length; l++) {
                                    var e = "cke_dialog_ui_hbox_child",
                                        i = [];
                                    0 === l && (e = "cke_dialog_ui_hbox_first"), l == n.length - 1 && (e = "cke_dialog_ui_hbox_last"), t.push('<td class="', e, '" role="presentation" '), s ? s[l] && i.push("width:" + p(s[l])) : i.push("width:" + Math.floor(100 / n.length) + "%"), r && i.push("height:" + p(r)), o && void 0 !== o.padding && i.push("padding:" + p(o.padding)), CKEDITOR.env.ie && CKEDITOR.env.quirks && a[l].align && i.push("text-align:" + a[l].align), 0 < i.length && t.push('style="' + i.join("; ") + '" '), t.push(">", n[l], "</td>")
                                }
                                return t.push("</tr></tbody>"), t.join("")
                            })
                        }
                    },
                    vbox: function(t, e, n, i, o) {
                        if (!(3 > arguments.length)) {
                            this._ || (this._ = {});
                            var a = this._.children = e,
                                s = o && o.width || null,
                                r = o && o.heights || null;
                            CKEDITOR.ui.dialog.uiElement.call(this, t, o || {
                                type: "vbox"
                            }, i, "div", null, {
                                role: "presentation"
                            }, function() {
                                var e = ['<table role="presentation" cellspacing="0" border="0" '];
                                e.push('style="'), o && o.expand && e.push("height:100%;"), e.push("width:" + p(s || "100%"), ";"), CKEDITOR.env.webkit && e.push("float:none;"), e.push('"'), e.push('align="', CKEDITOR.tools.htmlEncode(o && o.align || ("ltr" == t.getParentEditor().lang.dir ? "left" : "right")), '" '), e.push("><tbody>");
                                for (var i = 0; i < n.length; i++) {
                                    var l = [];
                                    e.push('<tr><td role="presentation" '), s && l.push("width:" + p(s || "100%")), r ? l.push("height:" + p(r[i])) : o && o.expand && l.push("height:" + Math.floor(100 / n.length) + "%"), o && void 0 !== o.padding && l.push("padding:" + p(o.padding)), CKEDITOR.env.ie && CKEDITOR.env.quirks && a[i].align && l.push("text-align:" + a[i].align), 0 < l.length && e.push('style="', l.join("; "), '" '), e.push(' class="cke_dialog_ui_vbox_child">', n[i], "</td></tr>")
                                }
                                return e.push("</tbody></table>"), e.join("")
                            })
                        }
                    }
                }
            }(), CKEDITOR.ui.dialog.uiElement.prototype = {
                getElement: function() {
                    return CKEDITOR.document.getById(this.domId)
                },
                getInputElement: function() {
                    return this.getElement()
                },
                getDialog: function() {
                    return this._.dialog
                },
                setValue: function(t, e) {
                    return this.getInputElement().setValue(t), !e && this.fire("change", {
                        value: t
                    }), this
                },
                getValue: function() {
                    return this.getInputElement().getValue()
                },
                isChanged: function() {
                    return !1
                },
                selectParentTab: function() {
                    for (var t = this.getInputElement(); (t = t.getParent()) && -1 == t.$.className.search("cke_dialog_page_contents");)
                        ;
                    return t ? (t = t.getAttribute("name"), this._.dialog._.currentTabId != t && this._.dialog.selectPage(t), this) : this
                },
                focus: function() {
                    return this.selectParentTab().getInputElement().focus(), this
                },
                registerEvents: function(t) {
                    var e = /^on([A-Z]\w+)/,
                        n,
                        i = function(t, e, n, i) {
                            e.on("load", function() {
                                t.getInputElement().on(n, i, t)
                            })
                        },
                        o;
                    for (o in t)
                        (n = o.match(e)) && (this.eventProcessors[o] ? this.eventProcessors[o].call(this, this._.dialog, t[o]) : i(this, this._.dialog, n[1].toLowerCase(), t[o]));
                    return this
                },
                eventProcessors: {
                    onLoad: function(t, e) {
                        t.on("load", e, this)
                    },
                    onShow: function(t, e) {
                        t.on("show", e, this)
                    },
                    onHide: function(t, e) {
                        t.on("hide", e, this)
                    }
                },
                accessKeyDown: function() {
                    this.focus()
                },
                accessKeyUp: function() {},
                disable: function() {
                    var t = this.getElement();
                    this.getInputElement().setAttribute("disabled", "true"), t.addClass("cke_disabled")
                },
                enable: function() {
                    var t = this.getElement();
                    this.getInputElement().removeAttribute("disabled"), t.removeClass("cke_disabled")
                },
                isEnabled: function() {
                    return !this.getElement().hasClass("cke_disabled")
                },
                isVisible: function() {
                    return this.getInputElement().isVisible()
                },
                isFocusable: function() {
                    return !(!this.isEnabled() || !this.isVisible())
                }
            }, CKEDITOR.ui.dialog.hbox.prototype = CKEDITOR.tools.extend(new CKEDITOR.ui.dialog.uiElement, {
                getChild: function(t) {
                    return 1 > arguments.length ? this._.children.concat() : (t.splice || (t = [t]), 2 > t.length ? this._.children[t[0]] : this._.children[t[0]] && this._.children[t[0]].getChild ? this._.children[t[0]].getChild(t.slice(1, t.length)) : null)
                }
            }, !0), CKEDITOR.ui.dialog.vbox.prototype = new CKEDITOR.ui.dialog.hbox, function() {
                var t = {
                    build: function(t, e, n) {
                        for (var i = e.children, o, a = [], s = [], r = 0; r < i.length && (o = i[r]); r++) {
                            var l = [];
                            a.push(l), s.push(CKEDITOR.dialog._.uiElementBuilders[o.type].build(t, o, l))
                        }
                        return new CKEDITOR.ui.dialog[e.type](t, s, a, n, e)
                    }
                };
                CKEDITOR.dialog.addUIElement("hbox", t), CKEDITOR.dialog.addUIElement("vbox", t)
            }(), CKEDITOR.dialogCommand = function(t, e) {
                this.dialogName = t, CKEDITOR.tools.extend(this, e, !0)
            }, CKEDITOR.dialogCommand.prototype = {
                exec: function(t) {
                    t.openDialog(this.dialogName)
                },
                canUndo: !1,
                editorFocus: 1
            }, function() {
                var t = /^([a]|[^a])+$/,
                    e = /^\d*$/,
                    n = /^\d*(?:\.\d+)?$/,
                    i = /^(((\d*(\.\d+))|(\d*))(px|\%)?)?$/,
                    o = /^(((\d*(\.\d+))|(\d*))(px|em|ex|in|cm|mm|pt|pc|\%)?)?$/i,
                    a = /^(\s*[\w-]+\s*:\s*[^:;]+(?:;|$))*$/;
                CKEDITOR.VALIDATE_OR = 1, CKEDITOR.VALIDATE_AND = 2, CKEDITOR.dialog.validate = {
                    functions: function() {
                        var t = arguments;
                        return function() {
                            var e = this && this.getValue ? this.getValue() : t[0],
                                n,
                                i = CKEDITOR.VALIDATE_AND,
                                o = [],
                                a;
                            for (a = 0; a < t.length && "function" == typeof t[a]; a++)
                                o.push(t[a]);
                            a < t.length && "string" == typeof t[a] && (n = t[a], a++), a < t.length && "number" == typeof t[a] && (i = t[a]);
                            var s = i == CKEDITOR.VALIDATE_AND;
                            for (a = 0; a < o.length; a++)
                                s = i == CKEDITOR.VALIDATE_AND ? s && o[a](e) : s || o[a](e);
                            return !!s || n
                        }
                    },
                    regex: function(t, e) {
                        return function(n) {
                            return n = this && this.getValue ? this.getValue() : n, !!t.test(n) || e
                        }
                    },
                    notEmpty: function(e) {
                        return this.regex(t, e)
                    },
                    integer: function(t) {
                        return this.regex(e, t)
                    },
                    number: function(t) {
                        return this.regex(n, t)
                    },
                    cssLength: function(t) {
                        return this.functions(function(t) {
                            return o.test(CKEDITOR.tools.trim(t))
                        }, t)
                    },
                    htmlLength: function(t) {
                        return this.functions(function(t) {
                            return i.test(CKEDITOR.tools.trim(t))
                        }, t)
                    },
                    inlineStyle: function(t) {
                        return this.functions(function(t) {
                            return a.test(CKEDITOR.tools.trim(t))
                        }, t)
                    },
                    equals: function(t, e) {
                        return this.functions(function(e) {
                            return e == t
                        }, e)
                    },
                    notEqual: function(t, e) {
                        return this.functions(function(e) {
                            return e != t
                        }, e)
                    }
                }, CKEDITOR.on("instanceDestroyed", function(t) {
                    if (CKEDITOR.tools.isEmpty(CKEDITOR.instances)) {
                        for (var e; e = CKEDITOR.dialog._.currentTop;)
                            e.hide();
                        for (var n in C)
                            C[n].remove();
                        C = {}
                    }
                    t = t.editor._.storedDialogs;
                    for (var i in t)
                        t[i].destroy()
                })
            }(), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
                openDialog: function(t, e) {
                    var n = null,
                        i = CKEDITOR.dialog._.dialogDefinitions[t];
                    if (null === CKEDITOR.dialog._.currentTop && h(this), "function" == typeof i)
                        n = this._.storedDialogs || (this._.storedDialogs = {}), n = n[t] || (n[t] = new CKEDITOR.dialog(this, t)), e && e.call(n, n), n.show();
                    else {
                        if ("failed" == i)
                            throw f(this), Error('[CKEDITOR.dialog.openDialog] Dialog "' + t + '" failed when loading definition.');
                        "string" == typeof i && CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(i), function() {
                            "function" != typeof CKEDITOR.dialog._.dialogDefinitions[t] && (CKEDITOR.dialog._.dialogDefinitions[t] = "failed"), this.openDialog(t, e)
                        }, this, 0, 1)
                    }
                    return CKEDITOR.skin.loadPart("dialog"), n
                }
            })
        }(), CKEDITOR.plugins.add("dialog", {
            requires: "dialogui",
            init: function(t) {
                t.on("doubleclick", function(e) {
                    e.data.dialog && t.openDialog(e.data.dialog)
                }, null, null, 999)
            }
        }), CKEDITOR.plugins.add("about", {
            requires: "dialog",
            init: function(t) {
                var e = t.addCommand("about", new CKEDITOR.dialogCommand("about"));
                e.modes = {
                    wysiwyg: 1,
                    source: 1
                }, e.canUndo = !1, e.readOnly = 1, t.ui.addButton && t.ui.addButton("About", {
                    label: t.lang.about.title,
                    command: "about",
                    toolbar: "about"
                }), CKEDITOR.dialog.add("about", this.path + "dialogs/about.js")
            }
        }), function() {
            CKEDITOR.plugins.add("a11yhelp", {
                requires: "dialog",
                availableLangs: {
                    af: 1,
                    ar: 1,
                    az: 1,
                    bg: 1,
                    ca: 1,
                    cs: 1,
                    cy: 1,
                    da: 1,
                    de: 1,
                    "de-ch": 1,
                    el: 1,
                    en: 1,
                    "en-gb": 1,
                    eo: 1,
                    es: 1,
                    "es-mx": 1,
                    et: 1,
                    eu: 1,
                    fa: 1,
                    fi: 1,
                    fo: 1,
                    fr: 1,
                    "fr-ca": 1,
                    gl: 1,
                    gu: 1,
                    he: 1,
                    hi: 1,
                    hr: 1,
                    hu: 1,
                    id: 1,
                    it: 1,
                    ja: 1,
                    km: 1,
                    ko: 1,
                    ku: 1,
                    lt: 1,
                    lv: 1,
                    mk: 1,
                    mn: 1,
                    nb: 1,
                    nl: 1,
                    no: 1,
                    oc: 1,
                    pl: 1,
                    pt: 1,
                    "pt-br": 1,
                    ro: 1,
                    ru: 1,
                    si: 1,
                    sk: 1,
                    sl: 1,
                    sq: 1,
                    sr: 1,
                    "sr-latn": 1,
                    sv: 1,
                    th: 1,
                    tr: 1,
                    tt: 1,
                    ug: 1,
                    uk: 1,
                    vi: 1,
                    zh: 1,
                    "zh-cn": 1
                },
                init: function(t) {
                    var e = this;
                    t.addCommand("a11yHelp", {
                        exec: function() {
                            var n = t.langCode,
                                n = e.availableLangs[n] ? n : e.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                            CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path + "dialogs/lang/" + n + ".js"), function() {
                                t.lang.a11yhelp = e.langEntries[n], t.openDialog("a11yHelp")
                            })
                        },
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        },
                        readOnly: 1,
                        canUndo: !1
                    }), t.setKeystroke(CKEDITOR.ALT + 48, "a11yHelp"), CKEDITOR.dialog.add("a11yHelp", this.path + "dialogs/a11yhelp.js"), t.on("ariaEditorHelpLabel", function(e) {
                        e.data.label = t.lang.common.editorHelp
                    })
                }
            })
        }(), function() {
            function t(t) {
                var e = this.att;
                void 0 !== (t = t && t.hasAttribute(e) && t.getAttribute(e) || "") && this.setValue(t)
            }
            function e() {
                for (var t, e = 0; e < arguments.length; e++)
                    if (arguments[e] instanceof CKEDITOR.dom.element) {
                        t = arguments[e];
                        break
                    }
                if (t) {
                    var e = this.att,
                        n = this.getValue();
                    n ? t.setAttribute(e, n) : t.removeAttribute(e, n)
                }
            }
            var n = {
                id: 1,
                dir: 1,
                classes: 1,
                styles: 1
            };
            CKEDITOR.plugins.add("dialogadvtab", {
                requires: "dialog",
                allowedContent: function(t) {
                    t || (t = n);
                    var e = [];
                    t.id && e.push("id"), t.dir && e.push("dir");
                    var i = "";
                    return e.length && (i += "[" + e.join(",") + "]"), t.classes && (i += "(*)"), t.styles && (i += "{*}"), i
                },
                createAdvancedTab: function(i, o, a) {
                    o || (o = n);
                    var s = i.lang.common,
                        r = {
                            id: "advanced",
                            label: s.advancedTab,
                            title: s.advancedTab,
                            elements: [{
                                type: "vbox",
                                padding: 1,
                                children: []
                            }]
                        },
                        l = [];
                    return (o.id || o.dir) && (o.id && l.push({
                        id: "advId",
                        att: "id",
                        type: "text",
                        requiredContent: a ? a + "[id]" : null,
                        label: s.id,
                        setup: t,
                        commit: e
                    }), o.dir && l.push({
                        id: "advLangDir",
                        att: "dir",
                        type: "select",
                        requiredContent: a ? a + "[dir]" : null,
                        label: s.langDir,
                        "default": "",
                        style: "width:100%",
                        items: [[s.notSet, ""], [s.langDirLTR, "ltr"], [s.langDirRTL, "rtl"]],
                        setup: t,
                        commit: e
                    }), r.elements[0].children.push({
                        type: "hbox",
                        widths: ["50%", "50%"],
                        children: [].concat(l)
                    })), (o.styles || o.classes) && (l = [], o.styles && l.push({
                        id: "advStyles",
                        att: "style",
                        type: "text",
                        requiredContent: a ? a + "{cke-xyz}" : null,
                        label: s.styles,
                        "default": "",
                        validate: CKEDITOR.dialog.validate.inlineStyle(s.invalidInlineStyle),
                        onChange: function() {},
                        getStyle: function(t, e) {
                            var n = this.getValue().match(new RegExp("(?:^|;)\\s*" + t + "\\s*:\\s*([^;]*)", "i"));
                            return n ? n[1] : e
                        },
                        updateStyle: function(t, e) {
                            var n = this.getValue(),
                                o = i.document.createElement("span");
                            o.setAttribute("style", n), o.setStyle(t, e), n = CKEDITOR.tools.normalizeCssText(o.getAttribute("style")), this.setValue(n, 1)
                        },
                        setup: t,
                        commit: e
                    }), o.classes && l.push({
                        type: "hbox",
                        widths: ["45%", "55%"],
                        children: [{
                            id: "advCSSClasses",
                            att: "class",
                            type: "text",
                            requiredContent: a ? a + "(cke-xyz)" : null,
                            label: s.cssClasses,
                            "default": "",
                            setup: t,
                            commit: e
                        }]
                    }), r.elements[0].children.push({
                        type: "hbox",
                        widths: ["50%", "50%"],
                        children: [].concat(l)
                    })), r
                }
            })
        }(), CKEDITOR.plugins.add("basicstyles", {
            init: function(t) {
                var e = 0,
                    n = function(n, o, a, s) {
                        if (s) {
                            s = new CKEDITOR.style(s);
                            var r = i[a];
                            r.unshift(s), t.attachStyleStateChange(s, function(e) {
                                !t.readOnly && t.getCommand(a).setState(e)
                            }), t.addCommand(a, new CKEDITOR.styleCommand(s, {
                                contentForms: r
                            })), t.ui.addButton && t.ui.addButton(n, {
                                label: o,
                                command: a,
                                toolbar: "basicstyles," + (e += 10)
                            })
                        }
                    },
                    i = {
                        bold: ["strong", "b", ["span", function(t) {
                            return "bold" == (t = t.styles["font-weight"]) || 700 <= +t
                        }]],
                        italic: ["em", "i", ["span", function(t) {
                            return "italic" == t.styles["font-style"]
                        }]],
                        underline: ["u", ["span", function(t) {
                            return "underline" == t.styles["text-decoration"]
                        }]],
                        strike: ["s", "strike", ["span", function(t) {
                            return "line-through" == t.styles["text-decoration"]
                        }]],
                        subscript: ["sub"],
                        superscript: ["sup"]
                    },
                    o = t.config,
                    a = t.lang.basicstyles;
                n("Bold", a.bold, "bold", o.coreStyles_bold), n("Italic", a.italic, "italic", o.coreStyles_italic), n("Underline", a.underline, "underline", o.coreStyles_underline), n("Strike", a.strike, "strike", o.coreStyles_strike), n("Subscript", a.subscript, "subscript", o.coreStyles_subscript), n("Superscript", a.superscript, "superscript", o.coreStyles_superscript), t.setKeystroke([[CKEDITOR.CTRL + 66, "bold"], [CKEDITOR.CTRL + 73, "italic"], [CKEDITOR.CTRL + 85, "underline"]])
            }
        }), CKEDITOR.config.coreStyles_bold = {
            element: "strong",
            overrides: "b"
        }, CKEDITOR.config.coreStyles_italic = {
            element: "em",
            overrides: "i"
        }, CKEDITOR.config.coreStyles_underline = {
            element: "u"
        }, CKEDITOR.config.coreStyles_strike = {
            element: "s",
            overrides: "strike"
        }, CKEDITOR.config.coreStyles_subscript = {
            element: "sub"
        }, CKEDITOR.config.coreStyles_superscript = {
            element: "sup"
        }, function() {
            function t(t, e, n, i) {
                if (!t.isReadOnly() && !t.equals(n.editable())) {
                    CKEDITOR.dom.element.setMarker(i, t, "bidi_processed", 1), i = t;
                    for (var o = n.editable(); (i = i.getParent()) && !i.equals(o);)
                        if (i.getCustomData("bidi_processed"))
                            return t.removeStyle("direction"), void t.removeAttribute("dir");
                    i = "useComputedState" in n.config ? n.config.useComputedState : 1, (i ? t.getComputedStyle("direction") : t.getStyle("direction") || t.hasAttribute("dir")) != e && (t.removeStyle("direction"), i ? (t.removeAttribute("dir"), e != t.getComputedStyle("direction") && t.setAttribute("dir", e)) : t.setAttribute("dir", e), n.forceNextSelectionCheck())
                }
            }
            function e(t, e, n) {
                var i = t.getCommonAncestor(!1, !0);
                if (t = t.clone(), t.enlarge(n == CKEDITOR.ENTER_BR ? CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS : CKEDITOR.ENLARGE_BLOCK_CONTENTS), t.checkBoundaryOfElement(i, CKEDITOR.START) && t.checkBoundaryOfElement(i, CKEDITOR.END)) {
                    for (var o; i && i.type == CKEDITOR.NODE_ELEMENT && (o = i.getParent()) && 1 == o.getChildCount() && !(i.getName() in e);)
                        i = o;
                    return i.type == CKEDITOR.NODE_ELEMENT && i.getName() in e && i
                }
            }
            function n(n) {
                return {
                    context: "p",
                    allowedContent: {
                        "h1 h2 h3 h4 h5 h6 table ul ol blockquote div tr p div li td": {
                            propertiesOnly: !0,
                            attributes: "dir"
                        }
                    },
                    requiredContent: "p[dir]",
                    refresh: function(t, e) {
                        var n = t.config.useComputedState,
                            i,
                            n = void 0 === n || n;
                        if (!n) {
                            i = e.lastElement;
                            for (var o = t.editable(); i && !(i.getName() in s || i.equals(o));) {
                                var a = i.getParent();
                                if (!a)
                                    break;
                                i = a
                            }
                        }
                        i = i || e.block || e.blockLimit, i.equals(t.editable()) && (o = t.getSelection().getRanges()[0].getEnclosedNode()) && o.type == CKEDITOR.NODE_ELEMENT && (i = o), i && (n = n ? i.getComputedStyle("direction") : i.getStyle("direction") || i.getAttribute("dir"), t.getCommand("bidirtl").setState("rtl" == n ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF), t.getCommand("bidiltr").setState("ltr" == n ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)), (n = (e.block || e.blockLimit || t.editable()).getDirection(1)) != (t._.selDir || t.lang.dir) && (t._.selDir = n, t.fire("contentDirChanged", n))
                    },
                    exec: function(i) {
                        var s = i.getSelection(),
                            r = i.config.enterMode,
                            l = s.getRanges();
                        if (l && l.length) {
                            for (var c = {}, u = s.createBookmarks(), l = l.createIterator(), d, h = 0; d = l.getNextRange(1);) {
                                var f = d.getEnclosedNode();
                                f && (!f || f.type == CKEDITOR.NODE_ELEMENT && f.getName() in a) || (f = e(d, o, r)), f && t(f, n, i, c);
                                var p = new CKEDITOR.dom.walker(d),
                                    m = u[h].startNode,
                                    g = u[h++].endNode;
                                p.evaluator = function(t) {
                                    var e = r == CKEDITOR.ENTER_P ? "p" : "div",
                                        n;
                                    return (n = !!t && t.type == CKEDITOR.NODE_ELEMENT && t.getName() in o) && ((e = t.is(e)) && (e = !!(e = t.getParent()) && e.type == CKEDITOR.NODE_ELEMENT), n = !(e && t.getParent().is("blockquote"))), !!(n && t.getPosition(m) & CKEDITOR.POSITION_FOLLOWING && (t.getPosition(g) & CKEDITOR.POSITION_PRECEDING + CKEDITOR.POSITION_CONTAINS) == CKEDITOR.POSITION_PRECEDING)
                                };
                                for (; f = p.next();)
                                    t(f, n, i, c);
                                for (d = d.createIterator(), d.enlargeBr = r != CKEDITOR.ENTER_BR; f = d.getNextParagraph(r == CKEDITOR.ENTER_P ? "p" : "div");)
                                    t(f, n, i, c)
                            }
                            CKEDITOR.dom.element.clearAllMarkers(c), i.forceNextSelectionCheck(), s.selectBookmarks(u), i.focus()
                        }
                    }
                }
            }
            function i(t) {
                var e = t == r.setAttribute,
                    n = t == r.removeAttribute,
                    i = /\bdirection\s*:\s*(.*?)\s*(:?$|;)/;
                return function(o, a) {
                    if (!this.isReadOnly()) {
                        var s;
                        if (s = o == (e || n ? "dir" : "direction") || "style" == o && (n || i.test(a))) {
                            t:
                            {
                                s = this;
                                for (var r = s.getDocument().getBody().getParent(); s;) {
                                    if (s.equals(r)) {
                                        s = !1;
                                        break t
                                    }
                                    s = s.getParent()
                                }
                                s = !0
                            }s = !s
                        }
                        if (s && (s = this.getDirection(1), r = t.apply(this, arguments), s != this.getDirection(1)))
                            return this.getDocument().fire("dirChanged", this), r
                    }
                    return t.apply(this, arguments)
                }
            }
            var o = {
                    table: 1,
                    ul: 1,
                    ol: 1,
                    blockquote: 1,
                    div: 1
                },
                a = {},
                s = {};
            CKEDITOR.tools.extend(a, o, {
                tr: 1,
                p: 1,
                div: 1,
                li: 1
            }), CKEDITOR.tools.extend(s, a, {
                td: 1
            }), CKEDITOR.plugins.add("bidi", {
                init: function(t) {
                    function e(e, n, i, o, a) {
                        t.addCommand(i, new CKEDITOR.command(t, o)), t.ui.addButton && t.ui.addButton(e, {
                            label: n,
                            command: i,
                            toolbar: "bidi," + a
                        })
                    }
                    if (!t.blockless) {
                        var i = t.lang.bidi;
                        e("BidiLtr", i.ltr, "bidiltr", n("ltr"), 10), e("BidiRtl", i.rtl, "bidirtl", n("rtl"), 20), t.on("contentDom", function() {
                            t.document.on("dirChanged", function(e) {
                                t.fire("dirChanged", {
                                    node: e.data,
                                    dir: e.data.getDirection(1)
                                })
                            })
                        }), t.on("contentDirChanged", function(e) {
                            e = (t.lang.dir != e.data ? "add" : "remove") + "Class";
                            var n = t.ui.space(t.config.toolbarLocation);
                            n && n[e]("cke_mixed_dir_content")
                        })
                    }
                }
            });
            for (var r = CKEDITOR.dom.element.prototype, l = ["setStyle", "removeStyle", "setAttribute", "removeAttribute"], c = 0; c < l.length; c++)
                r[l[c]] = CKEDITOR.tools.override(r[l[c]], i)
        }(), function() {
            var t = {
                exec: function(t) {
                    var e = t.getCommand("blockquote").state,
                        n = t.getSelection(),
                        i = n && n.getRanges()[0];
                    if (i) {
                        var o = n.createBookmarks();
                        if (CKEDITOR.env.ie) {
                            var a = o[0].startNode,
                                s = o[0].endNode,
                                r;
                            if (a && "blockquote" == a.getParent().getName())
                                for (r = a; r = r.getNext();)
                                    if (r.type == CKEDITOR.NODE_ELEMENT && r.isBlockBoundary()) {
                                        a.move(r, !0);
                                        break
                                    }
                            if (s && "blockquote" == s.getParent().getName())
                                for (r = s; r = r.getPrevious();)
                                    if (r.type == CKEDITOR.NODE_ELEMENT && r.isBlockBoundary()) {
                                        s.move(r);
                                        break
                                    }
                        }
                        var l = i.createIterator();
                        if (l.enlargeBr = t.config.enterMode != CKEDITOR.ENTER_BR, e == CKEDITOR.TRISTATE_OFF) {
                            for (a = []; e = l.getNextParagraph();)
                                a.push(e);
                            for (1 > a.length && (e = t.document.createElement(t.config.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), s = o.shift(), i.insertNode(e), e.append(new CKEDITOR.dom.text("\ufeff", t.document)), i.moveToBookmark(s), i.selectNodeContents(e), i.collapse(!0), s = i.createBookmark(), a.push(e), o.unshift(s)), r = a[0].getParent(), i = [], s = 0; s < a.length; s++)
                                e = a[s], r = r.getCommonAncestor(e.getParent());
                            for (e = {
                                table: 1,
                                tbody: 1,
                                tr: 1,
                                ol: 1,
                                ul: 1
                            }; e[r.getName()];)
                                r = r.getParent();
                            for (s = null; 0 < a.length;) {
                                for (e = a.shift(); !e.getParent().equals(r);)
                                    e = e.getParent();
                                e.equals(s) || i.push(e), s = e
                            }
                            for (; 0 < i.length;)
                                if (e = i.shift(), "blockquote" == e.getName()) {
                                    for (s = new CKEDITOR.dom.documentFragment(t.document); e.getFirst();)
                                        s.append(e.getFirst().remove()), a.push(s.getLast());
                                    s.replace(e)
                                } else
                                    a.push(e);
                            for (i = t.document.createElement("blockquote"), i.insertBefore(a[0]); 0 < a.length;)
                                e = a.shift(), i.append(e)
                        } else if (e == CKEDITOR.TRISTATE_ON) {
                            for (s = [], r = {}; e = l.getNextParagraph();) {
                                for (a = i = null; e.getParent();) {
                                    if ("blockquote" == e.getParent().getName()) {
                                        i = e.getParent(), a = e;
                                        break
                                    }
                                    e = e.getParent()
                                }
                                i && a && !a.getCustomData("blockquote_moveout") && (s.push(a), CKEDITOR.dom.element.setMarker(r, a, "blockquote_moveout", !0))
                            }
                            for (CKEDITOR.dom.element.clearAllMarkers(r), e = [], a = [], r = {}; 0 < s.length;)
                                l = s.shift(), i = l.getParent(), l.getPrevious() ? l.getNext() ? (l.breakParent(l.getParent()), a.push(l.getNext())) : l.remove().insertAfter(i) : l.remove().insertBefore(i), i.getCustomData("blockquote_processed") || (a.push(i), CKEDITOR.dom.element.setMarker(r, i, "blockquote_processed", !0)), e.push(l);
                            for (CKEDITOR.dom.element.clearAllMarkers(r), s = a.length - 1; 0 <= s; s--) {
                                i = a[s];
                                t:
                                {
                                    r = i;
                                    for (var l = 0, c = r.getChildCount(), u = void 0; l < c && (u = r.getChild(l)); l++)
                                        if (u.type == CKEDITOR.NODE_ELEMENT && u.isBlockBoundary()) {
                                            r = !1;
                                            break t
                                        }
                                    r = !0
                                }r && i.remove()
                            }
                            if (t.config.enterMode == CKEDITOR.ENTER_BR)
                                for (i = !0; e.length;)
                                    if (l = e.shift(), "div" == l.getName()) {
                                        for (s = new CKEDITOR.dom.documentFragment(t.document), !i || !l.getPrevious() || l.getPrevious().type == CKEDITOR.NODE_ELEMENT && l.getPrevious().isBlockBoundary() || s.append(t.document.createElement("br")), i = l.getNext() && !(l.getNext().type == CKEDITOR.NODE_ELEMENT && l.getNext().isBlockBoundary()); l.getFirst();)
                                            l.getFirst().remove().appendTo(s);
                                        i && s.append(t.document.createElement("br")), s.replace(l), i = !1
                                    }
                        }
                        n.selectBookmarks(o), t.focus()
                    }
                },
                refresh: function(t, e) {
                    this.setState(t.elementPath(e.block || e.blockLimit).contains("blockquote", 1) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                },
                context: "blockquote",
                allowedContent: "blockquote",
                requiredContent: "blockquote"
            };
            CKEDITOR.plugins.add("blockquote", {
                init: function(e) {
                    e.blockless || (e.addCommand("blockquote", t), e.ui.addButton && e.ui.addButton("Blockquote", {
                        label: e.lang.blockquote.toolbar,
                        command: "blockquote",
                        toolbar: "blocks,10"
                    }))
                }
            })
        }(), function() {
            var t = '<a id="{id}" class="cke_button cke_button__{name} cke_button_{state} {cls}"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' title="{title}" tabindex="-1" hidefocus="true" role="button" aria-labelledby="{id}_label" aria-describedby="{id}_description" aria-haspopup="{hasArrow}" aria-disabled="{ariaDisabled}"';
            CKEDITOR.env.gecko && CKEDITOR.env.mac && (t += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (t += ' onblur="this.style.cssText = this.style.cssText;"');
            var t = t + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span class="cke_button_icon cke_button__{iconName}_icon" style="{style}"',
                t = t + '>&nbsp;</span><span id="{id}_label" class="cke_button_label cke_button__{name}_label" aria-hidden="false">{label}</span><span id="{id}_description" class="cke_button_label" aria-hidden="false">{ariaShortcut}</span>{arrowHtml}</a>',
                e = CKEDITOR.addTemplate("buttonArrow", '<span class="cke_button_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : "") + "</span>"),
                n = CKEDITOR.addTemplate("button", t);
            CKEDITOR.plugins.add("button", {
                beforeInit: function(t) {
                    t.ui.addHandler(CKEDITOR.UI_BUTTON, CKEDITOR.ui.button.handler)
                }
            }), CKEDITOR.UI_BUTTON = "button", CKEDITOR.ui.button = function(t) {
                CKEDITOR.tools.extend(this, t, {
                    title: t.label,
                    click: t.click || function(e) {
                        e.execCommand(t.command)
                    }
                }), this._ = {}
            }, CKEDITOR.ui.button.handler = {
                create: function(t) {
                    return new CKEDITOR.ui.button(t)
                }
            }, CKEDITOR.ui.button.prototype = {
                render: function(t, i) {
                    function o() {
                        var e = t.mode;
                        e && (e = this.modes[e] ? void 0 !== g[e] ? g[e] : CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED, e = t.readOnly && !this.readOnly ? CKEDITOR.TRISTATE_DISABLED : e, this.setState(e), this.refresh && this.refresh())
                    }
                    var a = CKEDITOR.env,
                        s = this._.id = CKEDITOR.tools.getNextId(),
                        r = "",
                        l = this.command,
                        c,
                        u,
                        d;
                    this._.editor = t;
                    var h = {
                            id: s,
                            button: this,
                            editor: t,
                            focus: function() {
                                CKEDITOR.document.getById(s).focus()
                            },
                            execute: function() {
                                this.button.click(t)
                            },
                            attach: function(t) {
                                this.button.attach(t)
                            }
                        },
                        f = CKEDITOR.tools.addFunction(function(t) {
                            if (h.onkey)
                                return t = new CKEDITOR.dom.event(t), !1 !== h.onkey(h, t.getKeystroke())
                        }),
                        p = CKEDITOR.tools.addFunction(function(t) {
                            var e;
                            return h.onfocus && (e = !1 !== h.onfocus(h, new CKEDITOR.dom.event(t))), e
                        }),
                        m = 0;
                    if (h.clickFn = c = CKEDITOR.tools.addFunction(function() {
                        m && (t.unlockSelection(1), m = 0), h.execute(), a.iOS && t.focus()
                    }), this.modes) {
                        var g = {};
                        t.on("beforeModeUnload", function() {
                            t.mode && this._.state != CKEDITOR.TRISTATE_DISABLED && (g[t.mode] = this._.state)
                        }, this), t.on("activeFilterChange", o, this), t.on("mode", o, this), !this.readOnly && t.on("readOnly", o, this)
                    } else
                        l && (l = t.getCommand(l)) && (l.on("state", function() {
                            this.setState(l.state)
                        }, this), r += l.state == CKEDITOR.TRISTATE_ON ? "on" : l.state == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off");
                    this.directional && t.on("contentDirChanged", function(e) {
                        var n = CKEDITOR.document.getById(this._.id),
                            i = n.getFirst();
                        e = e.data, e != t.lang.dir ? n.addClass("cke_" + e) : n.removeClass("cke_ltr").removeClass("cke_rtl"), i.setAttribute("style", CKEDITOR.skin.getIconStyle(v, "rtl" == e, this.icon, this.iconOffset))
                    }, this), l ? (u = t.getCommandKeystroke(l)) && (d = CKEDITOR.tools.keystrokeToString(t.lang.common.keyboard, u)) : r += "off";
                    var v = u = this.name || this.command;
                    return this.icon && !/\./.test(this.icon) && (v = this.icon, this.icon = null), r = {
                        id: s,
                        name: u,
                        iconName: v,
                        label: this.label,
                        cls: this.className || "",
                        state: r,
                        ariaDisabled: "disabled" == r ? "true" : "false",
                        title: this.title + (d ? " (" + d.display + ")" : ""),
                        ariaShortcut: d ? t.lang.common.keyboardShortcut + " " + d.aria : "",
                        titleJs: a.gecko && !a.hc ? "" : (this.title || "").replace("'", ""),
                        hasArrow: this.hasArrow ? "true" : "false",
                        keydownFn: f,
                        focusFn: p,
                        clickFn: c,
                        style: CKEDITOR.skin.getIconStyle(v, "rtl" == t.lang.dir, this.icon, this.iconOffset),
                        arrowHtml: this.hasArrow ? e.output() : ""
                    }, n.output(r, i), this.onRender && this.onRender(), h
                },
                setState: function(t) {
                    if (this._.state == t)
                        return !1;
                    this._.state = t;
                    var e = CKEDITOR.document.getById(this._.id);
                    return !!e && (e.setState(t, "cke_button"), t == CKEDITOR.TRISTATE_DISABLED ? e.setAttribute("aria-disabled", !0) : e.removeAttribute("aria-disabled"), this.hasArrow ? (t = t == CKEDITOR.TRISTATE_ON ? this._.editor.lang.button.selectedLabel.replace(/%1/g, this.label) : this.label, CKEDITOR.document.getById(this._.id + "_label").setText(t)) : t == CKEDITOR.TRISTATE_ON ? e.setAttribute("aria-pressed", !0) : e.removeAttribute("aria-pressed"), !0)
                },
                getState: function() {
                    return this._.state
                },
                toFeature: function(t) {
                    if (this._.feature)
                        return this._.feature;
                    var e = this;
                    return this.allowedContent || this.requiredContent || !this.command || (e = t.getCommand(this.command) || e), this._.feature = e
                }
            }, CKEDITOR.ui.prototype.addButton = function(t, e) {
                this.add(t, CKEDITOR.UI_BUTTON, e)
            }
        }(), function() {
            function t(t) {
                function n() {
                    for (var n = i(), a = CKEDITOR.tools.clone(t.config.toolbarGroups) || e(t), s = 0; s < a.length; s++) {
                        var r = a[s];
                        if ("/" != r) {
                            "string" == typeof r && (r = a[s] = {
                                name: r
                            });
                            var l,
                                c = r.groups;
                            if (c)
                                for (var u = 0; u < c.length; u++)
                                    l = c[u], (l = n[l]) && o(r, l);
                            (l = n[r.name]) && o(r, l)
                        }
                    }
                    return a
                }
                function i() {
                    var e = {},
                        n,
                        i,
                        o;
                    for (n in t.ui.items)
                        i = t.ui.items[n], o = i.toolbar || "others", o = o.split(","), i = o[0], o = parseInt(o[1] || -1, 10), e[i] || (e[i] = []), e[i].push({
                            name: n,
                            order: o
                        });
                    for (i in e)
                        e[i] = e[i].sort(function(t, e) {
                            return t.order == e.order ? 0 : 0 > e.order ? -1 : 0 > t.order ? 1 : t.order < e.order ? -1 : 1
                        });
                    return e
                }
                function o(e, n) {
                    if (n.length) {
                        e.items ? e.items.push(t.ui.create("-")) : e.items = [];
                        for (var i; i = n.shift();)
                            i = "string" == typeof i ? i : i.name, s && -1 != CKEDITOR.tools.indexOf(s, i) || (i = t.ui.create(i)) && t.addFeature(i) && e.items.push(i)
                    }
                }
                function a(t) {
                    var e = [],
                        n,
                        i,
                        a;
                    for (n = 0; n < t.length; ++n)
                        i = t[n], a = {}, "/" == i ? e.push(i) : CKEDITOR.tools.isArray(i) ? (o(a, CKEDITOR.tools.clone(i)), e.push(a)) : i.items && (o(a, CKEDITOR.tools.clone(i.items)), a.name = i.name, e.push(a));
                    return e
                }
                var s = t.config.removeButtons,
                    s = s && s.split(","),
                    r = t.config.toolbar;
                return "string" == typeof r && (r = t.config["toolbar_" + r]), t.toolbar = r ? a(r) : n()
            }
            function e(t) {
                return t._.toolbarGroups || (t._.toolbarGroups = [{
                        name: "document",
                        groups: ["mode", "document", "doctools"]
                    }, {
                        name: "clipboard",
                        groups: ["clipboard", "undo"]
                    }, {
                        name: "editing",
                        groups: ["find", "selection", "spellchecker"]
                    }, {
                        name: "forms"
                    }, "/", {
                        name: "basicstyles",
                        groups: ["basicstyles", "cleanup"]
                    }, {
                        name: "paragraph",
                        groups: ["list", "indent", "blocks", "align", "bidi"]
                    }, {
                        name: "links"
                    }, {
                        name: "insert"
                    }, "/", {
                        name: "styles"
                    }, {
                        name: "colors"
                    }, {
                        name: "tools"
                    }, {
                        name: "others"
                    }, {
                        name: "about"
                    }])
            }
            var n = function() {
                this.toolbars = [], this.focusCommandExecuted = !1
            };
            n.prototype.focus = function() {
                for (var t = 0, e; e = this.toolbars[t++];)
                    for (var n = 0, i; i = e.items[n++];)
                        if (i.focus)
                            return void i.focus()
            };
            var i = {
                modes: {
                    wysiwyg: 1,
                    source: 1
                },
                readOnly: 1,
                exec: function(t) {
                    t.toolbox && (t.toolbox.focusCommandExecuted = !0, CKEDITOR.env.ie || CKEDITOR.env.air ? setTimeout(function() {
                        t.toolbox.focus()
                    }, 100) : t.toolbox.focus())
                }
            };
            CKEDITOR.plugins.add("toolbar", {
                requires: "button",
                init: function(e) {
                    var o,
                        a = function(t, n) {
                            var i,
                                s = "rtl" == e.lang.dir,
                                r = e.config.toolbarGroupCycling,
                                l = s ? 37 : 39,
                                s = s ? 39 : 37,
                                r = void 0 === r || r;
                            switch (n) {
                            case 9:
                            case CKEDITOR.SHIFT + 9:
                                for (; !i || !i.items.length;)
                                    if (i = 9 == n ? (i ? i.next : t.toolbar.next) || e.toolbox.toolbars[0] : (i ? i.previous : t.toolbar.previous) || e.toolbox.toolbars[e.toolbox.toolbars.length - 1], i.items.length)
                                        for (t = i.items[o ? i.items.length - 1 : 0]; t && !t.focus;)
                                            (t = o ? t.previous : t.next) || (i = 0);
                                return t && t.focus(), !1;
                            case l:
                                i = t;
                                do {
                                    !(i = i.next) && r && (i = t.toolbar.items[0])
                                } while (i && !i.focus);
                                return i ? i.focus() : a(t, 9), !1;
                            case 40:
                                return t.button && t.button.hasArrow ? t.execute() : a(t, 40 == n ? l : s), !1;
                            case s:
                            case 38:
                                i = t;
                                do {
                                    !(i = i.previous) && r && (i = t.toolbar.items[t.toolbar.items.length - 1])
                                } while (i && !i.focus);
                                return i ? i.focus() : (o = 1, a(t, CKEDITOR.SHIFT + 9), o = 0), !1;
                            case 27:
                                return e.focus(), !1;
                            case 13:
                            case 32:
                                return t.execute(), !1
                            }
                            return !0
                        };
                    e.on("uiSpace", function(i) {
                        if (i.data.space == e.config.toolbarLocation) {
                            i.removeListener(), e.toolbox = new n;
                            var o = CKEDITOR.tools.getNextId(),
                                s = ['<span id="', o, '" class="cke_voice_label">', e.lang.toolbar.toolbars, "</span>", '<span id="' + e.ui.spaceId("toolbox") + '" class="cke_toolbox" role="group" aria-labelledby="', o, '" onmousedown="return false;">'],
                                o = !1 !== e.config.toolbarStartupExpanded,
                                r,
                                l;
                            e.config.toolbarCanCollapse && e.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && s.push('<span class="cke_toolbox_main"' + (o ? ">" : ' style="display:none">'));
                            for (var c = e.toolbox.toolbars, u = t(e), d = u.length, h = 0; h < d; h++) {
                                var f,
                                    p = 0,
                                    m,
                                    g = u[h],
                                    v = "/" !== g && ("/" === u[h + 1] || h == d - 1),
                                    b;
                                if (g)
                                    if (r && (s.push("</span>"), l = r = 0), "/" === g)
                                        s.push('<span class="cke_toolbar_break"></span>');
                                    else {
                                        b = g.items || g;
                                        for (var E = 0; E < b.length; E++) {
                                            var y = b[E],
                                                T;
                                            if (y) {
                                                var C = function(t) {
                                                    t = t.render(e, s), _ = p.items.push(t) - 1, 0 < _ && (t.previous = p.items[_ - 1], t.previous.next = t), t.toolbar = p, t.onkey = a, t.onfocus = function() {
                                                        e.toolbox.focusCommandExecuted || e.focus()
                                                    }
                                                };
                                                if (y.type == CKEDITOR.UI_SEPARATOR)
                                                    l = r && y;
                                                else {
                                                    if (T = !1 !== y.canGroup, !p) {
                                                        f = CKEDITOR.tools.getNextId(), p = {
                                                            id: f,
                                                            items: []
                                                        }, m = g.name && (e.lang.toolbar.toolbarGroups[g.name] || g.name), s.push('<span id="', f, '" class="cke_toolbar' + (v ? ' cke_toolbar_last"' : '"'), m ? ' aria-labelledby="' + f + '_label"' : "", ' role="toolbar">'), m && s.push('<span id="', f, '_label" class="cke_voice_label">', m, "</span>"), s.push('<span class="cke_toolbar_start"></span>');
                                                        var _ = c.push(p) - 1;
                                                        0 < _ && (p.previous = c[_ - 1], p.previous.next = p)
                                                    }
                                                    T ? r || (s.push('<span class="cke_toolgroup" role="presentation">'), r = 1) : r && (s.push("</span>"), r = 0), l && (C(l), l = 0), C(y)
                                                }
                                            }
                                        }
                                        r && (s.push("</span>"), l = r = 0), p && s.push('<span class="cke_toolbar_end"></span></span>')
                                    }
                            }
                            if (e.config.toolbarCanCollapse && s.push("</span>"), e.config.toolbarCanCollapse && e.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                                var D = CKEDITOR.tools.addFunction(function() {
                                    e.execCommand("toolbarCollapse")
                                });
                                e.on("destroy", function() {
                                    CKEDITOR.tools.removeFunction(D)
                                }), e.addCommand("toolbarCollapse", {
                                    readOnly: 1,
                                    exec: function(t) {
                                        var e = t.ui.space("toolbar_collapser"),
                                            n = e.getPrevious(),
                                            i = t.ui.space("contents"),
                                            o = n.getParent(),
                                            a = parseInt(i.$.style.height, 10),
                                            s = o.$.offsetHeight,
                                            r = e.hasClass("cke_toolbox_collapser_min");
                                        r ? (n.show(), e.removeClass("cke_toolbox_collapser_min"), e.setAttribute("title", t.lang.toolbar.toolbarCollapse)) : (n.hide(), e.addClass("cke_toolbox_collapser_min"), e.setAttribute("title", t.lang.toolbar.toolbarExpand)), e.getFirst().setText(r ? "\u25b2" : "\u25c0"), i.setStyle("height", a - (o.$.offsetHeight - s) + "px"), t.fire("resize", {
                                            outerHeight: t.container.$.offsetHeight,
                                            contentsHeight: i.$.offsetHeight,
                                            outerWidth: t.container.$.offsetWidth
                                        })
                                    },
                                    modes: {
                                        wysiwyg: 1,
                                        source: 1
                                    }
                                }), e.setKeystroke(CKEDITOR.ALT + (CKEDITOR.env.ie || CKEDITOR.env.webkit ? 189 : 109), "toolbarCollapse"), s.push('<a title="' + (o ? e.lang.toolbar.toolbarCollapse : e.lang.toolbar.toolbarExpand) + '" id="' + e.ui.spaceId("toolbar_collapser") + '" tabIndex="-1" class="cke_toolbox_collapser'), o || s.push(" cke_toolbox_collapser_min"), s.push('" onclick="CKEDITOR.tools.callFunction(' + D + ')">', '<span class="cke_arrow">&#9650;</span>', "</a>")
                            }
                            s.push("</span>"), i.data.html += s.join("")
                        }
                    }), e.on("destroy", function() {
                        if (this.toolbox) {
                            var t,
                                e = 0,
                                n,
                                i,
                                o;
                            for (t = this.toolbox.toolbars; e < t.length; e++)
                                for (i = t[e].items, n = 0; n < i.length; n++)
                                    o = i[n], o.clickFn && CKEDITOR.tools.removeFunction(o.clickFn), o.keyDownFn && CKEDITOR.tools.removeFunction(o.keyDownFn)
                        }
                    }), e.on("uiReady", function() {
                        var t = e.ui.space("toolbox");
                        t && e.focusManager.add(t, 1)
                    }), e.addCommand("toolbarFocus", i), e.setKeystroke(CKEDITOR.ALT + 121, "toolbarFocus"), e.ui.add("-", CKEDITOR.UI_SEPARATOR, {}), e.ui.addHandler(CKEDITOR.UI_SEPARATOR, {
                        create: function() {
                            return {
                                render: function(t, e) {
                                    return e.push('<span class="cke_toolbar_separator" role="separator"></span>'), {}
                                }
                            }
                        }
                    })
                }
            }), CKEDITOR.ui.prototype.addToolbarGroup = function(t, n, i) {
                var o = e(this.editor),
                    a = 0 === n,
                    s = {
                        name: t
                    };
                if (i) {
                    if (i = CKEDITOR.tools.search(o, function(t) {
                        return t.name == i
                    }))
                        return !i.groups && (i.groups = []), n && 0 <= (n = CKEDITOR.tools.indexOf(i.groups, n)) ? void i.groups.splice(n + 1, 0, t) : void (a ? i.groups.splice(0, 0, t) : i.groups.push(t));
                    n = null
                }
                n && (n = CKEDITOR.tools.indexOf(o, function(t) {
                    return t.name == n
                })), a ? o.splice(0, 0, t) : "number" == typeof n ? o.splice(n + 1, 0, s) : o.push(t)
            }
        }(), CKEDITOR.UI_SEPARATOR = "separator", CKEDITOR.config.toolbarLocation = "top", CKEDITOR.plugins.add("notification", {
            requires: "toolbar",
            init: function(t) {
                function n(t) {
                    var e = new CKEDITOR.dom.element("div");
                    e.setStyles({
                        position: "fixed",
                        "margin-left": "-9999px"
                    }), e.setAttributes({
                        "aria-live": "assertive",
                        "aria-atomic": "true"
                    }), e.setText(t), CKEDITOR.document.getBody().append(e), setTimeout(function() {
                        e.remove()
                    }, 100)
                }
                t._.notificationArea = new e(t), t.showNotification = function(e, n, i) {
                    var o,
                        a;
                    return "progress" == n ? o = i : a = i, e = new CKEDITOR.plugins.notification(t, {
                        message: e,
                        type: n,
                        progress: o,
                        duration: a
                    }), e.show(), e
                }, t.on("key", function(e) {
                    if (27 == e.data.keyCode) {
                        var i = t._.notificationArea.notifications;
                        i.length && (n(t.lang.notification.closed), i[i.length - 1].hide(), e.cancel())
                    }
                })
            }
        }), t.prototype = {
            show: function() {
                !1 !== this.editor.fire("notificationShow", {
                    notification: this
                }) && (this.area.add(this), this._hideAfterTimeout())
            },
            update: function(t) {
                var e = !0;
                !1 === this.editor.fire("notificationUpdate", {
                    notification: this,
                    options: t
                }) && (e = !1);
                var n = this.element,
                    i = n.findOne(".cke_notification_message"),
                    o = n.findOne(".cke_notification_progress"),
                    a = t.type;
                n.removeAttribute("role"), t.progress && "progress" != this.type && (a = "progress"), a && (n.removeClass(this._getClass()), n.removeAttribute("aria-label"), this.type = a, n.addClass(this._getClass()), n.setAttribute("aria-label", this.type), "progress" != this.type || o ? "progress" != this.type && o && o.remove() : (o = this._createProgressElement(), o.insertBefore(i))), void 0 !== t.message && (this.message = t.message, i.setHtml(this.message)), void 0 !== t.progress && (this.progress = t.progress, o && o.setStyle("width", this._getPercentageProgress())), e && t.important && (n.setAttribute("role", "alert"), this.isVisible() || this.area.add(this)), this.duration = t.duration, this._hideAfterTimeout()
            },
            hide: function() {
                !1 !== this.editor.fire("notificationHide", {
                    notification: this
                }) && this.area.remove(this)
            },
            isVisible: function() {
                return 0 <= CKEDITOR.tools.indexOf(this.area.notifications, this)
            },
            _createElement: function() {
                var t = this,
                    e,
                    n,
                    i = this.editor.lang.common.close;
                return e = new CKEDITOR.dom.element("div"), e.addClass("cke_notification"), e.addClass(this._getClass()), e.setAttributes({
                    id: this.id,
                    role: "alert",
                    "aria-label": this.type
                }), "progress" == this.type && e.append(this._createProgressElement()), n = new CKEDITOR.dom.element("p"), n.addClass("cke_notification_message"), n.setHtml(this.message), e.append(n), n = CKEDITOR.dom.element.createFromHtml('<a class="cke_notification_close" href="javascript:void(0)" title="' + i + '" role="button" tabindex="-1"><span class="cke_label">X</span></a>'), e.append(n), n.on("click", function() {
                    t.editor.focus(), t.hide()
                }), e
            },
            _getClass: function() {
                return "progress" == this.type ? "cke_notification_info" : "cke_notification_" + this.type
            },
            _createProgressElement: function() {
                var t = new CKEDITOR.dom.element("span");
                return t.addClass("cke_notification_progress"), t.setStyle("width", this._getPercentageProgress()), t
            },
            _getPercentageProgress: function() {
                return Math.round(100 * (this.progress || 0)) + "%"
            },
            _hideAfterTimeout: function() {
                var t = this,
                    e;
                this._hideTimeoutId && clearTimeout(this._hideTimeoutId), "number" == typeof this.duration ? e = this.duration : "info" != this.type && "success" != this.type || (e = "number" == typeof this.editor.config.notification_duration ? this.editor.config.notification_duration : 5e3), e && (t._hideTimeoutId = setTimeout(function() {
                    t.hide()
                }, e))
            }
        }, e.prototype = {
            add: function(t) {
                this.notifications.push(t), this.element.append(t.element), 1 == this.element.getChildCount() && (CKEDITOR.document.getBody().append(this.element), this._attachListeners()), this._layout()
            },
            remove: function(t) {
                var e = CKEDITOR.tools.indexOf(this.notifications, t);
                0 > e || (this.notifications.splice(e, 1), t.element.remove(), this.element.getChildCount() || (this._removeListeners(), this.element.remove()))
            },
            _createElement: function() {
                var t = this.editor,
                    e = t.config,
                    n = new CKEDITOR.dom.element("div");
                return n.addClass("cke_notifications_area"), n.setAttribute("id", "cke_notifications_area_" + t.name), n.setStyle("z-index", e.baseFloatZIndex - 2), n
            },
            _attachListeners: function() {
                var t = CKEDITOR.document.getWindow(),
                    e = this.editor;
                t.on("scroll", this._uiBuffer.input), t.on("resize", this._uiBuffer.input), e.on("change", this._changeBuffer.input), e.on("floatingSpaceLayout", this._layout, this, null, 20), e.on("blur", this._layout, this, null, 20)
            },
            _removeListeners: function() {
                var t = CKEDITOR.document.getWindow(),
                    e = this.editor;
                t.removeListener("scroll", this._uiBuffer.input), t.removeListener("resize", this._uiBuffer.input), e.removeListener("change", this._changeBuffer.input), e.removeListener("floatingSpaceLayout", this._layout), e.removeListener("blur", this._layout)
            },
            _layout: function() {
                function t() {
                    e.setStyle("left", p(m + i.width - l - c))
                }
                var e = this.element,
                    n = this.editor,
                    i = n.ui.contentsElement.getClientRect(),
                    o = n.ui.contentsElement.getDocumentPosition(),
                    n = n.ui.space("top"),
                    a = n.getClientRect(),
                    s = e.getClientRect(),
                    r,
                    l = this._notificationWidth,
                    c = this._notificationMargin;
                r = CKEDITOR.document.getWindow();
                var u = r.getScrollPosition(),
                    d = r.getViewPaneSize(),
                    h = CKEDITOR.document.getBody(),
                    f = h.getDocumentPosition(),
                    p = CKEDITOR.tools.cssLength;
                l && c || (r = this.element.getChild(0), l = this._notificationWidth = r.getClientRect().width, c = this._notificationMargin = parseInt(r.getComputedStyle("margin-left"), 10) + parseInt(r.getComputedStyle("margin-right"), 10)), n.isVisible() && a.bottom > i.top && a.bottom < i.bottom - s.height ? e.setStyles({
                    position: "fixed",
                    top: p(a.bottom)
                }) : 0 < i.top ? e.setStyles({
                    position: "absolute",
                    top: p(o.y)
                }) : o.y + i.height - s.height > u.y ? e.setStyles({
                    position: "fixed",
                    top: 0
                }) : e.setStyles({
                    position: "absolute",
                    top: p(o.y + i.height - s.height)
                });
                var m = "fixed" == e.getStyle("position") ? i.left : "static" != h.getComputedStyle("position") ? o.x - f.x : o.x;
                i.width < l + c ? o.x + l + c > u.x + d.width ? t() : e.setStyle("left", p(m)) : o.x + l + c > u.x + d.width ? e.setStyle("left", p(m)) : o.x + i.width / 2 + l / 2 + c > u.x + d.width ? e.setStyle("left", p(m - o.x + u.x + d.width - l - c)) : 0 > i.left + i.width - l - c ? t() : 0 > i.left + i.width / 2 - l / 2 ? e.setStyle("left", p(m - o.x + u.x)) : e.setStyle("left", p(m + i.width / 2 - l / 2 - c / 2))
            }
        }, CKEDITOR.plugins.notification = t, function() {
            function t(t, e, n) {
                return e.type || (e.type = "auto"), !(n && !1 === t.fire("beforePaste", e) || !e.dataValue && e.dataTransfer.isEmpty()) && (e.dataValue || (e.dataValue = ""), CKEDITOR.env.gecko && "drop" == e.method && t.toolbox && t.once("afterPaste", function() {
                    t.toolbox.focus()
                }), t.fire("paste", e))
            }
            function e(e) {
                function n() {
                    var t = e.editable();
                    if (CKEDITOR.plugins.clipboard.isCustomCopyCutSupported) {
                        var n = function(t) {
                            e.readOnly && "cut" == t.name || m.initPasteDataTransfer(t, e), t.data.preventDefault()
                        };
                        t.on("copy", n), t.on("cut", n), t.on("cut", function() {
                            e.readOnly || e.extractSelectedHtml()
                        }, null, null, 999)
                    }
                    t.on(m.mainPasteEvent, function(t) {
                        "beforepaste" == m.mainPasteEvent && g || h(t)
                    }), "beforepaste" == m.mainPasteEvent && (t.on("paste", function(t) {
                        v || (a(), t.data.preventDefault(), h(t), r("paste"))
                    }), t.on("contextmenu", s, null, null, 0), t.on("beforepaste", function(t) {
                        !t.data || t.data.$.ctrlKey || t.data.$.shiftKey || s()
                    }, null, null, 0)), t.on("beforecut", function() {
                        !g && l(e)
                    });
                    var i;
                    t.attachListener(CKEDITOR.env.ie ? t : e.document.getDocumentElement(), "mouseup", function() {
                        i = setTimeout(function() {
                            f()
                        }, 0)
                    }), e.on("destroy", function() {
                        clearTimeout(i)
                    }), t.on("keyup", f)
                }
                function i(t) {
                    return {
                        type: t,
                        canUndo: "cut" == t,
                        startDisabled: !0,
                        fakeKeystroke: "cut" == t ? CKEDITOR.CTRL + 88 : CKEDITOR.CTRL + 67,
                        exec: function() {
                            "cut" == this.type && l();
                            var t,
                                n = this.type;
                            if (CKEDITOR.env.ie)
                                t = r(n);
                            else
                                try {
                                    t = e.document.$.execCommand(n, !1, null)
                                } catch (e) {
                                    t = !1
                                }
                            return t || e.showNotification(e.lang.clipboard[this.type + "Error"]), t
                        }
                    }
                }
                function o() {
                    return {
                        canUndo: !1,
                        async: !0,
                        fakeKeystroke: CKEDITOR.CTRL + 86,
                        exec: function(e, n) {
                            function i(n, i) {
                                i = void 0 === i || i, n ? (n.method = "paste", n.dataTransfer || (n.dataTransfer = m.initPasteDataTransfer()), t(e, n, i)) : a && e.showNotification(l, "info", e.config.clipboard_notificationDuration), e.fire("afterCommandExec", {
                                    name: "paste",
                                    command: o,
                                    returnValue: !!n
                                })
                            }
                            n = void 0 !== n && null !== n ? n : {};
                            var o = this,
                                a = "undefined" == typeof n.notification || n.notification,
                                s = n.type,
                                r = CKEDITOR.tools.keystrokeToString(e.lang.common.keyboard, e.getCommandKeystroke(this)),
                                l = "string" == typeof a ? a : e.lang.clipboard.pasteNotification.replace(/%1/, '<kbd aria-label="' + r.aria + '">' + r.display + "</kbd>"),
                                r = "string" == typeof n ? n : n.dataValue;
                            s ? e._.nextPasteType = s : delete e._.nextPasteType, "string" == typeof r ? i({
                                dataValue: r
                            }) : e.getClipboardData(i)
                        }
                    }
                }
                function a() {
                    v = 1, setTimeout(function() {
                        v = 0
                    }, 100)
                }
                function s() {
                    g = 1, setTimeout(function() {
                        g = 0
                    }, 10)
                }
                function r(t) {
                    var n = e.document,
                        i = n.getBody(),
                        o = !1,
                        a = function() {
                            o = !0
                        };
                    return i.on(t, a), 7 < CKEDITOR.env.version ? n.$.execCommand(t) : n.$.selection.createRange().execCommand(t), i.removeListener(t, a), o
                }
                function l() {
                    if (CKEDITOR.env.ie && !CKEDITOR.env.quirks) {
                        var t = e.getSelection(),
                            n,
                            i,
                            o;
                        t.getType() == CKEDITOR.SELECTION_ELEMENT && (n = t.getSelectedElement()) && (i = t.getRanges()[0], o = e.document.createText(""), o.insertBefore(n), i.setStartBefore(o), i.setEndAfter(n), t.selectRanges([i]), setTimeout(function() {
                            n.getParent() && (o.remove(), t.selectElement(n))
                        }, 0))
                    }
                }
                function c(t, n) {
                    var i = e.document,
                        o = e.editable(),
                        a = function(t) {
                            t.cancel()
                        },
                        s;
                    if (!i.getById("cke_pastebin")) {
                        var r = e.getSelection(),
                            l = r.createBookmarks();
                        CKEDITOR.env.ie && r.root.fire("selectionchange");
                        var c = new CKEDITOR.dom.element(!CKEDITOR.env.webkit && !o.is("body") || CKEDITOR.env.ie ? "div" : "body", i);
                        c.setAttributes({
                            id: "cke_pastebin",
                            "data-cke-temp": "1"
                        });
                        var u = 0,
                            i = i.getWindow();
                        CKEDITOR.env.webkit ? (o.append(c), c.addClass("cke_editable"), o.is("body") || (u = "static" != o.getComputedStyle("position") ? o : CKEDITOR.dom.element.get(o.$.offsetParent), u = u.getDocumentPosition().y)) : o.getAscendant(CKEDITOR.env.ie ? "body" : "html", 1).append(c), c.setStyles({
                            position: "absolute",
                            top: i.getScrollPosition().y - u + 10 + "px",
                            width: "1px",
                            height: Math.max(1, i.getViewPaneSize().height - 20) + "px",
                            overflow: "hidden",
                            margin: 0,
                            padding: 0
                        }), CKEDITOR.env.safari && c.setStyles(CKEDITOR.tools.cssVendorPrefix("user-select", "text")), (u = c.getParent().isReadOnly()) ? (c.setOpacity(0), c.setAttribute("contenteditable", !0)) : c.setStyle("ltr" == e.config.contentsLangDirection ? "left" : "right", "-10000px"), e.on("selectionChange", a, null, null, 0), (CKEDITOR.env.webkit || CKEDITOR.env.gecko) && (s = o.once("blur", a, null, null, -100)), u && c.focus(), u = new CKEDITOR.dom.range(c), u.selectNodeContents(c);
                        var d = u.select();
                        CKEDITOR.env.ie && (s = o.once("blur", function() {
                            e.lockSelection(d)
                        }));
                        var h = CKEDITOR.document.getWindow().getScrollPosition().y;
                        setTimeout(function() {
                            CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = h), s && s.removeListener(), CKEDITOR.env.ie && o.focus(), r.selectBookmarks(l), c.remove();
                            var t;
                            CKEDITOR.env.webkit && (t = c.getFirst()) && t.is && t.hasClass("Apple-style-span") && (c = t), e.removeListener("selectionChange", a), n(c.getHtml())
                        }, 0)
                    }
                }
                function u() {
                    if ("paste" == m.mainPasteEvent)
                        return e.fire("beforePaste", {
                            type: "auto",
                            method: "paste"
                        }), !1;
                    e.focus(), a();
                    var t = e.focusManager;
                    return t.lock(), e.editable().fire(m.mainPasteEvent) && !r("paste") ? (t.unlock(), !1) : (t.unlock(), !0)
                }
                function d(t) {
                    if ("wysiwyg" == e.mode)
                        switch (t.data.keyCode) {
                        case CKEDITOR.CTRL + 86:
                        case CKEDITOR.SHIFT + 45:
                            t = e.editable(), a(), "paste" == m.mainPasteEvent && t.fire("beforepaste");
                            break;
                        case CKEDITOR.CTRL + 88:
                        case CKEDITOR.SHIFT + 46:
                            e.fire("saveSnapshot"), setTimeout(function() {
                                e.fire("saveSnapshot")
                            }, 50)
                        }
                }
                function h(n) {
                    var i = {
                        type: "auto",
                        method: "paste",
                        dataTransfer: m.initPasteDataTransfer(n)
                    };
                    i.dataTransfer.cacheData();
                    var o = !1 !== e.fire("beforePaste", i);
                    o && m.canClipboardApiBeTrusted(i.dataTransfer, e) ? (n.data.preventDefault(), setTimeout(function() {
                        t(e, i)
                    }, 0)) : c(n, function(n) {
                        i.dataValue = n.replace(/<span[^>]+data-cke-bookmark[^<]*?<\/span>/gi, ""), o && t(e, i)
                    })
                }
                function f() {
                    if ("wysiwyg" == e.mode) {
                        var t = p("paste");
                        e.getCommand("cut").setState(p("cut")), e.getCommand("copy").setState(p("copy")), e.getCommand("paste").setState(t), e.fire("pasteState", t)
                    }
                }
                function p(t) {
                    if (b && t in {
                        paste: 1,
                        cut: 1
                    })
                        return CKEDITOR.TRISTATE_DISABLED;
                    if ("paste" == t)
                        return CKEDITOR.TRISTATE_OFF;
                    t = e.getSelection();
                    var n = t.getRanges();
                    return t.getType() == CKEDITOR.SELECTION_NONE || 1 == n.length && n[0].collapsed ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_OFF
                }
                var m = CKEDITOR.plugins.clipboard,
                    g = 0,
                    v = 0,
                    b = 0;
                !function() {
                    e.on("key", d), e.on("contentDom", n), e.on("selectionChange", function(t) {
                        b = t.data.selection.getRanges()[0].checkReadOnly(), f()
                    }), e.contextMenu && e.contextMenu.addListener(function(t, e) {
                        return b = e.getRanges()[0].checkReadOnly(), {
                            cut: p("cut"),
                            copy: p("copy"),
                            paste: p("paste")
                        }
                    })
                }(), function() {
                    function t(t, n, i, o, a) {
                        var s = e.lang.clipboard[n];
                        e.addCommand(n, i), e.ui.addButton && e.ui.addButton(t, {
                            label: s,
                            command: n,
                            toolbar: "clipboard," + o
                        }), e.addMenuItems && e.addMenuItem(n, {
                            label: s,
                            command: n,
                            group: "clipboard",
                            order: a
                        })
                    }
                    t("Cut", "cut", i("cut"), 10, 1), t("Copy", "copy", i("copy"), 20, 4), t("Paste", "paste", o(), 30, 8)
                }(), e.getClipboardData = function(t, n) {
                    function i(t) {
                        t.removeListener(), t.cancel(), n(t.data)
                    }
                    n || (n = t, t = null), e.on("paste", i, null, null, 0), !1 === u() && (e.removeListener("paste", i), n(null))
                }
            }
            function n(t) {
                if (CKEDITOR.env.webkit) {
                    if (!t.match(/^[^<]*$/g) && !t.match(/^(<div><br( ?\/)?><\/div>|<div>[^<]*<\/div>)*$/gi))
                        return "html"
                } else if (CKEDITOR.env.ie) {
                    if (!t.match(/^([^<]|<br( ?\/)?>)*$/gi) && !t.match(/^(<p>([^<]|<br( ?\/)?>)*<\/p>|(\r\n))*$/gi))
                        return "html"
                } else {
                    if (!CKEDITOR.env.gecko)
                        return "html";
                    if (!t.match(/^([^<]|<br( ?\/)?>)*$/gi))
                        return "html"
                }
                return "htmlifiedtext"
            }
            function i(t, e) {
                function n(t) {
                    return CKEDITOR.tools.repeat("</p><p>", ~~(t / 2)) + (1 == t % 2 ? "<br>" : "")
                }
                return e = e.replace(/\s+/g, " ").replace(/> +</g, "><").replace(/<br ?\/>/gi, "<br>"), e = e.replace(/<\/?[A-Z]+>/g, function(t) {
                    return t.toLowerCase()
                }), e.match(/^[^<]$/) ? e : (CKEDITOR.env.webkit && -1 < e.indexOf("<div>") && (e = e.replace(/^(<div>(<br>|)<\/div>)(?!$|(<div>(<br>|)<\/div>))/g, "<br>").replace(/^(<div>(<br>|)<\/div>){2}(?!$)/g, "<div></div>"), e.match(/<div>(<br>|)<\/div>/) && (e = "<p>" + e.replace(/(<div>(<br>|)<\/div>)+/g, function(t) {
                    return n(t.split("</div><div>").length + 1)
                }) + "</p>"), e = e.replace(/<\/div><div>/g, "<br>"), e = e.replace(/<\/?div>/g, "")), CKEDITOR.env.gecko && t.enterMode != CKEDITOR.ENTER_BR && (CKEDITOR.env.gecko && (e = e.replace(/^<br><br>$/, "<br>")), -1 < e.indexOf("<br><br>") && (e = "<p>" + e.replace(/(<br>){2,}/g, function(t) {
                    return n(t.length / 4)
                }) + "</p>")), s(t, e))
            }
            function o() {
                function t() {
                    var t = {},
                        e;
                    for (e in CKEDITOR.dtd)
                        "$" != e.charAt(0) && "div" != e && "span" != e && (t[e] = 1);
                    return t
                }
                var e = {};
                return {
                    get: function(n) {
                        return "plain-text" == n ? e.plainText || (e.plainText = new CKEDITOR.filter("br")) : "semantic-content" == n ? ((n = e.semanticContent) || (n = new CKEDITOR.filter, n.allow({
                            $1: {
                                elements: t(),
                                attributes: !0,
                                styles: !1,
                                classes: !1
                            }
                        }), n = e.semanticContent = n), n) : n ? new CKEDITOR.filter(n) : null
                    }
                }
            }
            function a(t, e, n) {
                e = CKEDITOR.htmlParser.fragment.fromHtml(e);
                var i = new CKEDITOR.htmlParser.basicWriter;
                return n.applyTo(e, !0, !1, t.activeEnterMode), e.writeHtml(i), i.getHtml()
            }
            function s(t, e) {
                return t.enterMode == CKEDITOR.ENTER_BR ? e = e.replace(/(<\/p><p>)+/g, function(t) {
                    return CKEDITOR.tools.repeat("<br>", t.length / 7 * 2)
                }).replace(/<\/?p>/g, "") : t.enterMode == CKEDITOR.ENTER_DIV && (e = e.replace(/<(\/)?p>/g, "<$1div>")), e
            }
            function r(t) {
                t.data.preventDefault(), t.data.$.dataTransfer.dropEffect = "none"
            }
            function l(e) {
                var n = CKEDITOR.plugins.clipboard;
                e.on("contentDom", function() {
                    function i(n, i, o) {
                        i.select(), t(e, {
                            dataTransfer: o,
                            method: "drop"
                        }, 1), o.sourceEditor.fire("saveSnapshot"), o.sourceEditor.editable().extractHtmlFromRange(n), o.sourceEditor.getSelection().selectRanges([n]), o.sourceEditor.fire("saveSnapshot")
                    }
                    function o(i, o) {
                        i.select(), t(e, {
                            dataTransfer: o,
                            method: "drop"
                        }, 1), n.resetDragDataTransfer()
                    }
                    function a(t, n, i) {
                        var o = {
                            $: t.data.$,
                            target: t.data.getTarget()
                        };
                        n && (o.dragRange = n), i && (o.dropRange = i), !1 === e.fire(t.name, o) && t.data.preventDefault()
                    }
                    function s(t) {
                        return t.type != CKEDITOR.NODE_ELEMENT && (t = t.getParent()), t.getChildCount()
                    }
                    var r = e.editable(),
                        l = CKEDITOR.plugins.clipboard.getDropTarget(e),
                        c = e.ui.space("top"),
                        u = e.ui.space("bottom");
                    n.preventDefaultDropOnElement(c), n.preventDefaultDropOnElement(u), r.attachListener(l, "dragstart", a), r.attachListener(e, "dragstart", n.resetDragDataTransfer, n, null, 1), r.attachListener(e, "dragstart", function(t) {
                        n.initDragDataTransfer(t, e)
                    }, null, null, 2), r.attachListener(e, "dragstart", function() {
                        var t = n.dragRange = e.getSelection().getRanges()[0];
                        CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (n.dragStartContainerChildCount = t ? s(t.startContainer) : null, n.dragEndContainerChildCount = t ? s(t.endContainer) : null)
                    }, null, null, 100), r.attachListener(l, "dragend", a), r.attachListener(e, "dragend", n.initDragDataTransfer, n, null, 1), r.attachListener(e, "dragend", n.resetDragDataTransfer, n, null, 100), r.attachListener(l, "dragover", function(t) {
                        if (CKEDITOR.env.edge)
                            t.data.preventDefault();
                        else {
                            var e = t.data.getTarget();
                            e && e.is && e.is("html") ? t.data.preventDefault() : CKEDITOR.env.ie && CKEDITOR.plugins.clipboard.isFileApiSupported && t.data.$.dataTransfer.types.contains("Files") && t.data.preventDefault()
                        }
                    }), r.attachListener(l, "drop", function(t) {
                        if (!t.data.$.defaultPrevented) {
                            t.data.preventDefault();
                            var i = t.data.getTarget();
                            if (!i.isReadOnly() || i.type == CKEDITOR.NODE_ELEMENT && i.is("html")) {
                                var i = n.getRangeAtDropPosition(t, e),
                                    o = n.dragRange;
                                i && a(t, o, i)
                            }
                        }
                    }, null, null, 9999), r.attachListener(e, "drop", n.initDragDataTransfer, n, null, 1), r.attachListener(e, "drop", function(t) {
                        if (t = t.data) {
                            var a = t.dropRange,
                                s = t.dragRange,
                                r = t.dataTransfer;
                            r.getTransferType(e) == CKEDITOR.DATA_TRANSFER_INTERNAL ? setTimeout(function() {
                                n.internalDrop(s, a, r, e)
                            }, 0) : r.getTransferType(e) == CKEDITOR.DATA_TRANSFER_CROSS_EDITORS ? i(s, a, r) : o(a, r)
                        }
                    }, null, null, 9999)
                })
            }
            CKEDITOR.plugins.add("clipboard", {
                requires: "notification",
                init: function(t) {
                    var s,
                        r = o();
                    if (t.config.forcePasteAsPlainText ? s = "plain-text" : t.config.pasteFilter ? s = t.config.pasteFilter : !CKEDITOR.env.webkit || "pasteFilter" in t.config || (s = "semantic-content"), t.pasteFilter = r.get(s), e(t), l(t), CKEDITOR.env.gecko) {
                        var c = ["image/png", "image/jpeg", "image/gif"],
                            u;
                        t.on("paste", function(e) {
                            var n = e.data,
                                i = n.dataTransfer;
                            if (!n.dataValue && "paste" == n.method && i && 1 == i.getFilesCount() && u != i.id && (i = i.getFile(0), -1 != CKEDITOR.tools.indexOf(c, i.type))) {
                                var o = new FileReader;
                                o.addEventListener("load", function() {
                                    e.data.dataValue = '<img src="' + o.result + '" />', t.fire("paste", e.data)
                                }, !1), o.addEventListener("abort", function() {
                                    t.fire("paste", e.data)
                                }, !1), o.addEventListener("error", function() {
                                    t.fire("paste", e.data)
                                }, !1), o.readAsDataURL(i), u = n.dataTransfer.id, e.stop()
                            }
                        }, null, null, 1)
                    }
                    t.on("paste", function(e) {
                        if (e.data.dataTransfer || (e.data.dataTransfer = new CKEDITOR.plugins.clipboard.dataTransfer), !e.data.dataValue) {
                            var n = e.data.dataTransfer,
                                i = n.getData("text/html");
                            i ? (e.data.dataValue = i, e.data.type = "html") : (i = n.getData("text/plain")) && (e.data.dataValue = t.editable().transformPlainTextToHtml(i), e.data.type = "text")
                        }
                    }, null, null, 1), t.on("paste", function(t) {
                        var e = t.data.dataValue,
                            n = CKEDITOR.dtd.$block;
                        if (-1 < e.indexOf("Apple-") && (e = e.replace(/<span class="Apple-converted-space">&nbsp;<\/span>/gi, " "), "html" != t.data.type && (e = e.replace(/<span class="Apple-tab-span"[^>]*>([^<]*)<\/span>/gi, function(t, e) {
                            return e.replace(/\t/g, "&nbsp;&nbsp; &nbsp;")
                        })), -1 < e.indexOf('<br class="Apple-interchange-newline">') && (t.data.startsWithEOL = 1, t.data.preSniffing = "html", e = e.replace(/<br class="Apple-interchange-newline">/, "")), e = e.replace(/(<[^>]+) class="Apple-[^"]*"/gi, "$1")), e.match(/^<[^<]+cke_(editable|contents)/i)) {
                            var i,
                                o,
                                a = new CKEDITOR.dom.element("div");
                            for (a.setHtml(e); 1 == a.getChildCount() && (i = a.getFirst()) && i.type == CKEDITOR.NODE_ELEMENT && (i.hasClass("cke_editable") || i.hasClass("cke_contents"));)
                                a = o = i;
                            o && (e = o.getHtml().replace(/<br>$/i, ""))
                        }
                        CKEDITOR.env.ie ? e = e.replace(/^&nbsp;(?: |\r\n)?<(\w+)/g, function(e, i) {
                            return i.toLowerCase() in n ? (t.data.preSniffing = "html", "<" + i) : e
                        }) : CKEDITOR.env.webkit ? e = e.replace(/<\/(\w+)><div><br><\/div>$/, function(e, i) {
                            return i in n ? (t.data.endsWithEOL = 1, "</" + i + ">") : e
                        }) : CKEDITOR.env.gecko && (e = e.replace(/(\s)<br>$/, "$1")), t.data.dataValue = e
                    }, null, null, 3), t.on("paste", function(e) {
                        e = e.data;
                        var o = t._.nextPasteType || e.type,
                            s = e.dataValue,
                            l,
                            c = t.config.clipboard_defaultContentType || "html",
                            u = e.dataTransfer.getTransferType(t);
                        l = "html" == o || "html" == e.preSniffing ? "html" : n(s), delete t._.nextPasteType, "htmlifiedtext" == l && (s = i(t.config, s)), "text" == o && "html" == l ? s = a(t, s, r.get("plain-text")) : u == CKEDITOR.DATA_TRANSFER_EXTERNAL && t.pasteFilter && !e.dontFilter && (s = a(t, s, t.pasteFilter)), e.startsWithEOL && (s = '<br data-cke-eol="1">' + s), e.endsWithEOL && (s += '<br data-cke-eol="1">'), "auto" == o && (o = "html" == l || "html" == c ? "html" : "text"), e.type = o, e.dataValue = s, delete e.preSniffing, delete e.startsWithEOL, delete e.endsWithEOL
                    }, null, null, 6), t.on("paste", function(e) {
                        e = e.data, e.dataValue && (t.insertHtml(e.dataValue, e.type, e.range), setTimeout(function() {
                            t.fire("afterPaste")
                        }, 0))
                    }, null, null, 1e3)
                }
            }), CKEDITOR.plugins.clipboard = {
                isCustomCopyCutSupported: !CKEDITOR.env.ie && !CKEDITOR.env.iOS,
                isCustomDataTypesSupported: !CKEDITOR.env.ie,
                isFileApiSupported: !CKEDITOR.env.ie || 9 < CKEDITOR.env.version,
                mainPasteEvent: CKEDITOR.env.ie && !CKEDITOR.env.edge ? "beforepaste" : "paste",
                canClipboardApiBeTrusted: function(t, e) {
                    return !!(t.getTransferType(e) != CKEDITOR.DATA_TRANSFER_EXTERNAL || CKEDITOR.env.chrome && !t.isEmpty() || CKEDITOR.env.gecko && (t.getData("text/html") || t.getFilesCount()) || CKEDITOR.env.safari && 603 <= CKEDITOR.env.version && !CKEDITOR.env.iOS)
                },
                getDropTarget: function(t) {
                    var e = t.editable();
                    return CKEDITOR.env.ie && 9 > CKEDITOR.env.version || e.isInline() ? e : t.document
                },
                fixSplitNodesAfterDrop: function(t, e, n, i) {
                    function o(t, n, i) {
                        var o = t;
                        if (o.type == CKEDITOR.NODE_TEXT && (o = t.getParent()), o.equals(n) && i != n.getChildCount())
                            return t = e.startContainer.getChild(e.startOffset - 1), n = e.startContainer.getChild(e.startOffset), t && t.type == CKEDITOR.NODE_TEXT && n && n.type == CKEDITOR.NODE_TEXT && (i = t.getLength(), t.setText(t.getText() + n.getText()), n.remove(), e.setStart(t, i), e.collapse(!0)), !0
                    }
                    var a = e.startContainer;
                    "number" == typeof i && "number" == typeof n && a.type == CKEDITOR.NODE_ELEMENT && (o(t.startContainer, a, n) || o(t.endContainer, a, i))
                },
                isDropRangeAffectedByDragRange: function(t, e) {
                    var n = e.startContainer,
                        i = e.endOffset;
                    return !!(t.endContainer.equals(n) && t.endOffset <= i || t.startContainer.getParent().equals(n) && t.startContainer.getIndex() < i || t.endContainer.getParent().equals(n) && t.endContainer.getIndex() < i)
                },
                internalDrop: function(e, n, i, o) {
                    var a = CKEDITOR.plugins.clipboard,
                        s = o.editable(),
                        r,
                        l;
                    o.fire("saveSnapshot"), o.fire("lockSnapshot", {
                        dontUpdate: 1
                    }), CKEDITOR.env.ie && 10 > CKEDITOR.env.version && this.fixSplitNodesAfterDrop(e, n, a.dragStartContainerChildCount, a.dragEndContainerChildCount), (l = this.isDropRangeAffectedByDragRange(e, n)) || (r = e.createBookmark(!1)), a = n.clone().createBookmark(!1), l && (r = e.createBookmark(!1)), e = r.startNode, n = r.endNode, l = a.startNode, n && e.getPosition(l) & CKEDITOR.POSITION_PRECEDING && n.getPosition(l) & CKEDITOR.POSITION_FOLLOWING && l.insertBefore(e), e = o.createRange(), e.moveToBookmark(r), s.extractHtmlFromRange(e, 1), n = o.createRange(), n.moveToBookmark(a), t(o, {
                        dataTransfer: i,
                        method: "drop",
                        range: n
                    }, 1), o.fire("unlockSnapshot")
                },
                getRangeAtDropPosition: function(t, e) {
                    var n = t.data.$,
                        i = n.clientX,
                        o = n.clientY,
                        a = e.getSelection(!0).getRanges()[0],
                        s = e.createRange();
                    if (t.data.testRange)
                        return t.data.testRange;
                    if (document.caretRangeFromPoint && e.document.$.caretRangeFromPoint(i, o))
                        n = e.document.$.caretRangeFromPoint(i, o), s.setStart(CKEDITOR.dom.node(n.startContainer), n.startOffset), s.collapse(!0);
                    else if (n.rangeParent)
                        s.setStart(CKEDITOR.dom.node(n.rangeParent), n.rangeOffset), s.collapse(!0);
                    else {
                        if (CKEDITOR.env.ie && 8 < CKEDITOR.env.version && a && e.editable().hasFocus)
                            return a;
                        if (!document.body.createTextRange)
                            return null;
                        e.focus(), n = e.document.getBody().$.createTextRange();
                        try {
                            for (var r = !1, l = 0; 20 > l && !r; l++) {
                                if (!r)
                                    try {
                                        n.moveToPoint(i, o - l), r = !0
                                    } catch (t) {}
                                if (!r)
                                    try {
                                        n.moveToPoint(i, o + l), r = !0
                                    } catch (t) {}
                            }
                            if (r) {
                                var c = "cke-temp-" + (new Date).getTime();
                                n.pasteHTML('<span id="' + c + '">\u200b</span>');
                                var u = e.document.getById(c);
                                s.moveToPosition(u, CKEDITOR.POSITION_BEFORE_START), u.remove()
                            } else {
                                var d = e.document.$.elementFromPoint(i, o),
                                    h = new CKEDITOR.dom.element(d),
                                    f;
                                if (h.equals(e.editable()) || "html" == h.getName())
                                    return a && a.startContainer && !a.startContainer.equals(e.editable()) ? a : null;
                                f = h.getClientRect(), i < f.left ? s.setStartAt(h, CKEDITOR.POSITION_AFTER_START) : s.setStartAt(h, CKEDITOR.POSITION_BEFORE_END), s.collapse(!0)
                            }
                        } catch (t) {
                            return null
                        }
                    }
                    return s
                },
                initDragDataTransfer: function(t, e) {
                    var n = t.data.$ ? t.data.$.dataTransfer : null,
                        i = new this.dataTransfer(n, e);
                    n ? this.dragData && i.id == this.dragData.id ? i = this.dragData : this.dragData = i : this.dragData ? i = this.dragData : this.dragData = i, t.data.dataTransfer = i
                },
                resetDragDataTransfer: function() {
                    this.dragData = null
                },
                initPasteDataTransfer: function(t, e) {
                    if (this.isCustomCopyCutSupported) {
                        if (t && t.data && t.data.$) {
                            var n = new this.dataTransfer(t.data.$.clipboardData, e);
                            return this.copyCutData && n.id == this.copyCutData.id ? (n = this.copyCutData, n.$ = t.data.$.clipboardData) : this.copyCutData = n, n
                        }
                        return new this.dataTransfer(null, e)
                    }
                    return new this.dataTransfer(CKEDITOR.env.edge && t && t.data.$ && t.data.$.clipboardData || null, e)
                },
                preventDefaultDropOnElement: function(t) {
                    t && t.on("dragover", r)
                }
            };
            var c = CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? "cke/id" : "Text";
            CKEDITOR.plugins.clipboard.dataTransfer = function(t, e) {
                if (t && (this.$ = t), this._ = {
                    metaRegExp: /^<meta.*?>/i,
                    bodyRegExp: /<body(?:[\s\S]*?)>([\s\S]*)<\/body>/i,
                    fragmentRegExp: /\x3c!--(?:Start|End)Fragment--\x3e/g,
                    data: {},
                    files: [],
                    normalizeType: function(t) {
                        return t = t.toLowerCase(), "text" == t || "text/plain" == t ? "Text" : "url" == t ? "URL" : t
                    }
                }, this.id = this.getData(c), this.id || (this.id = "Text" == c ? "" : "cke-" + CKEDITOR.tools.getUniqueId()), "Text" != c)
                    try {
                        this.$.setData(c, this.id)
                    } catch (t) {}
                e && (this.sourceEditor = e, this.setData("text/html", e.getSelectedHtml(1)), "Text" == c || this.getData("text/plain") || this.setData("text/plain", e.getSelection().getSelectedText()))
            }, CKEDITOR.DATA_TRANSFER_INTERNAL = 1, CKEDITOR.DATA_TRANSFER_CROSS_EDITORS = 2, CKEDITOR.DATA_TRANSFER_EXTERNAL = 3, CKEDITOR.plugins.clipboard.dataTransfer.prototype = {
                getData: function(t, e) {
                    t = this._.normalizeType(t);
                    var n = this._.data[t],
                        i;
                    if (void 0 === n || null === n || "" === n)
                        try {
                            n = this.$.getData(t)
                        } catch (t) {}
                    return void 0 !== n && null !== n && "" !== n || (n = ""), "text/html" != t || e ? "Text" == t && CKEDITOR.env.gecko && this.getFilesCount() && "file://" == n.substring(0, 7) && (n = "") : (n = n.replace(this._.metaRegExp, ""), (i = this._.bodyRegExp.exec(n)) && i.length && (n = i[1], n = n.replace(this._.fragmentRegExp, ""))), "string" == typeof n && (i = n.indexOf("</html>"), n = -1 !== i ? n.substring(0, i + 7) : n), n
                },
                setData: function(t, e) {
                    if (t = this._.normalizeType(t), this._.data[t] = e, CKEDITOR.plugins.clipboard.isCustomDataTypesSupported || "URL" == t || "Text" == t) {
                        "Text" == c && "Text" == t && (this.id = e);
                        try {
                            this.$.setData(t, e)
                        } catch (t) {}
                    }
                },
                getTransferType: function(t) {
                    return this.sourceEditor ? this.sourceEditor == t ? CKEDITOR.DATA_TRANSFER_INTERNAL : CKEDITOR.DATA_TRANSFER_CROSS_EDITORS : CKEDITOR.DATA_TRANSFER_EXTERNAL
                },
                cacheData: function() {
                    function t(t) {
                        t = e._.normalizeType(t);
                        var n = e.getData(t, !0);
                        n && (e._.data[t] = n)
                    }
                    if (this.$) {
                        var e = this,
                            n,
                            i;
                        if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                            if (this.$.types)
                                for (n = 0; n < this.$.types.length; n++)
                                    t(this.$.types[n])
                        } else
                            t("Text"), t("URL");
                        if (i = this._getImageFromClipboard(), this.$ && this.$.files || i) {
                            if (this._.files = [], this.$.files && this.$.files.length)
                                for (n = 0; n < this.$.files.length; n++)
                                    this._.files.push(this.$.files[n]);
                            0 === this._.files.length && i && this._.files.push(i)
                        }
                    }
                },
                getFilesCount: function() {
                    return this._.files.length ? this._.files.length : this.$ && this.$.files && this.$.files.length ? this.$.files.length : this._getImageFromClipboard() ? 1 : 0
                },
                getFile: function(t) {
                    return this._.files.length ? this._.files[t] : this.$ && this.$.files && this.$.files.length ? this.$.files[t] : 0 === t ? this._getImageFromClipboard() : void 0
                },
                isEmpty: function() {
                    var t = {},
                        e;
                    if (this.getFilesCount())
                        return !1;
                    for (e in this._.data)
                        t[e] = 1;
                    if (this.$)
                        if (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported) {
                            if (this.$.types)
                                for (var n = 0; n < this.$.types.length; n++)
                                    t[this.$.types[n]] = 1
                        } else
                            t.Text = 1, t.URL = 1;
                    "Text" != c && (t[c] = 0);
                    for (e in t)
                        if (t[e] && "" !== this.getData(e))
                            return !1;
                    return !0
                },
                _getImageFromClipboard: function() {
                    var t;
                    if (this.$ && this.$.items && this.$.items[0])
                        try {
                            if ((t = this.$.items[0].getAsFile()) && t.type)
                                return t
                        } catch (t) {}
                }
            }
        }(), CKEDITOR.config.clipboard_notificationDuration = 1e4, CKEDITOR.plugins.add("panelbutton", {
            requires: "button",
            onLoad: function() {
                function t(t) {
                    var e = this._;
                    e.state != CKEDITOR.TRISTATE_DISABLED && (this.createPanel(t), e.on ? e.panel.hide() : e.panel.showBlock(this._.id, this.document.getById(this._.id), 4))
                }
                CKEDITOR.ui.panelButton = CKEDITOR.tools.createClass({
                    base: CKEDITOR.ui.button,
                    $: function(e) {
                        var n = e.panel || {};
                        delete e.panel, this.base(e), this.document = n.parent && n.parent.getDocument() || CKEDITOR.document, n.block = {
                            attributes: n.attributes
                        }, this.hasArrow = n.toolbarRelated = !0, this.click = t, this._ = {
                            panelDefinition: n
                        }
                    },
                    statics: {
                        handler: {
                            create: function(t) {
                                return new CKEDITOR.ui.panelButton(t)
                            }
                        }
                    },
                    proto: {
                        createPanel: function(t) {
                            var e = this._;
                            if (!e.panel) {
                                var n = this._.panelDefinition,
                                    i = this._.panelDefinition.block,
                                    o = n.parent || CKEDITOR.document.getBody(),
                                    a = this._.panel = new CKEDITOR.ui.floatPanel(t, o, n),
                                    n = a.addBlock(e.id, i),
                                    s = this;
                                a.onShow = function() {
                                    s.className && this.element.addClass(s.className + "_panel"), s.setState(CKEDITOR.TRISTATE_ON), e.on = 1, s.editorFocus && t.focus(), s.onOpen && s.onOpen()
                                }, a.onHide = function(n) {
                                    s.className && this.element.getFirst().removeClass(s.className + "_panel"), s.setState(s.modes && s.modes[t.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), e.on = 0, !n && s.onClose && s.onClose()
                                }, a.onEscape = function() {
                                    a.hide(1), s.document.getById(e.id).focus()
                                }, this.onBlock && this.onBlock(a, n), n.onHide = function() {
                                    e.on = 0, s.setState(CKEDITOR.TRISTATE_OFF)
                                }
                            }
                        }
                    }
                })
            },
            beforeInit: function(t) {
                t.ui.addHandler(CKEDITOR.UI_PANELBUTTON, CKEDITOR.ui.panelButton.handler)
            }
        }), CKEDITOR.UI_PANELBUTTON = "panelbutton", function() {
            CKEDITOR.plugins.add("panel", {
                beforeInit: function(t) {
                    t.ui.addHandler(CKEDITOR.UI_PANEL, CKEDITOR.ui.panel.handler)
                }
            }), CKEDITOR.UI_PANEL = "panel", CKEDITOR.ui.panel = function(t, e) {
                e && CKEDITOR.tools.extend(this, e), CKEDITOR.tools.extend(this, {
                    className: "",
                    css: []
                }), this.id = CKEDITOR.tools.getNextId(), this.document = t, this.isFramed = this.forceIFrame || this.css.length, this._ = {
                    blocks: {}
                }
            }, CKEDITOR.ui.panel.handler = {
                create: function(t) {
                    return new CKEDITOR.ui.panel(t)
                }
            };
            var t = CKEDITOR.addTemplate("panel", '<div lang="{langCode}" id="{id}" dir={dir} class="cke cke_reset_all {editorId} cke_panel cke_panel {cls} cke_{dir}" style="z-index:{z-index}" role="presentation">{frame}</div>'),
                e = CKEDITOR.addTemplate("panel-frame", '<iframe id="{id}" class="cke_panel_frame" role="presentation" frameborder="0" src="{src}"></iframe>'),
                n = CKEDITOR.addTemplate("panel-frame-inner", '<!DOCTYPE html><html class="cke_panel_container {env}" dir="{dir}" lang="{langCode}"><head>{css}</head><body class="cke_{dir}" style="margin:0;padding:0" onload="{onload}"></body></html>');
            CKEDITOR.ui.panel.prototype = {
                render: function(i, o) {
                    this.getHolderElement = function() {
                        var t = this._.holder;
                        if (!t) {
                            if (this.isFramed) {
                                var t = this.document.getById(this.id + "_frame"),
                                    e = t.getParent(),
                                    t = t.getFrameDocument();
                                CKEDITOR.env.iOS && e.setStyles({
                                    overflow: "scroll",
                                    "-webkit-overflow-scrolling": "touch"
                                }), e = CKEDITOR.tools.addFunction(CKEDITOR.tools.bind(function() {
                                    this.isLoaded = !0, this.onLoad && this.onLoad()
                                }, this)), t.write(n.output(CKEDITOR.tools.extend({
                                    css: CKEDITOR.tools.buildStyleHtml(this.css),
                                    onload: "window.parent.CKEDITOR.tools.callFunction(" + e + ");"
                                }, a))), t.getWindow().$.CKEDITOR = CKEDITOR, t.on("keydown", function(t) {
                                    var e = t.data.getKeystroke(),
                                        n = this.document.getById(this.id).getAttribute("dir");
                                    this._.onKeyDown && !1 === this._.onKeyDown(e) ? t.data.preventDefault() : (27 == e || e == ("rtl" == n ? 39 : 37)) && this.onEscape && !1 === this.onEscape(e) && t.data.preventDefault()
                                }, this), t = t.getBody(), t.unselectable(), CKEDITOR.env.air && CKEDITOR.tools.callFunction(e)
                            } else
                                t = this.document.getById(this.id);
                            this._.holder = t
                        }
                        return t
                    };
                    var a = {
                        editorId: i.id,
                        id: this.id,
                        langCode: i.langCode,
                        dir: i.lang.dir,
                        cls: this.className,
                        frame: "",
                        env: CKEDITOR.env.cssClass,
                        "z-index": i.config.baseFloatZIndex + 1
                    };
                    if (this.isFramed) {
                        var s = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie ? "javascript:void(function(){" + encodeURIComponent("document.open();(" + CKEDITOR.tools.fixDomain + ")();document.close();") + "}())" : "";
                        a.frame = e.output({
                            id: this.id + "_frame",
                            src: s
                        })
                    }
                    return s = t.output(a), o && o.push(s), s
                },
                addBlock: function(t, e) {
                    return e = this._.blocks[t] = e instanceof CKEDITOR.ui.panel.block ? e : new CKEDITOR.ui.panel.block(this.getHolderElement(), e), this._.currentBlock || this.showBlock(t), e
                },
                getBlock: function(t) {
                    return this._.blocks[t]
                },
                showBlock: function(t) {
                    t = this._.blocks[t];
                    var e = this._.currentBlock,
                        n = !this.forceIFrame || CKEDITOR.env.ie ? this._.holder : this.document.getById(this.id + "_frame");
                    return e && e.hide(), this._.currentBlock = t, CKEDITOR.fire("ariaWidget", n), t._.focusIndex = -1, this._.onKeyDown = t.onKeyDown && CKEDITOR.tools.bind(t.onKeyDown, t), t.show(), t
                },
                destroy: function() {
                    this.element && this.element.remove()
                }
            }, CKEDITOR.ui.panel.block = CKEDITOR.tools.createClass({
                $: function(t, e) {
                    this.element = t.append(t.getDocument().createElement("div", {
                        attributes: {
                            tabindex: -1,
                            "class": "cke_panel_block"
                        },
                        styles: {
                            display: "none"
                        }
                    })), e && CKEDITOR.tools.extend(this, e), this.element.setAttributes({
                        role: this.attributes.role || "presentation",
                        "aria-label": this.attributes["aria-label"],
                        title: this.attributes.title || this.attributes["aria-label"]
                    }), this.keys = {}, this._.focusIndex = -1, this.element.disableContextMenu()
                },
                _: {
                    markItem: function(t) {
                        -1 != t && (t = this.element.getElementsByTag("a").getItem(this._.focusIndex = t), CKEDITOR.env.webkit && t.getDocument().getWindow().focus(), t.focus(), this.onMark && this.onMark(t))
                    },
                    markFirstDisplayed: function(t) {
                        for (var e = function(t) {
                                return t.type == CKEDITOR.NODE_ELEMENT && "none" == t.getStyle("display")
                            }, n = this._.getItems(), i, o, a = n.count() - 1; 0 <= a; a--)
                            if (i = n.getItem(a), i.getAscendant(e) || (o = i, this._.focusIndex = a), "true" == i.getAttribute("aria-selected")) {
                                o = i, this._.focusIndex = a;
                                break
                            }
                        o && (t && t(), CKEDITOR.env.webkit && o.getDocument().getWindow().focus(), o.focus(), this.onMark && this.onMark(o))
                    },
                    getItems: function() {
                        return this.element.getElementsByTag("a")
                    }
                },
                proto: {
                    show: function() {
                        this.element.setStyle("display", "")
                    },
                    hide: function() {
                        this.onHide && !0 === this.onHide.call(this) || this.element.setStyle("display", "none")
                    },
                    onKeyDown: function(t, e) {
                        var n = this.keys[t];
                        switch (n) {
                        case "next":
                            for (var i = this._.focusIndex, n = this.element.getElementsByTag("a"), o; o = n.getItem(++i);)
                                if (o.getAttribute("_cke_focus") && o.$.offsetWidth) {
                                    this._.focusIndex = i, o.focus();
                                    break
                                }
                            return !o && !e && (this._.focusIndex = -1, this.onKeyDown(t, 1));
                        case "prev":
                            for (i = this._.focusIndex, n = this.element.getElementsByTag("a"); 0 < i && (o = n.getItem(--i));) {
                                if (o.getAttribute("_cke_focus") && o.$.offsetWidth) {
                                    this._.focusIndex = i, o.focus();
                                    break
                                }
                                o = null
                            }
                            return !o && !e && (this._.focusIndex = n.count(), this.onKeyDown(t, 1));
                        case "click":
                        case "mouseup":
                            return i = this._.focusIndex, (o = 0 <= i && this.element.getElementsByTag("a").getItem(i)) && (o.$[n] ? o.$[n]() : o.$["on" + n]()), !1
                        }
                        return !0
                    }
                }
            })
        }(), CKEDITOR.plugins.add("floatpanel", {
            requires: "panel"
        }), function() {
            function t(t, n, i, o, a) {
                a = CKEDITOR.tools.genKey(n.getUniqueId(), i.getUniqueId(), t.lang.dir, t.uiColor || "", o.css || "", a || "");
                var s = e[a];
                return s || (s = e[a] = new CKEDITOR.ui.panel(n, o), s.element = i.append(CKEDITOR.dom.element.createFromHtml(s.render(t), n)), s.element.setStyles({
                    display: "none",
                    position: "absolute"
                })), s
            }
            var e = {};
            CKEDITOR.ui.floatPanel = CKEDITOR.tools.createClass({
                $: function(e, n, i, o) {
                    function a() {
                        c.hide()
                    }
                    i.forceIFrame = 1, i.toolbarRelated && e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (n = CKEDITOR.document.getById("cke_" + e.name));
                    var s = n.getDocument();
                    o = t(e, s, n, i, o || 0);
                    var r = o.element,
                        l = r.getFirst(),
                        c = this;
                    r.disableContextMenu(), this.element = r, this._ = {
                        editor: e,
                        panel: o,
                        parentElement: n,
                        definition: i,
                        document: s,
                        iframe: l,
                        children: [],
                        dir: e.lang.dir,
                        showBlockParams: null
                    }, e.on("mode", a), e.on("resize", a), s.getWindow().on("resize", function() {
                        this.reposition()
                    }, this)
                },
                proto: {
                    addBlock: function(t, e) {
                        return this._.panel.addBlock(t, e)
                    },
                    addListBlock: function(t, e) {
                        return this._.panel.addListBlock(t, e)
                    },
                    getBlock: function(t) {
                        return this._.panel.getBlock(t)
                    },
                    showBlock: function(t, e, n, i, o, a) {
                        var s = this._.panel,
                            r = s.showBlock(t);
                        this._.showBlockParams = [].slice.call(arguments), this.allowBlur(!1);
                        var l = this._.editor.editable();
                        this._.returnFocus = l.hasFocus ? l : new CKEDITOR.dom.element(CKEDITOR.document.$.activeElement), this._.hideTimeout = 0;
                        var c = this.element,
                            l = this._.iframe,
                            l = CKEDITOR.env.ie && !CKEDITOR.env.edge ? l : new CKEDITOR.dom.window(l.$.contentWindow),
                            u = c.getDocument(),
                            d = this._.parentElement.getPositionedAncestor(),
                            h = e.getDocumentPosition(u),
                            u = d ? d.getDocumentPosition(u) : {
                                x: 0,
                                y: 0
                            },
                            f = "rtl" == this._.dir,
                            p = h.x + (i || 0) - u.x,
                            m = h.y + (o || 0) - u.y;
                        !f || 1 != n && 4 != n ? f || 2 != n && 3 != n || (p += e.$.offsetWidth - 1) : p += e.$.offsetWidth, 3 != n && 4 != n || (m += e.$.offsetHeight - 1), this._.panel._.offsetParentId = e.getId(), c.setStyles({
                            top: m + "px",
                            left: 0,
                            display: ""
                        }), c.setOpacity(0), c.getFirst().removeStyle("width"), this._.editor.focusManager.add(l), this._.blurSet || (CKEDITOR.event.useCapture = !0, l.on("blur", function(t) {
                            function e() {
                                delete this._.returnFocus, this.hide()
                            }
                            this.allowBlur() && t.data.getPhase() == CKEDITOR.EVENT_PHASE_AT_TARGET && this.visible && !this._.activeChild && (CKEDITOR.env.iOS ? this._.hideTimeout || (this._.hideTimeout = CKEDITOR.tools.setTimeout(e, 0, this)) : e.call(this))
                        }, this), l.on("focus", function() {
                            this._.focused = !0, this.hideChild(), this.allowBlur(!0)
                        }, this), CKEDITOR.env.iOS && (l.on("touchstart", function() {
                            clearTimeout(this._.hideTimeout)
                        }, this), l.on("touchend", function() {
                            this._.hideTimeout = 0, this.focus()
                        }, this)), CKEDITOR.event.useCapture = !1, this._.blurSet = 1), s.onEscape = CKEDITOR.tools.bind(function(t) {
                            if (this.onEscape && !1 === this.onEscape(t))
                                return !1
                        }, this), CKEDITOR.tools.setTimeout(function() {
                            var t = CKEDITOR.tools.bind(function() {
                                var t = c;
                                if (t.removeStyle("width"), r.autoSize) {
                                    var e = r.element.getDocument(),
                                        e = (CKEDITOR.env.webkit || CKEDITOR.env.edge ? r.element : e.getBody()).$.scrollWidth;
                                    CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < e && (e += (t.$.offsetWidth || 0) - (t.$.clientWidth || 0) + 3), t.setStyle("width", e + 10 + "px"), e = r.element.$.scrollHeight, CKEDITOR.env.ie && CKEDITOR.env.quirks && 0 < e && (e += (t.$.offsetHeight || 0) - (t.$.clientHeight || 0) + 3), t.setStyle("height", e + "px"), s._.currentBlock.element.setStyle("display", "none").removeStyle("display")
                                } else
                                    t.removeStyle("height");
                                f && (p -= c.$.offsetWidth), c.setStyle("left", p + "px");
                                var e = s.element.getWindow(),
                                    t = c.$.getBoundingClientRect(),
                                    e = e.getViewPaneSize(),
                                    n = t.width || t.right - t.left,
                                    i = t.height || t.bottom - t.top,
                                    o = f ? t.right : e.width - t.left,
                                    l = f ? e.width - t.right : t.left;
                                f ? o < n && (p = l > n ? p + n : e.width > n ? p - t.left : p - t.right + e.width) : o < n && (p = l > n ? p - n : e.width > n ? p - t.right + e.width : p - t.left), n = t.top, e.height - t.top < i && (m = n > i ? m - i : e.height > i ? m - t.bottom + e.height : m - t.top), CKEDITOR.env.ie && (e = t = new CKEDITOR.dom.element(c.$.offsetParent), "html" == e.getName() && (e = e.getDocument().getBody()), "rtl" == e.getComputedStyle("direction") && (p = CKEDITOR.env.ie8Compat ? p - 2 * c.getDocument().getDocumentElement().$.scrollLeft : p - (t.$.scrollWidth - t.$.clientWidth)));
                                var t = c.getFirst(),
                                    u;
                                (u = t.getCustomData("activePanel")) && u.onHide && u.onHide.call(this, 1), t.setCustomData("activePanel", this), c.setStyles({
                                    top: m + "px",
                                    left: p + "px"
                                }), c.setOpacity(1), a && a()
                            }, this);
                            s.isLoaded ? t() : s.onLoad = t, CKEDITOR.tools.setTimeout(function() {
                                var t = CKEDITOR.env.webkit && CKEDITOR.document.getWindow().getScrollPosition().y;
                                this.focus(), r.element.focus(), CKEDITOR.env.webkit && (CKEDITOR.document.getBody().$.scrollTop = t), this.allowBlur(!0), CKEDITOR.env.ie ? CKEDITOR.tools.setTimeout(function() {
                                    r.markFirstDisplayed ? r.markFirstDisplayed() : r._.markFirstDisplayed()
                                }, 0) : r.markFirstDisplayed ? r.markFirstDisplayed() : r._.markFirstDisplayed(), this._.editor.fire("panelShow", this)
                            }, 0, this)
                        }, CKEDITOR.env.air ? 200 : 0, this), this.visible = 1, this.onShow && this.onShow.call(this)
                    },
                    reposition: function() {
                        var t = this._.showBlockParams;
                        this.visible && this._.showBlockParams && (this.hide(), this.showBlock.apply(this, t))
                    },
                    focus: function() {
                        if (CKEDITOR.env.webkit) {
                            var t = CKEDITOR.document.getActive();
                            t && !t.equals(this._.iframe) && t.$.blur()
                        }
                        (this._.lastFocused || this._.iframe.getFrameDocument().getWindow()).focus()
                    },
                    blur: function() {
                        var t = this._.iframe.getFrameDocument().getActive();
                        t && t.is("a") && (this._.lastFocused = t)
                    },
                    hide: function(t) {
                        !this.visible || this.onHide && !0 === this.onHide.call(this) || (this.hideChild(), CKEDITOR.env.gecko && this._.iframe.getFrameDocument().$.activeElement.blur(), this.element.setStyle("display", "none"), this.visible = 0, this.element.getFirst().removeCustomData("activePanel"), (t = t && this._.returnFocus) && (CKEDITOR.env.webkit && t.type && t.getWindow().$.focus(), t.focus()), delete this._.lastFocused, this._.showBlockParams = null, this._.editor.fire("panelHide", this))
                    },
                    allowBlur: function(t) {
                        var e = this._.panel;
                        return void 0 !== t && (e.allowBlur = t), e.allowBlur
                    },
                    showAsChild: function(t, e, n, i, o, a) {
                        this._.activeChild == t && t._.panel._.offsetParentId == n.getId() || (this.hideChild(), t.onHide = CKEDITOR.tools.bind(function() {
                            CKEDITOR.tools.setTimeout(function() {
                                this._.focused || this.hide()
                            }, 0, this)
                        }, this), this._.activeChild = t, this._.focused = !1, t.showBlock(e, n, i, o, a), this.blur(), (CKEDITOR.env.ie7Compat || CKEDITOR.env.ie6Compat) && setTimeout(function() {
                            t.element.getChild(0).$.style.cssText += ""
                        }, 100))
                    },
                    hideChild: function(t) {
                        var e = this._.activeChild;
                        e && (delete e.onHide, delete this._.activeChild, e.hide(), t && this.focus())
                    }
                }
            }), CKEDITOR.on("instanceDestroyed", function() {
                var t = CKEDITOR.tools.isEmpty(CKEDITOR.instances),
                    n;
                for (n in e) {
                    var i = e[n];
                    t ? i.destroy() : i.element.hide()
                }
                t && (e = {})
            })
        }(), CKEDITOR.plugins.add("colorbutton", {
            requires: "panelbutton,floatpanel",
            init: function(t) {
                function e(e, i, r, l, c) {
                    var u = new CKEDITOR.style(a["colorButton_" + i + "Style"]),
                        d = CKEDITOR.tools.getNextId() + "_colorBox",
                        h;
                    c = c || {}, t.ui.add(e, CKEDITOR.UI_PANELBUTTON, {
                        label: r,
                        title: r,
                        modes: {
                            wysiwyg: 1
                        },
                        editorFocus: 0,
                        toolbar: "colors," + l,
                        allowedContent: u,
                        requiredContent: u,
                        contentTransformations: c.contentTransformations,
                        panel: {
                            css: CKEDITOR.skin.getPath("editor"),
                            attributes: {
                                role: "listbox",
                                "aria-label": s.panelTitle
                            }
                        },
                        onBlock: function(e, o) {
                            h = o, o.autoSize = !0, o.element.addClass("cke_colorblock"), o.element.setHtml(n(e, i, d)), o.element.getDocument().getBody().setStyle("overflow", "hidden"), CKEDITOR.ui.fire("ready", this);
                            var a = o.keys,
                                s = "rtl" == t.lang.dir;
                            a[s ? 37 : 39] = "next", a[40] = "next", a[9] = "next", a[s ? 39 : 37] = "prev", a[38] = "prev", a[CKEDITOR.SHIFT + 9] = "prev", a[32] = "click"
                        },
                        refresh: function() {
                            t.activeFilter.check(u) || this.setState(CKEDITOR.TRISTATE_DISABLED)
                        },
                        onOpen: function() {
                            var e = t.getSelection(),
                                n = e && e.getStartElement(),
                                s = t.elementPath(n);
                            if (s) {
                                n = s.block || s.blockLimit || t.document.getBody();
                                do {
                                    s = n && n.getComputedStyle("back" == i ? "background-color" : "color") || "transparent"
                                } while ("back" == i && "transparent" == s && n && (n = n.getParent()));
                                if (s && "transparent" != s || (s = "#ffffff"), !1 !== a.colorButton_enableAutomatic && this._.panel._.iframe.getFrameDocument().getById(d).setStyle("background-color", s), n = e && e.getRanges()[0]) {
                                    for (var e = new CKEDITOR.dom.walker(n), r = n.collapsed ? n.startContainer : e.next(), n = ""; r;) {
                                        if (r.type === CKEDITOR.NODE_TEXT && (r = r.getParent()), r = o(r.getComputedStyle("back" == i ? "background-color" : "color")), (n = n || r) !== r) {
                                            n = "";
                                            break
                                        }
                                        r = e.next()
                                    }
                                    for (e = n, n = h._.getItems(), r = 0; r < n.count(); r++) {
                                        var l = n.getItem(r);
                                        l.removeAttribute("aria-selected"), e && e == o(l.getAttribute("data-value")) && l.setAttribute("aria-selected", !0)
                                    }
                                }
                                return s
                            }
                        }
                    })
                }
                function n(e, n, o) {
                    var r = [],
                        l = a.colorButton_colors.split(","),
                        c = a.colorButton_colorsPerRow || 6,
                        u = t.plugins.colordialog && !1 !== a.colorButton_enableMore,
                        d = l.length + (u ? 2 : 1),
                        h = CKEDITOR.tools.addFunction(function n(o, s) {
                            function r(t) {
                                this.removeListener("ok", r), this.removeListener("cancel", r), "ok" == t.name && n(this.getContentElement("picker", "selectedColor").getValue(), s)
                            }
                            if ("?" == o)
                                t.openDialog("colordialog", function() {
                                    this.on("ok", r), this.on("cancel", r)
                                });
                            else {
                                if (t.focus(), e.hide(), t.fire("saveSnapshot"), t.removeStyle(new CKEDITOR.style(a["colorButton_" + s + "Style"], {
                                    color: "inherit"
                                })), o) {
                                    var l = a["colorButton_" + s + "Style"];
                                    l.childRule = "back" == s ? function(t) {
                                        return i(t)
                                    } : function(t) {
                                        return !(t.is("a") || t.getElementsByTag("a").count()) || i(t)
                                    }, t.applyStyle(new CKEDITOR.style(l, {
                                        color: o
                                    }))
                                }
                                t.fire("saveSnapshot")
                            }
                        });
                    for (!1 !== a.colorButton_enableAutomatic && r.push('<a class="cke_colorauto" _cke_focus=1 hidefocus=true title="', s.auto, '" onclick="CKEDITOR.tools.callFunction(', h, ",null,'", n, "');return false;\" href=\"javascript:void('", s.auto, '\')" role="option" aria-posinset="1" aria-setsize="', d, '"><table role="presentation" cellspacing=0 cellpadding=0 width="100%"><tr><td colspan="' + c + '" align="center"><span class="cke_colorbox" id="', o, '"></span>', s.auto, "</td></tr></table></a>"), r.push('<table role="presentation" cellspacing=0 cellpadding=0 width="100%">'), o = 0; o < l.length; o++) {
                        0 == o % c && r.push("</tr><tr>");
                        var f = l[o].split("/"),
                            p = f[0],
                            m = f[1] || p;
                        f[1] || (p = "#" + p.replace(/^(.)(.)(.)$/, "$1$1$2$2$3$3")), f = t.lang.colorbutton.colors[m] || m, r.push('<td><a class="cke_colorbox" _cke_focus=1 hidefocus=true title="', f, '" onclick="CKEDITOR.tools.callFunction(', h, ",'", p, "','", n, "'); return false;\" href=\"javascript:void('", f, '\')" data-value="' + m + '" role="option" aria-posinset="', o + 2, '" aria-setsize="', d, '"><span class="cke_colorbox" style="background-color:#', m, '"></span></a></td>')
                    }
                    return u && r.push('</tr><tr><td colspan="' + c + '" align="center"><a class="cke_colormore" _cke_focus=1 hidefocus=true title="', s.more, '" onclick="CKEDITOR.tools.callFunction(', h, ",'?','", n, "');return false;\" href=\"javascript:void('", s.more, "')\"", ' role="option" aria-posinset="', d, '" aria-setsize="', d, '">', s.more, "</a></td>"), r.push("</tr></table>"), r.join("")
                }
                function i(t) {
                    return "false" == t.getAttribute("contentEditable") || t.getAttribute("data-nostyle")
                }
                function o(t) {
                    return CKEDITOR.tools.convertRgbToHex(t || "").replace(/#/, "").toLowerCase()
                }
                var a = t.config,
                    s = t.lang.colorbutton;
                if (!CKEDITOR.env.hc) {
                    e("TextColor", "fore", s.textColorTitle, 10, {
                        contentTransformations: [[{
                            element: "font",
                            check: "span{color}",
                            left: function(t) {
                                return !!t.attributes.color
                            },
                            right: function(t) {
                                t.name = "span", t.attributes.color && (t.styles.color = t.attributes.color), delete t.attributes.color
                            }
                        }]]
                    });
                    var r = {},
                        l = t.config.colorButton_normalizeBackground;
                    (void 0 === l || l) && (r.contentTransformations = [[{
                        element: "span",
                        left: function(t) {
                            var e = CKEDITOR.tools;
                            return !("span" != t.name || !t.styles || !t.styles.background) && (t = e.style.parse.background(t.styles.background), t.color && 1 === e.objectKeys(t).length)
                        },
                        right: function(e) {
                            var n = new CKEDITOR.style(t.config.colorButton_backStyle, {
                                color: e.styles.background
                            }).getDefinition();
                            return e.name = n.element, e.styles = n.styles, e.attributes = n.attributes || {}, e
                        }
                    }]]), e("BGColor", "back", s.bgColorTitle, 20, r)
                }
            }
        }), CKEDITOR.config.colorButton_colors = "1ABC9C,2ECC71,3498DB,9B59B6,4E5F70,F1C40F,16A085,27AE60,2980B9,8E44AD,2C3E50,F39C12,E67E22,E74C3C,ECF0F1,95A5A6,DDD,FFF,D35400,C0392B,BDC3C7,7F8C8D,999,000", CKEDITOR.config.colorButton_foreStyle = {
            element: "span",
            styles: {
                color: "#(color)"
            },
            overrides: [{
                element: "font",
                attributes: {
                    color: null
                }
            }]
        }, CKEDITOR.config.colorButton_backStyle = {
            element: "span",
            styles: {
                "background-color": "#(color)"
            }
        }, CKEDITOR.plugins.colordialog = {
            requires: "dialog",
            init: function(t) {
                var e = new CKEDITOR.dialogCommand("colordialog");
                e.editorFocus = !1, t.addCommand("colordialog", e), CKEDITOR.dialog.add("colordialog", this.path + "dialogs/colordialog.js"), t.getColorFromDialog = function(e, n) {
                    var i = function(t) {
                            this.removeListener("ok", i), this.removeListener("cancel", i), t = "ok" == t.name ? this.getValueOf("picker", "selectedColor") : null, e.call(n, t)
                        },
                        o = function(t) {
                            t.on("ok", i), t.on("cancel", i)
                        };
                    t.execCommand("colordialog"), t._.storedDialogs && t._.storedDialogs.colordialog ? o(t._.storedDialogs.colordialog) : CKEDITOR.on("dialogDefinition", function(t) {
                        if ("colordialog" == t.data.name) {
                            var e = t.data.definition;
                            t.removeListener(), e.onLoad = CKEDITOR.tools.override(e.onLoad, function(t) {
                                return function() {
                                    o(this), e.onLoad = t, "function" == typeof t && t.call(this)
                                }
                            })
                        }
                    })
                }
            }
        }, CKEDITOR.plugins.add("colordialog", CKEDITOR.plugins.colordialog), function() {
            CKEDITOR.plugins.add("templates", {
                requires: "dialog",
                init: function(t) {
                    CKEDITOR.dialog.add("templates", CKEDITOR.getUrl(this.path + "dialogs/templates.js")), t.addCommand("templates", new CKEDITOR.dialogCommand("templates")), t.ui.addButton && t.ui.addButton("Templates", {
                        label: t.lang.templates.button,
                        command: "templates",
                        toolbar: "doctools,10"
                    })
                }
            })
            ;
            var t = {},
                e = {};
            CKEDITOR.addTemplates = function(e, n) {
                t[e] = n
            }, CKEDITOR.getTemplates = function(e) {
                return t[e]
            }, CKEDITOR.loadTemplates = function(t, n) {
                for (var i = [], o = 0, a = t.length; o < a; o++)
                    e[t[o]] || (i.push(t[o]), e[t[o]] = 1);
                i.length ? CKEDITOR.scriptLoader.load(i, n) : setTimeout(n, 0)
            }
        }();
        CKEDITOR.config.templates_files = [CKEDITOR.getUrl("plugins/templates/templates/default.js")], CKEDITOR.config.templates_replaceContent = !0, CKEDITOR.plugins.add("menu", {
            requires: "floatpanel",
            beforeInit: function(t) {
                for (var e = t.config.menu_groups.split(","), n = t._.menuGroups = {}, i = t._.menuItems = {}, o = 0; o < e.length; o++)
                    n[e[o]] = o + 1;
                t.addMenuGroup = function(t, e) {
                    n[t] = e || 100
                }, t.addMenuItem = function(t, e) {
                    n[e.group] && (i[t] = new CKEDITOR.menuItem(this, t, e))
                }, t.addMenuItems = function(t) {
                    for (var e in t)
                        this.addMenuItem(e, t[e])
                }, t.getMenuItem = function(t) {
                    return i[t]
                }, t.removeMenuItem = function(t) {
                    delete i[t]
                }
            }
        }), function() {
            function t(t) {
                t.sort(function(t, e) {
                    return t.group < e.group ? -1 : t.group > e.group ? 1 : t.order < e.order ? -1 : t.order > e.order ? 1 : 0
                })
            }
            var e = '<span class="cke_menuitem"><a id="{id}" class="cke_menubutton cke_menubutton__{name} cke_menubutton_{state} {cls}" href="{href}" title="{title}" tabindex="-1" _cke_focus=1 hidefocus="true" role="{role}" aria-label="{label}" aria-describedby="{id}_description" aria-haspopup="{hasPopup}" aria-disabled="{disabled}" {ariaChecked} draggable="false"';
            CKEDITOR.env.gecko && CKEDITOR.env.mac && (e += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (e += ' onblur="this.style.cssText = this.style.cssText;" ondragstart="return false;"');
            var e = e + ' onmouseover="CKEDITOR.tools.callFunction({hoverFn},{index});" onmouseout="CKEDITOR.tools.callFunction({moveOutFn},{index});" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},{index}); return false;">',
                n = CKEDITOR.addTemplate("menuItem", e + '<span class="cke_menubutton_inner"><span class="cke_menubutton_icon"><span class="cke_button_icon cke_button__{iconName}_icon" style="{iconStyle}"></span></span><span class="cke_menubutton_label">{label}</span>{shortcutHtml}{arrowHtml}</span></a><span id="{id}_description" class="cke_voice_label" aria-hidden="false">{ariaShortcut}</span></span>'),
                i = CKEDITOR.addTemplate("menuArrow", '<span class="cke_menuarrow"><span>{label}</span></span>'),
                o = CKEDITOR.addTemplate("menuShortcut", '<span class="cke_menubutton_label cke_menubutton_shortcut">{shortcut}</span>');
            CKEDITOR.menu = CKEDITOR.tools.createClass({
                $: function(t, e) {
                    e = this._.definition = e || {}, this.id = CKEDITOR.tools.getNextId(), this.editor = t, this.items = [], this._.listeners = [], this._.level = e.level || 1;
                    var n = CKEDITOR.tools.extend({}, e.panel, {
                            css: [CKEDITOR.skin.getPath("editor")],
                            level: this._.level - 1,
                            block: {}
                        }),
                        i = n.block.attributes = n.attributes || {};
                    !i.role && (i.role = "menu"), this._.panelDefinition = n
                },
                _: {
                    onShow: function() {
                        var t = this.editor.getSelection(),
                            e = t && t.getStartElement(),
                            n = this.editor.elementPath(),
                            i = this._.listeners;
                        this.removeAll();
                        for (var o = 0; o < i.length; o++) {
                            var a = i[o](e, t, n);
                            if (a)
                                for (var s in a) {
                                    var r = this.editor.getMenuItem(s);
                                    !r || r.command && !this.editor.getCommand(r.command).state || (r.state = a[s], this.add(r))
                                }
                        }
                    },
                    onClick: function(t) {
                        this.hide(), t.onClick ? t.onClick() : t.command && this.editor.execCommand(t.command)
                    },
                    onEscape: function(t) {
                        var e = this.parent;
                        return e ? e._.panel.hideChild(1) : 27 == t && this.hide(1), !1
                    },
                    onHide: function() {
                        this.onHide && this.onHide()
                    },
                    showSubMenu: function(t) {
                        var e = this._.subMenu,
                            n = this.items[t];
                        if (n = n.getItems && n.getItems()) {
                            e ? e.removeAll() : (e = this._.subMenu = new CKEDITOR.menu(this.editor, CKEDITOR.tools.extend({}, this._.definition, {
                                level: this._.level + 1
                            }, !0)), e.parent = this, e._.onClick = CKEDITOR.tools.bind(this._.onClick, this));
                            for (var i in n) {
                                var o = this.editor.getMenuItem(i);
                                o && (o.state = n[i], e.add(o))
                            }
                            var a = this._.panel.getBlock(this.id).element.getDocument().getById(this.id + String(t));
                            setTimeout(function() {
                                e.show(a, 2)
                            }, 0)
                        } else
                            this._.panel.hideChild(1)
                    }
                },
                proto: {
                    add: function(t) {
                        t.order || (t.order = this.items.length), this.items.push(t)
                    },
                    removeAll: function() {
                        this.items = []
                    },
                    show: function(e, n, i, o) {
                        if (this.parent || (this._.onShow(), this.items.length)) {
                            n = n || ("rtl" == this.editor.lang.dir ? 2 : 1);
                            var a = this.items,
                                s = this.editor,
                                r = this._.panel,
                                l = this._.element;
                            if (!r) {
                                r = this._.panel = new CKEDITOR.ui.floatPanel(this.editor, CKEDITOR.document.getBody(), this._.panelDefinition, this._.level), r.onEscape = CKEDITOR.tools.bind(function(t) {
                                    if (!1 === this._.onEscape(t))
                                        return !1
                                }, this), r.onShow = function() {
                                    r._.panel.getHolderElement().getParent().addClass("cke").addClass("cke_reset_all")
                                }, r.onHide = CKEDITOR.tools.bind(function() {
                                    this._.onHide && this._.onHide()
                                }, this), l = r.addBlock(this.id, this._.panelDefinition.block), l.autoSize = !0;
                                var c = l.keys;
                                c[40] = "next", c[9] = "next", c[38] = "prev", c[CKEDITOR.SHIFT + 9] = "prev", c["rtl" == s.lang.dir ? 37 : 39] = CKEDITOR.env.ie ? "mouseup" : "click", c[32] = CKEDITOR.env.ie ? "mouseup" : "click", CKEDITOR.env.ie && (c[13] = "mouseup"), l = this._.element = l.element, c = l.getDocument(), c.getBody().setStyle("overflow", "hidden"), c.getElementsByTag("html").getItem(0).setStyle("overflow", "hidden"), this._.itemOverFn = CKEDITOR.tools.addFunction(function(t) {
                                    clearTimeout(this._.showSubTimeout), this._.showSubTimeout = CKEDITOR.tools.setTimeout(this._.showSubMenu, s.config.menu_subMenuDelay || 400, this, [t])
                                }, this), this._.itemOutFn = CKEDITOR.tools.addFunction(function() {
                                    clearTimeout(this._.showSubTimeout)
                                }, this), this._.itemClickFn = CKEDITOR.tools.addFunction(function(t) {
                                    var e = this.items[t];
                                    e.state == CKEDITOR.TRISTATE_DISABLED ? this.hide(1) : e.getItems ? this._.showSubMenu(t) : this._.onClick(e)
                                }, this)
                            }
                            t(a);
                            for (var c = s.elementPath(), c = ['<div class="cke_menu' + (c && c.direction() != s.lang.dir ? " cke_mixed_dir_content" : "") + '" role="presentation">'], u = a.length, d = u && a[0].group, h = 0; h < u; h++) {
                                var f = a[h];
                                d != f.group && (c.push('<div class="cke_menuseparator" role="separator"></div>'), d = f.group), f.render(this, h, c)
                            }
                            c.push("</div>"), l.setHtml(c.join("")), CKEDITOR.ui.fire("ready", this), this.parent ? this.parent._.panel.showAsChild(r, this.id, e, n, i, o) : r.showBlock(this.id, e, n, i, o), s.fire("menuShow", [r])
                        }
                    },
                    addListener: function(t) {
                        this._.listeners.push(t)
                    },
                    hide: function(t) {
                        this._.onHide && this._.onHide(), this._.panel && this._.panel.hide(t)
                    }
                }
            }), CKEDITOR.menuItem = CKEDITOR.tools.createClass({
                $: function(t, e, n) {
                    CKEDITOR.tools.extend(this, n, {
                        order: 0,
                        className: "cke_menubutton__" + e
                    }), this.group = t._.menuGroups[this.group], this.editor = t, this.name = e
                },
                proto: {
                    render: function(t, e, a) {
                        var s = t.id + String(e),
                            r = "undefined" == typeof this.state ? CKEDITOR.TRISTATE_OFF : this.state,
                            l = "",
                            c = this.editor,
                            u,
                            d,
                            h = r == CKEDITOR.TRISTATE_ON ? "on" : r == CKEDITOR.TRISTATE_DISABLED ? "disabled" : "off";
                        this.role in {
                            menuitemcheckbox: 1,
                            menuitemradio: 1
                        } && (l = ' aria-checked="' + (r == CKEDITOR.TRISTATE_ON ? "true" : "false") + '"');
                        var f = this.getItems,
                            p = "&#" + ("rtl" == this.editor.lang.dir ? "9668" : "9658") + ";",
                            m = this.name;
                        this.icon && !/\./.test(this.icon) && (m = this.icon), this.command && (u = c.getCommand(this.command), (u = c.getCommandKeystroke(u)) && (d = CKEDITOR.tools.keystrokeToString(c.lang.common.keyboard, u))), t = {
                            id: s,
                            name: this.name,
                            iconName: m,
                            label: this.label,
                            cls: this.className || "",
                            state: h,
                            hasPopup: f ? "true" : "false",
                            disabled: r == CKEDITOR.TRISTATE_DISABLED,
                            title: this.label + (d ? " (" + d.display + ")" : ""),
                            ariaShortcut: d ? c.lang.common.keyboardShortcut + " " + d.aria : "",
                            href: "javascript:void('" + (this.label || "").replace("'") + "')",
                            hoverFn: t._.itemOverFn,
                            moveOutFn: t._.itemOutFn,
                            clickFn: t._.itemClickFn,
                            index: e,
                            iconStyle: CKEDITOR.skin.getIconStyle(m, "rtl" == this.editor.lang.dir, m == this.icon ? null : this.icon, this.iconOffset),
                            shortcutHtml: d ? o.output({
                                shortcut: d.display
                            }) : "",
                            arrowHtml: f ? i.output({
                                label: p
                            }) : "",
                            role: this.role ? this.role : "menuitem",
                            ariaChecked: l
                        }, n.output(t, a)
                    }
                }
            })
        }(), CKEDITOR.config.menu_groups = "clipboard,form,tablecell,tablecellproperties,tablerow,tablecolumn,table,anchor,link,image,flash,checkbox,radio,textfield,hiddenfield,imagebutton,button,select,textarea,div", CKEDITOR.plugins.add("contextmenu", {
            requires: "menu",
            onLoad: function() {
                CKEDITOR.plugins.contextMenu = CKEDITOR.tools.createClass({
                    base: CKEDITOR.menu,
                    $: function(t) {
                        this.base.call(this, t, {
                            panel: {
                                className: "cke_menu_panel",
                                attributes: {
                                    "aria-label": t.lang.contextmenu.options
                                }
                            }
                        })
                    },
                    proto: {
                        addTarget: function(t, e) {
                            if (t.on("contextmenu", function(t) {
                                t = t.data;
                                var i = CKEDITOR.env.webkit ? n : CKEDITOR.env.mac ? t.$.metaKey : t.$.ctrlKey;
                                if (!e || !i) {
                                    if (t.preventDefault(), CKEDITOR.env.mac && CKEDITOR.env.webkit) {
                                        var i = this.editor,
                                            o = new CKEDITOR.dom.elementPath(t.getTarget(), i.editable()).contains(function(t) {
                                                return t.hasAttribute("contenteditable")
                                            }, !0);
                                        o && "false" == o.getAttribute("contenteditable") && i.getSelection().fake(o)
                                    }
                                    var o = t.getTarget().getDocument(),
                                        a = t.getTarget().getDocument().getDocumentElement(),
                                        i = !o.equals(CKEDITOR.document),
                                        o = o.getWindow().getScrollPosition(),
                                        s = i ? t.$.clientX : t.$.pageX || o.x + t.$.clientX,
                                        r = i ? t.$.clientY : t.$.pageY || o.y + t.$.clientY;
                                    CKEDITOR.tools.setTimeout(function() {
                                        this.open(a, null, s, r)
                                    }, CKEDITOR.env.ie ? 200 : 0, this)
                                }
                            }, this), CKEDITOR.env.webkit) {
                                var n,
                                    i = function() {
                                        n = 0
                                    };
                                t.on("keydown", function(t) {
                                    n = CKEDITOR.env.mac ? t.data.$.metaKey : t.data.$.ctrlKey
                                }), t.on("keyup", i), t.on("contextmenu", i)
                            }
                        },
                        open: function(t, e, n, i) {
                            !1 !== this.editor.config.enableContextMenu && (this.editor.focus(), t = t || CKEDITOR.document.getDocumentElement(), this.editor.selectionChange(1), this.show(t, e, n, i))
                        }
                    }
                })
            },
            beforeInit: function(t) {
                var e = t.contextMenu = new CKEDITOR.plugins.contextMenu(t);
                t.on("contentDom", function() {
                    e.addTarget(t.editable(), !1 !== t.config.browserContextMenuOnCtrl)
                }), t.addCommand("contextMenu", {
                    exec: function() {
                        t.contextMenu.open(t.document.getBody())
                    }
                }), t.setKeystroke(CKEDITOR.SHIFT + 121, "contextMenu"), t.setKeystroke(CKEDITOR.CTRL + CKEDITOR.SHIFT + 121, "contextMenu")
            }
        }), function() {
            function t(t) {
                var e = (t = t.data) && t.$;
                return !(!t || !e) && (CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? 1 === e.button : 0 === e.button)
            }
            function e(t, e, n, i) {
                var o = new CKEDITOR.dom.walker(t);
                if (!(t = t.startContainer.getAscendant(e, !0) || t.endContainer.getAscendant(e, !0)) || (n(t), !i))
                    for (; (t = o.next()) && (!(t = t.getAscendant(e, !0)) || (n(t), !i));)
                        ;
            }
            function n(t, e) {
                var n = {
                    ul: "ol",
                    ol: "ul"
                };
                return -1 !== o(e, function(e) {
                    return e.element === t || e.element === n[t]
                })
            }
            function i(t) {
                this.styles = null, this.sticky = !1, this.editor = t, this.filter = new CKEDITOR.filter(t.config.copyFormatting_allowRules), !0 === t.config.copyFormatting_allowRules && (this.filter.disabled = !0), t.config.copyFormatting_disallowRules && this.filter.disallow(t.config.copyFormatting_disallowRules)
            }
            var o = CKEDITOR.tools.indexOf,
                a = !1;
            CKEDITOR.plugins.add("copyformatting", {
                lang: "az,de,en,it,ja,nb,nl,oc,pl,pt-br,ru,sv,tr,zh,zh-cn",
                icons: "copyformatting",
                hidpi: !0,
                init: function(e) {
                    var i = CKEDITOR.plugins.copyformatting;
                    i._addScreenReaderContainer(), a || (CKEDITOR.document.appendStyleSheet(this.path + "styles/copyformatting.css"), a = !0), e.addContentsCss && e.addContentsCss(this.path + "styles/copyformatting.css"), e.copyFormatting = new i.state(e), e.addCommand("copyFormatting", i.commands.copyFormatting), e.addCommand("applyFormatting", i.commands.applyFormatting), e.ui.addButton("CopyFormatting", {
                        label: e.lang.copyformatting.label,
                        command: "copyFormatting",
                        toolbar: "cleanup,0"
                    }), e.on("contentDom", function() {
                        var n = e.editable(),
                            i = n.isInline() ? n : e.document,
                            o = e.ui.get("CopyFormatting");
                        n.attachListener(i, "mouseup", function(n) {
                            t(n) && e.execCommand("applyFormatting")
                        }), n.attachListener(CKEDITOR.document, "mouseup", function(i) {
                            var o = e.getCommand("copyFormatting");
                            t(i) && o.state === CKEDITOR.TRISTATE_ON && !n.contains(i.data.getTarget()) && e.execCommand("copyFormatting")
                        }), o && (i = CKEDITOR.document.getById(o._.id), n.attachListener(i, "dblclick", function() {
                            e.execCommand("copyFormatting", {
                                sticky: !0
                            })
                        }), n.attachListener(i, "mouseup", function(t) {
                            t.data.stopPropagation()
                        }))
                    }), e.config.copyFormatting_keystrokeCopy && e.setKeystroke(e.config.copyFormatting_keystrokeCopy, "copyFormatting"), e.on("key", function(t) {
                        var n = e.getCommand("copyFormatting");
                        t = t.data.domEvent, t.getKeystroke && 27 === t.getKeystroke() && n.state === CKEDITOR.TRISTATE_ON && e.execCommand("copyFormatting")
                    }), e.copyFormatting.on("extractFormatting", function(t) {
                        var n = t.data.element;
                        return n.contains(e.editable()) || n.equals(e.editable()) ? t.cancel() : (n = i._convertElementToStyleDef(n), e.copyFormatting.filter.check(new CKEDITOR.style(n), !0, !0) ? void (t.data.styleDef = n) : t.cancel())
                    }), e.copyFormatting.on("applyFormatting", function(t) {
                        if (!t.data.preventFormatStripping) {
                            var a = t.data.range,
                                s = i._extractStylesFromRange(e, a),
                                r = i._determineContext(a),
                                l,
                                c;
                            if (e.copyFormatting._isContextAllowed(r))
                                for (c = 0; c < s.length; c++)
                                    r = s[c], l = a.createBookmark(), -1 === o(i.preservedElements, r.element) ? CKEDITOR.env.webkit && !CKEDITOR.env.chrome ? s[c].removeFromRange(t.data.range, t.editor) : s[c].remove(t.editor) : n(r.element, t.data.styles) && i._removeStylesFromElementInRange(a, r.element), a.moveToBookmark(l)
                        }
                    }), e.copyFormatting.on("applyFormatting", function(t) {
                        var n = CKEDITOR.plugins.copyformatting,
                            i = n._determineContext(t.data.range);
                        "list" === i && e.copyFormatting._isContextAllowed("list") ? n._applyStylesToListContext(t.editor, t.data.range, t.data.styles) : "table" === i && e.copyFormatting._isContextAllowed("table") ? n._applyStylesToTableContext(t.editor, t.data.range, t.data.styles) : e.copyFormatting._isContextAllowed("text") && n._applyStylesToTextContext(t.editor, t.data.range, t.data.styles)
                    }, null, null, 999)
                }
            }), i.prototype._isContextAllowed = function(t) {
                var e = this.editor.config.copyFormatting_allowedContexts;
                return !0 === e || -1 !== o(e, t)
            }, CKEDITOR.event.implementOn(i.prototype), CKEDITOR.plugins.copyformatting = {
                state: i,
                inlineBoundary: "h1 h2 h3 h4 h5 h6 p div".split(" "),
                excludedAttributes: ["id", "style", "href", "data-cke-saved-href", "dir"],
                elementsForInlineTransform: ["li"],
                excludedElementsFromInlineTransform: ["table", "thead", "tbody", "ul", "ol"],
                excludedAttributesFromInlineTransform: ["value", "type"],
                preservedElements: "ul ol li td th tr thead tbody table".split(" "),
                breakOnElements: ["ul", "ol", "table"],
                _initialKeystrokePasteCommand: null,
                commands: {
                    copyFormatting: {
                        exec: function(t, e) {
                            var n = CKEDITOR.plugins.copyformatting,
                                i = t.copyFormatting,
                                o = !!e && "keystrokeHandler" == e.from,
                                a = !!e && (e.sticky || o),
                                s = n._getCursorContainer(t),
                                r = CKEDITOR.document.getDocumentElement();
                            if (this.state === CKEDITOR.TRISTATE_ON)
                                return i.styles = null, i.sticky = !1, s.removeClass("cke_copyformatting_active"), r.removeClass("cke_copyformatting_disabled"), r.removeClass("cke_copyformatting_tableresize_cursor"), n._putScreenReaderMessage(t, "canceled"), n._detachPasteKeystrokeHandler(t), this.setState(CKEDITOR.TRISTATE_OFF);
                            i.styles = n._extractStylesFromElement(t, t.elementPath().lastElement), this.setState(CKEDITOR.TRISTATE_ON), o || (s.addClass("cke_copyformatting_active"), r.addClass("cke_copyformatting_tableresize_cursor"), t.config.copyFormatting_outerCursor && r.addClass("cke_copyformatting_disabled")), i.sticky = a, n._putScreenReaderMessage(t, "copied"), n._attachPasteKeystrokeHandler(t)
                        }
                    },
                    applyFormatting: {
                        editorFocus: !1,
                        exec: function(t, e) {
                            var n = t.getCommand("copyFormatting"),
                                i = !!e && "keystrokeHandler" == e.from,
                                o = CKEDITOR.plugins.copyformatting,
                                a = t.copyFormatting,
                                s = o._getCursorContainer(t),
                                r = CKEDITOR.document.getDocumentElement();
                            if (i || n.state === CKEDITOR.TRISTATE_ON) {
                                if (i && !a.styles)
                                    return o._putScreenReaderMessage(t, "failed"), o._detachPasteKeystrokeHandler(t), !1;
                                i = o._applyFormat(t, a.styles), a.sticky || (a.styles = null, s.removeClass("cke_copyformatting_active"), r.removeClass("cke_copyformatting_disabled"), r.removeClass("cke_copyformatting_tableresize_cursor"), n.setState(CKEDITOR.TRISTATE_OFF), o._detachPasteKeystrokeHandler(t)), o._putScreenReaderMessage(t, i ? "applied" : "canceled")
                            }
                        }
                    }
                },
                _getCursorContainer: function(t) {
                    return t.elementMode === CKEDITOR.ELEMENT_MODE_INLINE ? t.editable() : t.editable().getParent()
                },
                _convertElementToStyleDef: function(t) {
                    var e = CKEDITOR.tools,
                        n = t.getAttributes(CKEDITOR.plugins.copyformatting.excludedAttributes),
                        e = e.parseCssText(t.getAttribute("style"), !0, !0);
                    return {
                        element: t.getName(),
                        type: CKEDITOR.STYLE_INLINE,
                        attributes: n,
                        styles: e
                    }
                },
                _extractStylesFromElement: function(t, e) {
                    var n = {},
                        i = [];
                    do {
                        if (e.type === CKEDITOR.NODE_ELEMENT && !e.hasAttribute("data-cke-bookmark") && (n.element = e, t.copyFormatting.fire("extractFormatting", n, t) && n.styleDef && i.push(new CKEDITOR.style(n.styleDef)), e.getName && -1 !== o(CKEDITOR.plugins.copyformatting.breakOnElements, e.getName())))
                            break
                    } while ((e = e.getParent()) && e.type === CKEDITOR.NODE_ELEMENT);
                    return i
                },
                _extractStylesFromRange: function(t, e) {
                    for (var n = [], i = new CKEDITOR.dom.walker(e), o; o = i.next();)
                        n = n.concat(CKEDITOR.plugins.copyformatting._extractStylesFromElement(t, o));
                    return n
                },
                _removeStylesFromElementInRange: function(t, e) {
                    for (var n = -1 !== o(["ol", "ul", "table"], e), i = new CKEDITOR.dom.walker(t), a; (a = i.next()) && (!(a = a.getAscendant(e, !0)) || (a.removeAttributes(a.getAttributes()), !n));)
                        ;
                },
                _getSelectedWordOffset: function(t) {
                    function e(t, e) {
                        return t[e ? "getPrevious" : "getNext"](function(t) {
                            return t.type !== CKEDITOR.NODE_COMMENT
                        })
                    }
                    function n(t) {
                        return t.type == CKEDITOR.NODE_ELEMENT ? (t = t.getHtml().replace(/<span.*?>&nbsp;<\/span>/g, ""), t.replace(/<.*?>/g, "")) : t.getText()
                    }
                    function i(t, a) {
                        var s = t,
                            r = /\s/g,
                            l = "p br ol ul li td th div caption body".split(" "),
                            c = !1,
                            u = !1,
                            d,
                            h;
                        do {
                            for (d = e(s, a); !d && s.getParent();) {
                                if (s = s.getParent(), -1 !== o(l, s.getName())) {
                                    u = c = !0;
                                    break
                                }
                                d = e(s, a)
                            }
                            if (d && d.getName && -1 !== o(l, d.getName())) {
                                c = !0;
                                break
                            }
                            s = d
                        } while (s && s.getStyle && ("none" == s.getStyle("display") || !s.getText()));
                        for (s || (s = t); s.type !== CKEDITOR.NODE_TEXT;)
                            s = !c || a || u ? s.getChild(0) : s.getChild(s.getChildCount() - 1);
                        for (l = n(s); null != (u = r.exec(l)) && (h = u.index, a);)
                            ;
                        if ("number" != typeof h && !c)
                            return i(s, a);
                        if (c)
                            a ? h = 0 : (r = /([\.\b]*$)/, h = (u = r.exec(l)) ? u.index : l.length);
                        else if (a && (h += 1) > l.length)
                            return i(s);
                        return {
                            node: s,
                            offset: h
                        }
                    }
                    var a = /\b\w+\b/gi,
                        s,
                        r,
                        l,
                        c,
                        u;
                    for (l = c = u = t.startContainer, s = n(l); null != (r = a.exec(s));)
                        if (r.index + r[0].length >= t.startOffset)
                            return t = r.index, a = r.index + r[0].length, 0 === r.index && (r = i(l, !0), c = r.node, t = r.offset), a >= s.length && (s = i(l), u = s.node, a = s.offset), {
                                startNode: c,
                                startOffset: t,
                                endNode: u,
                                endOffset: a
                            };
                    return null
                },
                _filterStyles: function(t) {
                    var e = CKEDITOR.tools.isEmpty,
                        n = [],
                        i,
                        o;
                    for (o = 0; o < t.length; o++)
                        i = t[o]._.definition, -1 !== CKEDITOR.tools.indexOf(CKEDITOR.plugins.copyformatting.inlineBoundary, i.element) && (i.element = t[o].element = "span"), "span" === i.element && e(i.attributes) && e(i.styles) || n.push(t[o]);
                    return n
                },
                _determineContext: function(t) {
                    function e(e) {
                        var n = new CKEDITOR.dom.walker(t),
                            i;
                        if (t.startContainer.getAscendant(e, !0) || t.endContainer.getAscendant(e, !0))
                            return !0;
                        for (; i = n.next();)
                            if (i.getAscendant(e, !0))
                                return !0
                    }
                    return e({
                        ul: 1,
                        ol: 1
                    }) ? "list" : e("table") ? "table" : "text"
                },
                _applyStylesToTextContext: function(t, e, n) {
                    var i = CKEDITOR.plugins.copyformatting,
                        a = i.excludedAttributesFromInlineTransform,
                        s,
                        r;
                    for (CKEDITOR.env.webkit && !CKEDITOR.env.chrome && t.getSelection().selectRanges([e]), s = 0; s < n.length; s++)
                        if (e = n[s], -1 === o(i.excludedElementsFromInlineTransform, e.element)) {
                            if (-1 !== o(i.elementsForInlineTransform, e.element))
                                for (e.element = e._.definition.element = "span", r = 0; r < a.length; r++)
                                    e._.definition.attributes[a[r]] && delete e._.definition.attributes[a[r]];
                            e.apply(t)
                        }
                },
                _applyStylesToListContext: function(t, n, i) {
                    var o,
                        a,
                        s;
                    for (s = 0; s < i.length; s++)
                        o = i[s], a = n.createBookmark(), "ol" === o.element || "ul" === o.element ? e(n, {
                            ul: 1,
                            ol: 1
                        }, function(t) {
                            var e = o;
                            t.getName() !== e.element && t.renameNode(e.element), e.applyToObject(t)
                        }, !0) : "li" === o.element ? e(n, "li", function(t) {
                            o.applyToObject(t)
                        }) : CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t, n, [o]), n.moveToBookmark(a)
                },
                _applyStylesToTableContext: function(t, n, i) {
                    function a(t, e) {
                        t.getName() !== e.element && (e = e.getDefinition(), e.element = t.getName(), e = new CKEDITOR.style(e)), e.applyToObject(t)
                    }
                    var s,
                        r,
                        l;
                    for (l = 0; l < i.length; l++)
                        s = i[l], r = n.createBookmark(), -1 !== o(["table", "tr"], s.element) ? e(n, s.element, function(t) {
                            s.applyToObject(t)
                        }) : -1 !== o(["td", "th"], s.element) ? e(n, {
                            td: 1,
                            th: 1
                        }, function(t) {
                            a(t, s)
                        }) : -1 !== o(["thead", "tbody"], s.element) ? e(n, {
                            thead: 1,
                            tbody: 1
                        }, function(t) {
                            a(t, s)
                        }) : CKEDITOR.plugins.copyformatting._applyStylesToTextContext(t, n, [s]), n.moveToBookmark(r)
                },
                _applyFormat: function(t, e) {
                    var n = t.getSelection().getRanges()[0],
                        i = CKEDITOR.plugins.copyformatting,
                        o,
                        a;
                    if (!n)
                        return !1;
                    if (n.collapsed) {
                        if (a = t.getSelection().createBookmarks(), !(o = i._getSelectedWordOffset(n)))
                            return;
                        n = t.createRange(), n.setStart(o.startNode, o.startOffset), n.setEnd(o.endNode, o.endOffset), n.select()
                    }
                    return e = i._filterStyles(e), !!t.copyFormatting.fire("applyFormatting", {
                        styles: e,
                        range: n,
                        preventFormatStripping: !1
                    }, t) && (a && t.getSelection().selectBookmarks(a), !0)
                },
                _putScreenReaderMessage: function(t, e) {
                    var n = this._getScreenReaderContainer();
                    n && n.setText(t.lang.copyformatting.notification[e])
                },
                _addScreenReaderContainer: function() {
                    return this._getScreenReaderContainer() ? this._getScreenReaderContainer() : CKEDITOR.env.ie6Compat || CKEDITOR.env.ie7Compat ? void 0 : CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml('<div class="cke_screen_reader_only cke_copyformatting_notification"><div aria-live="polite"></div></div>')).getChild(0)
                },
                _getScreenReaderContainer: function() {
                    if (!CKEDITOR.env.ie6Compat && !CKEDITOR.env.ie7Compat)
                        return CKEDITOR.document.getBody().findOne(".cke_copyformatting_notification div[aria-live]")
                },
                _attachPasteKeystrokeHandler: function(t) {
                    var e = t.config.copyFormatting_keystrokePaste;
                    e && (this._initialKeystrokePasteCommand = t.keystrokeHandler.keystrokes[e], t.setKeystroke(e, "applyFormatting"))
                },
                _detachPasteKeystrokeHandler: function(t) {
                    var e = t.config.copyFormatting_keystrokePaste;
                    e && t.setKeystroke(e, this._initialKeystrokePasteCommand || !1)
                }
            }, CKEDITOR.config.copyFormatting_outerCursor = !0, CKEDITOR.config.copyFormatting_allowRules = "b s u i em strong span p div td th ol ul li(*)[*]{*}", CKEDITOR.config.copyFormatting_disallowRules = "*[data-cke-widget*,data-widget*,data-cke-realelement](cke_widget*)", CKEDITOR.config.copyFormatting_allowedContexts = !0, CKEDITOR.config.copyFormatting_keystrokeCopy = CKEDITOR.CTRL + CKEDITOR.SHIFT + 67, CKEDITOR.config.copyFormatting_keystrokePaste = CKEDITOR.CTRL + CKEDITOR.SHIFT + 86
        }(), function() {
            CKEDITOR.plugins.add("div", {
                requires: "dialog",
                init: function(t) {
                    if (!t.blockless) {
                        var e = t.lang.div,
                            n = "div(*)";
                        CKEDITOR.dialog.isTabEnabled(t, "editdiv", "advanced") && (n += ";div[dir,id,lang,title]{*}"), t.addCommand("creatediv", new CKEDITOR.dialogCommand("creatediv", {
                            allowedContent: n,
                            requiredContent: "div",
                            contextSensitive: !0,
                            contentTransformations: [["div: alignmentToStyle"]],
                            refresh: function(t, e) {
                                this.setState("div" in (t.config.div_wrapTable ? e.root : e.blockLimit).getDtd() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                            }
                        })), t.addCommand("editdiv", new CKEDITOR.dialogCommand("editdiv", {
                            requiredContent: "div"
                        })), t.addCommand("removediv", {
                            requiredContent: "div",
                            exec: function(t) {
                                function e(e) {
                                    (e = CKEDITOR.plugins.div.getSurroundDiv(t, e)) && !e.data("cke-div-added") && (s.push(e), e.data("cke-div-added"))
                                }
                                for (var n = t.getSelection(), i = n && n.getRanges(), o, a = n.createBookmarks(), s = [], r = 0; r < i.length; r++)
                                    o = i[r], o.collapsed ? e(n.getStartElement()) : (o = new CKEDITOR.dom.walker(o), o.evaluator = e, o.lastForward());
                                for (r = 0; r < s.length; r++)
                                    s[r].remove(!0);
                                n.selectBookmarks(a)
                            }
                        }), t.ui.addButton && t.ui.addButton("CreateDiv", {
                            label: e.toolbar,
                            command: "creatediv",
                            toolbar: "blocks,50"
                        }), t.addMenuItems && (t.addMenuItems({
                            editdiv: {
                                label: e.edit,
                                command: "editdiv",
                                group: "div",
                                order: 1
                            },
                            removediv: {
                                label: e.remove,
                                command: "removediv",
                                group: "div",
                                order: 5
                            }
                        }), t.contextMenu && t.contextMenu.addListener(function(e) {
                            return !e || e.isReadOnly() ? null : CKEDITOR.plugins.div.getSurroundDiv(t) ? {
                                editdiv: CKEDITOR.TRISTATE_OFF,
                                removediv: CKEDITOR.TRISTATE_OFF
                            } : null
                        })), CKEDITOR.dialog.add("creatediv", this.path + "dialogs/div.js"), CKEDITOR.dialog.add("editdiv", this.path + "dialogs/div.js")
                    }
                }
            }), CKEDITOR.plugins.div = {
                getSurroundDiv: function(t, e) {
                    var n = t.elementPath(e);
                    return t.elementPath(n.blockLimit).contains(function(t) {
                        return t.is("div") && !t.isReadOnly()
                    }, 1)
                }
            }
        }(), CKEDITOR.plugins.add("resize", {
            init: function(t) {
                function e(e) {
                    var n = l.width,
                        o = l.height,
                        s = n + (e.data.$.screenX - r.x) * ("rtl" == a ? -1 : 1);
                    e = o + (e.data.$.screenY - r.y), c && (n = Math.max(i.resize_minWidth, Math.min(s, i.resize_maxWidth))), u && (o = Math.max(i.resize_minHeight, Math.min(e, i.resize_maxHeight))), t.resize(c ? n : null, o)
                }
                function n() {
                    CKEDITOR.document.removeListener("mousemove", e), CKEDITOR.document.removeListener("mouseup", n), t.document && (t.document.removeListener("mousemove", e), t.document.removeListener("mouseup", n))
                }
                var i = t.config,
                    o = t.ui.spaceId("resizer"),
                    a = t.element ? t.element.getDirection(1) : "ltr";
                if (!i.resize_dir && (i.resize_dir = "vertical"), void 0 === i.resize_maxWidth && (i.resize_maxWidth = 3e3), void 0 === i.resize_maxHeight && (i.resize_maxHeight = 3e3), void 0 === i.resize_minWidth && (i.resize_minWidth = 750), void 0 === i.resize_minHeight && (i.resize_minHeight = 250), !1 !== i.resize_enabled) {
                    var s = null,
                        r,
                        l,
                        c = ("both" == i.resize_dir || "horizontal" == i.resize_dir) && i.resize_minWidth != i.resize_maxWidth,
                        u = ("both" == i.resize_dir || "vertical" == i.resize_dir) && i.resize_minHeight != i.resize_maxHeight,
                        d = CKEDITOR.tools.addFunction(function(o) {
                            s || (s = t.getResizable()), l = {
                                width: s.$.offsetWidth || 0,
                                height: s.$.offsetHeight || 0
                            }, r = {
                                x: o.screenX,
                                y: o.screenY
                            }, i.resize_minWidth > l.width && (i.resize_minWidth = l.width), i.resize_minHeight > l.height && (i.resize_minHeight = l.height), CKEDITOR.document.on("mousemove", e), CKEDITOR.document.on("mouseup", n), t.document && (t.document.on("mousemove", e), t.document.on("mouseup", n)), o.preventDefault && o.preventDefault()
                        });
                    t.on("destroy", function() {
                        CKEDITOR.tools.removeFunction(d)
                    }), t.on("uiSpace", function(e) {
                        if ("bottom" == e.data.space) {
                            var n = "";
                            c && !u && (n = " cke_resizer_horizontal"), !c && u && (n = " cke_resizer_vertical");
                            var i = '<span id="' + o + '" class="cke_resizer' + n + " cke_resizer_" + a + '" title="' + CKEDITOR.tools.htmlEncode(t.lang.common.resize) + '" onmousedown="CKEDITOR.tools.callFunction(' + d + ', event)">' + ("ltr" == a ? "\u25e2" : "\u25e3") + "</span>";
                            "ltr" == a && "ltr" == n ? e.data.html += i : e.data.html = i + e.data.html
                        }
                    }, t, null, 100), t.on("maximize", function(e) {
                        t.ui.space("resizer")[e.data == CKEDITOR.TRISTATE_ON ? "hide" : "show"]()
                    })
                }
            }
        }), function() {
            function t(t, n) {
                function o(e) {
                    e = l.list[e];
                    var n;
                    e.equals(t.editable()) || "true" == e.getAttribute("contenteditable") ? (n = t.createRange(), n.selectNodeContents(e), n = n.select()) : (n = t.getSelection(), n.selectElement(e)), CKEDITOR.env.ie && t.fire("selectionChange", {
                        selection: n,
                        path: new CKEDITOR.dom.elementPath(e)
                    }), t.focus()
                }
                function a() {
                    r && r.setHtml('<span class="cke_path_empty">&nbsp;</span>'), delete l.list
                }
                var s = t.ui.spaceId("path"),
                    r,
                    l = t._.elementsPath,
                    c = l.idBase;
                n.html += '<span id="' + s + '_label" class="cke_voice_label">' + t.lang.elementspath.eleLabel + '</span><span id="' + s + '" class="cke_path" role="group" aria-labelledby="' + s + '_label"><span class="cke_path_empty">&nbsp;</span></span>', t.on("uiReady", function() {
                    var e = t.ui.space("path");
                    e && t.focusManager.add(e, 1)
                }), l.onClick = o;
                var u = CKEDITOR.tools.addFunction(o),
                    d = CKEDITOR.tools.addFunction(function(e, n) {
                        var i = l.idBase,
                            a;
                        switch (n = new CKEDITOR.dom.event(n), a = "rtl" == t.lang.dir, n.getKeystroke()) {
                        case a ? 39 : 37:
                        case 9:
                            return (a = CKEDITOR.document.getById(i + (e + 1))) || (a = CKEDITOR.document.getById(i + "0")), a.focus(), !1;
                        case a ? 37 : 39:
                        case CKEDITOR.SHIFT + 9:
                            return (a = CKEDITOR.document.getById(i + (e - 1))) || (a = CKEDITOR.document.getById(i + (l.list.length - 1))), a.focus(), !1;
                        case 27:
                            return t.focus(), !1;
                        case 13:
                        case 32:
                            return o(e), !1
                        }
                        return !0
                    });
                t.on("selectionChange", function() {
                    for (var e = [], n = l.list = [], o = [], a = l.filters, h = !0, f = t.elementPath().elements, p, m = f.length; m--;) {
                        var g = f[m],
                            v = 0;
                        p = g.data("cke-display-name") ? g.data("cke-display-name") : g.data("cke-real-element-type") ? g.data("cke-real-element-type") : g.getName(), (h = g.hasAttribute("contenteditable") ? "true" == g.getAttribute("contenteditable") : h) || g.hasAttribute("contenteditable") || (v = 1);
                        for (var b = 0; b < a.length; b++) {
                            var E = a[b](g, p);
                            if (!1 === E) {
                                v = 1;
                                break
                            }
                            p = E || p
                        }
                        v || (n.unshift(g), o.unshift(p))
                    }
                    for (n = n.length, a = 0; a < n; a++)
                        p = o[a], h = t.lang.elementspath.eleTitle.replace(/%1/, p), p = i.output({
                            id: c + a,
                            label: h,
                            text: p,
                            jsTitle: "javascript:void('" + p + "')",
                            index: a,
                            keyDownFn: d,
                            clickFn: u
                        }), e.unshift(p);
                    r || (r = CKEDITOR.document.getById(s)), o = r, o.setHtml(e.join("") + '<span class="cke_path_empty">&nbsp;</span>'), t.fire("elementsPathUpdate", {
                        space: o
                    })
                }), t.on("readOnly", a), t.on("contentDomUnload", a), t.addCommand("elementsPathFocus", e.toolbarFocus), t.setKeystroke(CKEDITOR.ALT + 122, "elementsPathFocus")
            }
            var e = {
                    toolbarFocus: {
                        editorFocus: !1,
                        readOnly: 1,
                        exec: function(t) {
                            (t = CKEDITOR.document.getById(t._.elementsPath.idBase + "0")) && t.focus(CKEDITOR.env.ie || CKEDITOR.env.air)
                        }
                    }
                },
                n = "";
            CKEDITOR.env.gecko && CKEDITOR.env.mac && (n += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (n += ' onblur="this.style.cssText = this.style.cssText;"');
            var i = CKEDITOR.addTemplate("pathItem", '<a id="{id}" href="{jsTitle}" tabindex="-1" class="cke_path_item" title="{label}"' + n + ' hidefocus="true"  onkeydown="return CKEDITOR.tools.callFunction({keyDownFn},{index}, event );" onclick="CKEDITOR.tools.callFunction({clickFn},{index}); return false;" role="button" aria-label="{label}">{text}</a>');
            CKEDITOR.plugins.add("elementspath", {
                init: function(e) {
                    e._.elementsPath = {
                        idBase: "cke_elementspath_" + CKEDITOR.tools.getNextNumber() + "_",
                        filters: []
                    }, e.on("uiSpace", function(n) {
                        "bottom" == n.data.space && t(e, n.data)
                    })
                }
            })
        }(), function() {
            function t(t, e, n) {
                if (n = t.config.forceEnterMode || n, "wysiwyg" == t.mode) {
                    e || (e = t.activeEnterMode);
                    var i = t.elementPath();
                    i && !i.isContextFor("p") && (e = CKEDITOR.ENTER_BR, n = 1), t.fire("saveSnapshot"), e == CKEDITOR.ENTER_BR ? s(t, e, null, n) : r(t, e, null, n), t.fire("saveSnapshot")
                }
            }
            function e(t) {
                t = t.getSelection().getRanges(!0);
                for (var e = t.length - 1; 0 < e; e--)
                    t[e].deleteContents();
                return t[0]
            }
            function n(t) {
                var e = t.startContainer.getAscendant(function(t) {
                    return t.type == CKEDITOR.NODE_ELEMENT && "true" == t.getAttribute("contenteditable")
                }, !0);
                return t.root.equals(e) ? t : (e = new CKEDITOR.dom.range(e), e.moveToRange(t), e)
            }
            CKEDITOR.plugins.add("enterkey", {
                init: function(e) {
                    e.addCommand("enter", {
                        modes: {
                            wysiwyg: 1
                        },
                        editorFocus: !1,
                        exec: function(e) {
                            t(e)
                        }
                    }), e.addCommand("shiftEnter", {
                        modes: {
                            wysiwyg: 1
                        },
                        editorFocus: !1,
                        exec: function(e) {
                            t(e, e.activeShiftEnterMode, 1)
                        }
                    }), e.setKeystroke([[13, "enter"], [CKEDITOR.SHIFT + 13, "shiftEnter"]])
                }
            });
            var i = CKEDITOR.dom.walker.whitespaces(),
                o = CKEDITOR.dom.walker.bookmark();
            CKEDITOR.plugins.enterkey = {
                enterBlock: function(t, a, r, c) {
                    if (r = r || e(t)) {
                        r = n(r);
                        var u = r.document,
                            d = r.checkStartOfBlock(),
                            h = r.checkEndOfBlock(),
                            f = t.elementPath(r.startContainer),
                            p = f.block,
                            m = a == CKEDITOR.ENTER_DIV ? "div" : "p",
                            g;
                        if (d && h) {
                            if (p && (p.is("li") || p.getParent().is("li"))) {
                                p.is("li") || (p = p.getParent()), r = p.getParent(), g = r.getParent(), c = !p.hasPrevious();
                                var v = !p.hasNext(),
                                    m = t.getSelection(),
                                    b = m.createBookmarks(),
                                    d = p.getDirection(1),
                                    h = p.getAttribute("class"),
                                    E = p.getAttribute("style"),
                                    y = g.getDirection(1) != d;
                                if (t = t.enterMode != CKEDITOR.ENTER_BR || y || E || h, g.is("li"))
                                    c || v ? (c && v && r.remove(), p[v ? "insertAfter" : "insertBefore"](g)) : p.breakParent(g);
                                else {
                                    if (t)
                                        f.block.is("li") ? (g = u.createElement(a == CKEDITOR.ENTER_P ? "p" : "div"), y && g.setAttribute("dir", d), E && g.setAttribute("style", E), h && g.setAttribute("class", h), p.moveChildren(g)) : g = f.block, c || v ? g[c ? "insertBefore" : "insertAfter"](r) : (p.breakParent(r), g.insertAfter(r));
                                    else if (p.appendBogus(!0), c || v)
                                        for (; u = p[c ? "getFirst" : "getLast"]();)
                                            u[c ? "insertBefore" : "insertAfter"](r);
                                    else
                                        for (p.breakParent(r); u = p.getLast();)
                                            u.insertAfter(r);
                                    p.remove()
                                }
                                return void m.selectBookmarks(b)
                            }
                            if (p && p.getParent().is("blockquote"))
                                return p.breakParent(p.getParent()), p.getPrevious().getFirst(CKEDITOR.dom.walker.invisible(1)) || p.getPrevious().remove(), p.getNext().getFirst(CKEDITOR.dom.walker.invisible(1)) || p.getNext().remove(), r.moveToElementEditStart(p), void r.select()
                        } else if (p && p.is("pre") && !h)
                            return void s(t, a, r, c);
                        if (d = r.splitBlock(m)) {
                            if (a = d.previousBlock, p = d.nextBlock, f = d.wasStartOfBlock, t = d.wasEndOfBlock, p ? (b = p.getParent(), b.is("li") && (p.breakParent(b), p.move(p.getNext(), 1))) : a && (b = a.getParent()) && b.is("li") && (a.breakParent(b), b = a.getNext(), r.moveToElementEditStart(b), a.move(a.getPrevious())), f || t) {
                                if (a ? (a.is("li") || !l.test(a.getName()) && !a.is("pre")) && (g = a.clone()) : p && (g = p.clone()), g ? c && !g.is("li") && g.renameNode(m) : b && b.is("li") ? g = b : (g = u.createElement(m), a && (v = a.getDirection()) && g.setAttribute("dir", v)), u = d.elementPath)
                                    for (c = 0, m = u.elements.length; c < m && (b = u.elements[c], !b.equals(u.block) && !b.equals(u.blockLimit)); c++)
                                        CKEDITOR.dtd.$removeEmpty[b.getName()] && (b = b.clone(), g.moveChildren(b), g.append(b));
                                g.appendBogus(), g.getParent() || r.insertNode(g), g.is("li") && g.removeAttribute("value"), !CKEDITOR.env.ie || !f || t && a.getChildCount() || (r.moveToElementEditStart(t ? a : g), r.select()), r.moveToElementEditStart(f && !t ? p : g)
                            } else
                                p.is("li") && (g = r.clone(), g.selectNodeContents(p), g = new CKEDITOR.dom.walker(g), g.evaluator = function(t) {
                                    return !(o(t) || i(t) || t.type == CKEDITOR.NODE_ELEMENT && t.getName() in CKEDITOR.dtd.$inline && !(t.getName() in CKEDITOR.dtd.$empty))
                                }, (b = g.next()) && b.type == CKEDITOR.NODE_ELEMENT && b.is("ul", "ol") && (CKEDITOR.env.needsBrFiller ? u.createElement("br") : u.createText("\xa0")).insertBefore(b)), p && r.moveToElementEditStart(p);
                            r.select(), r.scrollIntoView()
                        }
                    }
                },
                enterBr: function(t, n, i, o) {
                    if (i = i || e(t)) {
                        var a = i.document,
                            s = i.checkEndOfBlock(),
                            c = new CKEDITOR.dom.elementPath(t.getSelection().getStartElement()),
                            u = c.block,
                            d = u && c.block.getName()
                            ;
                        o || "li" != d ? (!o && s && l.test(d) ? (s = u.getDirection()) ? (a = a.createElement("div"), a.setAttribute("dir", s), a.insertAfter(u), i.setStart(a, 0)) : (a.createElement("br").insertAfter(u), CKEDITOR.env.gecko && a.createText("").insertAfter(u), i.setStartAt(u.getNext(), CKEDITOR.env.ie ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_START)) : (t = "pre" == d && CKEDITOR.env.ie && 8 > CKEDITOR.env.version ? a.createText("\r") : a.createElement("br"), i.deleteContents(), i.insertNode(t), CKEDITOR.env.needsBrFiller ? (a.createText("\ufeff").insertAfter(t), s && (u || c.blockLimit).appendBogus(), t.getNext().$.nodeValue = "", i.setStartAt(t.getNext(), CKEDITOR.POSITION_AFTER_START)) : i.setStartAt(t, CKEDITOR.POSITION_AFTER_END)), i.collapse(!0), i.select(), i.scrollIntoView()) : r(t, n, i, o)
                    }
                }
            };
            var a = CKEDITOR.plugins.enterkey,
                s = a.enterBr,
                r = a.enterBlock,
                l = /^h[1-6]$/
        }(), function() {
            function t(t, e) {
                var n = {},
                    i = [],
                    o = {
                        nbsp: "\xa0",
                        shy: "\xad",
                        gt: ">",
                        lt: "<",
                        amp: "&",
                        apos: "'",
                        quot: '"'
                    };
                if (t = t.replace(/\b(nbsp|shy|gt|lt|amp|apos|quot)(?:,|$)/g, function(t, a) {
                    var s = e ? "&" + a + ";" : o[a];
                    return n[s] = e ? o[a] : "&" + a + ";", i.push(s), ""
                }), !e && t) {
                    t = t.split(",");
                    var a = document.createElement("div"),
                        s;
                    for (a.innerHTML = "&" + t.join(";&") + ";", s = a.innerHTML, a = null, a = 0; a < s.length; a++) {
                        var r = s.charAt(a);
                        n[r] = "&" + t[a] + ";", i.push(r)
                    }
                }
                return n.regex = i.join(e ? "|" : ""), n
            }
            CKEDITOR.plugins.add("entities", {
                afterInit: function(e) {
                    function n(t) {
                        return l[t]
                    }
                    function i(t) {
                        return "force" != o.entities_processNumerical && s[t] ? s[t] : "&#" + t.charCodeAt(0) + ";"
                    }
                    var o = e.config;
                    if (e = (e = e.dataProcessor) && e.htmlFilter) {
                        var a = [];
                        !1 !== o.basicEntities && a.push("nbsp,gt,lt,amp"), o.entities && (a.length && a.push("quot,iexcl,cent,pound,curren,yen,brvbar,sect,uml,copy,ordf,laquo,not,shy,reg,macr,deg,plusmn,sup2,sup3,acute,micro,para,middot,cedil,sup1,ordm,raquo,frac14,frac12,frac34,iquest,times,divide,fnof,bull,hellip,prime,Prime,oline,frasl,weierp,image,real,trade,alefsym,larr,uarr,rarr,darr,harr,crarr,lArr,uArr,rArr,dArr,hArr,forall,part,exist,empty,nabla,isin,notin,ni,prod,sum,minus,lowast,radic,prop,infin,ang,and,or,cap,cup,int,there4,sim,cong,asymp,ne,equiv,le,ge,sub,sup,nsub,sube,supe,oplus,otimes,perp,sdot,lceil,rceil,lfloor,rfloor,lang,rang,loz,spades,clubs,hearts,diams,circ,tilde,ensp,emsp,thinsp,zwnj,zwj,lrm,rlm,ndash,mdash,lsquo,rsquo,sbquo,ldquo,rdquo,bdquo,dagger,Dagger,permil,lsaquo,rsaquo,euro"), o.entities_latin && a.push("Agrave,Aacute,Acirc,Atilde,Auml,Aring,AElig,Ccedil,Egrave,Eacute,Ecirc,Euml,Igrave,Iacute,Icirc,Iuml,ETH,Ntilde,Ograve,Oacute,Ocirc,Otilde,Ouml,Oslash,Ugrave,Uacute,Ucirc,Uuml,Yacute,THORN,szlig,agrave,aacute,acirc,atilde,auml,aring,aelig,ccedil,egrave,eacute,ecirc,euml,igrave,iacute,icirc,iuml,eth,ntilde,ograve,oacute,ocirc,otilde,ouml,oslash,ugrave,uacute,ucirc,uuml,yacute,thorn,yuml,OElig,oelig,Scaron,scaron,Yuml"), o.entities_greek && a.push("Alpha,Beta,Gamma,Delta,Epsilon,Zeta,Eta,Theta,Iota,Kappa,Lambda,Mu,Nu,Xi,Omicron,Pi,Rho,Sigma,Tau,Upsilon,Phi,Chi,Psi,Omega,alpha,beta,gamma,delta,epsilon,zeta,eta,theta,iota,kappa,lambda,mu,nu,xi,omicron,pi,rho,sigmaf,sigma,tau,upsilon,phi,chi,psi,omega,thetasym,upsih,piv"), o.entities_additional && a.push(o.entities_additional));
                        var s = t(a.join(",")),
                            r = s.regex ? "[" + s.regex + "]" : "a^";
                        delete s.regex, o.entities && o.entities_processNumerical && (r = "[^ -~]|" + r);
                        var r = new RegExp(r, "g"),
                            l = t("nbsp,gt,lt,amp,shy", !0),
                            c = new RegExp(l.regex, "g");
                        e.addRules({
                            text: function(t) {
                                return t.replace(c, n).replace(r, i)
                            }
                        }, {
                            applyToAll: !0,
                            excludeNestedEditable: !0
                        })
                    }
                }
            })
        }(), CKEDITOR.config.basicEntities = !0, CKEDITOR.config.entities = !0, CKEDITOR.config.entities_latin = !0, CKEDITOR.config.entities_greek = !0, CKEDITOR.config.entities_additional = "#39", CKEDITOR.plugins.add("popup"), CKEDITOR.tools.extend(CKEDITOR.editor.prototype, {
            popup: function(t, e, n, i) {
                e = e || "80%", n = n || "70%", "string" == typeof e && 1 < e.length && "%" == e.substr(e.length - 1, 1) && (e = parseInt(window.screen.width * parseInt(e, 10) / 100, 10)), "string" == typeof n && 1 < n.length && "%" == n.substr(n.length - 1, 1) && (n = parseInt(window.screen.height * parseInt(n, 10) / 100, 10)), 640 > e && (e = 640), 420 > n && (n = 420);
                var o = parseInt((window.screen.height - n) / 2, 10),
                    a = parseInt((window.screen.width - e) / 2, 10);
                i = (i || "location=no,menubar=no,toolbar=no,dependent=yes,minimizable=no,modal=yes,alwaysRaised=yes,resizable=yes,scrollbars=yes") + ",width=" + e + ",height=" + n + ",top=" + o + ",left=" + a;
                var s = window.open("", null, i, !0);
                if (!s)
                    return !1;
                try {
                    -1 == navigator.userAgent.toLowerCase().indexOf(" chrome/") && (s.moveTo(a, o), s.resizeTo(e, n)), s.focus(), s.location.href = t
                } catch (e) {
                    window.open(t, null, i, !0)
                }
                return !0
            }
        }), function() {
            function t(t, e) {
                var n = [];
                if (!e)
                    return t;
                for (var i in e)
                    n.push(i + "=" + encodeURIComponent(e[i]));
                return t + (-1 != t.indexOf("?") ? "&" : "?") + n.join("&")
            }
            function e(t) {
                return t += "", t.charAt(0).toUpperCase() + t.substr(1)
            }
            function n() {
                var n = this.getDialog(),
                    i = n.getParentEditor();
                i._.filebrowserSe = this;
                var o = i.config["filebrowser" + e(n.getName()) + "WindowWidth"] || i.config.filebrowserWindowWidth || "80%",
                    n = i.config["filebrowser" + e(n.getName()) + "WindowHeight"] || i.config.filebrowserWindowHeight || "70%",
                    a = this.filebrowser.params || {};
                a.CKEditor = i.name, a.CKEditorFuncNum = i._.filebrowserFn, a.langCode || (a.langCode = i.langCode), a = t(this.filebrowser.url, a), i.popup(a, o, n, i.config.filebrowserWindowFeatures || i.config.fileBrowserWindowFeatures)
            }
            function i() {
                var t = this.getDialog();
                return t.getParentEditor()._.filebrowserSe = this, !(!t.getContentElement(this["for"][0], this["for"][1]).getInputElement().$.value || !t.getContentElement(this["for"][0], this["for"][1]).getAction())
            }
            function o(e, n, i) {
                var o = i.params || {};
                o.CKEditor = e.name, o.CKEditorFuncNum = e._.filebrowserFn, o.langCode || (o.langCode = e.langCode), n.action = t(i.url, o), n.filebrowser = i
            }
            function a(t, s, r, l) {
                if (l && l.length)
                    for (var c, u = l.length; u--;)
                        if (c = l[u], "hbox" != c.type && "vbox" != c.type && "fieldset" != c.type || a(t, s, r, c.children), c.filebrowser)
                            if ("string" == typeof c.filebrowser && (c.filebrowser = {
                                action: "fileButton" == c.type ? "QuickUpload" : "Browse",
                                target: c.filebrowser
                            }), "Browse" == c.filebrowser.action) {
                                var d = c.filebrowser.url;
                                void 0 === d && void 0 === (d = t.config["filebrowser" + e(s) + "BrowseUrl"]) && (d = t.config.filebrowserBrowseUrl), d && (c.onClick = n, c.filebrowser.url = d, c.hidden = !1)
                            } else if ("QuickUpload" == c.filebrowser.action && c["for"] && (d = c.filebrowser.url, void 0 === d && void 0 === (d = t.config["filebrowser" + e(s) + "UploadUrl"]) && (d = t.config.filebrowserUploadUrl), d)) {
                                var h = c.onClick;
                                c.onClick = function(t) {
                                    var e = t.sender;
                                    return (!h || !1 !== h.call(e, t)) && (!!i.call(e, t) && (t = e.getDialog().getContentElement(this["for"][0], this["for"][1]).getInputElement(), (e = new CKEDITOR.dom.element(t.$.form)) && ((t = e.$.elements.ckCsrfToken) ? t = new CKEDITOR.dom.element(t) : (t = new CKEDITOR.dom.element("input"), t.setAttributes({
                                            name: "ckCsrfToken",
                                            type: "hidden"
                                        }), e.append(t)), t.setAttribute("value", CKEDITOR.tools.getCsrfToken())), !0))
                                }, c.filebrowser.url = d, c.hidden = !1, o(t, r.getContents(c["for"][0]).get(c["for"][1]), c.filebrowser)
                            }
            }
            function s(t, e, n) {
                if (-1 !== n.indexOf(";")) {
                    n = n.split(";");
                    for (var i = 0; i < n.length; i++)
                        if (s(t, e, n[i]))
                            return !0;
                    return !1
                }
                return (t = t.getContents(e).get(n).filebrowser) && t.url
            }
            function r(t, e) {
                var n = this._.filebrowserSe.getDialog(),
                    i = this._.filebrowserSe["for"],
                    o = this._.filebrowserSe.filebrowser.onSelect;
                i && n.getContentElement(i[0], i[1]).reset(), "function" == typeof e && !1 === e.call(this._.filebrowserSe) || o && !1 === o.call(this._.filebrowserSe, t, e) || ("string" == typeof e && e && alert(e), t && (i = this._.filebrowserSe, n = i.getDialog(), i = i.filebrowser.target || null) && (i = i.split(":"), (o = n.getContentElement(i[0], i[1])) && (o.setValue(t), n.selectPage(i[0]))))
            }
            CKEDITOR.plugins.add("filebrowser", {
                requires: "popup",
                init: function(t) {
                    t._.filebrowserFn = CKEDITOR.tools.addFunction(r, t), t.on("destroy", function() {
                        CKEDITOR.tools.removeFunction(this._.filebrowserFn)
                    })
                }
            }), CKEDITOR.on("dialogDefinition", function(t) {
                if (t.editor.plugins.filebrowser)
                    for (var e = t.data.definition, n, i = 0; i < e.contents.length; ++i)
                        (n = e.contents[i]) && (a(t.editor, t.data.name, e, n.elements), n.hidden && n.filebrowser && (n.hidden = !s(e, n.id, n.filebrowser)))
            })
        }(), CKEDITOR.plugins.add("find", {
            requires: "dialog",
            init: function(t) {
                var e = t.addCommand("find", new CKEDITOR.dialogCommand("find"));
                e.canUndo = !1, e.readOnly = 1, t.addCommand("replace", new CKEDITOR.dialogCommand("replace")).canUndo = !1, t.ui.addButton && (t.ui.addButton("Find", {
                    label: t.lang.find.find,
                    command: "find",
                    toolbar: "find,10"
                }), t.ui.addButton("Replace", {
                    label: t.lang.find.replace,
                    command: "replace",
                    toolbar: "find,20"
                })), CKEDITOR.dialog.add("find", this.path + "dialogs/find.js"), CKEDITOR.dialog.add("replace", this.path + "dialogs/find.js")
            }
        }), CKEDITOR.config.find_highlight = {
            element: "span",
            styles: {
                "background-color": "#004",
                color: "#fff"
            }
        }, function() {
            function t(t, e) {
                var n = i.exec(t),
                    o = i.exec(e);
                if (n) {
                    if (!n[2] && "px" == o[2])
                        return o[1];
                    if ("px" == n[2] && !o[2])
                        return o[1] + "px"
                }
                return e
            }
            var e = CKEDITOR.htmlParser.cssStyle,
                n = CKEDITOR.tools.cssLength,
                i = /^((?:\d*(?:\.\d+))|(?:\d+))(.*)?$/i,
                o = {
                    elements: {
                        $: function(n) {
                            var i = n.attributes;
                            if ((i = (i = (i = i && i["data-cke-realelement"]) && new CKEDITOR.htmlParser.fragment.fromHtml(decodeURIComponent(i))) && i.children[0]) && n.attributes["data-cke-resizable"]) {
                                var o = new e(n).rules;
                                n = i.attributes;
                                var a = o.width,
                                    o = o.height;
                                a && (n.width = t(n.width, a)), o && (n.height = t(n.height, o))
                            }
                            return i
                        }
                    }
                };
            CKEDITOR.plugins.add("fakeobjects", {
                init: function(t) {
                    t.filter.allow("img[!data-cke-realelement,src,alt,title](*){*}", "fakeobjects")
                },
                afterInit: function(t) {
                    (t = (t = t.dataProcessor) && t.htmlFilter) && t.addRules(o, {
                        applyToAll: !0
                    })
                }
            }), CKEDITOR.editor.prototype.createFakeElement = function(t, i, o, a) {
                var s = this.lang.fakeobjects,
                    s = s[o] || s.unknown;
                return i = {
                    "class": i,
                    "data-cke-realelement": encodeURIComponent(t.getOuterHtml()),
                    "data-cke-real-node-type": t.type,
                    alt: s,
                    title: s,
                    align: t.getAttribute("align") || ""
                }, CKEDITOR.env.hc || (i.src = CKEDITOR.tools.transparentImageData), o && (i["data-cke-real-element-type"] = o), a && (i["data-cke-resizable"] = a, o = new e, a = t.getAttribute("width"), t = t.getAttribute("height"), a && (o.rules.width = n(a)), t && (o.rules.height = n(t)), o.populate(i)), this.document.createElement("img", {
                    attributes: i
                })
            }, CKEDITOR.editor.prototype.createFakeParserElement = function(t, i, o, a) {
                var s = this.lang.fakeobjects,
                    s = s[o] || s.unknown,
                    r;
                return r = new CKEDITOR.htmlParser.basicWriter, t.writeHtml(r), r = r.getHtml(), i = {
                    "class": i,
                    "data-cke-realelement": encodeURIComponent(r),
                    "data-cke-real-node-type": t.type,
                    alt: s,
                    title: s,
                    align: t.attributes.align || ""
                }, CKEDITOR.env.hc || (i.src = CKEDITOR.tools.transparentImageData), o && (i["data-cke-real-element-type"] = o), a && (i["data-cke-resizable"] = a, a = t.attributes, t = new e, o = a.width, a = a.height, void 0 !== o && (t.rules.width = n(o)), void 0 !== a && (t.rules.height = n(a)), t.populate(i)), new CKEDITOR.htmlParser.element("img", i)
            }, CKEDITOR.editor.prototype.restoreRealElement = function(e) {
                if (e.data("cke-real-node-type") != CKEDITOR.NODE_ELEMENT)
                    return null;
                var n = CKEDITOR.dom.element.createFromHtml(decodeURIComponent(e.data("cke-realelement")), this.document);
                if (e.data("cke-resizable")) {
                    var i = e.getStyle("width");
                    e = e.getStyle("height"), i && n.setAttribute("width", t(n.getAttribute("width"), i)), e && n.setAttribute("height", t(n.getAttribute("height"), e))
                }
                return n
            }
        }(), function() {
            function t(t) {
                return t = t.attributes, "application/x-shockwave-flash" == t.type || n.test(t.src || "")
            }
            function e(t, e) {
                return t.createFakeParserElement(e, "cke_flash", "flash", !0)
            }
            var n = /\.swf(?:$|\?)/i;
            CKEDITOR.plugins.add("flash", {
                requires: "dialog,fakeobjects",
                onLoad: function() {
                    CKEDITOR.addCss("img.cke_flash{background-image: url(" + CKEDITOR.getUrl(this.path + "images/placeholder.png") + ");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")
                },
                init: function(t) {
                    var e = "object[classid,codebase,height,hspace,vspace,width];param[name,value];embed[height,hspace,pluginspage,src,type,vspace,width]";
                    CKEDITOR.dialog.isTabEnabled(t, "flash", "properties") && (e += ";object[align]; embed[allowscriptaccess,quality,scale,wmode]"), CKEDITOR.dialog.isTabEnabled(t, "flash", "advanced") && (e += ";object[id]{*}; embed[bgcolor]{*}(*)"), t.addCommand("flash", new CKEDITOR.dialogCommand("flash", {
                        allowedContent: e,
                        requiredContent: "embed"
                    })), t.ui.addButton && t.ui.addButton("Flash", {
                        label: t.lang.common.flash,
                        command: "flash",
                        toolbar: "insert,20"
                    }), CKEDITOR.dialog.add("flash", this.path + "dialogs/flash.js"), t.addMenuItems && t.addMenuItems({
                        flash: {
                            label: t.lang.flash.properties,
                            command: "flash",
                            group: "flash"
                        }
                    }), t.on("doubleclick", function(t) {
                        var e = t.data.element;
                        e.is("img") && "flash" == e.data("cke-real-element-type") && (t.data.dialog = "flash")
                    }), t.contextMenu && t.contextMenu.addListener(function(t) {
                        if (t && t.is("img") && !t.isReadOnly() && "flash" == t.data("cke-real-element-type"))
                            return {
                                flash: CKEDITOR.TRISTATE_OFF
                            }
                    })
                },
                afterInit: function(n) {
                    var i = n.dataProcessor;
                    (i = i && i.dataFilter) && i.addRules({
                        elements: {
                            "cke:object": function(i) {
                                var o = i.attributes;
                                if (!(o.classid && String(o.classid).toLowerCase() || t(i))) {
                                    for (o = 0; o < i.children.length; o++)
                                        if ("cke:embed" == i.children[o].name) {
                                            if (!t(i.children[o]))
                                                break;
                                            return e(n, i)
                                        }
                                    return null
                                }
                                return e(n, i)
                            },
                            "cke:embed": function(i) {
                                return t(i) ? e(n, i) : null
                            }
                        }
                    }, 5)
                }
            })
        }(), CKEDITOR.tools.extend(CKEDITOR.config, {
            flashEmbedTagOnly: !1,
            flashAddEmbedTag: !0,
            flashConvertOnEdit: !1
        }), function() {
            function t(t) {
                var i = t.config,
                    o = t.fire("uiSpace", {
                        space: "top",
                        html: ""
                    }).html,
                    a = function() {
                        function o(t, e, i) {
                            r.setStyle(e, n(i)), r.setStyle("position", t)
                        }
                        function s(t) {
                            var e = c.getDocumentPosition();
                            switch (t) {
                            case "top":
                                o("absolute", "top", e.y - f - g);
                                break;
                            case "pin":
                                o("fixed", "top", b);
                                break;
                            case "bottom":
                                o("absolute", "top", e.y + (d.height || d.bottom - d.top) + g)
                            }
                            l = t
                        }
                        var l,
                            c,
                            u,
                            d,
                            h,
                            f,
                            p,
                            m = i.floatSpaceDockedOffsetX || 0,
                            g = i.floatSpaceDockedOffsetY || 0,
                            v = i.floatSpacePinnedOffsetX || 0,
                            b = i.floatSpacePinnedOffsetY || 0;
                        return function(o) {
                            if (c = t.editable()) {
                                var b = o && "focus" == o.name;
                                b && r.show(), t.fire("floatingSpaceLayout", {
                                    show: b
                                }), r.removeStyle("left"), r.removeStyle("right"), u = r.getClientRect(), d = c.getClientRect(), h = e.getViewPaneSize(), f = u.height, p = "pageXOffset" in e.$ ? e.$.pageXOffset : CKEDITOR.document.$.documentElement.scrollLeft, l ? (s(f + g <= d.top ? "top" : f + g > h.height - d.bottom ? "pin" : "bottom"), o = h.width / 2, o = i.floatSpacePreferRight ? "right" : 0 < d.left && d.right < h.width && d.width > u.width ? "rtl" == i.contentsLangDirection ? "right" : "left" : o - d.left > d.right - o ? "left" : "right", u.width > h.width ? (o = "left", b = 0) : (b = "left" == o ? 0 < d.left ? d.left : 0 : d.right < h.width ? h.width - d.right : 0) + u.width > h.width && (o = "left" == o ? "right" : "left", b = 0), r.setStyle(o, n(("pin" == l ? v : m) + b + ("pin" == l ? 0 : "left" == o ? p : -p)))) : (l = "pin", s("pin"), a(o))
                            }
                        }
                    }();
                if (o) {
                    var s = new CKEDITOR.template('<div id="cke_{name}" class="cke {id} cke_reset_all cke_chrome cke_editor_{name} cke_float cke_{langDir} ' + CKEDITOR.env.cssClass + '" dir="{langDir}" title="' + (CKEDITOR.env.gecko ? " " : "") + '" lang="{langCode}" role="application" style="{style}"' + (t.title ? ' aria-labelledby="cke_{name}_arialbl"' : " ") + ">" + (t.title ? '<span id="cke_{name}_arialbl" class="cke_voice_label">{voiceLabel}</span>' : " ") + '<div class="cke_inner"><div id="{topId}" class="cke_top" role="presentation">{content}</div></div></div>'),
                        r = CKEDITOR.document.getBody().append(CKEDITOR.dom.element.createFromHtml(s.output({
                            content: o,
                            id: t.id,
                            langDir: t.lang.dir,
                            langCode: t.langCode,
                            name: t.name,
                            style: "display:none;z-index:" + (i.baseFloatZIndex - 1),
                            topId: t.ui.spaceId("top"),
                            voiceLabel: t.title
                        }))),
                        l = CKEDITOR.tools.eventsBuffer(500, a),
                        c = CKEDITOR.tools.eventsBuffer(100, a);
                    r.unselectable(), r.on("mousedown", function(t) {
                        t = t.data, t.getTarget().hasAscendant("a", 1) || t.preventDefault()
                    }), t.on("focus", function(n) {
                        a(n), t.on("change", l.input), e.on("scroll", c.input), e.on("resize", c.input)
                    }), t.on("blur", function() {
                        r.hide(), t.removeListener("change", l.input), e.removeListener("scroll", c.input), e.removeListener("resize", c.input)
                    }), t.on("destroy", function() {
                        e.removeListener("scroll", c.input), e.removeListener("resize", c.input), r.clearCustomData(), r.remove()
                    }), t.focusManager.hasFocus && r.show(), t.focusManager.add(r, 1)
                }
            }
            var e = CKEDITOR.document.getWindow(),
                n = CKEDITOR.tools.cssLength;
            CKEDITOR.plugins.add("floatingspace", {
                init: function(e) {
                    e.on("loaded", function() {
                        t(this)
                    }, null, null, 20)
                }
            })
        }(), CKEDITOR.plugins.add("listblock", {
            requires: "panel",
            onLoad: function() {
                var t = CKEDITOR.addTemplate("panel-list", '<ul role="presentation" class="cke_panel_list">{items}</ul>'),
                    e = CKEDITOR.addTemplate("panel-list-item", '<li id="{id}" class="cke_panel_listItem" role=presentation><a id="{id}_option" _cke_focus=1 hidefocus=true title="{title}" href="javascript:void(\'{val}\')"  {onclick}="CKEDITOR.tools.callFunction({clickFn},\'{val}\'); return false;" role="option">{text}</a></li>'),
                    n = CKEDITOR.addTemplate("panel-list-group", '<h1 id="{id}" class="cke_panel_grouptitle" role="presentation" >{label}</h1>'),
                    i = /\'/g;
                CKEDITOR.ui.panel.prototype.addListBlock = function(t, e) {
                    return this.addBlock(t, new CKEDITOR.ui.listBlock(this.getHolderElement(), e))
                }, CKEDITOR.ui.listBlock = CKEDITOR.tools.createClass({
                    base: CKEDITOR.ui.panel.block,
                    $: function(t, e) {
                        e = e || {};
                        var n = e.attributes || (e.attributes = {});
                        (this.multiSelect = !!e.multiSelect) && (n["aria-multiselectable"] = !0), !n.role && (n.role = "listbox"), this.base.apply(this, arguments), this.element.setAttribute("role", n.role), n = this.keys, n[40] = "next", n[9] = "next", n[38] = "prev", n[CKEDITOR.SHIFT + 9] = "prev", n[32] = CKEDITOR.env.ie ? "mouseup" : "click", CKEDITOR.env.ie && (n[13] = "mouseup"), this._.pendingHtml = [], this._.pendingList = [], this._.items = {}, this._.groups = {}
                    },
                    _: {
                        close: function() {
                            if (this._.started) {
                                var e = t.output({
                                    items: this._.pendingList.join("")
                                });
                                this._.pendingList = [], this._.pendingHtml.push(e), delete this._.started
                            }
                        },
                        getClick: function() {
                            return this._.click || (this._.click = CKEDITOR.tools.addFunction(function(t) {
                                var e = this.toggle(t);
                                this.onClick && this.onClick(t, e)
                            }, this)), this._.click
                        }
                    },
                    proto: {
                        add: function(t, n, o) {
                            var a = CKEDITOR.tools.getNextId();
                            this._.started || (this._.started = 1, this._.size = this._.size || 0), this._.items[t] = a;
                            var s;
                            s = CKEDITOR.tools.htmlEncodeAttr(t).replace(i, "\\'"), t = {
                                id: a,
                                val: s,
                                onclick: CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick",
                                clickFn: this._.getClick(),
                                title: CKEDITOR.tools.htmlEncodeAttr(o || t),
                                text: n || t
                            }, this._.pendingList.push(e.output(t))
                        },
                        startGroup: function(t) {
                            this._.close();
                            var e = CKEDITOR.tools.getNextId();
                            this._.groups[t] = e, this._.pendingHtml.push(n.output({
                                id: e,
                                label: t
                            }))
                        },
                        commit: function() {
                            this._.close(), this.element.appendHtml(this._.pendingHtml.join("")), delete this._.size, this._.pendingHtml = []
                        },
                        toggle: function(t) {
                            var e = this.isMarked(t);
                            return e ? this.unmark(t) : this.mark(t), !e
                        },
                        hideGroup: function(t) {
                            var e = (t = this.element.getDocument().getById(this._.groups[t])) && t.getNext();
                            t && (t.setStyle("display", "none"), e && "ul" == e.getName() && e.setStyle("display", "none"))
                        },
                        hideItem: function(t) {
                            this.element.getDocument().getById(this._.items[t]).setStyle("display", "none")
                        },
                        showAll: function() {
                            var t = this._.items,
                                e = this._.groups,
                                n = this.element.getDocument(),
                                i;
                            for (i in t)
                                n.getById(t[i]).setStyle("display", "");
                            for (var o in e)
                                t = n.getById(e[o]), i = t.getNext(), t.setStyle("display", ""), i && "ul" == i.getName() && i.setStyle("display", "")
                        },
                        mark: function(t) {
                            this.multiSelect || this.unmarkAll(), t = this._.items[t];
                            var e = this.element.getDocument().getById(t);
                            e.addClass("cke_selected"), this.element.getDocument().getById(t + "_option").setAttribute("aria-selected", !0), this.onMark && this.onMark(e)
                        },
                        markFirstDisplayed: function() {
                            var t = this;
                            this._.markFirstDisplayed(function() {
                                t.multiSelect || t.unmarkAll()
                            })
                        },
                        unmark: function(t) {
                            var e = this.element.getDocument();
                            t = this._.items[t];
                            var n = e.getById(t);
                            n.removeClass("cke_selected"), e.getById(t + "_option").removeAttribute("aria-selected"), this.onUnmark && this.onUnmark(n)
                        },
                        unmarkAll: function() {
                            var t = this._.items,
                                e = this.element.getDocument(),
                                n;
                            for (n in t) {
                                var i = t[n];
                                e.getById(i).removeClass("cke_selected"), e.getById(i + "_option").removeAttribute("aria-selected")
                            }
                            this.onUnmark && this.onUnmark()
                        },
                        isMarked: function(t) {
                            return this.element.getDocument().getById(this._.items[t]).hasClass("cke_selected")
                        },
                        focus: function(t) {
                            this._.focusIndex = -1;
                            var e = this.element.getElementsByTag("a"),
                                n,
                                i = -1;
                            if (t) {
                                for (n = this.element.getDocument().getById(this._.items[t]).getFirst(); t = e.getItem(++i);)
                                    if (t.equals(n)) {
                                        this._.focusIndex = i;
                                        break
                                    }
                            } else
                                this.element.focus();
                            n && setTimeout(function() {
                                n.focus()
                            }, 0)
                        }
                    }
                })
            }
        }), CKEDITOR.plugins.add("richcombo", {
            requires: "floatpanel,listblock,button",
            beforeInit: function(t) {
                t.ui.addHandler(CKEDITOR.UI_RICHCOMBO, CKEDITOR.ui.richCombo.handler)
            }
        }), function() {
            var t = '<span id="{id}" class="cke_combo cke_combo__{name} {cls}" role="presentation"><span id="{id}_label" class="cke_combo_label">{label}</span><a class="cke_combo_button" title="{title}" tabindex="-1"' + (CKEDITOR.env.gecko && !CKEDITOR.env.hc ? "" : " href=\"javascript:void('{titleJs}')\"") + ' hidefocus="true" role="button" aria-labelledby="{id}_label" aria-haspopup="true"';
            CKEDITOR.env.gecko && CKEDITOR.env.mac && (t += ' onkeypress="return false;"'), CKEDITOR.env.gecko && (t += ' onblur="this.style.cssText = this.style.cssText;"');
            var t = t + ' onkeydown="return CKEDITOR.tools.callFunction({keydownFn},event,this);" onfocus="return CKEDITOR.tools.callFunction({focusFn},event);" ' + (CKEDITOR.env.ie ? 'onclick="return false;" onmouseup' : "onclick") + '="CKEDITOR.tools.callFunction({clickFn},this);return false;"><span id="{id}_text" class="cke_combo_text cke_combo_inlinelabel">{label}</span><span class="cke_combo_open"><span class="cke_combo_arrow">' + (CKEDITOR.env.hc ? "&#9660;" : CKEDITOR.env.air ? "&nbsp;" : "") + "</span></span></a></span>",
                e = CKEDITOR.addTemplate("combo", t);
            CKEDITOR.UI_RICHCOMBO = "richcombo", CKEDITOR.ui.richCombo = CKEDITOR.tools.createClass({
                $: function(t) {
                    CKEDITOR.tools.extend(this, t, {
                        canGroup: !1,
                        title: t.label,
                        modes: {
                            wysiwyg: 1
                        },
                        editorFocus: 1
                    }), t = this.panel || {}, delete this.panel, this.id = CKEDITOR.tools.getNextNumber(), this.document = t.parent && t.parent.getDocument() || CKEDITOR.document, t.className = "cke_combopanel", t.block = {
                        multiSelect: t.multiSelect,
                        attributes: t.attributes
                    }, t.toolbarRelated = !0, this._ = {
                        panelDefinition: t,
                        items: {}
                    }
                },
                proto: {
                    renderHtml: function(t) {
                        var e = [];
                        return this.render(t, e), e.join("")
                    },
                    render: function(t, n) {
                        function i() {
                            if (this.getState() != CKEDITOR.TRISTATE_ON) {
                                var e = this.modes[t.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED;
                                t.readOnly && !this.readOnly && (e = CKEDITOR.TRISTATE_DISABLED), this.setState(e), this.setValue(""), e != CKEDITOR.TRISTATE_DISABLED && this.refresh && this.refresh()
                            }
                        }
                        var o = CKEDITOR.env,
                            a = "cke_" + this.id,
                            s = CKEDITOR.tools.addFunction(function(e) {
                                d && (t.unlockSelection(1), d = 0), l.execute(e)
                            }, this),
                            r = this,
                            l = {
                                id: a,
                                combo: this,
                                focus: function() {
                                    CKEDITOR.document.getById(a).getChild(1).focus()
                                },
                                execute: function(e) {
                                    var n = r._;
                                    if (n.state != CKEDITOR.TRISTATE_DISABLED)
                                        if (r.createPanel(t), n.on)
                                            n.panel.hide();
                                        else {
                                            r.commit();
                                            var i = r.getValue();
                                            i ? n.list.mark(i) : n.list.unmarkAll(), n.panel.showBlock(r.id, new CKEDITOR.dom.element(e), 4)
                                        }
                                },
                                clickFn: s
                            };
                        t.on("activeFilterChange", i, this), t.on("mode", i, this), t.on("selectionChange", i, this), !this.readOnly && t.on("readOnly", i, this);
                        var c = CKEDITOR.tools.addFunction(function(t, e) {
                                t = new CKEDITOR.dom.event(t);
                                var n = t.getKeystroke();
                                switch (n) {
                                case 13:
                                case 32:
                                case 40:
                                    CKEDITOR.tools.callFunction(s, e);
                                    break;
                                default:
                                    l.onkey(l, n)
                                }
                                t.preventDefault()
                            }),
                            u = CKEDITOR.tools.addFunction(function() {
                                l.onfocus && l.onfocus()
                            }),
                            d = 0;
                        return l.keyDownFn = c, o = {
                            id: a,
                            name: this.name || this.command,
                            label: this.label,
                            title: this.title,
                            cls: this.className || "",
                            titleJs: o.gecko && !o.hc ? "" : (this.title || "").replace("'", ""),
                            keydownFn: c,
                            focusFn: u,
                            clickFn: s
                        }, e.output(o, n), this.onRender && this.onRender(), l
                    },
                    createPanel: function(t) {
                        if (!this._.panel) {
                            var e = this._.panelDefinition,
                                n = this._.panelDefinition.block,
                                i = e.parent || CKEDITOR.document.getBody(),
                                o = "cke_combopanel__" + this.name,
                                a = new CKEDITOR.ui.floatPanel(t, i, e),
                                e = a.addListBlock(this.id, n),
                                s = this;
                            a.onShow = function() {
                                this.element.addClass(o), s.setState(CKEDITOR.TRISTATE_ON), s._.on = 1, s.editorFocus && !t.focusManager.hasFocus && t.focus(), s.onOpen && s.onOpen()
                            }, a.onHide = function(e) {
                                this.element.removeClass(o), s.setState(s.modes && s.modes[t.mode] ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), s._.on = 0, !e && s.onClose && s.onClose()
                            }, a.onEscape = function() {
                                a.hide(1)
                            }, e.onClick = function(t, e) {
                                s.onClick && s.onClick.call(s, t, e), a.hide()
                            }, this._.panel = a, this._.list = e, a.getBlock(this.id).onHide = function() {
                                s._.on = 0, s.setState(CKEDITOR.TRISTATE_OFF)
                            }, this.init && this.init()
                        }
                    },
                    setValue: function(t, e) {
                        this._.value = t;
                        var n = this.document.getById("cke_" + this.id + "_text");
                        n && (t || e ? n.removeClass("cke_combo_inlinelabel") : (e = this.label, n.addClass("cke_combo_inlinelabel")), n.setText(void 0 !== e ? e : t))
                    },
                    getValue: function() {
                        return this._.value || ""
                    },
                    unmarkAll: function() {
                        this._.list.unmarkAll()
                    },
                    mark: function(t) {
                        this._.list.mark(t)
                    },
                    hideItem: function(t) {
                        this._.list.hideItem(t)
                    },
                    hideGroup: function(t) {
                        this._.list.hideGroup(t)
                    },
                    showAll: function() {
                        this._.list.showAll()
                    },
                    add: function(t, e, n) {
                        this._.items[t] = n || t, this._.list.add(t, e, n)
                    },
                    startGroup: function(t) {
                        this._.list.startGroup(t)
                    },
                    commit: function() {
                        this._.committed || (this._.list.commit(), this._.committed = 1, CKEDITOR.ui.fire("ready", this)), this._.committed = 1
                    },
                    setState: function(t) {
                        if (this._.state != t) {
                            var e = this.document.getById("cke_" + this.id);
                            e.setState(t, "cke_combo"), t == CKEDITOR.TRISTATE_DISABLED ? e.setAttribute("aria-disabled", !0) : e.removeAttribute("aria-disabled"), this._.state = t
                        }
                    },
                    getState: function() {
                        return this._.state
                    },
                    enable: function() {
                        this._.state == CKEDITOR.TRISTATE_DISABLED && this.setState(this._.lastState)
                    },
                    disable: function() {
                        this._.state != CKEDITOR.TRISTATE_DISABLED && (this._.lastState = this._.state, this.setState(CKEDITOR.TRISTATE_DISABLED))
                    }
                },
                statics: {
                    handler: {
                        create: function(t) {
                            return new CKEDITOR.ui.richCombo(t)
                        }
                    }
                }
            }), CKEDITOR.ui.prototype.addRichCombo = function(t, e) {
                this.add(t, CKEDITOR.UI_RICHCOMBO, e)
            }
        }(), function() {
            function t(t, n, i, o, a, s, r, l) {
                var c = t.config,
                    u = new CKEDITOR.style(r),
                    d = a.split(";");
                a = [];
                for (var h = {}, f = 0; f < d.length; f++) {
                    var p = d[f];
                    if (p) {
                        var p = p.split("/"),
                            m = {},
                            g = d[f] = p[0];
                        m[i] = a[f] = p[1] || g, h[g] = new CKEDITOR.style(r, m), h[g]._.definition.name = g
                    } else
                        d.splice(f--, 1)
                }
                t.ui.addRichCombo(n, {
                    label: o.label,
                    title: o.panelTitle,
                    toolbar: "styles," + l,
                    allowedContent: u,
                    requiredContent: u,
                    contentTransformations: [[{
                        element: "font",
                        check: "span",
                        left: function(t) {
                            return !!t.attributes.size || !!t.attributes.align || !!t.attributes.face
                        },
                        right: function(t) {
                            var e = " x-small small medium large x-large xx-large 48px".split(" ");
                            t.name = "span", t.attributes.size && (t.styles["font-size"] = e[t.attributes.size], delete t.attributes.size), t.attributes.align && (t.styles["text-align"] = t.attributes.align, delete t.attributes.align), t.attributes.face && (t.styles["font-family"] = t.attributes.face, delete t.attributes.face)
                        }
                    }]],
                    panel: {
                        css: [CKEDITOR.skin.getPath("editor")].concat(c.contentsCss),
                        multiSelect: !1,
                        attributes: {
                            "aria-label": o.panelTitle
                        }
                    },
                    init: function() {
                        this.startGroup(o.panelTitle);
                        for (var t = 0; t < d.length; t++) {
                            var e = d[t];
                            this.add(e, h[e].buildPreview(), e)
                        }
                    },
                    onClick: function(n) {
                        t.focus(), t.fire("saveSnapshot");
                        var i = this.getValue(),
                            o = h[n];
                        if (i && n != i) {
                            var a = h[i],
                                s = t.getSelection().getRanges()[0];
                            if (s.collapsed) {
                                var r = t.elementPath(),
                                    l = r.contains(function(t) {
                                        return a.checkElementRemovable(t)
                                    });
                                if (l) {
                                    var c = s.checkBoundaryOfElement(l, CKEDITOR.START),
                                        u = s.checkBoundaryOfElement(l, CKEDITOR.END);
                                    if (c && u) {
                                        for (c = s.createBookmark(); r = l.getFirst();)
                                            r.insertBefore(l);
                                        l.remove(), s.moveToBookmark(c)
                                    } else
                                        c || u ? s.moveToPosition(l, c ? CKEDITOR.POSITION_BEFORE_START : CKEDITOR.POSITION_AFTER_END) : (s.splitElement(l), s.moveToPosition(l, CKEDITOR.POSITION_AFTER_END)), e(s, r.elements.slice(), l);
                                    t.getSelection().selectRanges([s])
                                }
                            } else
                                t.removeStyle(a)
                        }
                        t[i == n ? "removeStyle" : "applyStyle"](o), t.fire("saveSnapshot")
                    },
                    onRender: function() {
                        t.on("selectionChange", function(e) {
                            var n = this.getValue();
                            e = e.data.path.elements;
                            for (var i = 0, o; i < e.length; i++) {
                                o = e[i];
                                for (var a in h)
                                    if (h[a].checkElementMatch(o, !0, t))
                                        return void (a != n && this.setValue(a))
                            }
                            this.setValue("", s)
                        }, this)
                    },
                    refresh: function() {
                        t.activeFilter.check(u) || this.setState(CKEDITOR.TRISTATE_DISABLED)
                    }
                })
            }
            function e(t, n, i) {
                var o = n.pop();
                if (o) {
                    if (i)
                        return e(t, n, o.equals(i) ? null : i);
                    i = o.clone(), t.insertNode(i), t.moveToPosition(i, CKEDITOR.POSITION_AFTER_START), e(t, n)
                }
            }
            CKEDITOR.plugins.add("font", {
                requires: "richcombo",
                init: function(e) {
                    var n = e.config;
                    t(e, "Font", "family", e.lang.font, n.font_names, n.font_defaultLabel, n.font_style, 30), t(e, "FontSize", "size", e.lang.font.fontSize, n.fontSize_sizes, n.fontSize_defaultLabel, n.fontSize_style, 40)
                }
            })
        }(), CKEDITOR.config.font_names = "Arial/Arial, Helvetica, sans-serif;Comic Sans MS/Comic Sans MS, cursive;Courier New/Courier New, Courier, monospace;Georgia/Georgia, serif;Lucida Sans Unicode/Lucida Sans Unicode, Lucida Grande, sans-serif;Tahoma/Tahoma, Geneva, sans-serif;Times New Roman/Times New Roman, Times, serif;Trebuchet MS/Trebuchet MS, Helvetica, sans-serif;Verdana/Verdana, Geneva, sans-serif", CKEDITOR.config.font_defaultLabel = "", CKEDITOR.config.font_style = {
            element: "span",
            styles: {
                "font-family": "#(family)"
            },
            overrides: [{
                element: "font",
                attributes: {
                    face: null
                }
            }]
        }, CKEDITOR.config.fontSize_sizes = "8/8px;9/9px;10/10px;11/11px;12/12px;14/14px;16/16px;18/18px;20/20px;22/22px;24/24px;26/26px;28/28px;36/36px;48/48px;72/72px", CKEDITOR.config.fontSize_defaultLabel = "", CKEDITOR.config.fontSize_style = {
            element: "span",
            styles: {
                "font-size": "#(size)"
            },
            overrides: [{
                element: "font",
                attributes: {
                    size: null
                }
            }]
        }, CKEDITOR.plugins.add("forms", {
            requires: "dialog,fakeobjects",
            onLoad: function() {
                CKEDITOR.addCss(".cke_editable form{border: 1px dotted #FF0000;padding: 2px;}\n"), CKEDITOR.addCss("img.cke_hidden{background-image: url(" + CKEDITOR.getUrl(this.path + "images/hiddenfield.gif") + ");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 16px !important;height: 16px !important;}")
            },
            init: function(t) {
                var e = t.lang,
                    n = 0,
                    i = {
                        email: 1,
                        password: 1,
                        search: 1,
                        tel: 1,
                        text: 1,
                        url: 1
                    },
                    o = {
                        checkbox: "input[type,name,checked,required]",
                        radio: "input[type,name,checked,required]",
                        textfield: "input[type,name,value,size,maxlength,required]",
                        textarea: "textarea[cols,rows,name,required]",
                        select: "select[name,size,multiple,required]; option[value,selected]",
                        button: "input[type,name,value]",
                        form: "form[action,name,id,enctype,target,method]",
                        hiddenfield: "input[type,name,value]",
                        imagebutton: "input[type,alt,src]{width,height,border,border-width,border-style,margin,float}"
                    },
                    a = {
                        checkbox: "input",
                        radio: "input",
                        textfield: "input",
                        textarea: "textarea",
                        select: "select",
                        button: "input",
                        form: "form",
                        hiddenfield: "input",
                        imagebutton: "input"
                    },
                    s = function(i, s, r) {
                        var l = {
                            allowedContent: o[s],
                            requiredContent: a[s]
                        };
                        "form" == s && (l.context = "form"), t.addCommand(s, new CKEDITOR.dialogCommand(s, l)), t.ui.addButton && t.ui.addButton(i, {
                            label: e.common[i.charAt(0).toLowerCase() + i.slice(1)],
                            command: s,
                            toolbar: "forms," + (n += 10)
                        }), CKEDITOR.dialog.add(s, r)
                    },
                    r = this.path + "dialogs/";
                !t.blockless && s("Form", "form", r + "form.js"), s("Checkbox", "checkbox", r + "checkbox.js"), s("Radio", "radio", r + "radio.js"), s("TextField", "textfield", r + "textfield.js"), s("Textarea", "textarea", r + "textarea.js"), s("Select", "select", r + "select.js"), s("Button", "button", r + "button.js");
                var l = t.plugins.image;
                l && !t.plugins.image2 && s("ImageButton", "imagebutton", CKEDITOR.plugins.getPath("image") + "dialogs/image.js"), s("HiddenField", "hiddenfield", r + "hiddenfield.js"), t.addMenuItems && (s = {
                    checkbox: {
                        label: e.forms.checkboxAndRadio.checkboxTitle,
                        command: "checkbox",
                        group: "checkbox"
                    },
                    radio: {
                        label: e.forms.checkboxAndRadio.radioTitle,
                        command: "radio",
                        group: "radio"
                    },
                    textfield: {
                        label: e.forms.textfield.title,
                        command: "textfield",
                        group: "textfield"
                    },
                    hiddenfield: {
                        label: e.forms.hidden.title,
                        command: "hiddenfield",
                        group: "hiddenfield"
                    },
                    button: {
                        label: e.forms.button.title,
                        command: "button",
                        group: "button"
                    },
                    select: {
                        label: e.forms.select.title,
                        command: "select",
                        group: "select"
                    },
                    textarea: {
                        label: e.forms.textarea.title,
                        command: "textarea",
                        group: "textarea"
                    }
                }, l && (s.imagebutton = {
                    label: e.image.titleButton,
                    command: "imagebutton",
                    group: "imagebutton"
                }), !t.blockless && (s.form = {
                    label: e.forms.form.menu,
                    command: "form",
                    group: "form"
                }), t.addMenuItems(s)), t.contextMenu && (!t.blockless && t.contextMenu.addListener(function(t, e, n) {
                    if ((t = n.contains("form", 1)) && !t.isReadOnly())
                        return {
                            form: CKEDITOR.TRISTATE_OFF
                        }
                }), t.contextMenu.addListener(function(t) {
                    if (t && !t.isReadOnly()) {
                        var e = t.getName();
                        if ("select" == e)
                            return {
                                select: CKEDITOR.TRISTATE_OFF
                            };
                        if ("textarea" == e)
                            return {
                                textarea: CKEDITOR.TRISTATE_OFF
                            };
                        if ("input" == e) {
                            var n = t.getAttribute("type") || "text";
                            switch (n) {
                            case "button":
                            case "submit":
                            case "reset":
                                return {
                                    button: CKEDITOR.TRISTATE_OFF
                                };
                            case "checkbox":
                                return {
                                    checkbox: CKEDITOR.TRISTATE_OFF
                                };
                            case "radio":
                                return {
                                    radio: CKEDITOR.TRISTATE_OFF
                                };
                            case "image":
                                return l ? {
                                    imagebutton: CKEDITOR.TRISTATE_OFF
                                } : null
                            }
                            if (i[n])
                                return {
                                    textfield: CKEDITOR.TRISTATE_OFF
                                }
                        }
                        if ("img" == e && "hiddenfield" == t.data("cke-real-element-type"))
                            return {
                                hiddenfield: CKEDITOR.TRISTATE_OFF
                            }
                    }
                })), t.on("doubleclick", function(e) {
                    var n = e.data.element;
                    if (!t.blockless && n.is("form"))
                        e.data.dialog = "form";
                    else if (n.is("select"))
                        e.data.dialog = "select";
                    else if (n.is("textarea"))
                        e.data.dialog = "textarea";
                    else if (n.is("img") && "hiddenfield" == n.data("cke-real-element-type"))
                        e.data.dialog = "hiddenfield";
                    else if (n.is("input")) {
                        switch (n = n.getAttribute("type") || "text") {
                        case "button":
                        case "submit":
                        case "reset":
                            e.data.dialog = "button";
                            break;
                        case "checkbox":
                            e.data.dialog = "checkbox";
                            break;
                        case "radio":
                            e.data.dialog = "radio";
                            break;
                        case "image":
                            e.data.dialog = "imagebutton"
                        }
                        i[n] && (e.data.dialog = "textfield")
                    }
                })
            },
            afterInit: function(t) {
                var e = t.dataProcessor,
                    n = e && e.htmlFilter,
                    e = e && e.dataFilter;
                CKEDITOR.env.ie && n && n.addRules({
                    elements: {
                        input: function(t) {
                            t = t.attributes;
                            var e = t.type;
                            e || (t.type = "text"), "checkbox" != e && "radio" != e || "on" != t.value || delete t.value
                        }
                    }
                }, {
                    applyToAll: !0
                }), e && e.addRules({
                    elements: {
                        input: function(e) {
                            if ("hidden" == e.attributes.type)
                                return t.createFakeParserElement(e, "cke_hidden", "hiddenfield")
                        }
                    }
                }, {
                    applyToAll: !0
                })
            }
        }), CKEDITOR.plugins.add("format", {
            requires: "richcombo",
            init: function(t) {
                if (!t.blockless) {
                    for (var e = t.config, n = t.lang.format, i = e.format_tags.split(";"), o = {}, a = 0, s = [], r = 0; r < i.length; r++) {
                        var l = i[r],
                            c = new CKEDITOR.style(e["format_" + l]);
                        t.filter.customConfig && !t.filter.check(c) || (a++, o[l] = c, o[l]._.enterMode = t.config.enterMode, s.push(c))
                    }
                    0 !== a && t.ui.addRichCombo("Format", {
                        label: n.label,
                        title: n.panelTitle,
                        toolbar: "styles,20",
                        allowedContent: s,
                        panel: {
                            css: [CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),
                            multiSelect: !1,
                            attributes: {
                                "aria-label": n.panelTitle
                            }
                        },
                        init: function() {
                            this.startGroup(n.panelTitle);
                            for (var t in o) {
                                var e = n["tag_" + t];
                                this.add(t, o[t].buildPreview(e), e)
                            }
                        },
                        onClick: function(e) {
                            t.focus(), t.fire("saveSnapshot"), e = o[e];
                            var n = t.elementPath();
                            t[e.checkActive(n, t) ? "removeStyle" : "applyStyle"](e), setTimeout(function() {
                                t.fire("saveSnapshot")
                            }, 0)
                        },
                        onRender: function() {
                            t.on("selectionChange", function(e) {
                                var n = this.getValue();
                                e = e.data.path, this.refresh();
                                for (var i in o)
                                    if (o[i].checkActive(e, t))
                                        return void (i != n && this.setValue(i, t.lang.format["tag_" + i]));
                                this.setValue("")
                            }, this)
                        },
                        onOpen: function() {
                            this.showAll();
                            for (var e in o)
                                t.activeFilter.check(o[e]) || this.hideItem(e)
                        },
                        refresh: function() {
                            var e = t.elementPath();
                            if (e) {
                                if (e.isContextFor("p"))
                                    for (var n in o)
                                        if (t.activeFilter.check(o[n]))
                                            return;
                                this.setState(CKEDITOR.TRISTATE_DISABLED)
                            }
                        }
                    })
                }
            }
        }), CKEDITOR.config.format_tags = "p;h1;h2;h3;h4;h5;h6;pre;address;div", CKEDITOR.config.format_p = {
            element: "p"
        }, CKEDITOR.config.format_div = {
            element: "div"
        }, CKEDITOR.config.format_pre = {
            element: "pre"
        }, CKEDITOR.config.format_address = {
            element: "address"
        }, CKEDITOR.config.format_h1 = {
            element: "h1"
        }, CKEDITOR.config.format_h2 = {
            element: "h2"
        }, CKEDITOR.config.format_h3 = {
            element: "h3"
        }, CKEDITOR.config.format_h4 = {
            element: "h4"
        }, CKEDITOR.config.format_h5 = {
            element: "h5"
        }, CKEDITOR.config.format_h6 = {
            element: "h6"
        }, function() {
            var t = {
                canUndo: !1,
                exec: function(t) {
                    var e = t.document.createElement("hr");
                    t.insertElement(e)
                },
                allowedContent: "hr",
                requiredContent: "hr"
            };
            CKEDITOR.plugins.add("horizontalrule", {
                init: function(e) {
                    e.blockless || (e.addCommand("horizontalrule", t), e.ui.addButton && e.ui.addButton("HorizontalRule", {
                        label: e.lang.horizontalrule.toolbar,
                        command: "horizontalrule",
                        toolbar: "insert,40"
                    }))
                }
            })
        }(), CKEDITOR.plugins.add("htmlwriter", {
            init: function(t) {
                var e = new CKEDITOR.htmlWriter;
                e.forceSimpleAmpersand = t.config.forceSimpleAmpersand, e.indentationChars = t.config.dataIndentationChars || "\t", t.dataProcessor.writer = e
            }
        }), CKEDITOR.htmlWriter = CKEDITOR.tools.createClass({
            base: CKEDITOR.htmlParser.basicWriter,
            $: function() {
                this.base(), this.indentationChars = "\t", this.selfClosingEnd = " />", this.lineBreakChars = "\n", this.sortAttributes = 1, this._.indent = 0, this._.indentation = "", this._.inPre = 0, this._.rules = {};
                var t = CKEDITOR.dtd,
                    e;
                for (e in CKEDITOR.tools.extend({}, t.$nonBodyContent, t.$block, t.$listItem, t.$tableContent))
                    this.setRules(e, {
                        indent: !t[e]["#"],
                        breakBeforeOpen: 1,
                        breakBeforeClose: !t[e]["#"],
                        breakAfterClose: 1,
                        needsSpace: e in t.$block && !(e in {
                            li: 1,
                            dt: 1,
                            dd: 1
                        })
                    });
                this.setRules("br", {
                    breakAfterOpen: 1
                }), this.setRules("title", {
                    indent: 0,
                    breakAfterOpen: 0
                }), this.setRules("style", {
                    indent: 0,
                    breakBeforeClose: 1
                }), this.setRules("pre", {
                    breakAfterOpen: 1,
                    indent: 0
                })
            },
            proto: {
                openTag: function(t) {
                    var e = this._.rules[t];
                    this._.afterCloser && e && e.needsSpace && this._.needsSpace && this._.output.push("\n"), this._.indent ? this.indentation() : e && e.breakBeforeOpen && (this.lineBreak(), this.indentation()), this._.output.push("<", t), this._.afterCloser = 0
                },
                openTagClose: function(t, e) {
                    var n = this._.rules[t];
                    e ? (this._.output.push(this.selfClosingEnd), n && n.breakAfterClose && (this._.needsSpace = n.needsSpace)) : (this._.output.push(">"), n && n.indent && (this._.indentation += this.indentationChars)), n && n.breakAfterOpen && this.lineBreak(), "pre" == t && (this._.inPre = 1)
                },
                attribute: function(t, e) {
                    "string" == typeof e && (this.forceSimpleAmpersand && (e = e.replace(/&amp;/g, "&")), e = CKEDITOR.tools.htmlEncodeAttr(e)), this._.output.push(" ", t, '="', e, '"')
                },
                closeTag: function(t) {
                    var e = this._.rules[t];
                    e && e.indent && (this._.indentation = this._.indentation.substr(this.indentationChars.length)), this._.indent ? this.indentation() : e && e.breakBeforeClose && (this.lineBreak(), this.indentation()), this._.output.push("</", t, ">"), "pre" == t && (this._.inPre = 0), e && e.breakAfterClose && (this.lineBreak(), this._.needsSpace = e.needsSpace), this._.afterCloser = 1
                },
                text: function(t) {
                    this._.indent && (this.indentation(), !this._.inPre && (t = CKEDITOR.tools.ltrim(t))), this._.output.push(t)
                },
                comment: function(t) {
                    this._.indent && this.indentation(), this._.output.push("<!--", t, "-->")
                },
                lineBreak: function() {
                    !this._.inPre && 0 < this._.output.length && this._.output.push(this.lineBreakChars), this._.indent = 1
                },
                indentation: function() {
                    !this._.inPre && this._.indentation && this._.output.push(this._.indentation), this._.indent = 0
                },
                reset: function() {
                    this._.output = [], this._.indent = 0, this._.indentation = "", this._.afterCloser = 0, this._.inPre = 0, this._.needsSpace = 0
                },
                setRules: function(t, e) {
                    var n = this._.rules[t];
                    n ? CKEDITOR.tools.extend(n, e, !0) : this._.rules[t] = e
                }
            }
        }), function() {
            CKEDITOR.plugins.add("iframe", {
                requires: "dialog,fakeobjects",
                onLoad: function() {
                    CKEDITOR.addCss("img.cke_iframe{background-image: url(" + CKEDITOR.getUrl(this.path + "images/placeholder.png") + ");background-position: center center;background-repeat: no-repeat;border: 1px solid #a9a9a9;width: 80px;height: 80px;}")
                },
                init: function(t) {
                    var e = t.lang.iframe,
                        n = "iframe[align,longdesc,frameborder,height,name,scrolling,src,title,width]";
                    t.plugins.dialogadvtab && (n += ";iframe" + t.plugins.dialogadvtab.allowedContent({
                        id: 1,
                        classes: 1,
                        styles: 1
                    })), CKEDITOR.dialog.add("iframe", this.path + "dialogs/iframe.js"), t.addCommand("iframe", new CKEDITOR.dialogCommand("iframe", {
                        allowedContent: n,
                        requiredContent: "iframe"
                    })), t.ui.addButton && t.ui.addButton("Iframe", {
                        label: e.toolbar,
                        command: "iframe",
                        toolbar: "insert,80"
                    }), t.on("doubleclick", function(t) {
                        var e = t.data.element;
                        e.is("img") && "iframe" == e.data("cke-real-element-type") && (t.data.dialog = "iframe")
                    }), t.addMenuItems && t.addMenuItems({
                        iframe: {
                            label: e.title,
                            command: "iframe",
                            group: "image"
                        }
                    }), t.contextMenu && t.contextMenu.addListener(function(t) {
                        if (t && t.is("img") && "iframe" == t.data("cke-real-element-type"))
                            return {
                                iframe: CKEDITOR.TRISTATE_OFF
                            }
                    })
                },
                afterInit: function(t) {
                    var e = t.dataProcessor;
                    (e = e && e.dataFilter) && e.addRules({
                        elements: {
                            iframe: function(e) {
                                return t.createFakeParserElement(e, "cke_iframe", "iframe", !0)
                            }
                        }
                    })
                }
            })
        }(), function() {
            function t(t) {
                function n(t) {
                    var e = !1;
                    r.attachListener(r, "keydown", function() {
                        var n = o.getBody().getElementsByTag(t);
                        if (!e) {
                            for (var i = 0; i < n.count(); i++)
                                n.getItem(i).setCustomData("retain", !0);
                            e = !0
                        }
                    }, null, null, 1), r.attachListener(r, "keyup", function() {
                        var n = o.getElementsByTag(t);
                        e && (1 != n.count() || n.getItem(0).getCustomData("retain") || n.getItem(0).hasAttribute("data-cke-temp") || n.getItem(0).remove(1), e = !1)
                    })
                }
                var i = this.editor,
                    o = t.document,
                    a = o.body,
                    s = o.getElementById("cke_actscrpt");
                s && s.parentNode.removeChild(s), (s = o.getElementById("cke_shimscrpt")) && s.parentNode.removeChild(s), (s = o.getElementById("cke_basetagscrpt")) && s.parentNode.removeChild(s), a.contentEditable = !0, CKEDITOR.env.ie && (a.hideFocus = !0, a.disabled = !0, a.removeAttribute("disabled")), delete this._.isLoadingData, this.$ = a, o = new CKEDITOR.dom.document(o), this.setup(), this.fixInitialSelection();
                var r = this;
                CKEDITOR.env.ie && !CKEDITOR.env.edge && o.getDocumentElement().addClass(o.$.compatMode), CKEDITOR.env.ie && !CKEDITOR.env.edge && i.enterMode != CKEDITOR.ENTER_P ? n("p") : CKEDITOR.env.edge && i.enterMode != CKEDITOR.ENTER_DIV && n("div"), (CKEDITOR.env.webkit || CKEDITOR.env.ie && 10 < CKEDITOR.env.version) && o.getDocumentElement().on("mousedown", function(t) {
                    t.data.getTarget().is("html") && setTimeout(function() {
                        i.editable().focus()
                    })
                }), e(i);
                try {
                    i.document.$.execCommand("2D-position", !1, !0)
                } catch (t) {}
                (CKEDITOR.env.gecko || CKEDITOR.env.ie && "CSS1Compat" == i.document.$.compatMode) && this.attachListener(this, "keydown", function(t) {
                    var e = t.data.getKeystroke();
                    if (33 == e || 34 == e)
                        if (CKEDITOR.env.ie)
                            setTimeout(function() {
                                i.getSelection().scrollIntoView()
                            }, 0);
                        else if (i.window.$.innerHeight > this.$.offsetHeight) {
                            var n = i.createRange();
                            n[33 == e ? "moveToElementEditStart" : "moveToElementEditEnd"](this), n.select(), t.data.preventDefault()
                        }
                }), CKEDITOR.env.ie && this.attachListener(o, "blur", function() {
                    try {
                        o.$.selection.empty()
                    } catch (t) {}
                }), CKEDITOR.env.iOS && this.attachListener(o, "touchend", function() {
                    t.focus()
                }), a = i.document.getElementsByTag("title").getItem(0), a.data("cke-title", a.getText()), CKEDITOR.env.ie && (i.document.$.title = this._.docTitle), CKEDITOR.tools.setTimeout(function() {
                    "unloaded" == this.status && (this.status = "ready"), i.fire("contentDom"), this._.isPendingFocus && (i.focus(), this._.isPendingFocus = !1), setTimeout(function() {
                        i.fire("dataReady")
                    }, 0)
                }, 0, this)
            }
            function e(t) {
                function e() {
                    var e;
                    t.editable().attachListener(t, "selectionChange", function() {
                        var i = t.getSelection().getSelectedElement();
                        i && (e && (e.detachEvent("onresizestart", n), e = null), i.$.attachEvent("onresizestart", n), e = i.$)
                    })
                }
                function n(t) {
                    t.returnValue = !1
                }
                if (CKEDITOR.env.gecko)
                    try {
                        var i = t.document.$;
                        i.execCommand("enableObjectResizing", !1, !t.config.disableObjectResizing), i.execCommand("enableInlineTableEditing", !1, !t.config.disableNativeTableHandles)
                    } catch (t) {}
                else
                    CKEDITOR.env.ie && 11 > CKEDITOR.env.version && t.config.disableObjectResizing && e(t)
            }
            function n() {
                var t = [];
                if (8 <= CKEDITOR.document.$.documentMode) {
                    t.push("html.CSS1Compat [contenteditable=false]{min-height:0 !important}");
                    var e = [],
                        n;
                    for (n in CKEDITOR.dtd.$removeEmpty)
                        e.push("html.CSS1Compat " + n + "[contenteditable=false]");
                    t.push(e.join(",") + "{display:inline-block}")
                } else
                    CKEDITOR.env.gecko && (t.push("html{height:100% !important}"), t.push("img:-moz-broken{-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}"));
                return t.push("html{cursor:text;*cursor:auto}"), t.push("img,input,textarea{cursor:default}"), t.join("\n")
            }
            var i;
            CKEDITOR.plugins.add("wysiwygarea", {
                init: function(t) {
                    t.config.fullPage && t.addFeature({
                        allowedContent: "html head title; style [media,type]; body (*)[id]; meta link [*]",
                        requiredContent: "body"
                    }), t.addMode("wysiwyg", function(e) {
                        function n(n) {
                            n && n.removeListener(), t.editable(new i(t, a.$.contentWindow.document.body)), t.setData(t.getData(1), e)
                        }
                        var o = "document.open();" + (CKEDITOR.env.ie ? "(" + CKEDITOR.tools.fixDomain + ")();" : "") + "document.close();",
                            o = CKEDITOR.env.air ? "javascript:void(0)" : CKEDITOR.env.ie && !CKEDITOR.env.edge ? "javascript:void(function(){" + encodeURIComponent(o) + "}())" : "",
                            a = CKEDITOR.dom.element.createFromHtml('<iframe src="' + o + '" frameBorder="0"></iframe>');
                        a.setStyles({
                            width: "100%",
                            height: "100%"
                        }), a.addClass("cke_wysiwyg_frame").addClass("cke_reset"), o = t.ui.space("contents"), o.append(a);
                        var s = CKEDITOR.env.ie && !CKEDITOR.env.edge || CKEDITOR.env.gecko;
                        s && a.on("load", n);
                        var r = t.title,
                            l = t.fire("ariaEditorHelpLabel", {}).label;
                        if (r && (CKEDITOR.env.ie && l && (r += ", " + l), a.setAttribute("title", r)), l) {
                            var r = CKEDITOR.tools.getNextId(),
                                c = CKEDITOR.dom.element.createFromHtml('<span id="' + r + '" class="cke_voice_label">' + l + "</span>");
                            o.append(c, 1), a.setAttribute("aria-describedby", r)
                        }
                        t.on("beforeModeUnload", function(t) {
                            t.removeListener(), c && c.remove()
                        }), a.setAttributes({
                            tabIndex: t.tabIndex,
                            allowTransparency: "true"
                        }), !s && n(), t.fire("ariaWidget", a)
                    })
                }
            }), CKEDITOR.editor.prototype.addContentsCss = function(t) {
                var e = this.config,
                    n = e.contentsCss;
                CKEDITOR.tools.isArray(n) || (e.contentsCss = n ? [n] : []), e.contentsCss.push(t)
            }, i = CKEDITOR.tools.createClass({
                $: function() {
                    this.base.apply(this, arguments), this._.frameLoadedHandler = CKEDITOR.tools.addFunction(function(e) {
                        CKEDITOR.tools.setTimeout(t, 0, this, e)
                    }, this), this._.docTitle = this.getWindow().getFrame().getAttribute("title")
                },
                base: CKEDITOR.editable,
                proto: {
                    setData: function(t, e) {
                        var i = this.editor;
                        if (e)
                            this.setHtml(t), this.fixInitialSelection(), i.fire("dataReady");
                        else {
                            this._.isLoadingData = !0, i._.dataStore = {
                                id: 1
                            };
                            var o = i.config,
                                a = o.fullPage,
                                s = o.docType,
                                r = CKEDITOR.tools.buildStyleHtml(n()).replace(/<style>/, '<style data-cke-temp="1">');
                            a || (r += CKEDITOR.tools.buildStyleHtml(i.config.contentsCss));
                            var l = o.baseHref ? '<base href="' + o.baseHref + '" data-cke-temp="1" />' : "";
                            a && (t = t.replace(/<!DOCTYPE[^>]*>/i, function(t) {
                                return i.docType = s = t, ""
                            }).replace(/<\?xml\s[^\?]*\?>/i, function(t) {
                                return i.xmlDeclaration = t, ""
                            })), t = i.dataProcessor.toHtml(t), a ? (/<body[\s|>]/.test(t) || (t = "<body>" + t), /<html[\s|>]/.test(t) || (t = "<html>" + t + "</html>"), /<head[\s|>]/.test(t) ? /<title[\s|>]/.test(t) || (t = t.replace(/<head[^>]*>/, "$&<title></title>")) : t = t.replace(/<html[^>]*>/, "$&<head><title></title></head>"), l && (t = t.replace(/<head[^>]*?>/, "$&" + l)), t = t.replace(/<\/head\s*>/, r + "$&"), t = s + t) : t = o.docType + '<html dir="' + o.contentsLangDirection + '" lang="' + (o.contentsLanguage || i.langCode) + '"><head><title>' + this._.docTitle + "</title>" + l + r + "</head><body" + (o.bodyId ? ' id="' + o.bodyId + '"' : "") + (o.bodyClass ? ' class="' + o.bodyClass + '"' : "") + ">" + t + "</body></html>", CKEDITOR.env.gecko && (t = t.replace(/<body/, '<body contenteditable="true" '), 2e4 > CKEDITOR.env.version && (t = t.replace(/<body[^>]*>/, "$&<!-- cke-content-start -->"))), o = '<script id="cke_actscrpt" type="text/javascript"' + (CKEDITOR.env.ie ? ' defer="defer" ' : "") + ">var wasLoaded=0;function onload(){if(!wasLoaded)window.parent.CKEDITOR.tools.callFunction(" + this._.frameLoadedHandler + ",window);wasLoaded=1;}" + (CKEDITOR.env.ie ? "onload();" : 'document.addEventListener("DOMContentLoaded", onload, false );') + "</script>", CKEDITOR.env.ie && 9 > CKEDITOR.env.version && (o += '<script id="cke_shimscrpt">window.parent.CKEDITOR.tools.enableHtml5Elements(document)</script>'), l && CKEDITOR.env.ie && 10 > CKEDITOR.env.version && (o += '<script id="cke_basetagscrpt">var baseTag = document.querySelector( "base" );baseTag.href = baseTag.href;</script>'), t = t.replace(/(?=\s*<\/(:?head)>)/, o), this.clearCustomData(), this.clearListeners(), i.fire("contentDomUnload");
                            var c = this.getDocument();
                            try {
                                c.write(t)
                            } catch (e) {
                                setTimeout(function() {
                                    c.write(t)
                                }, 0)
                            }
                        }
                    },
                    getData: function(t) {
                        if (t)
                            return this.getHtml();
                        t = this.editor;
                        var e = t.config,
                            n = e.fullPage,
                            i = n && t.docType,
                            o = n && t.xmlDeclaration,
                            a = this.getDocument(),
                            n = n ? a.getDocumentElement().getOuterHtml() : a.getBody().getHtml();
                        return CKEDITOR.env.gecko && e.enterMode != CKEDITOR.ENTER_BR && (n = n.replace(/<br>(?=\s*(:?$|<\/body>))/, "")), n = t.dataProcessor.toDataFormat(n), o && (n = o + "\n" + n), i && (n = i + "\n" + n), n
                    },
                    focus: function() {
                        this._.isLoadingData ? this._.isPendingFocus = !0 : i.baseProto.focus.call(this)
                    },
                    detach: function() {
                        var t = this.editor,
                            e = t.document,
                            n;
                        try {
                            n = t.window.getFrame()
                        } catch (t) {}
                        i.baseProto.detach.call(this), this.clearCustomData(), e.getDocumentElement().clearCustomData(), CKEDITOR.tools.removeFunction(this._.frameLoadedHandler), n && n.getParent() ? (n.clearCustomData(), (t = n.removeCustomData("onResize")) && t.removeListener(), n.remove()) : CKEDITOR.warn("editor-destroy-iframe")
                    }
                }
            })
        }(), CKEDITOR.config.disableObjectResizing = !1, CKEDITOR.config.disableNativeTableHandles = !0, CKEDITOR.config.disableNativeSpellChecker = !0, function() {
            function t(t, e) {
                if (e || (e = t.getSelection().getSelectedElement()), e && e.is("img") && !e.data("cke-realelement") && !e.isReadOnly())
                    return e
            }
            function e(t) {
                var e = t.getStyle("float");
                return "inherit" != e && "none" != e || (e = 0), e || (e = t.getAttribute("align")), e
            }
            CKEDITOR.plugins.add("image", {
                requires: "dialog",
                init: function(e) {
                    if (!e.plugins.image2) {
                        CKEDITOR.dialog.add("image", this.path + "dialogs/image.js");
                        var n = "img[alt,!src]{border-style,border-width,float,height,margin,margin-bottom,margin-left,margin-right,margin-top,width}";
                        CKEDITOR.dialog.isTabEnabled(e, "image", "advanced") && (n = "img[alt,dir,id,lang,longdesc,!src,title]{*}(*)"), e.addCommand("image", new CKEDITOR.dialogCommand("image", {
                            allowedContent: n,
                            requiredContent: "img[alt,src]",
                            contentTransformations: [["img{width}: sizeToStyle", "img[width]: sizeToAttribute"], ["img{float}: alignmentToStyle", "img[align]: alignmentToAttribute"]]
                        })), e.ui.addButton && e.ui.addButton("Image", {
                            label: e.lang.common.image,
                            command: "image",
                            toolbar: "insert,10"
                        }), e.on("doubleclick", function(t) {
                            var e = t.data.element;
                            !e.is("img") || e.data("cke-realelement") || e.isReadOnly() || (t.data.dialog = "image")
                        }), e.addMenuItems && e.addMenuItems({
                            image: {
                                label: e.lang.image.menu,
                                command: "image",
                                group: "image"
                            }
                        }), e.contextMenu && e.contextMenu.addListener(function(n) {
                            if (t(e, n))
                                return {
                                    image: CKEDITOR.TRISTATE_OFF
                                }
                        })
                    }
                },
                afterInit: function(n) {
                    function i(i) {
                        var o = n.getCommand("justify" + i);
                        o && ("left" != i && "right" != i || o.on("exec", function(o) {
                            var a = t(n),
                                s;
                            a && (s = e(a), s == i ? (a.removeStyle("float"), i == e(a) && a.removeAttribute("align")) : a.setStyle("float", i), o.cancel())
                        }), o.on("refresh", function(o) {
                            var a = t(n);
                            a && (a = e(a), this.setState(a == i ? CKEDITOR.TRISTATE_ON : "right" == i || "left" == i ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), o.cancel())
                        }))
                    }
                    n.plugins.image2 || (i("left"), i("right"), i("center"), i("block"))
                }
            })
        }(), CKEDITOR.config.image_removeLinkByEmptyURL = !0, function() {
            function t(t, i) {
                var o,
                    a;
                i.on("refresh", function(t) {
                    var i = [e],
                        o;
                    for (o in t.data.states)
                        i.push(t.data.states[o]);
                    this.setState(CKEDITOR.tools.search(i, n) ? n : e)
                }, i, null, 100), i.on("exec", function(e) {
                    o = t.getSelection(), a = o.createBookmarks(1), e.data || (e.data = {}), e.data.done = !1
                }, i, null, 0), i.on("exec", function() {
                    t.forceNextSelectionCheck(), o.selectBookmarks(a)
                }, i, null, 100)
            }
            var e = CKEDITOR.TRISTATE_DISABLED,
                n = CKEDITOR.TRISTATE_OFF;
            CKEDITOR.plugins.add("indent", {
                init: function(e) {
                    var n = CKEDITOR.plugins.indent.genericDefinition;
                    t(e, e.addCommand("indent", new n(!0))), t(e, e.addCommand("outdent", new n)), e.ui.addButton && (e.ui.addButton("Indent", {
                        label: e.lang.indent.indent,
                        command: "indent",
                        directional: !0,
                        toolbar: "indent,20"
                    }), e.ui.addButton("Outdent", {
                        label: e.lang.indent.outdent,
                        command: "outdent",
                        directional: !0,
                        toolbar: "indent,10"
                    })), e.on("dirChanged", function(t) {
                        var n = e.createRange(),
                            i = t.data.node;
                        n.setStartBefore(i), n.setEndAfter(i);
                        for (var o = new CKEDITOR.dom.walker(n), a; a = o.next();)
                            if (a.type == CKEDITOR.NODE_ELEMENT)
                                if (!a.equals(i) && a.getDirection())
                                    n.setStartAfter(a), o = new CKEDITOR.dom.walker(n);
                                else {
                                    var s = e.config.indentClasses;
                                    if (s)
                                        for (var r = "ltr" == t.data.dir ? ["_rtl", ""] : ["", "_rtl"], l = 0; l < s.length; l++)
                                            a.hasClass(s[l] + r[0]) && (a.removeClass(s[l] + r[0]), a.addClass(s[l] + r[1]));
                                    s = a.getStyle("margin-right"), r = a.getStyle("margin-left"), s ? a.setStyle("margin-left", s) : a.removeStyle("margin-left"), r ? a.setStyle("margin-right", r) : a.removeStyle("margin-right")
                                }
                    })
                }
            }), CKEDITOR.plugins.indent = {
                genericDefinition: function(t) {
                    this.isIndent = !!t, this.startDisabled = !this.isIndent
                },
                specificDefinition: function(t, e, n) {
                    this.name = e, this.editor = t, this.jobs = {}, this.enterBr = t.config.enterMode == CKEDITOR.ENTER_BR, this.isIndent = !!n, this.relatedGlobal = n ? "indent" : "outdent", this.indentKey = n ? 9 : CKEDITOR.SHIFT + 9, this.database = {}
                },
                registerCommands: function(t, e) {
                    t.on("pluginsLoaded", function() {
                        for (var t in e)
                            !function(t, e) {
                                var n = t.getCommand(e.relatedGlobal),
                                    i;
                                for (i in e.jobs)
                                    n.on("exec", function(n) {
                                        n.data.done || (t.fire("lockSnapshot"), e.execJob(t, i) && (n.data.done = !0), t.fire("unlockSnapshot"), CKEDITOR.dom.element.clearAllMarkers(e.database))
                                    }, this, null, i), n.on("refresh", function(n) {
                                        n.data.states || (n.data.states = {}), n.data.states[e.name + "@" + i] = e.refreshJob(t, i, n.data.path)
                                    }, this, null, i);
                                t.addFeature(e)
                            }(this, e[t])
                    })
                }
            }, CKEDITOR.plugins.indent.genericDefinition.prototype = {
                context: "p",
                exec: function() {}
            }, CKEDITOR.plugins.indent.specificDefinition.prototype = {
                execJob: function(t, n) {
                    var i = this.jobs[n];
                    if (i.state != e)
                        return i.exec.call(this, t)
                },
                refreshJob: function(t, n, i) {
                    return n = this.jobs[n], t.activeFilter.checkFeature(this) ? n.state = n.refresh.call(this, t, i) : n.state = e, n.state
                },
                getContext: function(t) {
                    return t.contains(this.context)
                }
            }
        }(), function() {
            function t(t, n, i) {
                if (!t.getCustomData("indent_processed")) {
                    var o = this.editor,
                        a = this.isIndent;
                    if (n) {
                        if (o = t.$.className.match(this.classNameRegex), i = 0, o && (o = o[1], i = CKEDITOR.tools.indexOf(n, o) + 1), 0 > (i += a ? 1 : -1))
                            return;
                        i = Math.min(i, n.length), i = Math.max(i, 0), t.$.className = CKEDITOR.tools.ltrim(t.$.className.replace(this.classNameRegex, "")), 0 < i && t.addClass(n[i - 1])
                    } else {
                        n = e(t, i), i = parseInt(t.getStyle(n), 10);
                        var s = o.config.indentOffset || 40;
                        if (isNaN(i) && (i = 0), 0 > (i += (a ? 1 : -1) * s))
                            return;
                        i = Math.max(i, 0), i = Math.ceil(i / s) * s, t.setStyle(n, i ? i + (o.config.indentUnit || "px") : ""), "" === t.getAttribute("style") && t.removeAttribute("style")
                    }
                    CKEDITOR.dom.element.setMarker(this.database, t, "indent_processed", 1)
                }
            }
            function e(t, e) {
                return "ltr" == (e || t.getComputedStyle("direction")) ? "margin-left" : "margin-right"
            }
            var n = CKEDITOR.dtd.$listItem,
                i = CKEDITOR.dtd.$list,
                o = CKEDITOR.TRISTATE_DISABLED,
                a = CKEDITOR.TRISTATE_OFF;
            CKEDITOR.plugins.add("indentblock", {
                requires: "indent",
                init: function(s) {
                    function r() {
                        l.specificDefinition.apply(this, arguments), this.allowedContent = {
                            "div h1 h2 h3 h4 h5 h6 ol p pre ul": {
                                propertiesOnly: !0,
                                styles: c ? null : "margin-left,margin-right",
                                classes: c || null
                            }
                        }, this.contentTransformations = [["div: splitMarginShorthand"], ["h1: splitMarginShorthand"], ["h2: splitMarginShorthand"], ["h3: splitMarginShorthand"], ["h4: splitMarginShorthand"], ["h5: splitMarginShorthand"], ["h6: splitMarginShorthand"], ["ol: splitMarginShorthand"], ["p: splitMarginShorthand"], ["pre: splitMarginShorthand"], ["ul: splitMarginShorthand"]], this.enterBr && (this.allowedContent.div = !0), this.requiredContent = (this.enterBr ? "div" : "p") + (c ? "(" + c.join(",") + ")" : "{margin-left}"), this.jobs = {
                            20: {
                                refresh: function(t, i) {
                                    var s = i.block || i.blockLimit;
                                    if (!s.is(n))
                                        var r = s.getAscendant(n),
                                            s = r && i.contains(r) || s;
                                    if (s.is(n) && (s = s.getParent()), this.enterBr || this.getContext(i)) {
                                        if (c) {
                                            var r = c,
                                                s = s.$.className.match(this.classNameRegex),
                                                l = this.isIndent,
                                                r = s ? !l || s[1] != r.slice(-1) : l;
                                            return r ? a : o
                                        }
                                        return this.isIndent ? a : s ? CKEDITOR[0 >= (parseInt(s.getStyle(e(s)), 10) || 0) ? "TRISTATE_DISABLED" : "TRISTATE_OFF"] : o
                                    }
                                    return o
                                },
                                exec: function(e) {
                                    var n = e.getSelection(),
                                        n = n && n.getRanges()[0],
                                        o;
                                    if (o = e.elementPath().contains(i))
                                        t.call(this, o, c);
                                    else
                                        for (n = n.createIterator(), e = e.config.enterMode, n.enforceRealBlocks = !0, n.enlargeBr = e != CKEDITOR.ENTER_BR; o = n.getNextParagraph(e == CKEDITOR.ENTER_P ? "p" : "div");)
                                            o.isReadOnly() || t.call(this, o, c);
                                    return !0
                                }
                            }
                        }
                    }
                    var l = CKEDITOR.plugins.indent,
                        c = s.config.indentClasses;
                    l.registerCommands(s, {
                        indentblock: new r(s, "indentblock", !0),
                        outdentblock: new r(s, "outdentblock")
                    }), CKEDITOR.tools.extend(r.prototype, l.specificDefinition.prototype, {
                        context: {
                            div: 1,
                            dl: 1,
                            h1: 1,
                            h2: 1,
                            h3: 1,
                            h4: 1,
                            h5: 1,
                            h6: 1,
                            ul: 1,
                            ol: 1,
                            p: 1,
                            pre: 1,
                            table: 1
                        },
                        classNameRegex: c ? new RegExp("(?:^|\\s+)(" + c.join("|") + ")(?=$|\\s)") : null
                    })
                }
            })
        }(), function() {
            function t(t) {
                function i(e) {
                    for (var i = r.startContainer, l = r.endContainer; i && !i.getParent().equals(e);)
                        i = i.getParent();
                    for (; l && !l.getParent().equals(e);)
                        l = l.getParent();
                    if (!i || !l)
                        return !1;
                    for (var c = i, i = [], u = !1; !u;)
                        c.equals(l) && (u = !0), i.push(c), c = c.getNext();
                    if (1 > i.length)
                        return !1;
                    for (c = e.getParents(!0), l = 0; l < c.length; l++)
                        if (c[l].getName && s[c[l].getName()]) {
                            e = c[l];
                            break
                        }
                    for (var c = o.isIndent ? 1 : -1, l = i[0], i = i[i.length - 1], u = CKEDITOR.plugins.list.listToArray(e, a), d = u[i.getCustomData("listarray_index")].indent, l = l.getCustomData("listarray_index"); l <= i.getCustomData("listarray_index"); l++)
                        if (u[l].indent += c, 0 < c) {
                            var h = u[l].parent;
                            u[l].parent = new CKEDITOR.dom.element(h.getName(), h.getDocument())
                        }
                    for (l = i.getCustomData("listarray_index") + 1; l < u.length && u[l].indent > d; l++)
                        u[l].indent += c;
                    if (i = CKEDITOR.plugins.list.arrayToList(u, a, null, t.config.enterMode, e.getDirection()), !o.isIndent) {
                        var f;
                        if ((f = e.getParent()) && f.is("li"))
                            for (var c = i.listNode.getChildren(), p = [], m, l = c.count() - 1; 0 <= l; l--)
                                (m = c.getItem(l)) && m.is && m.is("li") && p.push(m)
                    }
                    if (i && i.listNode.replace(e), p && p.length)
                        for (l = 0; l < p.length; l++) {
                            for (m = e = p[l]; (m = m.getNext()) && m.is && m.getName() in s;)
                                CKEDITOR.env.needsNbspFiller && !e.getFirst(n) && e.append(r.document.createText("\xa0")), e.append(m);
                            e.insertAfter(f)
                        }
                    return i && t.fire("contentDomInvalidated"), !0
                }
                for (var o = this, a = this.database, s = this.context, r, l = t.getSelection(), l = (l && l.getRanges()).createIterator(); r = l.getNextRange();) {
                    for (var c = r.getCommonAncestor(); c && (c.type != CKEDITOR.NODE_ELEMENT || !s[c.getName()]);) {
                        if (t.editable().equals(c)) {
                            c = !1;
                            break
                        }
                        c = c.getParent()
                    }
                    if (c || (c = r.startPath().contains(s)) && r.setEndAt(c, CKEDITOR.POSITION_BEFORE_END), !c) {
                        var u = r.getEnclosedNode();
                        u && u.type == CKEDITOR.NODE_ELEMENT && u.getName() in s && (r.setStartAt(u, CKEDITOR.POSITION_AFTER_START), r.setEndAt(u, CKEDITOR.POSITION_BEFORE_END), c = u)
                    }
                    if (c && r.startContainer.type == CKEDITOR.NODE_ELEMENT && r.startContainer.getName() in s && (u = new CKEDITOR.dom.walker(r), u.evaluator = e, r.startContainer = u.next()), c && r.endContainer.type == CKEDITOR.NODE_ELEMENT && r.endContainer.getName() in s && (u = new CKEDITOR.dom.walker(r), u.evaluator = e, r.endContainer = u.previous()), c)
                        return i(c)
                }
                return 0
            }
            function e(t) {
                return t.type == CKEDITOR.NODE_ELEMENT && t.is("li")
            }
            function n(t) {
                return i(t) && o(t)
            }
            var i = CKEDITOR.dom.walker.whitespaces(!0),
                o = CKEDITOR.dom.walker.bookmark(!1, !0),
                a = CKEDITOR.TRISTATE_DISABLED,
                s = CKEDITOR.TRISTATE_OFF;
            CKEDITOR.plugins.add("indentlist", {
                requires: "indent",
                init: function(e) {
                    function n(e) {
                        i.specificDefinition.apply(this, arguments), this.requiredContent = ["ul", "ol"], e.on("key", function(t) {
                            var n = e.elementPath();
                            if ("wysiwyg" == e.mode && t.data.keyCode == this.indentKey && n) {
                                var i = this.getContext(n);
                                !i || this.isIndent && CKEDITOR.plugins.indentList.firstItemInPath(this.context, n, i) || (e.execCommand(this.relatedGlobal), t.cancel())
                            }
                        }, this), this.jobs[this.isIndent ? 10 : 30] = {
                            refresh: this.isIndent ? function(t, e) {
                                var n = this.getContext(e),
                                    i = CKEDITOR.plugins.indentList.firstItemInPath(this.context, e, n);
                                return n && this.isIndent && !i ? s : a
                            } : function(t, e) {
                                return !this.getContext(e) || this.isIndent ? a : s
                            },
                            exec: CKEDITOR.tools.bind(t, this)
                        }
                    }
                    var i = CKEDITOR.plugins.indent;
                    i.registerCommands(e, {
                        indentlist: new n(e, "indentlist", !0),
                        outdentlist: new n(e, "outdentlist")
                    }), CKEDITOR.tools.extend(n.prototype, i.specificDefinition.prototype, {
                        context: {
                            ol: 1,
                            ul: 1
                        }
                    })
                }
            }), CKEDITOR.plugins.indentList = {}, CKEDITOR.plugins.indentList.firstItemInPath = function(t, n, i) {
                var o = n.contains(e);
                return i || (i = n.contains(t)), i && o && o.equals(i.getFirst(e))
            }
        }(), CKEDITOR.plugins.add("smiley", {
            requires: "dialog",
            init: function(t) {
                t.config.smiley_path = t.config.smiley_path || this.path + "images/", t.addCommand("smiley", new CKEDITOR.dialogCommand("smiley", {
                    allowedContent: "img[alt,height,!src,title,width]",
                    requiredContent: "img"
                })), t.ui.addButton && t.ui.addButton("Smiley", {
                    label: t.lang.smiley.toolbar,
                    command: "smiley",
                    toolbar: "insert,50"
                }), CKEDITOR.dialog.add("smiley", this.path + "dialogs/smiley.js")
            }
        }), CKEDITOR.config.smiley_images = "regular_smile.png sad_smile.png wink_smile.png teeth_smile.png confused_smile.png tongue_smile.png embarrassed_smile.png omg_smile.png whatchutalkingabout_smile.png angry_smile.png angel_smile.png shades_smile.png devil_smile.png cry_smile.png lightbulb.png thumbs_down.png thumbs_up.png heart.png broken_heart.png kiss.png envelope.png".split(" "), CKEDITOR.config.smiley_descriptions = "smiley;sad;wink;laugh;frown;cheeky;blush;surprise;indecision;angry;angel;cool;devil;crying;enlightened;no;yes;heart;broken heart;kiss;mail".split(";"), function() {
            function t(t, e) {
                e = void 0 === e || e;
                var n;
                if (e)
                    n = t.getComputedStyle("text-align");
                else {
                    for (; (!t.hasAttribute || !t.hasAttribute("align") && !t.getStyle("text-align")) && (n = t.getParent());)
                        t = n;
                    n = t.getStyle("text-align") || t.getAttribute("align") || ""
                }
                return n && (n = n.replace(/(?:-(?:moz|webkit)-)?(?:start|auto)/i, "")), !n && e && (n = "rtl" == t.getComputedStyle("direction") ? "right" : "left"), n
            }
            function e(t, e, n) {
                this.editor = t, this.name = e, this.value = n, this.context = "p", e = t.config.justifyClasses;
                var i = t.config.enterMode == CKEDITOR.ENTER_P ? "p" : "div";
                if (e) {
                    switch (n) {
                    case "left":
                        this.cssClassName = e[0];
                        break;
                    case "center":
                        this.cssClassName = e[1];
                        break;
                    case "right":
                        this.cssClassName = e[2];
                        break;
                    case "justify":
                        this.cssClassName = e[3]
                    }
                    this.cssClassRegex = new RegExp("(?:^|\\s+)(?:" + e.join("|") + ")(?=$|\\s)"), this.requiredContent = i + "(" + this.cssClassName + ")"
                } else
                    this.requiredContent = i + "{text-align}";
                this.allowedContent = {
                    "caption div h1 h2 h3 h4 h5 h6 p pre td th li": {
                        propertiesOnly: !0,
                        styles: this.cssClassName ? null : "text-align",
                        classes: this.cssClassName || null
                    }
                }, t.config.enterMode == CKEDITOR.ENTER_BR && (this.allowedContent.div = !0)
            }
            function n(t) {
                var e = t.editor,
                    n = e.createRange();
                n.setStartBefore(t.data.node), n.setEndAfter(t.data.node);
                for (var i = new CKEDITOR.dom.walker(n), o; o = i.next();)
                    if (o.type == CKEDITOR.NODE_ELEMENT)
                        if (!o.equals(t.data.node) && o.getDirection())
                            n.setStartAfter(o), i = new CKEDITOR.dom.walker(n);
                        else {
                            var a = e.config.justifyClasses;
                            a && (o.hasClass(a[0]) ? (o.removeClass(a[0]), o.addClass(a[2])) : o.hasClass(a[2]) && (o.removeClass(a[2]), o.addClass(a[0]))), a = o.getStyle("text-align"), "left" == a ? o.setStyle("text-align", "right") : "right" == a && o.setStyle("text-align", "left")
                        }
            }
            e.prototype = {
                exec: function(e) {
                    var n = e.getSelection(),
                        i = e.config.enterMode;
                    if (n) {
                        for (var o = n.createBookmarks(), a = n.getRanges(), s = this.cssClassName, r, l, c = e.config.useComputedState, c = void 0 === c || c, u = a.length - 1; 0 <= u; u--)
                            for (r = a[u].createIterator(), r.enlargeBr = i != CKEDITOR.ENTER_BR; l = r.getNextParagraph(i == CKEDITOR.ENTER_P ? "p" : "div");)
                                if (!l.isReadOnly()) {
                                    l.removeAttribute("align"), l.removeStyle("text-align");
                                    var d = s && (l.$.className = CKEDITOR.tools.ltrim(l.$.className.replace(this.cssClassRegex, ""))),
                                        h = this.state == CKEDITOR.TRISTATE_OFF && (!c || t(l, !0) != this.value);
                                    s ? h ? l.addClass(s) : d || l.removeAttribute("class") : h && l.setStyle("text-align", this.value)
                                }
                        e.focus(), e.forceNextSelectionCheck(), n.selectBookmarks(o)
                    }
                },
                refresh: function(e, n) {
                    var i = n.block || n.blockLimit;
                    this.setState("body" != i.getName() && t(i, this.editor.config.useComputedState) == this.value ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                }
            }, CKEDITOR.plugins.add("justify", {
                init: function(t) {
                    if (!t.blockless) {
                        var i = new e(t, "justifyleft", "left"),
                            o = new e(t, "justifycenter", "center"),
                            a = new e(t, "justifyright", "right"),
                            s = new e(t, "justifyblock", "justify");
                        t.addCommand("justifyleft", i), t.addCommand("justifycenter", o), t.addCommand("justifyright", a), t.addCommand("justifyblock", s), t.ui.addButton && (t.ui.addButton("JustifyLeft", {
                            label: t.lang.justify.left,
                            command: "justifyleft",
                            toolbar: "align,10"
                        }), t.ui.addButton("JustifyCenter", {
                            label: t.lang.justify.center,
                            command: "justifycenter",
                            toolbar: "align,20"
                        }), t.ui.addButton("JustifyRight", {
                            label: t.lang.justify.right,
                            command: "justifyright",
                            toolbar: "align,30"
                        }), t.ui.addButton("JustifyBlock", {
                            label: t.lang.justify.block,
                            command: "justifyblock",
                            toolbar: "align,40"
                        })), t.on("dirChanged", n)
                    }
                }
            })
        }(), CKEDITOR.plugins.add("menubutton", {
            requires: "button,menu",
            onLoad: function() {
                var t = function(t) {
                    var e = this._,
                        n = e.menu;
                    e.state !== CKEDITOR.TRISTATE_DISABLED && (e.on && n ? n.hide() : (e.previousState = e.state, n || (n = e.menu = new CKEDITOR.menu(t, {
                        panel: {
                            className: "cke_menu_panel",
                            attributes: {
                                "aria-label": t.lang.common.options
                            }
                        }
                    }), n.onHide = CKEDITOR.tools.bind(function() {
                        var n = this.command ? t.getCommand(this.command).modes : this.modes;
                        this.setState(!n || n[t.mode] ? e.previousState : CKEDITOR.TRISTATE_DISABLED), e.on = 0
                    }, this), this.onMenu && n.addListener(this.onMenu)), this.setState(CKEDITOR.TRISTATE_ON), e.on = 1, setTimeout(function() {
                        n.show(CKEDITOR.document.getById(e.id), 4)
                    }, 0)))
                };
                CKEDITOR.ui.menuButton = CKEDITOR.tools.createClass({
                    base: CKEDITOR.ui.button,
                    $: function(e) {
                        delete e.panel, this.base(e), this.hasArrow = !0, this.click = t
                    },
                    statics: {
                        handler: {
                            create: function(t) {
                                return new CKEDITOR.ui.menuButton(t)
                            }
                        }
                    }
                })
            },
            beforeInit: function(t) {
                t.ui.addHandler(CKEDITOR.UI_MENUBUTTON, CKEDITOR.ui.menuButton.handler)
            }
        }), CKEDITOR.UI_MENUBUTTON = "menubutton", function() {
            CKEDITOR.plugins.add("language", {
                requires: "menubutton",
                init: function(t) {
                    var e = t.config.language_list || ["ar:Arabic:rtl", "fr:French", "es:Spanish"],
                        n = this,
                        i = t.lang.language,
                        o = {},
                        a,
                        s,
                        r,
                        l;
                    for (t.addCommand("language", {
                        allowedContent: "span[!lang,!dir]",
                        requiredContent: "span[lang,dir]",
                        contextSensitive: !0,
                        exec: function(t, e) {
                            var n = o["language_" + e];
                            n && t[n.style.checkActive(t.elementPath(), t) ? "removeStyle" : "applyStyle"](n.style)
                        },
                        refresh: function(t) {
                            this.setState(n.getCurrentLangElement(t) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                        }
                    }), l = 0; l < e.length; l++)
                        a = e[l].split(":"), s = a[0], r = "language_" + s, o[r] = {
                            label: a[1],
                            langId: s,
                            group: "language",
                            order: l,
                            ltr: "rtl" != ("" + a[2]).toLowerCase(),
                            onClick: function() {
                                t.execCommand("language", this.langId)
                            },
                            role: "menuitemcheckbox"
                        }, o[r].style = new CKEDITOR.style({
                            element: "span",
                            attributes: {
                                lang: s,
                                dir: o[r].ltr ? "ltr" : "rtl"
                            }
                        });
                    o.language_remove = {
                        label: i.remove,
                        group: "language_remove",
                        state: CKEDITOR.TRISTATE_DISABLED,
                        order: o.length,
                        onClick: function() {
                            var e = n.getCurrentLangElement(t);
                            e && t.execCommand("language", e.getAttribute("lang"))
                        }
                    }, t.addMenuGroup("language", 1), t.addMenuGroup("language_remove"), t.addMenuItems(o), t.ui.add("Language", CKEDITOR.UI_MENUBUTTON, {
                        label: i.button,
                        allowedContent: "span[!lang,!dir]",
                        requiredContent: "span[lang,dir]",
                        toolbar: "bidi,30",
                        command: "language",
                        onMenu: function() {
                            var e = {},
                                i = n.getCurrentLangElement(t),
                                a;
                            for (a in o)
                                e[a] = CKEDITOR.TRISTATE_OFF;
                            return e.language_remove = i ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED, i && (e["language_" + i.getAttribute("lang")] = CKEDITOR.TRISTATE_ON), e
                        }
                    })
                },
                getCurrentLangElement: function(t) {
                    var e = t.elementPath();
                    t = e && e.elements;
                    var n;
                    if (e)
                        for (var i = 0; i < t.length; i++)
                            e = t[i], !n && "span" == e.getName() && e.hasAttribute("dir") && e.hasAttribute("lang") && (n = e);
                    return n
                }
            })
        }(), function() {
            function t(t) {
                return t.replace(/'/g, "\\$&")
            }
            function e(t) {
                for (var e, n = t.length, i = [], o = 0; o < n; o++)
                    e = t.charCodeAt(o), i.push(e);
                return "String.fromCharCode(" + i.join(",") + ")"
            }
            function n(e, n) {
                var i = e.plugins.link,
                    o = i.compiledProtectionFunction.params,
                    a,
                    s;
                s = [i.compiledProtectionFunction.name, "("];
                for (var r = 0; r < o.length; r++)
                    i = o[r].toLowerCase(), a = n[i], 0 < r && s.push(","), s.push("'", a ? t(encodeURIComponent(n[i])) : "", "'");
                return s.push(")"), s.join("")
            }
            function i(t) {
                t = t.config.emailProtection || "";
                var e;
                return t && "encode" != t && (e = {}, t.replace(/^([^(]+)\(([^)]+)\)$/, function(t, n, i) {
                    e.name = n, e.params = [], i.replace(/[^,\s]+/g, function(t) {
                        e.params.push(t)
                    })
                })), e
            }
            CKEDITOR.plugins.add("link", {
                requires: "dialog,fakeobjects",
                onLoad: function() {
                    function t(t) {
                        return n.replace(/%1/g, "rtl" == t ? "right" : "left").replace(/%2/g, "cke_contents_" + t)
                    }
                    var e = "background:url(" + CKEDITOR.getUrl(this.path + "images" + (CKEDITOR.env.hidpi ? "/hidpi" : "") + "/anchor.png") + ") no-repeat %1 center;border:1px dotted #00f;background-size:16px;",
                        n = ".%2 a.cke_anchor,.%2 a.cke_anchor_empty,.cke_editable.%2 a[name],.cke_editable.%2 a[data-cke-saved-name]{" + e + "padding-%1:18px;cursor:auto;}.%2 img.cke_anchor{" + e + "width:16px;min-height:15px;height:1.15em;vertical-align:text-bottom;}";
                    CKEDITOR.addCss(t("ltr") + t("rtl"))
                },
                init: function(t) {
                    var e = "a[!href]";
                    CKEDITOR.dialog.isTabEnabled(t, "link", "advanced") && (e = e.replace("]", ",accesskey,charset,dir,id,lang,name,rel,tabindex,title,type,download]{*}(*)")), CKEDITOR.dialog.isTabEnabled(t, "link", "target") && (e = e.replace("]", ",target,onclick]")), t.addCommand("link", new CKEDITOR.dialogCommand("link", {
                        allowedContent: e,
                        requiredContent: "a[href]"
                    })), t.addCommand("anchor", new CKEDITOR.dialogCommand("anchor", {
                        allowedContent: "a[!name,id]",
                        requiredContent: "a[name]"
                    })), t.addCommand("unlink", new CKEDITOR.unlinkCommand), t.addCommand("removeAnchor", new CKEDITOR.removeAnchorCommand), t.setKeystroke(CKEDITOR.CTRL + 76, "link"), t.ui.addButton && (t.ui.addButton("Link", {
                        label: t.lang.link.toolbar,
                        command: "link",
                        toolbar: "links,10"
                    }), t.ui.addButton("Unlink", {
                        label: t.lang.link.unlink,
                        command: "unlink",
                        toolbar: "links,20"
                    }), t.ui.addButton("Anchor", {
                        label: t.lang.link.anchor.toolbar,
                        command: "anchor",
                        toolbar: "links,30"
                    })), CKEDITOR.dialog.add("link", this.path + "dialogs/link.js"), CKEDITOR.dialog.add("anchor", this.path + "dialogs/anchor.js"), t.on("doubleclick", function(e) {
                        var n = CKEDITOR.plugins.link.getSelectedLink(t) || e.data.element.getAscendant("a", 1);
                        n && !n.isReadOnly() && (n.is("a") ? (e.data.dialog = !n.getAttribute("name") || n.getAttribute("href") && n.getChildCount() ? "link" : "anchor", e.data.link = n) : CKEDITOR.plugins.link.tryRestoreFakeAnchor(t, n) && (e.data.dialog = "anchor"))
                    }, null, null, 0), t.on("doubleclick", function(e) {
                        e.data.dialog in {
                            link: 1,
                            anchor: 1
                        } && e.data.link && t.getSelection().selectElement(e.data.link)
                    }, null, null, 20), t.addMenuItems && t.addMenuItems({
                        anchor: {
                            label: t.lang.link.anchor.menu,
                            command: "anchor",
                            group: "anchor",
                            order: 1
                        },
                        removeAnchor: {
                            label: t.lang.link.anchor.remove,
                            command: "removeAnchor",
                            group: "anchor",
                            order: 5
                        },
                        link: {
                            label: t.lang.link.menu,
                            command: "link",
                            group: "link",
                            order: 1
                        },
                        unlink: {
                            label: t.lang.link.unlink,
                            command: "unlink",
                            group: "link",
                            order: 5
                        }
                    }), t.contextMenu && t.contextMenu.addListener(function(e) {
                        if (!e || e.isReadOnly())
                            return null;
                        if (!(e = CKEDITOR.plugins.link.tryRestoreFakeAnchor(t, e)) && !(e = CKEDITOR.plugins.link.getSelectedLink(t)))
                            return null;
                        var n = {};
                        return e.getAttribute("href") && e.getChildCount() && (n = {
                            link: CKEDITOR.TRISTATE_OFF,
                            unlink: CKEDITOR.TRISTATE_OFF
                        }), e && e.hasAttribute("name") && (n.anchor = n.removeAnchor = CKEDITOR.TRISTATE_OFF), n
                    }), this.compiledProtectionFunction = i(t)
                },
                afterInit: function(t) {
                    t.dataProcessor.dataFilter.addRules({
                        elements: {
                            a: function(e) {
                                return e.attributes.name ? e.children.length ? null : t.createFakeParserElement(e, "cke_anchor", "anchor") : null
                            }
                        }
                    });
                    var e = t._.elementsPath && t._.elementsPath.filters;
                    e && e.push(function(e, n) {
                        if ("a" == n && (CKEDITOR.plugins.link.tryRestoreFakeAnchor(t, e) || e.getAttribute("name") && (!e.getAttribute("href") || !e.getChildCount())))
                            return "anchor"
                    })
                }
            });
            var o = /^javascript:/,
                a = /^mailto:([^?]+)(?:\?(.+))?$/,
                s = /subject=([^;?:@&=$,\/]*)/i,
                r = /body=([^;?:@&=$,\/]*)/i,
                l = /^#(.*)$/,
                c = /^((?:http|https|ftp|news):\/\/)?(.*)$/,
                u = /^(_(?:self|top|parent|blank))$/,
                d = /^javascript:void\(location\.href='mailto:'\+String\.fromCharCode\(([^)]+)\)(?:\+'(.*)')?\)$/,
                h = /^javascript:([^(]+)\(([^)]+)\)$/,
                f = /\s*window.open\(\s*this\.href\s*,\s*(?:'([^']*)'|null)\s*,\s*'([^']*)'\s*\)\s*;\s*return\s*false;*\s*/,
                p = /(?:^|,)([^=]+)=(\d+|yes|no)/gi,
                m = {
                    id: "advId",
                    dir: "advLangDir",
                    accessKey: "advAccessKey",
                    name: "advName",
                    lang: "advLangCode",
                    tabindex: "advTabIndex",
                    title: "advTitle",
                    type: "advContentType",
                    "class": "advCSSClasses",
                    charset: "advCharset",
                    style: "advStyles",
                    rel: "advRel"
                };
            CKEDITOR.plugins.link = {
                getSelectedLink: function(t, e) {
                    var n = t.getSelection(),
                        i = n.getSelectedElement(),
                        o = n.getRanges(),
                        a = [],
                        s;
                    if (!e && i && i.is("a"))
                        return i;
                    for (i = 0; i < o.length; i++)
                        if (s = n.getRanges()[i], s.shrink(CKEDITOR.SHRINK_TEXT, !1, {
                            skipBogus: !0
                        }), (s = t.elementPath(s.getCommonAncestor()).contains("a", 1)) && e)
                            a.push(s);
                        else if (s)
                            return s;
                    return e ? a : null
                },
                getEditorAnchors: function(t) {
                    for (var e = t.editable(), n = e.isInline() && !t.plugins.divarea ? t.document : e, e = n.getElementsByTag("a"), n = n.getElementsByTag("img"), i = [], o = 0, a; a = e.getItem(o++);)
                        (a.data("cke-saved-name") || a.hasAttribute("name")) && i.push({
                            name: a.data("cke-saved-name") || a.getAttribute("name"),
                            id: a.getAttribute("id")
                        });
                    for (o = 0; a = n.getItem(o++);)
                        (a = this.tryRestoreFakeAnchor(t, a)) && i.push({
                            name: a.getAttribute("name"),
                            id: a.getAttribute("id")
                        });
                    return i
                },
                fakeAnchor: !0,
                tryRestoreFakeAnchor: function(t, e) {
                    if (e && e.data("cke-real-element-type") && "anchor" == e.data("cke-real-element-type")) {
                        var n = t.restoreRealElement(e);
                        if (n.data("cke-saved-name"))
                            return n
                    }
                },
                parseLinkAttributes: function(t, e) {
                    var n = e && (e.data("cke-saved-href") || e.getAttribute("href")) || "",
                        i = t.plugins.link.compiledProtectionFunction,
                        g = t.config.emailProtection,
                        v,
                        b = {};
                    if (n.match(o) && ("encode" == g ? n = n.replace(d, function(t, e, n) {
                        return n = n || "", "mailto:" + String.fromCharCode.apply(String, e.split(",")) + n.replace(/\\'/g, "'")
                    }) : g && n.replace(h, function(t, e, n) {
                        if (e == i.name) {
                            b.type = "email", t = b.email = {}, e = /(^')|('$)/g, n = n.match(/[^,\s]+/g);
                            for (var o = n.length, a, s, r = 0; r < o; r++)
                                a = decodeURIComponent, s = n[r].replace(e, "").replace(/\\'/g, "'"), s = a(s), a = i.params[r].toLowerCase(), t[a] = s;
                            t.address = [t.name, t.domain].join("@")
                        }
                    })), !b.type)
                        if (g = n.match(l))
                            b.type = "anchor", b.anchor = {}, b.anchor.name = b.anchor.id = g[1];
                        else if (g = n.match(a)) {
                            v = n.match(s), n = n.match(r), b.type = "email";
                            var E = b.email = {};
                            E.address = g[1], v && (E.subject = decodeURIComponent(v[1])), n && (E.body = decodeURIComponent(n[1]))
                        } else
                            n && (v = n.match(c)) && (b.type = "url", b.url = {}, b.url.protocol = v[1], b.url.url = v[2]);
                    if (e) {
                        if (n = e.getAttribute("target"))
                            b.target = {
                                type: n.match(u) ? n : "frame",
                                name: n
                            };
                        else if (n = (n = e.data("cke-pa-onclick") || e.getAttribute("onclick")) && n.match(f))
                            for (b.target = {
                                type: "popup",
                                name: n[1]
                            }; g = p.exec(n[2]);)
                                "yes" != g[2] && "1" != g[2] || g[1] in {
                                    height: 1,
                                    width: 1,
                                    top: 1,
                                    left: 1
                                } ? isFinite(g[2]) && (b.target[g[1]] = g[2]) : b.target[g[1]] = !0;
                        null !== e.getAttribute("download") && (b.download = !0);
                        var n = {},
                            y;
                        for (y in m)
                            (g = e.getAttribute(y)) && (n[m[y]] = g);
                        (y = e.data("cke-saved-name") || n.advName) && (n.advName = y), CKEDITOR.tools.isEmpty(n) || (b.advanced = n)
                    }
                    return b
                },
                getLinkAttributes: function(i, o) {
                    var a = i.config.emailProtection || "",
                        s = {};
                    switch (o.type) {
                    case "url":
                        var a = o.url && void 0 !== o.url.protocol ? o.url.protocol : "http://",
                            r = o.url && CKEDITOR.tools.trim(o.url.url) || "";
                        s["data-cke-saved-href"] = 0 === r.indexOf("/") ? r : a + r;
                        break;
                    case "anchor":
                        a = o.anchor && o.anchor.id, s["data-cke-saved-href"] = "#" + (o.anchor && o.anchor.name || a || "");
                        break;
                    case "email":
                        var l = o.email,
                            r = l.address;
                        switch (a) {
                        case "":
                        case "encode":
                            var c = encodeURIComponent(l.subject || ""),
                                u = encodeURIComponent(l.body || ""),
                                l = [];
                            c && l.push("subject=" + c), u && l.push("body=" + u), l = l.length ? "?" + l.join("&") : "", "encode" == a ? (a = ["javascript:void(location.href='mailto:'+", e(r)], l && a.push("+'", t(l), "'"), a.push(")")) : a = ["mailto:", r, l];
                            break;
                        default:
                            a = r.split("@", 2), l.name = a[0], l.domain = a[1], a = ["javascript:", n(i, l)]
                        }
                        s["data-cke-saved-href"] = a.join("")
                    }
                    if (o.target)
                        if ("popup" == o.target.type) {
                            for (var a = ["window.open(this.href, '", o.target.name || "", "', '"], d = "resizable status location toolbar menubar fullscreen scrollbars dependent".split(" "), r = d.length, c = function(t) {
                                    o.target[t] && d.push(t + "=" + o.target[t])
                                }, l = 0; l < r; l++)
                                d[l] += o.target[d[l]] ? "=yes" : "=no";
                            c("width"), c("left"), c("height"), c("top"), a.push(d.join(","), "'); return false;"), s["data-cke-pa-onclick"] = a.join("")
                        } else
                            "notSet" != o.target.type && o.target.name && (s.target = o.target.name);
                    if (o.download && (s.download = ""), o.advanced) {
                        for (var h in m)
                            (a = o.advanced[m[h]]) && (s[h] = a);
                        s.name && (s["data-cke-saved-name"] = s.name)
                    }
                    s["data-cke-saved-href"] && (s.href = s["data-cke-saved-href"]), h = {
                        target: 1,
                        onclick: 1,
                        "data-cke-pa-onclick": 1,
                        "data-cke-saved-name": 1,
                        download: 1
                    }, o.advanced && CKEDITOR.tools.extend(h, m);
                    for (var f in s)
                        delete h[f];
                    return {
                        set: s,
                        removed: CKEDITOR.tools.objectKeys(h)
                    }
                },
                showDisplayTextForElement: function(t, e) {
                    var n = {
                            img: 1,
                            table: 1,
                            tbody: 1,
                            thead: 1,
                            tfoot: 1,
                            input: 1,
                            select: 1,
                            textarea: 1
                        },
                        i = e.getSelection();
                    return !(e.widgets && e.widgets.focused || i && 1 < i.getRanges().length) && (!t || !t.getName || !t.is(n))
                }
            }, CKEDITOR.unlinkCommand = function() {}, CKEDITOR.unlinkCommand.prototype = {
                exec: function(t) {
                    if (CKEDITOR.env.ie) {
                        var e = t.getSelection().getRanges()[0],
                            n = e.getPreviousEditableNode() && e.getPreviousEditableNode().getAscendant("a", !0) || e.getNextEditableNode() && e.getNextEditableNode().getAscendant("a", !0),
                            i;
                        e.collapsed && n && (i = e.createBookmark(), e.selectNodeContents(n), e.select())
                    }
                    n = new CKEDITOR.style({
                        element: "a",
                        type: CKEDITOR.STYLE_INLINE,
                        alwaysRemoveElement: 1
                    }), t.removeStyle(n), i && (e.moveToBookmark(i), e.select())
                },
                refresh: function(t, e) {
                    var n = e.lastElement && e.lastElement.getAscendant("a", !0);
                    n && "a" == n.getName() && n.getAttribute("href") && n.getChildCount() ? this.setState(CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_DISABLED)
                },
                contextSensitive: 1,
                startDisabled: 1,
                requiredContent: "a[href]",
                editorFocus: 1
            }, CKEDITOR.removeAnchorCommand = function() {}, CKEDITOR.removeAnchorCommand.prototype = {
                exec: function(t) {
                    var e = t.getSelection(),
                        n = e.createBookmarks(),
                        i;
                    e && (i = e.getSelectedElement()) && (i.getChildCount() ? i.is("a") : CKEDITOR.plugins.link.tryRestoreFakeAnchor(t, i)) ? i.remove(1) : (i = CKEDITOR.plugins.link.getSelectedLink(t)) && (i.hasAttribute("href") ? (i.removeAttributes({
                        name: 1,
                        "data-cke-saved-name": 1
                    }), i.removeClass("cke_anchor")) : i.remove(1)), e.selectBookmarks(n)
                },
                requiredContent: "a[name]"
            }, CKEDITOR.tools.extend(CKEDITOR.config, {
                linkShowAdvancedTab: !0,
                linkShowTargetTab: !0
            })
        }(), function() {
            function t(t, e, n) {
                function i(n) {
                    !(c = l[n ? "getFirst" : "getLast"]()) || c.is && c.isBlockBoundary() || !(u = e.root[n ? "getPrevious" : "getNext"](CKEDITOR.dom.walker.invisible(!0))) || u.is && u.isBlockBoundary({
                        br: 1
                    }) || t.document.createElement("br")[n ? "insertBefore" : "insertAfter"](c)
                }
                for (var o = CKEDITOR.plugins.list.listToArray(e.root, n), a = [], s = 0; s < e.contents.length; s++) {
                    var r = e.contents[s];
                    (r = r.getAscendant("li", !0)) && !r.getCustomData("list_item_processed") && (a.push(r), CKEDITOR.dom.element.setMarker(n, r, "list_item_processed", !0))
                }
                for (r = null, s = 0; s < a.length; s++)
                    r = a[s].getCustomData("listarray_index"), o[r].indent = -1;
                for (s = r + 1; s < o.length; s++)
                    if (o[s].indent > o[s - 1].indent + 1) {
                        for (a = o[s - 1].indent + 1 - o[s].indent, r = o[s].indent; o[s] && o[s].indent >= r;)
                            o[s].indent += a, s++;
                        s--
                    }
                var l = CKEDITOR.plugins.list.arrayToList(o, n, null, t.config.enterMode, e.root.getAttribute("dir")).listNode,
                    c,
                    u;
                i(!0), i(), l.replace(e.root), t.fire("contentDomInvalidated")
            }
            function e(t, e) {
                this.name = t, this.context = this.type = e, this.allowedContent = e + " li", this.requiredContent = e
            }
            function n(t, e, n, i) {
                for (var o, a; o = t[i ? "getLast" : "getFirst"](f);)
                    (a = o.getDirection(1)) !== e.getDirection(1) && o.setAttribute("dir", a), o.remove(), n ? o[i ? "insertBefore" : "insertAfter"](n) : e.append(o, i)
            }
            function i(t) {
                function e(e) {
                    var i = t[e ? "getPrevious" : "getNext"](u);
                    i && i.type == CKEDITOR.NODE_ELEMENT && i.is(t.getName()) && (n(t, i, null, !e), t.remove(), t = i)
                }
                e(), e(1)
            }
            function o(t) {
                return t.type == CKEDITOR.NODE_ELEMENT && (t.getName() in CKEDITOR.dtd.$block || t.getName() in CKEDITOR.dtd.$listItem) && CKEDITOR.dtd[t.getName()]["#"]
            }
            function a(t, e, o) {
                t.fire("saveSnapshot"), o.enlarge(CKEDITOR.ENLARGE_LIST_ITEM_CONTENTS);
                var a = o.extractContents();
                e.trim(!1, !0);
                var r = e.createBookmark(),
                    l = new CKEDITOR.dom.elementPath(e.startContainer),
                    c = l.block,
                    l = l.lastElement.getAscendant("li", 1) || c,
                    h = new CKEDITOR.dom.elementPath(o.startContainer),
                    f = h.contains(CKEDITOR.dtd.$listItem),
                    h = h.contains(CKEDITOR.dtd.$list);
                for (c ? (c = c.getBogus()) && c.remove() : h && (c = h.getPrevious(u)) && d(c) && c.remove(), (c = a.getLast()) && c.type == CKEDITOR.NODE_ELEMENT && c.is("br") && c.remove(), (c = e.startContainer.getChild(e.startOffset)) ? a.insertBefore(c) : e.startContainer.append(a), f && (a = s(f)) && (l.contains(f) ? (n(a, f.getParent(), f), a.remove()) : l.append(a)); o.checkStartOfBlock() && o.checkEndOfBlock() && (h = o.startPath(), a = h.block);)
                    a.is("li") && (l = a.getParent(), a.equals(l.getLast(u)) && a.equals(l.getFirst(u)) && (a = l)), o.moveToPosition(a, CKEDITOR.POSITION_BEFORE_START), a.remove();
                o = o.clone(), a = t.editable(), o.setEndAt(a, CKEDITOR.POSITION_BEFORE_END), o = new CKEDITOR.dom.walker(o), o.evaluator = function(t) {
                    return u(t) && !d(t)
                }, (o = o.next()) && o.type == CKEDITOR.NODE_ELEMENT && o.getName() in CKEDITOR.dtd.$list && i(o), e.moveToBookmark(r), e.select(), t.fire("saveSnapshot")
            }
            function s(t) {
                return (t = t.getLast(u)) && t.type == CKEDITOR.NODE_ELEMENT && t.getName() in r ? t : null
            }
            var r = {
                    ol: 1,
                    ul: 1
                },
                l = CKEDITOR.dom.walker.whitespaces(),
                c = CKEDITOR.dom.walker.bookmark(),
                u = function(t) {
                    return !(l(t) || c(t))
                },
                d = CKEDITOR.dom.walker.bogus();
            CKEDITOR.plugins.list = {
                listToArray: function(t, e, n, i, o) {
                    if (!r[t.getName()])
                        return [];
                    i || (i = 0), n || (n = []);
                    for (var a = 0, s = t.getChildCount(); a < s; a++) {
                        var l = t.getChild(a);
                        if (l.type == CKEDITOR.NODE_ELEMENT && l.getName() in CKEDITOR.dtd.$list && CKEDITOR.plugins.list.listToArray(l, e, n, i + 1), "li" == l.$.nodeName.toLowerCase()) {
                            var c = {
                                parent: t,
                                indent: i,
                                element: l,
                                contents: []
                            };
                            o ? c.grandparent = o : (c.grandparent = t.getParent(), c.grandparent && "li" == c.grandparent.$.nodeName.toLowerCase() && (c.grandparent = c.grandparent.getParent())), e && CKEDITOR.dom.element.setMarker(e, l, "listarray_index", n.length), n.push(c);
                            for (var u = 0, d = l.getChildCount(), h; u < d; u++)
                                h = l.getChild(u), h.type == CKEDITOR.NODE_ELEMENT && r[h.getName()] ? CKEDITOR.plugins.list.listToArray(h, e, n, i + 1, c.grandparent) : c.contents.push(h)
                        }
                    }
                    return n
                },
                arrayToList: function(t, e, n, i, o) {
                    if (n || (n = 0), !t || t.length < n + 1)
                        return null;
                    for (var a, s = t[n].parent.getDocument(), l = new CKEDITOR.dom.documentFragment(s), d = null, h = n, f = Math.max(t[n].indent, 0), p = null, m, g, v = i == CKEDITOR.ENTER_P ? "p" : "div";;) {
                        var b = t[h];
                        if (a = b.grandparent, m = b.element.getDirection(1), b.indent == f) {
                            for (d && t[h].parent.getName() == d.getName() || (d = t[h].parent.clone(!1, 1), o && d.setAttribute("dir", o), l.append(d)), p = d.append(b.element.clone(0, 1)), m != d.getDirection(1) && p.setAttribute("dir", m), a = 0; a < b.contents.length; a++)
                                p.append(b.contents[a].clone(1, 1));
                            h++
                        } else if (b.indent == Math.max(f, 0) + 1)
                            b = t[h - 1].element.getDirection(1), h = CKEDITOR.plugins.list.arrayToList(t, null, h, i, b != m ? m : null), !p.getChildCount() && CKEDITOR.env.needsNbspFiller && 7 >= s.$.documentMode && p.append(s.createText("\xa0")), p.append(h.listNode), h = h.nextIndex;
                        else {
                            if (-1 != b.indent || n || !a)
                                return null;
                            r[a.getName()] ? (p = b.element.clone(!1, !0), m != a.getDirection(1) && p.setAttribute("dir", m)) : p = new CKEDITOR.dom.documentFragment(s);
                            var d = a.getDirection(1) != m,
                                E = b.element,
                                y = E.getAttribute("class"),
                                T = E.getAttribute("style"),
                                C = p.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && (i != CKEDITOR.ENTER_BR || d || T || y),
                                _,
                                D = b.contents.length,
                                I;
                            for (a = 0; a < D; a++)
                                if (_ = b.contents[a], c(_) && 1 < D)
                                    C ? I = _.clone(1, 1) : p.append(_.clone(1, 1));
                                else if (_.type == CKEDITOR.NODE_ELEMENT && _.isBlockBoundary()) {
                                    d && !_.getDirection() && _.setAttribute("dir", m), g = _;
                                    var O = E.getAttribute("style");
                                    O && g.setAttribute("style", O.replace(/([^;])$/, "$1;") + (g.getAttribute("style") || "")), y && _.addClass(y), g = null, I && (p.append(I), I = null), p.append(_.clone(1, 1))
                                } else
                                    C ? (g || (g = s.createElement(v), p.append(g), d && g.setAttribute("dir", m)), T && g.setAttribute("style", T), y && g.setAttribute("class", y), I && (g.append(I), I = null), g.append(_.clone(1, 1))) : p.append(_.clone(1, 1));
                            I && ((g || p).append(I), I = null), p.type == CKEDITOR.NODE_DOCUMENT_FRAGMENT && h != t.length - 1 && (CKEDITOR.env.needsBrFiller && (m = p.getLast()) && m.type == CKEDITOR.NODE_ELEMENT && m.is("br") && m.remove(), (m = p.getLast(u)) && m.type == CKEDITOR.NODE_ELEMENT && m.is(CKEDITOR.dtd.$block) || p.append(s.createElement("br"))), m = p.$.nodeName.toLowerCase(), "div" != m && "p" != m || p.appendBogus(), l.append(p), d = null, h++
                        }
                        if (g = null, t.length <= h || Math.max(t[h].indent, 0) < f)
                            break
                    }
                    if (e)
                        for (t = l.getFirst(); t;) {
                            if (t.type == CKEDITOR.NODE_ELEMENT && (CKEDITOR.dom.element.clearMarkers(e, t), t.getName() in CKEDITOR.dtd.$listItem && (n = t, s = o = i = void 0, i = n.getDirection()))) {
                                for (o = n.getParent(); o && !(s = o.getDirection());)
                                    o = o.getParent();
                                i == s && n.removeAttribute("dir")
                            }
                            t = t.getNextSourceNode()
                        }
                    return {
                        listNode: l,
                        nextIndex: h
                    }
                }
            };
            var h = /^h[1-6]$/,
                f = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_ELEMENT);
            e.prototype = {
                exec: function(e) {
                    this.refresh(e, e.elementPath());
                    var n = e.config,
                        o = e.getSelection(),
                        a = o && o.getRanges();
                    if (this.state == CKEDITOR.TRISTATE_OFF) {
                        var s = e.editable();
                        if (s.getFirst(u)) {
                            var l = 1 == a.length && a[0];
                            (n = l && l.getEnclosedNode()) && n.is && this.type == n.getName() && this.setState(CKEDITOR.TRISTATE_ON)
                        } else
                            n.enterMode == CKEDITOR.ENTER_BR ? s.appendBogus() : a[0].fixBlock(1, n.enterMode == CKEDITOR.ENTER_P ? "p" : "div"), o.selectRanges(a)
                    }
                    for (var n = o.createBookmarks(!0), s = [], c = {}, a = a.createIterator(), d = 0; (l = a.getNextRange()) && ++d;) {
                        var f = l.getBoundaryNodes(),
                            p = f.startNode,
                            m = f.endNode;
                        for (p.type == CKEDITOR.NODE_ELEMENT && "td" == p.getName() && l.setStartAt(f.startNode, CKEDITOR.POSITION_AFTER_START), m.type == CKEDITOR.NODE_ELEMENT && "td" == m.getName() && l.setEndAt(f.endNode, CKEDITOR.POSITION_BEFORE_END), l = l.createIterator(), l.forceBrBreak = this.state == CKEDITOR.TRISTATE_OFF; f = l.getNextParagraph();)
                            if (!f.getCustomData("list_block")) {
                                CKEDITOR.dom.element.setMarker(c, f, "list_block", 1);
                                for (var g = e.elementPath(f), p = g.elements, m = 0, g = g.blockLimit, v, b = p.length - 1; 0 <= b && (v = p[b]); b--)
                                    if (r[v.getName()] && g.contains(v)) {
                                        g.removeCustomData("list_group_object_" + d), (p = v.getCustomData("list_group_object")) ? p.contents.push(f) : (p = {
                                            root: v,
                                            contents: [f]
                                        }, s.push(p), CKEDITOR.dom.element.setMarker(c, v, "list_group_object", p)), m = 1;
                                        break
                                    }
                                m || (m = g, m.getCustomData("list_group_object_" + d) ? m.getCustomData("list_group_object_" + d).contents.push(f) : (p = {
                                    root: m,
                                    contents: [f]
                                }, CKEDITOR.dom.element.setMarker(c, m, "list_group_object_" + d, p), s.push(p)))
                            }
                    }
                    for (v = []; 0 < s.length;)
                        if (p = s.shift(), this.state == CKEDITOR.TRISTATE_OFF)
                            if (r[p.root.getName()]) {
                                for (a = e, d = p, p = c, l = v, m = CKEDITOR.plugins.list.listToArray(d.root, p), g = [], f = 0; f < d.contents.length; f++)
                                    b = d.contents[f], (b = b.getAscendant("li", !0)) && !b.getCustomData("list_item_processed") && (g.push(b), CKEDITOR.dom.element.setMarker(p, b, "list_item_processed", !0));
                                for (var b = d.root.getDocument(), E = void 0, y = void 0, f = 0; f < g.length; f++) {
                                    var T = g[f].getCustomData("listarray_index"),
                                        E = m[T].parent;
                                    E.is(this.type) || (y = b.createElement(this.type), E.copyAttributes(y, {
                                        start: 1,
                                        type: 1
                                    }), y.removeStyle("list-style-type"), m[T].parent = y)
                                }
                                for (p = CKEDITOR.plugins.list.arrayToList(m, p, null, a.config.enterMode), m = void 0, g = p.listNode.getChildCount(), f = 0; f < g && (m = p.listNode.getChild(f)); f++)
                                    m.getName() == this.type && l.push(m);
                                p.listNode.replace(d.root), a.fire("contentDomInvalidated")
                            } else {
                                for (m = e, l = p, f = v, g = l.contents, a = l.root.getDocument(), d = [], 1 == g.length && g[0].equals(l.root) && (p = a.createElement("div"), g[0].moveChildren && g[0].moveChildren(p), g[0].append(p), g[0] = p), l = l.contents[0].getParent(), b = 0; b < g.length; b++)
                                    l = l.getCommonAncestor(g[b].getParent());
                                for (E = m.config.useComputedState, m = p = void 0, E = void 0 === E || E, b = 0; b < g.length; b++)
                                    for (y = g[b]; T = y.getParent();) {
                                        if (T.equals(l)) {
                                            d.push(y), !m && y.getDirection() && (m = 1), y = y.getDirection(E), null !== p && (p = p && p != y ? null : y);
                                            break
                                        }
                                        y = T
                                    }
                                if (!(1 > d.length)) {
                                    for (g = d[d.length - 1].getNext(), b = a.createElement(this.type), f.push(b), E = f = void 0; d.length;)
                                        f = d.shift(), E = a.createElement("li"), y = f, y.is("pre") || h.test(y.getName()) || "false" == y.getAttribute("contenteditable") ? f.appendTo(E) : (f.copyAttributes(E), p && f.getDirection() && (E.removeStyle("direction"), E.removeAttribute("dir")), f.moveChildren(E), f.remove()), E.appendTo(b);
                                    p && m && b.setAttribute("dir", p), g ? b.insertBefore(g) : b.appendTo(l)
                                }
                            }
                        else
                            this.state == CKEDITOR.TRISTATE_ON && r[p.root.getName()] && t.call(this, e, p, c);
                    for (b = 0; b < v.length; b++)
                        i(v[b]);
                    CKEDITOR.dom.element.clearAllMarkers(c), o.selectBookmarks(n), e.focus()
                },
                refresh: function(t, e) {
                    var n = e.contains(r, 1),
                        i = e.blockLimit || e.root;
                    n && i.contains(n) ? this.setState(n.is(this.type) ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF) : this.setState(CKEDITOR.TRISTATE_OFF)
                }
            }, CKEDITOR.plugins.add("list", {
                requires: "indentlist",
                init: function(t) {
                    t.blockless || (t.addCommand("numberedlist", new e("numberedlist", "ol")), t.addCommand("bulletedlist", new e("bulletedlist", "ul")), t.ui.addButton && (t.ui.addButton("NumberedList", {
                        label: t.lang.list.numberedlist,
                        command: "numberedlist",
                        directional: !0,
                        toolbar: "list,10"
                    }), t.ui.addButton("BulletedList", {
                        label: t.lang.list.bulletedlist,
                        command: "bulletedlist",
                        directional: !0,
                        toolbar: "list,20"
                    })), t.on("key", function(e) {
                        var n = e.data.domEvent.getKey(),
                            i;
                        if ("wysiwyg" == t.mode && n in {
                            8: 1,
                            46: 1
                        }) {
                            var l = t.getSelection().getRanges()[0],
                                c = l && l.startPath();
                            if (l && l.collapsed) {
                                var h = 8 == n,
                                    f = t.editable(),
                                    p = new CKEDITOR.dom.walker(l.clone());
                                if (p.evaluator = function(t) {
                                    return u(t) && !d(t)
                                }, p.guard = function(t, e) {
                                    return !(e && t.type == CKEDITOR.NODE_ELEMENT && t.is("table"))
                                }, n = l.clone(), h) {
                                    var m;
                                    if ((m = c.contains(r)) && l.checkBoundaryOfElement(m, CKEDITOR.START) && (m = m.getParent()) && m.is("li") && (m = s(m)) ? (i = m, m = m.getPrevious(u), n.moveToPosition(m && d(m) ? m : i, CKEDITOR.POSITION_BEFORE_START)) : (p.range.setStartAt(f, CKEDITOR.POSITION_AFTER_START), p.range.setEnd(l.startContainer, l.startOffset), (m = p.previous()) && m.type == CKEDITOR.NODE_ELEMENT && (m.getName() in r || m.is("li")) && (m.is("li") || (p.range.selectNodeContents(m), p.reset(), p.evaluator = o, m = p.previous()), i = m, n.moveToElementEditEnd(i), n.moveToPosition(n.endPath().block, CKEDITOR.POSITION_BEFORE_END))), i)
                                        a(t, n, l), e.cancel();
                                    else {
                                        var g = c.contains(r);
                                        g && l.checkBoundaryOfElement(g, CKEDITOR.START) && (i = g.getFirst(u), l.checkBoundaryOfElement(i, CKEDITOR.START) && (m = g.getPrevious(u), s(i) ? m && (l.moveToElementEditEnd(m), l.select()) : t.execCommand("outdent"), e.cancel()))
                                    }
                                } else if (i = c.contains("li")) {
                                    if (p.range.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), h = (f = i.getLast(u)) && o(f) ? f : i, c = 0, (m = p.next()) && m.type == CKEDITOR.NODE_ELEMENT && m.getName() in r && m.equals(f) ? (c = 1, m = p.next()) : l.checkBoundaryOfElement(h, CKEDITOR.END) && (c = 2), c && m) {
                                        if (l = l.clone(), l.moveToElementEditStart(m), 1 == c && (n.optimize(), !n.startContainer.equals(i))) {
                                            for (i = n.startContainer; i.is(CKEDITOR.dtd.$inline);)
                                                g = i, i = i.getParent();
                                            g && n.moveToPosition(g, CKEDITOR.POSITION_AFTER_END)
                                        }
                                        2 == c && (n.moveToPosition(n.endPath().block, CKEDITOR.POSITION_BEFORE_END), l.endPath().block && l.moveToPosition(l.endPath().block, CKEDITOR.POSITION_AFTER_START)), a(t, n, l), e.cancel()
                                    }
                                } else
                                    p.range.setEndAt(f, CKEDITOR.POSITION_BEFORE_END), (m = p.next()) && m.type == CKEDITOR.NODE_ELEMENT && m.is(r) && (m = m.getFirst(u), c.block && l.checkStartOfBlock() && l.checkEndOfBlock() ? (c.block.remove(), l.moveToElementEditStart(m), l.select()) : s(m) ? (l.moveToElementEditStart(m), l.select()) : (l = l.clone(), l.moveToElementEditStart(m), a(t, n, l)), e.cancel());
                                setTimeout(function() {
                                    t.selectionChange(1)
                                })
                            }
                        }
                    }))
                }
            })
        }(), function() {
            CKEDITOR.plugins.liststyle = {
                requires: "dialog,contextmenu",
                init: function(t) {
                    if (!t.blockless) {
                        var e;
                        e = new CKEDITOR.dialogCommand("numberedListStyle", {
                            requiredContent: "ol",
                            allowedContent: "ol{list-style-type}[start]; li{list-style-type}[value]",
                            contentTransformations: [["ol: listTypeToStyle"]]
                        }), e = t.addCommand("numberedListStyle", e), t.addFeature(e), CKEDITOR.dialog.add("numberedListStyle", this.path + "dialogs/liststyle.js"), e = new CKEDITOR.dialogCommand("bulletedListStyle", {
                            requiredContent: "ul",
                            allowedContent: "ul{list-style-type}",
                            contentTransformations: [["ul: listTypeToStyle"]]
                        }), e = t.addCommand("bulletedListStyle", e), t.addFeature(e), CKEDITOR.dialog.add("bulletedListStyle", this.path + "dialogs/liststyle.js"), t.addMenuGroup("list", 108), t.addMenuItems({
                            numberedlist: {
                                label: t.lang.liststyle.numberedTitle,
                                group: "list",
                                command: "numberedListStyle"
                            },
                            bulletedlist: {
                                label: t.lang.liststyle.bulletedTitle,
                                group: "list",
                                command: "bulletedListStyle"
                            }
                        }), t.contextMenu.addListener(function(t) {
                            if (!t || t.isReadOnly())
                                return null;
                            for (; t;) {
                                var e = t.getName();
                                if ("ol" == e)
                                    return {
                                        numberedlist: CKEDITOR.TRISTATE_OFF
                                    };
                                if ("ul" == e)
                                    return {
                                        bulletedlist: CKEDITOR.TRISTATE_OFF
                                    };
                                t = t.getParent()
                            }
                            return null
                        })
                    }
                }
            }, CKEDITOR.plugins.add("liststyle", CKEDITOR.plugins.liststyle)
        }(), function() {
            function t(t, e, n) {
                return d(e) && d(n) && n.equals(e.getNext(function(t) {
                        return !(Y(t) || X(t) || h(t))
                    }))
            }
            function e(t) {
                this.upper = t[0], this.lower = t[1], this.set.apply(this, t.slice(2))
            }
            function n(t) {
                var e = t.element;
                if (e && d(e) && (e = e.getAscendant(t.triggers, !0)) && t.editable.contains(e)) {
                    var n = s(e);
                    if ("true" == n.getAttribute("contenteditable"))
                        return e;
                    if (n.is(t.triggers))
                        return n
                }
                return null
            }
            function i(t, e, n) {
                return y(t, e), y(t, n), t = e.size.bottom, n = n.size.top, t && n ? 0 | (t + n) / 2 : t || n
            }
            function o(t, e, n) {
                return e = e[n ? "getPrevious" : "getNext"](function(e) {
                    return e && e.type == CKEDITOR.NODE_TEXT && !Y(e) || d(e) && !h(e) && !u(t, e)
                })
            }
            function a(t, e, n) {
                return t > e && t < n
            }
            function s(t, e) {
                if (t.data("cke-editable"))
                    return null;
                for (e || (t = t.getParent()); t && !t.data("cke-editable");) {
                    if (t.hasAttribute("contenteditable"))
                        return t;
                    t = t.getParent()
                }
                return null
            }
            function r(t) {
                var e = t.doc,
                    n = O('<span contenteditable="false" style="' + W + "position:absolute;border-top:1px dashed " + t.boxColor + '"></span>', e),
                    i = CKEDITOR.getUrl(this.path + "images/" + (R.hidpi ? "hidpi/" : "") + "icon" + (t.rtl ? "-rtl" : "") + ".png");
                for (D(n, {
                    attach: function() {
                        return this.wrap.getParent() || this.wrap.appendTo(t.editable, !0), this
                    },
                    lineChildren: [D(O('<span title="' + t.editor.lang.magicline.title + '" contenteditable="false">&#8629;</span>', e), {
                        base: W + "height:17px;width:17px;" + (t.rtl ? "left" : "right") + ":17px;background:url(" + i + ") center no-repeat " + t.boxColor + ";cursor:pointer;" + (R.hc ? "font-size: 15px;line-height:14px;border:1px solid #fff;text-align:center;" : "") + (R.hidpi ? "background-size: 9px 10px;" : ""),
                        looks: ["top:-8px; border-radius: 2px;", "top:-17px; border-radius: 2px 2px 0px 0px;", "top:-1px; border-radius: 0px 0px 2px 2px;"]
                    }), D(O(V, e), {
                        base: q + "left:0px;border-left-color:" + t.boxColor + ";",
                        looks: ["border-width:8px 0 8px 8px;top:-8px", "border-width:8px 0 0 8px;top:-8px", "border-width:0 0 8px 8px;top:0px"]
                    }), D(O(V, e), {
                        base: q + "right:0px;border-right-color:" + t.boxColor + ";",
                        looks: ["border-width:8px 8px 8px 0;top:-8px", "border-width:8px 8px 0 0;top:-8px", "border-width:0 8px 8px 0;top:0px"]
                    })],
                    detach: function() {
                        return this.wrap.getParent() && this.wrap.remove(), this
                    },
                    mouseNear: function() {
                        y(t, this);
                        var e = t.holdDistance,
                            n = this.size;
                        return !!(n && a(t.mouse.y, n.top - e, n.bottom + e) && a(t.mouse.x, n.left - e, n.right + e))
                    },
                    place: function() {
                        var e = t.view,
                            n = t.editable,
                            i = t.trigger,
                            o = i.upper,
                            s = i.lower,
                            r = o || s,
                            l = r.getParent(),
                            c = {};
                        this.trigger = i, o && y(t, o, !0), s && y(t, s, !0), y(t, l, !0), t.inInlineMode && T(t, !0), l.equals(n) ? (c.left = e.scroll.x, c.right = -e.scroll.x, c.width = "") : (c.left = r.size.left - r.size.margin.left + e.scroll.x - (t.inInlineMode ? e.editable.left + e.editable.border.left : 0), c.width = r.size.outerWidth + r.size.margin.left + r.size.margin.right + e.scroll.x, c.right = ""), o && s ? c.top = o.size.margin.bottom === s.size.margin.top ? 0 | o.size.bottom + o.size.margin.bottom / 2 : o.size.margin.bottom < s.size.margin.top ? o.size.bottom + o.size.margin.bottom : o.size.bottom + o.size.margin.bottom - s.size.margin.top : o ? s || (c.top = o.size.bottom + o.size.margin.bottom) : c.top = s.size.top - s.size.margin.top, i.is(F) || a(c.top, e.scroll.y - 15, e.scroll.y + 5) ? (c.top = t.inInlineMode ? 0 : e.scroll.y, this.look(F)) : i.is(P) || a(c.top, e.pane.bottom - 5, e.pane.bottom + 15) ? (c.top = t.inInlineMode ? e.editable.height + e.editable.padding.top + e.editable.padding.bottom : e.pane.bottom - 1, this.look(P)) : (t.inInlineMode && (c.top -= e.editable.top + e.editable.border.top), this.look(L)), t.inInlineMode && (c.top--, c.top += e.editable.scroll.top, c.left += e.editable.scroll.left);
                        for (var u in c)
                            c[u] = CKEDITOR.tools.cssLength(c[u]);
                        this.setStyles(c)
                    },
                    look: function(t) {
                        if (this.oldLook != t) {
                            for (var e = this.lineChildren.length, n; e--;)
                                (n = this.lineChildren[e]).setAttribute("style", n.base + n.looks[0 | t / 2]);
                            this.oldLook = t
                        }
                    },
                    wrap: new I("span", t.doc)
                }), e = n.lineChildren.length; e--;)
                    n.lineChildren[e].appendTo(n);
                n.look(L), n.appendTo(n.wrap), n.unselectable(), n.lineChildren[0].on("mouseup", function(e) {
                    n.detach(), l(t, function(e) {
                        var n = t.line.trigger;
                        e[n.is(S) ? "insertBefore" : "insertAfter"](n.is(S) ? n.lower : n.upper)
                    }, !0), t.editor.focus(), R.ie || t.enterMode == CKEDITOR.ENTER_BR || t.hotNode.scrollIntoView(), e.data.preventDefault(!0)
                }), n.on("mousedown", function(t) {
                    t.data.preventDefault(!0)
                }), t.line = n
            }
            function l(t, e, n) {
                var i = new CKEDITOR.dom.range(t.doc),
                    o = t.editor,
                    a;
                R.ie && t.enterMode == CKEDITOR.ENTER_BR ? a = t.doc.createText($) : (a = (a = s(t.element, !0)) && a.data("cke-enter-mode") || t.enterMode, a = new I(x[a], t.doc), a.is("br") || t.doc.createText($).appendTo(a)), n && o.fire("saveSnapshot"), e(a), i.moveToPosition(a, CKEDITOR.POSITION_AFTER_START), o.getSelection().selectRanges([i]), t.hotNode = a, n && o.fire("saveSnapshot")
            }
            function c(t, e) {
                return {
                    canUndo: !0,
                    modes: {
                        wysiwyg: 1
                    },
                    exec: function() {
                        function i(n) {
                            var i = R.ie && 9 > R.version ? " " : $,
                                o = t.hotNode && t.hotNode.getText() == i && t.element.equals(t.hotNode) && t.lastCmdDirection === !!e;
                            l(t, function(i) {
                                o && t.hotNode && t.hotNode.remove(), i[e ? "insertAfter" : "insertBefore"](n), i.setAttributes({
                                    "data-cke-magicline-hot": 1,
                                    "data-cke-magicline-dir": !!e
                                }), t.lastCmdDirection = !!e
                            }), R.ie || t.enterMode == CKEDITOR.ENTER_BR || t.hotNode.scrollIntoView(), t.line.detach()
                        }
                        return function(a) {
                            a = a.getSelection().getStartElement();
                            var r;
                            if (a = a.getAscendant(z, 1), !m(t, a) && a && !a.equals(t.editable) && !a.contains(t.editable)) {
                                (r = s(a)) && "false" == r.getAttribute("contenteditable") && (a = r), t.element = a, r = o(t, a, !e);
                                var l;
                                d(r) && r.is(t.triggers) && r.is(H) && (!o(t, r, !e) || (l = o(t, r, !e)) && d(l) && l.is(t.triggers)) ? i(r) : (l = n(t, a), d(l) && (o(t, l, !e) ? (a = o(t, l, !e)) && d(a) && a.is(t.triggers) && i(l) : i(l)))
                            }
                        }
                    }()
                }
            }
            function u(t, e) {
                if (!e || e.type != CKEDITOR.NODE_ELEMENT || !e.$)
                    return !1;
                var n = t.line;
                return n.wrap.equals(e) || n.wrap.contains(e)
            }
            function d(t) {
                return t && t.type == CKEDITOR.NODE_ELEMENT && t.$
            }
            function h(t) {
                if (!d(t))
                    return !1;
                var e;
                return (e = f(t)) || (d(t) ? (e = {
                    left: 1,
                    right: 1,
                    center: 1
                }, e = !(!e[t.getComputedStyle("float")] && !e[t.getAttribute("align")])) : e = !1), e
            }
            function f(t) {
                return !!{
                    absolute: 1,
                    fixed: 1
                }[t.getComputedStyle("position")]
            }
            function p(t, e) {
                return d(e) ? e.is(t.triggers) : null
            }
            function m(t, e) {
                if (!e)
                    return !1;
                for (var n = e.getParents(1), i = n.length; i--;)
                    for (var o = t.tabuList.length; o--;)
                        if (n[i].hasAttribute(t.tabuList[o]))
                            return !0;
                return !1
            }
            function g(t, e, n) {
                return !!(e = e[n ? "getLast" : "getFirst"](function(e) {
                        return t.isRelevant(e) && !e.is(B)
                    })) && (y(t, e), n ? e.size.top > t.mouse.y : e.size.bottom < t.mouse.y)
            }
            function v(t) {
                var n = t.editable,
                    i = t.mouse,
                    o = t.view,
                    s = t.triggerOffset;
                T(t);
                var r = i.y > (t.inInlineMode ? o.editable.top + o.editable.height / 2 : Math.min(o.editable.height, o.pane.height) / 2),
                    n = n[r ? "getLast" : "getFirst"](function(t) {
                        return !(Y(t) || X(t))
                    });
                return n ? (u(t, n) && (n = t.line.wrap[r ? "getPrevious" : "getNext"](function(t) {
                    return !(Y(t) || X(t))
                })), d(n) && !h(n) && p(t, n) ? (y(t, n), !r && 0 <= n.size.top && a(i.y, 0, n.size.top + s) ? (t = t.inInlineMode || 0 === o.scroll.y ? F : L, new e([null, n, S, A, t])) : r && n.size.bottom <= o.pane.height && a(i.y, n.size.bottom - s, o.pane.height) ? (t = t.inInlineMode || a(n.size.bottom, o.pane.height - s, o.pane.height) ? P : L, new e([n, null, K, A, t])) : null) : null) : null
            }
            function b(t) {
                var i = t.mouse,
                    s = t.view,
                    r = t.triggerOffset,
                    l = n(t);
                if (!l)
                    return null;
                y(t, l);
                var r = Math.min(r, 0 | l.size.outerHeight / 2),
                    c = [],
                    u,
                    f;
                if (a(i.y, l.size.top - 1, l.size.top + r))
                    f = !1;
                else {
                    if (!a(i.y, l.size.bottom - r, l.size.bottom + 1))
                        return null;
                    f = !0
                }
                if (h(l) || g(t, l, f) || l.getParent().is(M))
                    return null;
                var m = o(t, l, !f);
                if (m) {
                    if (m && m.type == CKEDITOR.NODE_TEXT)
                        return null;
                    if (d(m)) {
                        if (h(m) || !p(t, m) || m.getParent().is(M))
                            return null;
                        c = [m, l][f ? "reverse" : "concat"]().concat([N, A])
                    }
                } else
                    l.equals(t.editable[f ? "getLast" : "getFirst"](t.isRelevant)) ? (T(t), f && a(i.y, l.size.bottom - r, s.pane.height) && a(l.size.bottom, s.pane.height - r, s.pane.height) ? u = P : a(i.y, 0, l.size.top + r) && (u = F)) : u = L, c = [null, l][f ? "reverse" : "concat"]().concat([f ? K : S, A, u, l.equals(t.editable[f ? "getLast" : "getFirst"](t.isRelevant)) ? f ? P : F : L]);
                return 0 in c ? new e(c) : null
            }
            function E(t, e, n, i) {
                for (var o = e.getDocumentPosition(), a = {}, s = {}, r = {}, l = {}, c = Z.length; c--;)
                    a[Z[c]] = parseInt(e.getComputedStyle.call(e, "border-" + Z[c] + "-width"), 10) || 0, r[Z[c]] = parseInt(e.getComputedStyle.call(e, "padding-" + Z[c]), 10) || 0, s[Z[c]] = parseInt(e.getComputedStyle.call(e, "margin-" + Z[c]), 10) || 0;
                return n && !i || C(t, i), l.top = o.y - (n ? 0 : t.view.scroll.y), l.left = o.x - (n ? 0 : t.view.scroll.x), l.outerWidth = e.$.offsetWidth, l.outerHeight = e.$.offsetHeight, l.height = l.outerHeight - (r.top + r.bottom + a.top + a.bottom), l.width = l.outerWidth - (r.left + r.right + a.left + a.right), l.bottom = l.top + l.outerHeight, l.right = l.left + l.outerWidth, t.inInlineMode && (l.scroll = {
                    top: e.$.scrollTop,
                    left: e.$.scrollLeft
                }), D({
                    border: a,
                    padding: r,
                    margin: s,
                    ignoreScroll: n
                }, l, !0)
            }
            function y(t, e, n) {
                if (!d(e))
                    return e.size = null;
                if (e.size) {
                    if (e.size.ignoreScroll == n && e.size.date > new Date - j)
                        return null
                } else
                    e.size = {};
                return D(e.size, E(t, e, n), {
                    date: +new Date
                }, !0)
            }
            function T(t, e) {
                t.view.editable = E(t, t.editable, e, !0)
            }
            function C(t, e) {
                t.view || (t.view = {});
                var n = t.view;
                if (!(!e && n && n.date > new Date - j)) {
                    var i = t.win,
                        n = i.getScrollPosition(),
                        i = i.getViewPaneSize();
                    D(t.view, {
                        scroll: {
                            x: n.x,
                            y: n.y,
                            width: t.doc.$.documentElement.scrollWidth - i.width,
                            height: t.doc.$.documentElement.scrollHeight - i.height
                        },
                        pane: {
                            width: i.width,
                            height: i.height,
                            bottom: i.height + n.y
                        },
                        date: +new Date
                    }, !0)
                }
            }
            function _(t, n, i, o) {
                for (var a = o, s = o, r = 0, l = !1, c = !1, u = t.view.pane.height, d = t.mouse; d.y + r < u && 0 < d.y - r && (l || (l = n(a, o)), c || (c = n(s, o)), !l && 0 < d.y - r && (a = i(t, {
                    x: d.x,
                    y: d.y - r
                })), !c && d.y + r < u && (s = i(t, {
                    x: d.x,
                    y: d.y + r
                })), !l || !c);)
                    r += 2;
                return new e([a, s, null, null])
            }
            CKEDITOR.plugins.add("magicline", {
                init: function(t) {
                    var i = t.config,
                        a = i.magicline_triggerOffset || 30,
                        s = {
                            editor: t,
                            enterMode: i.enterMode,
                            triggerOffset: a,
                            holdDistance: 0 | a * (i.magicline_holdDistance || .5),
                            boxColor: i.magicline_color || "#ff0000",
                            rtl: "rtl" == i.contentsLangDirection,
                            tabuList: ["data-cke-hidden-sel"].concat(i.magicline_tabuList || []),
                            triggers: i.magicline_everywhere ? z : {
                                table: 1,
                                hr: 1,
                                div: 1,
                                ul: 1,
                                ol: 1,
                                dl: 1,
                                form: 1,
                                blockquote: 1
                            }
                        },
                        p,
                        g,
                        y;
                    s.isRelevant = function(t) {
                        return d(t) && !u(s, t) && !h(t)
                    }, t.on("contentDom", function() {
                        var a = t.editable(),
                            d = t.document,
                            h = t.window;
                        D(s, {
                            editable: a,
                            inInlineMode: a.isInline(),
                            doc: d,
                            win: h,
                            hotNode: null
                        }, !0), s.boundary = s.inInlineMode ? s.editable : s.doc.getDocumentElement(), a.is(w.$inline) || (s.inInlineMode && !f(a) && a.setStyles({
                            position: "relative",
                            top: null,
                            left: null
                        }), r.call(this, s), C(s), a.attachListener(t, "beforeUndoImage", function() {
                            s.line.detach()
                        }), a.attachListener(t, "beforeGetData", function() {
                            s.line.wrap.getParent() && (s.line.detach(), t.once("getData", function() {
                                s.line.attach()
                            }, null, null, 1e3))
                        }, null, null, 0), a.attachListener(s.inInlineMode ? d : d.getWindow().getFrame(), "mouseout", function(e) {
                            if ("wysiwyg" == t.mode)
                                if (s.inInlineMode) {
                                    var n = e.data.$.clientX;
                                    e = e.data.$.clientY, C(s), T(s, !0);
                                    var i = s.view.editable,
                                        o = s.view.scroll;
                                    n > i.left - o.x && n < i.right - o.x && e > i.top - o.y && e < i.bottom - o.y || (clearTimeout(y), y = null, s.line.detach())
                                } else
                                    clearTimeout(y), y = null, s.line.detach()
                        }), a.attachListener(a, "keyup", function() {
                            s.hiddenMode = 0
                        }), a.attachListener(a, "keydown", function(e) {
                            if ("wysiwyg" == t.mode)
                                switch (e.data.getKeystroke()) {
                                case 2228240:
                                case 16:
                                    s.hiddenMode = 1, s.line.detach()
                                }
                        }), a.attachListener(s.inInlineMode ? a : d, "mousemove", function(e) {
                            if (g = !0, "wysiwyg" == t.mode && !t.readOnly && !y) {
                                var n = {
                                    x: e.data.$.clientX,
                                    y: e.data.$.clientY
                                };
                                y = setTimeout(function() {
                                    s.mouse = n, y = s.trigger = null, C(s), g && !s.hiddenMode && t.focusManager.hasFocus && !s.line.mouseNear() && (s.element = U(s, !0)) && ((s.trigger = v(s) || b(s) || G(s)) && !m(s, s.trigger.upper || s.trigger.lower) ? s.line.attach().place() : (s.trigger = null, s.line.detach()), g = !1)
                                }, 30)
                            }
                        }), a.attachListener(h, "scroll", function() {
                            "wysiwyg" == t.mode && (s.line.detach(), R.webkit && (s.hiddenMode = 1, clearTimeout(p), p = setTimeout(function() {
                                s.mouseDown || (s.hiddenMode = 0)
                            }, 50)))
                        }), a.attachListener(k ? d : h, "mousedown", function() {
                            "wysiwyg" == t.mode && (s.line.detach(), s.hiddenMode = 1, s.mouseDown = 1)
                        }), a.attachListener(k ? d : h, "mouseup", function() {
                            s.hiddenMode = 0, s.mouseDown = 0
                        }), t.addCommand("accessPreviousSpace", c(s)), t.addCommand("accessNextSpace", c(s, !0)), t.setKeystroke([[i.magicline_keystrokePrevious, "accessPreviousSpace"], [i.magicline_keystrokeNext, "accessNextSpace"]]), t.on("loadSnapshot", function() {
                            var e,
                                n,
                                i,
                                o;
                            for (o in {
                                p: 1,
                                br: 1,
                                div: 1
                            })
                                for (e = t.document.getElementsByTag(o), i = e.count(); i--;)
                                    if ((n = e.getItem(i)).data("cke-magicline-hot"))
                                        return s.hotNode = n, void (s.lastCmdDirection = "true" === n.data("cke-magicline-dir"))
                        }), this.backdoor = {
                            accessFocusSpace: l,
                            boxTrigger: e,
                            isLine: u,
                            getAscendantTrigger: n,
                            getNonEmptyNeighbour: o,
                            getSize: E,
                            that: s,
                            triggerEdge: b,
                            triggerEditable: v,
                            triggerExpand: G
                        })
                    }, this)
                }
            });
            var D = CKEDITOR.tools.extend,
                I = CKEDITOR.dom.element,
                O = I.createFromHtml,
                R = CKEDITOR.env,
                k = CKEDITOR.env.ie && 9 > CKEDITOR.env.version,
                w = CKEDITOR.dtd,
                x = {},
                S = 128,
                K = 64,
                N = 32,
                A = 16,
                F = 4,
                P = 2,
                L = 1,
                $ = "\xa0",
                M = w.$listItem,
                B = w.$tableContent,
                H = D({}, w.$nonEditable, w.$empty),
                z = w.$block,
                j = 100,
                W = "width:0px;height:0px;padding:0px;margin:0px;display:block;z-index:9999;color:#fff;position:absolute;font-size: 0px;line-height:0px;",
                q = W + "border-color:transparent;display:block;border-style:solid;",
                V = "<span>" + $ + "</span>";
            x[CKEDITOR.ENTER_BR] = "br", x[CKEDITOR.ENTER_P] = "p", x[CKEDITOR.ENTER_DIV] = "div", e.prototype = {
                set: function(t, e, n) {
                    return this.properties = t + e + (n || L), this
                },
                is: function(t) {
                    return (this.properties & t) == t
                }
            };
            var U = function() {
                    function t(t, e) {
                        var n = t.$.elementFromPoint(e.x, e.y);
                        return n && n.nodeType ? new CKEDITOR.dom.element(n) : null
                    }
                    return function(e, n, i) {
                        if (!e.mouse)
                            return null;
                        var o = e.doc,
                            a = e.line.wrap;
                        i = i || e.mouse;
                        var s = t(o, i);
                        return n && u(e, s) && (a.hide(), s = t(o, i), a.show()), !s || s.type != CKEDITOR.NODE_ELEMENT || !s.$ || R.ie && 9 > R.version && !e.boundary.equals(s) && !e.boundary.contains(s) ? null : s
                    }
                }(),
                Y = CKEDITOR.dom.walker.whitespaces(),
                X = CKEDITOR.dom.walker.nodeType(CKEDITOR.NODE_COMMENT),
                G = function() {
                    function e(e) {
                        var o = e.element,
                            s,
                            r,
                            l;
                        if (!d(o) || o.contains(e.editable) || o.isReadOnly())
                            return null;
                        if (l = _(e, function(t, e) {
                            return !e.equals(t)
                        }, function(t, e) {
                            return U(t, !0, e)
                        }, o), s = l.upper, r = l.lower, t(e, s, r))
                            return l.set(N, 8);
                        if (s && o.contains(s))
                            for (; !s.getParent().equals(o);)
                                s = s.getParent();
                        else
                            s = o.getFirst(function(t) {
                                return n(e, t)
                            });
                        if (r && o.contains(r))
                            for (; !r.getParent().equals(o);)
                                r = r.getParent();
                        else
                            r = o.getLast(function(t) {
                                return n(e, t)
                            });
                        if (!s || !r)
                            return null;
                        if (y(e, s), y(e, r), !a(e.mouse.y, s.size.top, r.size.bottom))
                            return null;
                        for (var o = Number.MAX_VALUE, c, u, h, f; r && !r.equals(s) && (u = s.getNext(e.isRelevant));)
                            c = Math.abs(i(e, s, u) - e.mouse.y), c < o && (o = c, h = s, f = u), s = u, y(e, s);
                        return h && f && a(e.mouse.y, h.size.top, f.size.bottom) ? (l.upper = h, l.lower = f, l.set(N, 8)) : null
                    }
                    function n(t, e) {
                        return !(e && e.type == CKEDITOR.NODE_TEXT || X(e) || h(e) || u(t, e) || e.type == CKEDITOR.NODE_ELEMENT && e.$ && e.is("br"))
                    }
                    return function(n) {
                        var i = e(n),
                            o;
                        if (o = i) {
                            o = i.upper;
                            var a = i.lower;
                            o = !(!o || !a || h(a) || h(o) || a.equals(o) || o.equals(a) || a.contains(o) || o.contains(a)) && !!(p(n, o) && p(n, a) && t(n, o, a))
                        }
                        return o ? i : null
                    }
                }(),
                Z = ["top", "left", "right", "bottom"]
        }(), CKEDITOR.config.magicline_keystrokePrevious = CKEDITOR.CTRL + CKEDITOR.SHIFT + 51, CKEDITOR.config.magicline_keystrokeNext = CKEDITOR.CTRL + CKEDITOR.SHIFT + 52, function() {
            function t(t) {
                if (!t || t.type != CKEDITOR.NODE_ELEMENT || "form" != t.getName())
                    return [];
                for (var e = [], n = ["style", "className"], i = 0; i < n.length; i++) {
                    var o = t.$.elements.namedItem(n[i]);
                    o && (o = new CKEDITOR.dom.element(o), e.push([o, o.nextSibling]), o.remove())
                }
                return e
            }
            function e(t, e) {
                if (t && t.type == CKEDITOR.NODE_ELEMENT && "form" == t.getName() && 0 < e.length)
                    for (var n = e.length - 1; 0 <= n; n--) {
                        var i = e[n][0],
                            o = e[n][1];
                        o ? i.insertBefore(o) : i.appendTo(t)
                    }
            }
            function n(n, i) {
                var o = t(n),
                    a = {},
                    s = n.$;
                return i || (a["class"] = s.className || "", s.className = ""), a.inline = s.style.cssText || "", i || (s.style.cssText = "position: static; overflow: visible"), e(o), a
            }
            function i(n, i) {
                var o = t(n),
                    a = n.$;
                "class" in i && (a.className = i["class"]), "inline" in i && (a.style.cssText = i.inline), e(o)
            }
            function o(t) {
                if (!t.editable().isInline()) {
                    var e = CKEDITOR.instances,
                        n;
                    for (n in e) {
                        var i = e[n];
                        "wysiwyg" != i.mode || i.readOnly || (i = i.document.getBody(), i.setAttribute("contentEditable", !1), i.setAttribute("contentEditable", !0))
                    }
                    t.editable().hasFocus && (t.toolbox.focus(), t.focus())
                }
            }
            CKEDITOR.plugins.add("maximize", {
                init: function(t) {
                    function e() {
                        var e = r.getViewPaneSize();
                        t.resize(e.width, e.height, null, !0)
                    }
                    if (t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                        var a = t.lang,
                            s = CKEDITOR.document,
                            r = s.getWindow(),
                            l,
                            c,
                            u,
                            d = CKEDITOR.TRISTATE_OFF;
                        t.addCommand("maximize", {
                            modes: {
                                wysiwyg: !CKEDITOR.env.iOS,
                                source: !CKEDITOR.env.iOS
                            },
                            readOnly: 1,
                            editorFocus: !1,
                            exec: function() {
                                var h = t.container.getFirst(function(t) {
                                        return t.type == CKEDITOR.NODE_ELEMENT && t.hasClass("cke_inner")
                                    }),
                                    f = t.ui.space("contents");
                                if ("wysiwyg" == t.mode) {
                                    var p = t.getSelection();
                                    l = p && p.getRanges(), c = r.getScrollPosition()
                                } else {
                                    var m = t.editable().$;
                                    l = !CKEDITOR.env.ie && [m.selectionStart, m.selectionEnd], c = [m.scrollLeft, m.scrollTop]
                                }
                                if (this.state == CKEDITOR.TRISTATE_OFF) {
                                    for (r.on("resize", e), u = r.getScrollPosition(), p = t.container; p = p.getParent();)
                                        p.setCustomData("maximize_saved_styles", n(p)), p.setStyle("z-index", t.config.baseFloatZIndex - 5);
                                    f.setCustomData("maximize_saved_styles", n(f, !0)), h.setCustomData("maximize_saved_styles", n(h, !0)), f = {
                                        overflow: CKEDITOR.env.webkit ? "" : "hidden",
                                        width: 0,
                                        height: 0
                                    }, s.getDocumentElement().setStyles(f), !CKEDITOR.env.gecko && s.getDocumentElement().setStyle("position", "fixed"), CKEDITOR.env.gecko && CKEDITOR.env.quirks || s.getBody().setStyles(f), CKEDITOR.env.ie ? setTimeout(function() {
                                        r.$.scrollTo(0, 0)
                                    }, 0) : r.$.scrollTo(0, 0), h.setStyle("position", CKEDITOR.env.gecko && CKEDITOR.env.quirks ? "fixed" : "absolute"), h.$.offsetLeft, h.setStyles({
                                        "z-index": t.config.baseFloatZIndex - 5,
                                        left: "0px",
                                        top: "0px"
                                    }), h.addClass("cke_maximized"), e(), f = h.getDocumentPosition(), h.setStyles({
                                        left: -1 * f.x + "px",
                                        top: -1 * f.y + "px"
                                    }), CKEDITOR.env.gecko && o(t)
                                } else if (this.state == CKEDITOR.TRISTATE_ON) {
                                    r.removeListener("resize", e);
                                    for (var p = [f, h], g = 0; g < p.length; g++)
                                        i(p[g], p[g].getCustomData("maximize_saved_styles")), p[g].removeCustomData("maximize_saved_styles");
                                    for (p = t.container; p = p.getParent();)
                                        i(p, p.getCustomData("maximize_saved_styles")), p.removeCustomData("maximize_saved_styles");
                                    CKEDITOR.env.ie ? setTimeout(function() {
                                        r.$.scrollTo(u.x, u.y)
                                    }, 0) : r.$.scrollTo(u.x, u.y), h.removeClass("cke_maximized"), CKEDITOR.env.webkit && (h.setStyle("display", "inline"), setTimeout(function() {
                                        h.setStyle("display", "block")
                                    }, 0)), t.fire("resize", {
                                        outerHeight: t.container.$.offsetHeight,
                                        contentsHeight: f.$.offsetHeight,
                                        outerWidth: t.container.$.offsetWidth
                                    })
                                }
                                this.toggleState(), (p = this.uiItems[0]) && (f = this.state == CKEDITOR.TRISTATE_OFF ? a.maximize.maximize : a.maximize.minimize, p = CKEDITOR.document.getById(p._.id), p.getChild(1).setHtml(f), p.setAttribute("title", f), p.setAttribute("href", 'javascript:void("' + f + '");')), "wysiwyg" == t.mode ? l ? (CKEDITOR.env.gecko && o(t), t.getSelection().selectRanges(l), (m = t.getSelection().getStartElement()) && m.scrollIntoView(!0)) : r.$.scrollTo(c.x, c.y) : (l && (m.selectionStart = l[0], m.selectionEnd = l[1]), m.scrollLeft = c[0], m.scrollTop = c[1]), l = c = null, d = this.state, t.fire("maximize", this.state)
                            },
                            canUndo: !1
                        }), t.ui.addButton && t.ui.addButton("Maximize", {
                            label: a.maximize.maximize,
                            command: "maximize",
                            toolbar: "tools,10"
                        }), t.on("mode", function() {
                            var e = t.getCommand("maximize");
                            e.setState(e.state == CKEDITOR.TRISTATE_DISABLED ? CKEDITOR.TRISTATE_DISABLED : d)
                        }, null, null, 100)
                    }
                }
            })
        }(), CKEDITOR.plugins.add("newpage", {
            init: function(t) {
                t.addCommand("newpage", {
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    },
                    exec: function(t) {
                        var e = this;
                        t.setData(t.config.newpage_html || "", function() {
                            t.focus(), setTimeout(function() {
                                t.fire("afterCommandExec", {
                                    name: "newpage",
                                    command: e
                                }), t.selectionChange()
                            }, 200)
                        })
                    },
                    async: !0
                }), t.ui.addButton && t.ui.addButton("NewPage", {
                    label: t.lang.newpage.toolbar,
                    command: "newpage",
                    toolbar: "document,20"
                })
            }
        }), function() {
            function t(t) {
                return {
                    "aria-label": t,
                    "class": "cke_pagebreak",
                    contenteditable: "false",
                    "data-cke-display-name": "pagebreak",
                    "data-cke-pagebreak": 1,
                    style: "page-break-after: always",
                    title: t
                }
            }
            CKEDITOR.plugins.add("pagebreak", {
                requires: "fakeobjects",
                onLoad: function() {
                    var t = ("background:url(" + CKEDITOR.getUrl(this.path + "images/pagebreak.gif") + ") no-repeat center center;clear:both;width:100%;border-top:#999 1px dotted;border-bottom:#999 1px dotted;padding:0;height:7px;cursor:default;").replace(/;/g, " !important;");
                    CKEDITOR.addCss("div.cke_pagebreak{" + t + "}")
                },
                init: function(t) {
                    t.blockless || (t.addCommand("pagebreak", CKEDITOR.plugins.pagebreakCmd), t.ui.addButton && t.ui.addButton("PageBreak", {
                        label: t.lang.pagebreak.toolbar,
                        command: "pagebreak",
                        toolbar: "insert,70"
                    }), CKEDITOR.env.webkit && t.on("contentDom", function() {
                        t.document.on("click", function(e) {
                            e = e.data.getTarget(), e.is("div") && e.hasClass("cke_pagebreak") && t.getSelection().selectElement(e)
                        })
                    }))
                },
                afterInit: function(e) {
                    function n(n) {
                        CKEDITOR.tools.extend(n.attributes, t(e.lang.pagebreak.alt), !0), n.children.length = 0
                    }
                    var i = e.dataProcessor,
                        o = i && i.dataFilter,
                        i = i && i.htmlFilter,
                        a = /page-break-after\s*:\s*always/i,
                        s = /display\s*:\s*none/i;
                    i && i.addRules({
                        attributes: {
                            "class": function(t, e) {
                                var n = t.replace("cke_pagebreak", "");
                                if (n != t) {
                                    var i = CKEDITOR.htmlParser.fragment.fromHtml('<span style="display: none;">&nbsp;</span>').children[0];
                                    e.children.length = 0, e.add(i), i = e.attributes, delete i["aria-label"], delete i.contenteditable, delete i.title
                                }
                                return n
                            }
                        }
                    }, {
                        applyToAll: !0,
                        priority: 5
                    }), o && o.addRules({
                        elements: {
                            div: function(t) {
                                if (t.attributes["data-cke-pagebreak"])
                                    n(t);
                                else if (a.test(t.attributes.style)) {
                                    var e = t.children[0];
                                    e && "span" == e.name && s.test(e.attributes.style) && n(t)
                                }
                            }
                        }
                    })
                }
            }), CKEDITOR.plugins.pagebreakCmd = {
                exec: function(e) {
                    var n = e.document.createElement("div", {
                        attributes: t(e.lang.pagebreak.alt)
                    });
                    e.insertElement(n)
                },
                context: "div",
                allowedContent: {
                    div: {
                        styles: "!page-break-after"
                    },
                    span: {
                        match: function(t) {
                            return (t = t.parent) && "div" == t.name && t.styles && t.styles["page-break-after"]
                        },
                        styles: "display"
                    }
                },
                requiredContent: "div{page-break-after}"
            }
        }(), function() {
            var t = {
                canUndo: !1,
                async: !0,
                exec: function(t, e) {
                    var n = t.lang,
                        i = CKEDITOR.tools.keystrokeToString(n.common.keyboard, t.getCommandKeystroke(CKEDITOR.env.ie ? t.commands.paste : this)),
                        o = e && "undefined" != typeof e.notification ? e.notification : !e || !e.from || "keystrokeHandler" === e.from && CKEDITOR.env.ie,
                        n = o && "string" == typeof o ? o : n.pastetext.pasteNotification.replace(/%1/, '<kbd aria-label="' + i.aria + '">' + i.display + "</kbd>");
                    t.execCommand("paste", {
                        type: "text",
                        notification: !!o && n
                    })
                }
            };
            CKEDITOR.plugins.add("pastetext", {
                requires: "clipboard",
                init: function(e) {
                    var n = CKEDITOR.env.safari ? CKEDITOR.CTRL + CKEDITOR.ALT + CKEDITOR.SHIFT + 86 : CKEDITOR.CTRL + CKEDITOR.SHIFT + 86;
                    e.addCommand("pastetext", t), e.setKeystroke(n, "pastetext"), e.ui.addButton && e.ui.addButton("PasteText", {
                        label: e.lang.pastetext.button,
                        command: "pastetext",
                        toolbar: "clipboard,40"
                    }), e.config.forcePasteAsPlainText && e.on("beforePaste", function(t) {
                        "html" != t.data.type && (t.data.type = "text")
                    }), e.on("pasteState", function(t) {
                        e.getCommand("pastetext").setState(t.data)
                    })
                }
            })
        }(), function() {
            function t(t, e, n) {
                var i = CKEDITOR.cleanWord;
                return i ? n() : (t = CKEDITOR.getUrl(t.config.pasteFromWordCleanupFile || e + "filter/default.js"), CKEDITOR.scriptLoader.load(t, n, null, !0)), !i
            }
            CKEDITOR.plugins.add("pastefromword", {
                requires: "clipboard",
                init: function(e) {
                    var n = 0,
                        i = this.path;
                    e.addCommand("pastefromword", {
                        canUndo: !1,
                        async: !0,
                        exec: function(t, e) {
                            n = 1, t.execCommand("paste", {
                                type: "html",
                                notification: !e || "undefined" == typeof e.notification || e.notification
                            })
                        }
                    }), e.ui.addButton && e.ui.addButton("PasteFromWord", {
                        label: e.lang.pastefromword.toolbar,
                        command: "pastefromword",
                        toolbar: "clipboard,50"
                    }), e.on("paste", function(o) {
                        var a = o.data,
                            s = (CKEDITOR.plugins.clipboard.isCustomDataTypesSupported ? a.dataTransfer.getData("text/html", !0) : null) || a.dataValue,
                            r = {
                                dataValue: s
                            },
                            l = /(class=\"?Mso|style=(?:\"|\')[^\"]*?\bmso\-|w:WordDocument|<o:\w+>|<\/font>)/,
                            l = /<meta\s*name=(?:\"|\')?generator(?:\"|\')?\s*content=(?:\"|\')?microsoft/gi.test(s) || l.test(s);
                        if (s && (n || l) && (!1 !== e.fire("pasteFromWord", r) || n)) {
                            a.dontFilter = !0;
                            var c = t(e, i, function() {
                                c ? e.fire("paste", a) : (!e.config.pasteFromWordPromptCleanup || n || confirm(e.lang.pastefromword.confirmCleanup)) && (r.dataValue = CKEDITOR.cleanWord(r.dataValue, e), e.fire("afterPasteFromWord", r), a.dataValue = r.dataValue), n = 0
                            });
                            c && o.cancel()
                        }
                    }, null, null, 3)
                }
            })
        }(), function() {
            var t,
                e = {
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    },
                    canUndo: !1,
                    readOnly: 1,
                    exec: function(e) {
                        var n,
                            i = e.config,
                            o = i.baseHref ? '<base href="' + i.baseHref + '"/>' : "";
                        if (i.fullPage)
                            n = e.getData().replace(/<head>/, "$&" + o).replace(/[^>]*(?=<\/title>)/, "$& &mdash; " + e.lang.preview.preview);
                        else {
                            var i = "<body ",
                                a = e.document && e.document.getBody();
                            a && (a.getAttribute("id") && (i += 'id="' + a.getAttribute("id") + '" '), a.getAttribute("class") && (i += 'class="' + a.getAttribute("class") + '" ')), i += ">", n = e.config.docType + '<html dir="' + e.config.contentsLangDirection + '"><head>' + o + "<title>" + e.lang.preview.preview + "</title>" + CKEDITOR.tools.buildStyleHtml(e.config.contentsCss) + "</head>" + i + e.getData() + "</body></html>"
                        }
                        o = 640, i = 420, a = 80;
                        try {
                            var s = window.screen,
                                o = Math.round(.8 * s.width),
                                i = Math.round(.7 * s.height),
                                a = Math.round(.1 * s.width)
                        } catch (t) {}
                        if (!1 === e.fire("contentPreview", e = {
                            dataValue: n
                        }))
                            return !1;
                        var s = "",
                            r;
                        return CKEDITOR.env.ie && (window._cke_htmlToLoad = e.dataValue, r = "javascript:void( (function(){document.open();" + ("(" + CKEDITOR.tools.fixDomain + ")();").replace(/\/\/.*?\n/g, "").replace(/parent\./g, "window.opener.") + "document.write( window.opener._cke_htmlToLoad );document.close();window.opener._cke_htmlToLoad = null;})() )", s = ""), CKEDITOR.env.gecko && (window._cke_htmlToLoad = e.dataValue, s = CKEDITOR.getUrl(t + "preview.html")), s = window.open(s, null, "toolbar=yes,location=no,status=yes,menubar=yes,scrollbars=yes,resizable=yes,width=" + o + ",height=" + i + ",left=" + a), CKEDITOR.env.ie && s && (s.location = r), CKEDITOR.env.ie || CKEDITOR.env.gecko || (r = s.document, r.open(), r.write(e.dataValue), r.close()), !0
                    }
                };
            CKEDITOR.plugins.add("preview", {
                init: function(n) {
                    n.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && (t = this.path, n.addCommand("preview", e), n.ui.addButton && n.ui.addButton("Preview", {
                        label: n.lang.preview.preview,
                        command: "preview",
                        toolbar: "document,40"
                    }))
                }
            })
        }(), CKEDITOR.plugins.add("print", {
            init: function(t) {
                t.elementMode != CKEDITOR.ELEMENT_MODE_INLINE && (t.addCommand("print", CKEDITOR.plugins.print), t.ui.addButton && t.ui.addButton("Print", {
                    label: t.lang.print.toolbar,
                    command: "print",
                    toolbar: "document,50"
                }))
            }
        }), CKEDITOR.plugins.print = {
            exec: function(t) {
                CKEDITOR.env.gecko ? t.window.$.print() : t.document.$.execCommand("Print")
            },
            canUndo: !1,
            readOnly: 1,
            modes: {
                wysiwyg: 1
            }
        }, CKEDITOR.plugins.add("removeformat", {
            init: function(t) {
                t.addCommand("removeFormat", CKEDITOR.plugins.removeformat.commands.removeformat), t.ui.addButton && t.ui.addButton("RemoveFormat", {
                    label: t.lang.removeformat.toolbar,
                    command: "removeFormat",
                    toolbar: "cleanup,10"
                })
            }
        }), CKEDITOR.plugins.removeformat = {
            commands: {
                removeformat: {
                    exec: function(t) {
                        for (var e = t._.removeFormatRegex || (t._.removeFormatRegex = new RegExp("^(?:" + t.config.removeFormatTags.replace(/,/g, "|") + ")$", "i")), n = t._.removeAttributes || (t._.removeAttributes = t.config.removeFormatAttributes.split(",")), i = CKEDITOR.plugins.removeformat.filter, o = t.getSelection().getRanges(), a = o.createIterator(), s = function(t) {
                                return t.type == CKEDITOR.NODE_ELEMENT
                            }, r; r = a.getNextRange();) {
                            r.collapsed || r.enlarge(CKEDITOR.ENLARGE_ELEMENT);
                            var l = r.createBookmark(),
                                c = l.startNode,
                                u = l.endNode,
                                d = function(n) {
                                    for (var o = t.elementPath(n), a = o.elements, s = 1, r; (r = a[s]) && !r.equals(o.block) && !r.equals(o.blockLimit); s++)
                                        e.test(r.getName()) && i(t, r) && n.breakParent(r)
                                };
                            if (d(c), u)
                                for (d(u), c = c.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT); c && !c.equals(u);)
                                    if (c.isReadOnly()) {
                                        if (c.getPosition(u) & CKEDITOR.POSITION_CONTAINS)
                                            break;
                                        c = c.getNext(s)
                                    } else
                                        d = c.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT), "img" == c.getName() && c.data("cke-realelement") || !i(t, c) || (e.test(c.getName()) ? c.remove(1) : (c.removeAttributes(n), t.fire("removeFormatCleanup", c))), c = d;
                            r.moveToBookmark(l)
                        }
                        t.forceNextSelectionCheck(), t.getSelection().selectRanges(o)
                    }
                }
            },
            filter: function(t, e) {
                for (var n = t._.removeFormatFilters || [], i = 0; i < n.length; i++)
                    if (!1 === n[i](e))
                        return !1;
                return !0
            }
        }, CKEDITOR.editor.prototype.addRemoveFormatFilter = function(t) {
            this._.removeFormatFilters || (this._.removeFormatFilters = []), this._.removeFormatFilters.push(t)
        }, CKEDITOR.config.removeFormatTags = "b,big,cite,code,del,dfn,em,font,i,ins,kbd,q,s,samp,small,span,strike,strong,sub,sup,tt,u,var", CKEDITOR.config.removeFormatAttributes = "class,style,lang,width,height,align,hspace,valign", function() {
            var t = {
                readOnly: 1,
                exec: function(t) {
                    if (t.fire("save") && (t = t.element.$.form))
                        try {
                            t.submit()
                        } catch (e) {
                            t.submit.click && t.submit.click()
                        }
                }
            };
            CKEDITOR.plugins.add("save", {
                init: function(e) {
                    e.elementMode == CKEDITOR.ELEMENT_MODE_REPLACE && (e.addCommand("save", t).modes = {
                        wysiwyg: !!e.element.$.form
                    }, e.ui.addButton && e.ui.addButton("Save", {
                        label: e.lang.save.toolbar,
                        command: "save",
                        toolbar: "document,10"
                    }))
                }
            })
        }(), function() {
            CKEDITOR.plugins.add("selectall", {
                init: function(t) {
                    t.addCommand("selectAll", {
                        modes: {
                            wysiwyg: 1,
                            source: 1
                        },
                        exec: function(t) {
                            var e = t.editable();
                            if (e.is("textarea"))
                                t = e.$, CKEDITOR.env.ie ? t.createTextRange().execCommand("SelectAll") : (t.selectionStart = 0, t.selectionEnd = t.value.length), t.focus();
                            else {
                                if (e.is("body"))
                                    t.document.$.execCommand("SelectAll", !1, null);
                                else {
                                    var n = t.createRange();
                                    n.selectNodeContents(e), n.select()
                                }
                                t.forceNextSelectionCheck(), t.selectionChange()
                            }
                        },
                        canUndo: !1
                    }), t.ui.addButton && t.ui.addButton("SelectAll", {
                        label: t.lang.selectall.toolbar,
                        command: "selectAll",
                        toolbar: "selection,10"
                    })
                }
            })
        }(), function() {
            var t = {
                readOnly: 1,
                preserveState: !0,
                editorFocus: !1,
                exec: function(t) {
                    this.toggleState(), this.refresh(t)
                },
                refresh: function(t) {
                    if (t.document) {
                        var e = this.state != CKEDITOR.TRISTATE_ON || t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && !t.focusManager.hasFocus ? "removeClass" : "attachClass";
                        t.editable()[e]("cke_show_blocks")
                    }
                }
            };
            CKEDITOR.plugins.add("showblocks", {
                onLoad: function() {
                    var t = "p div pre address blockquote h1 h2 h3 h4 h5 h6".split(" "),
                        e,
                        n,
                        i,
                        o,
                        a = CKEDITOR.getUrl(this.path),
                        s = !(CKEDITOR.env.ie && 9 > CKEDITOR.env.version),
                        r = s ? ":not([contenteditable=false]):not(.cke_show_blocks_off)" : "",
                        l,
                        c;
                    for (e = n = i = o = ""; l = t.pop();)
                        c = t.length ? "," : "", e += ".cke_show_blocks " + l + r + c, i += ".cke_show_blocks.cke_contents_ltr " + l + r + c, o += ".cke_show_blocks.cke_contents_rtl " + l + r + c, n += ".cke_show_blocks " + l + r + "{background-image:url(" + CKEDITOR.getUrl(a + "images/block_" + l + ".png") + ")}";
                    CKEDITOR.addCss((e + "{background-repeat:no-repeat;border:1px dotted gray;padding-top:8px}").concat(n, i + "{background-position:top left;padding-left:8px}", o + "{background-position:top right;padding-right:8px}")), s || CKEDITOR.addCss(".cke_show_blocks [contenteditable=false],.cke_show_blocks .cke_show_blocks_off{border:none;padding-top:0;background-image:none}.cke_show_blocks.cke_contents_rtl [contenteditable=false],.cke_show_blocks.cke_contents_rtl .cke_show_blocks_off{padding-right:0}.cke_show_blocks.cke_contents_ltr [contenteditable=false],.cke_show_blocks.cke_contents_ltr .cke_show_blocks_off{padding-left:0}")
                },
                init: function(e) {
                    function n() {
                        i.refresh(e)
                    }
                    if (!e.blockless) {
                        var i = e.addCommand("showblocks", t);
                        i.canUndo = !1, e.config.startupOutlineBlocks && i.setState(CKEDITOR.TRISTATE_ON), e.ui.addButton && e.ui.addButton("ShowBlocks", {
                            label: e.lang.showblocks.toolbar,
                            command: "showblocks",
                            toolbar: "tools,20"
                        }), e.on("mode", function() {
                            i.state != CKEDITOR.TRISTATE_DISABLED && i.refresh(e)
                        }), e.elementMode == CKEDITOR.ELEMENT_MODE_INLINE && (e.on("focus", n), e.on("blur", n)), e.on("contentDom", function() {
                            i.state != CKEDITOR.TRISTATE_DISABLED && i.refresh(e)
                        })
                    }
                }
            })
        }(), function() {
            var t = {
                preserveState: !0,
                editorFocus: !1,
                readOnly: 1,
                exec: function(t) {
                    this.toggleState(), this.refresh(t)
                },
                refresh: function(t) {
                    if (t.document) {
                        var e = this.state == CKEDITOR.TRISTATE_ON ? "attachClass" : "removeClass";
                        t.editable()[e]("cke_show_borders")
                    }
                }
            };
            CKEDITOR.plugins.add("showborders", {
                modes: {
                    wysiwyg: 1
                },
                onLoad: function() {
                    var t;
                    t = (CKEDITOR.env.ie6Compat ? [".%1 table.%2,", ".%1 table.%2 td, .%1 table.%2 th", "{", "border : #d3d3d3 1px dotted", "}"] : ".%1 table.%2,;.%1 table.%2 > tr > td, .%1 table.%2 > tr > th,;.%1 table.%2 > tbody > tr > td, .%1 table.%2 > tbody > tr > th,;.%1 table.%2 > thead > tr > td, .%1 table.%2 > thead > tr > th,;.%1 table.%2 > tfoot > tr > td, .%1 table.%2 > tfoot > tr > th;{;border : #d3d3d3 1px dotted;}".split(";")).join("").replace(/%2/g, "cke_show_border").replace(/%1/g, "cke_show_borders "), CKEDITOR.addCss(t)
                },
                init: function(e) {
                    var n = e.addCommand("showborders", t);
                    n.canUndo = !1, !1 !== e.config.startupShowBorders && n.setState(CKEDITOR.TRISTATE_ON), e.on("mode", function() {
                        n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(e)
                    }, null, null, 100), e.on("contentDom", function() {
                        n.state != CKEDITOR.TRISTATE_DISABLED && n.refresh(e)
                    }), e.on("removeFormatCleanup", function(t) {
                        t = t.data, e.getCommand("showborders").state == CKEDITOR.TRISTATE_ON && t.is("table") && (!t.hasAttribute("border") || 0 >= parseInt(t.getAttribute("border"), 10)) && t.addClass("cke_show_border")
                    })
                },
                afterInit: function(t) {
                    var e = t.dataProcessor;
                    t = e && e.dataFilter, e = e && e.htmlFilter, t && t.addRules({
                        elements: {
                            table: function(t) {
                                t = t.attributes;
                                var e = t["class"],
                                    n = parseInt(t.border, 10);
                                n && !(0 >= n) || e && -1 != e.indexOf("cke_show_border") || (t["class"] = (e || "") + " cke_show_border")
                            }
                        }
                    }), e && e.addRules({
                        elements: {
                            table: function(t) {
                                t = t.attributes;
                                var e = t["class"];
                                e && (t["class"] = e.replace("cke_show_border", "").replace(/\s{2}/, " ").replace(/^\s+|\s+$/, ""))
                            }
                        }
                    })
                }
            }), CKEDITOR.on("dialogDefinition", function(t) {
                var e = t.data.name;
                "table" != e && "tableProperties" != e || (t = t.data.definition, e = t.getContents("info").get("txtBorder"), e.commit = CKEDITOR.tools.override(e.commit, function(t) {
                    return function(e, n) {
                        t.apply(this, arguments);
                        var i = parseInt(this.getValue(), 10);
                        n[!i || 0 >= i ? "addClass" : "removeClass"]("cke_show_border")
                    }
                }), (t = (t = t.getContents("advanced")) && t.get("advCSSClasses")) && (t.setup = CKEDITOR.tools.override(t.setup, function(t) {
                    return function() {
                        t.apply(this, arguments), this.setValue(this.getValue().replace(/cke_show_border/, ""))
                    }
                }), t.commit = CKEDITOR.tools.override(t.commit, function(t) {
                    return function(e, n) {
                        t.apply(this, arguments), parseInt(n.getAttribute("border"), 10) || n.addClass("cke_show_border")
                    }
                })))
            })
        }(), function() {
            CKEDITOR.plugins.add("sourcearea", {
                init: function(e) {
                    function n() {
                        var t = o && this.equals(CKEDITOR.document.getActive());
                        this.hide(), this.setStyle("height", this.getParent().$.clientHeight + "px"), this.setStyle("width", this.getParent().$.clientWidth + "px"), this.show(), t && this.focus()
                    }
                    if (e.elementMode != CKEDITOR.ELEMENT_MODE_INLINE) {
                        var i = CKEDITOR.plugins.sourcearea;
                        e.addMode("source", function(i) {
                            var o = e.ui.space("contents").getDocument().createElement("textarea");
                            o.setStyles(CKEDITOR.tools.extend({
                                width: CKEDITOR.env.ie7Compat ? "99%" : "100%",
                                height: "100%",
                                resize: "none",
                                outline: "none",
                                "text-align": "left"
                            }, CKEDITOR.tools.cssVendorPrefix("tab-size", e.config.sourceAreaTabSize || 4))), o.setAttribute("dir", "ltr"), o.addClass("cke_source").addClass("cke_reset").addClass("cke_enable_context_menu"), e.ui.space("contents").append(o), o = e.editable(new t(e, o)), o.setData(e.getData(1)), CKEDITOR.env.ie && (o.attachListener(e, "resize", n, o), o.attachListener(CKEDITOR.document.getWindow(), "resize", n, o), CKEDITOR.tools.setTimeout(n, 0, o)), e.fire("ariaWidget", this), i()
                        }), e.addCommand("source", i.commands.source), e.ui.addButton && e.ui.addButton("Source", {
                            label: e.lang.sourcearea.toolbar,
                            command: "source",
                            toolbar: "mode,10"
                        }), e.on("mode", function() {
                            e.getCommand("source").setState("source" == e.mode ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF)
                        });
                        var o = CKEDITOR.env.ie && 9 == CKEDITOR.env.version
                    }
                }
            });
            var t = CKEDITOR.tools.createClass({
                base: CKEDITOR.editable,
                proto: {
                    setData: function(t) {
                        this.setValue(t), this.status = "ready", this.editor.fire("dataReady")
                    },
                    getData: function() {
                        return this.getValue()
                    },
                    insertHtml: function() {},
                    insertElement: function() {},
                    insertText: function() {},
                    setReadOnly: function(t) {
                        this[(t ? "set" : "remove") + "Attribute"]("readOnly", "readonly")
                    },
                    detach: function() {
                        t.baseProto.detach.call(this), this.clearCustomData(), this.remove()
                    }
                }
            })
        }(), CKEDITOR.plugins.sourcearea = {
            commands: {
                source: {
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    },
                    editorFocus: !1,
                    readOnly: 1,
                    exec: function(t) {
                        "wysiwyg" == t.mode && t.fire("saveSnapshot"), t.getCommand("source").setState(CKEDITOR.TRISTATE_DISABLED), t.setMode("source" == t.mode ? "wysiwyg" : "source")
                    },
                    canUndo: !1
                }
            }
        }, CKEDITOR.plugins.add("specialchar", {
            availableLangs: {
                af: 1,
                ar: 1,
                az: 1,
                bg: 1,
                ca: 1,
                cs: 1,
                cy: 1,
                da: 1,
                de: 1,
                "de-ch": 1,
                el: 1,
                en: 1,
                "en-au": 1,
                "en-ca": 1,
                "en-gb": 1,
                eo: 1,
                es: 1,
                "es-mx": 1,
                et: 1,
                eu: 1,
                fa: 1,
                fi: 1,
                fr: 1,
                "fr-ca": 1,
                gl: 1,
                he: 1,
                hr: 1,
                hu: 1,
                id: 1,
                it: 1,
                ja: 1,
                km: 1,
                ko: 1,
                ku: 1,
                lt: 1,
                lv: 1,
                nb: 1,
                nl: 1,
                no: 1,
                oc: 1,
                pl: 1,
                pt: 1,
                "pt-br": 1,
                ru: 1,
                si: 1,
                sk: 1,
                sl: 1,
                sq: 1,
                sv: 1,
                th: 1,
                tr: 1,
                tt: 1,
                ug: 1,
                uk: 1,
                vi: 1,
                zh: 1,
                "zh-cn": 1
            },
            requires: "dialog",
            init: function(t) {
                var e = this;
                CKEDITOR.dialog.add("specialchar", this.path + "dialogs/specialchar.js"), t.addCommand("specialchar", {
                    exec: function() {
                        var n = t.langCode,
                            n = e.availableLangs[n] ? n : e.availableLangs[n.replace(/-.*/, "")] ? n.replace(/-.*/, "") : "en";
                        CKEDITOR.scriptLoader.load(CKEDITOR.getUrl(e.path + "dialogs/lang/" + n + ".js"), function() {
                            CKEDITOR.tools.extend(t.lang.specialchar, e.langEntries[n]), t.openDialog("specialchar")
                        })
                    },
                    modes: {
                        wysiwyg: 1
                    },
                    canUndo: !1
                }), t.ui.addButton && t.ui.addButton("SpecialChar", {
                    label: t.lang.specialchar.toolbar,
                    command: "specialchar",
                    toolbar: "insert,50"
                })
            }
        }), CKEDITOR.config.specialChars = "! &quot; # $ % &amp; ' ( ) * + - . / 0 1 2 3 4 5 6 7 8 9 : ; &lt; = &gt; ? @ A B C D E F G H I J K L M N O P Q R S T U V W X Y Z [ ] ^ _ ` a b c d e f g h i j k l m n o p q r s t u v w x y z { | } ~ &euro; &lsquo; &rsquo; &ldquo; &rdquo; &ndash; &mdash; &iexcl; &cent; &pound; &curren; &yen; &brvbar; &sect; &uml; &copy; &ordf; &laquo; &not; &reg; &macr; &deg; &sup2; &sup3; &acute; &micro; &para; &middot; &cedil; &sup1; &ordm; &raquo; &frac14; &frac12; &frac34; &iquest; &Agrave; &Aacute; &Acirc; &Atilde; &Auml; &Aring; &AElig; &Ccedil; &Egrave; &Eacute; &Ecirc; &Euml; &Igrave; &Iacute; &Icirc; &Iuml; &ETH; &Ntilde; &Ograve; &Oacute; &Ocirc; &Otilde; &Ouml; &times; &Oslash; &Ugrave; &Uacute; &Ucirc; &Uuml; &Yacute; &THORN; &szlig; &agrave; &aacute; &acirc; &atilde; &auml; &aring; &aelig; &ccedil; &egrave; &eacute; &ecirc; &euml; &igrave; &iacute; &icirc; &iuml; &eth; &ntilde; &ograve; &oacute; &ocirc; &otilde; &ouml; &divide; &oslash; &ugrave; &uacute; &ucirc; &uuml; &yacute; &thorn; &yuml; &OElig; &oelig; &#372; &#374 &#373 &#375; &sbquo; &#8219; &bdquo; &hellip; &trade; &#9658; &bull; &rarr; &rArr; &hArr; &diams; &asymp;".split(" "), CKEDITOR.plugins.add("scayt", {
            requires: "menubutton,dialog",
            tabToOpen: null,
            dialogName: "scaytDialog",
            onLoad: function(t) {
                CKEDITOR.plugins.scayt.onLoadTimestamp = (new Date).getTime(), "moono-lisa" == (CKEDITOR.skinName || t.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/scayt.css"), CKEDITOR.document.appendStyleSheet(this.path + "dialogs/dialog.css")
            },
            init: function(t) {
                var e = this,
                    n = CKEDITOR.plugins.scayt;
                this.bindEvents(t), this.parseConfig(t), this.addRule(t), CKEDITOR.dialog.add(this.dialogName, CKEDITOR.getUrl(this.path + "dialogs/options.js")), this.addMenuItems(t);
                var i = t.lang.scayt,
                    o = CKEDITOR.env;
                t.ui.add("Scayt", CKEDITOR.UI_MENUBUTTON, {
                    label: i.text_title,
                    title: t.plugins.wsc ? t.lang.wsc.title : i.text_title,
                    modes: {
                        wysiwyg: !(o.ie && (8 > o.version || o.quirks))
                    },
                    toolbar: "spellchecker,20",
                    refresh: function() {
                        var e = t.ui.instances.Scayt.getState();
                        t.scayt && (e = n.state.scayt[t.name] ? CKEDITOR.TRISTATE_ON : CKEDITOR.TRISTATE_OFF), t.fire("scaytButtonState", e)
                    },
                    onRender: function() {
                        var e = this;
                        t.on("scaytButtonState", function(t) {
                            void 0 !== typeof t.data && e.setState(t.data)
                        })
                    },
                    onMenu: function() {
                        var e = t.scayt;
                        t.getMenuItem("scaytToggle").label = t.lang.scayt[e && n.state.scayt[t.name] ? "btn_disable" : "btn_enable"];
                        var i = {
                            scaytToggle: CKEDITOR.TRISTATE_OFF,
                            scaytOptions: e ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                            scaytLangs: e ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                            scaytDict: e ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                            scaytAbout: e ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                            WSC: t.plugins.wsc ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                        };
                        return t.config.scayt_uiTabs[0] || delete i.scaytOptions, t.config.scayt_uiTabs[1] || delete i.scaytLangs, t.config.scayt_uiTabs[2] || delete i.scaytDict, e && !CKEDITOR.plugins.scayt.isNewUdSupported(e) && (delete i.scaytDict, t.config.scayt_uiTabs[2] = 0, CKEDITOR.plugins.scayt.alarmCompatibilityMessage()), i
                    }
                }), t.contextMenu && t.addMenuItems && (t.contextMenu.addListener(function(n, i) {
                    var o = t.scayt,
                        a,
                        s;
                    return o && (s = o.getSelectionNode()) && (a = e.menuGenerator(t, s), o.showBanner("." + t.contextMenu._.definition.panel.className.split(" ").join(" ."))), a
                }), t.contextMenu._.onHide = CKEDITOR.tools.override(t.contextMenu._.onHide, function(e) {
                    return function() {
                        var n = t.scayt;
                        return n && n.hideBanner(), e.apply(this)
                    }
                }))
            },
            addMenuItems: function(t) {
                var e = this,
                    n = CKEDITOR.plugins.scayt;
                t.addMenuGroup("scaytButton");
                for (var i = t.config.scayt_contextMenuItemsOrder.split("|"), o = 0; o < i.length; o++)
                    i[o] = "scayt_" + i[o];
                if ((i = ["grayt_description", "grayt_suggest", "grayt_control"].concat(i)) && i.length)
                    for (o = 0; o < i.length; o++)
                        t.addMenuGroup(i[o], o - 10);
                t.addCommand("scaytToggle", {
                    exec: function(t) {
                        var e = t.scayt;
                        n.state.scayt[t.name] = !n.state.scayt[t.name],
                        !0 === n.state.scayt[t.name] ? e || n.createScayt(t) : e && n.destroy(t)
                    }
                }), t.addCommand("scaytAbout", {
                    exec: function(t) {
                        t.scayt.tabToOpen = "about", t.lockSelection(), t.openDialog(e.dialogName)
                    }
                }), t.addCommand("scaytOptions", {
                    exec: function(t) {
                        t.scayt.tabToOpen = "options", t.lockSelection(), t.openDialog(e.dialogName)
                    }
                }), t.addCommand("scaytLangs", {
                    exec: function(t) {
                        t.scayt.tabToOpen = "langs", t.lockSelection(), t.openDialog(e.dialogName)
                    }
                }), t.addCommand("scaytDict", {
                    exec: function(t) {
                        t.scayt.tabToOpen = "dictionaries", t.lockSelection(), t.openDialog(e.dialogName)
                    }
                }), i = {
                    scaytToggle: {
                        label: t.lang.scayt.btn_enable,
                        group: "scaytButton",
                        command: "scaytToggle"
                    },
                    scaytAbout: {
                        label: t.lang.scayt.btn_about,
                        group: "scaytButton",
                        command: "scaytAbout"
                    },
                    scaytOptions: {
                        label: t.lang.scayt.btn_options,
                        group: "scaytButton",
                        command: "scaytOptions"
                    },
                    scaytLangs: {
                        label: t.lang.scayt.btn_langs,
                        group: "scaytButton",
                        command: "scaytLangs"
                    },
                    scaytDict: {
                        label: t.lang.scayt.btn_dictionaries,
                        group: "scaytButton",
                        command: "scaytDict"
                    }
                }, t.plugins.wsc && (i.WSC = {
                    label: t.lang.wsc.toolbar,
                    group: "scaytButton",
                    onClick: function() {
                        var e = CKEDITOR.plugins.scayt,
                            n = t.scayt,
                            i = t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? t.container.getText() : t.document.getBody().getText();
                        (i = i.replace(/\s/g, "")) ? (n && e.state.scayt[t.name] && n.setMarkupPaused && n.setMarkupPaused(!0), t.lockSelection(), t.execCommand("checkspell")) : alert("Nothing to check!")
                    }
                }), t.addMenuItems(i)
            },
            bindEvents: function(t) {
                var e = CKEDITOR.plugins.scayt,
                    n = t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE,
                    i = function() {
                        e.destroy(t)
                    },
                    o = function() {
                        !e.state.scayt[t.name] || t.readOnly || t.scayt || e.createScayt(t)
                    },
                    a = function() {
                        var e = t.editable();
                        e.attachListener(e, "focus", function(e) {
                            CKEDITOR.plugins.scayt && !t.scayt && setTimeout(o, 0), e = CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[t.name] && t.scayt;
                            var i,
                                a;
                            if ((n || e) && t._.savedSelection) {
                                e = t._.savedSelection.getSelectedElement(), e = !e && t._.savedSelection.getRanges();
                                for (var s = 0; s < e.length; s++)
                                    a = e[s], "string" == typeof a.startContainer.$.nodeValue && ((i = a.startContainer.getText().length) < a.startOffset || i < a.endOffset) && t.unlockSelection(!1)
                            }
                        }, this, null, -10)
                    },
                    s = function() {
                        n ? t.config.scayt_inlineModeImmediateMarkup ? o() : (t.on("blur", function() {
                            setTimeout(i, 0)
                        }), t.on("focus", o), t.focusManager.hasFocus && o()) : o(), a();
                        var e = t.editable();
                        e.attachListener(e, "mousedown", function(e) {
                            e = e.data.getTarget();
                            var n = t.widgets && t.widgets.getByElement(e);
                            n && (n.wrapper = e.getAscendant(function(t) {
                                return t.hasAttribute("data-cke-widget-wrapper")
                            }, !0))
                        }, this, null, -10)
                    };
                t.on("contentDom", s), t.on("beforeCommandExec", function(n) {
                    var i = t.scayt,
                        o = !1,
                        a = !1,
                        s = !0;
                    n.data.name in e.options.disablingCommandExec && "wysiwyg" == t.mode ? i && (e.destroy(t), t.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)) : "bold" !== n.data.name && "italic" !== n.data.name && "underline" !== n.data.name && "strike" !== n.data.name && "subscript" !== n.data.name && "superscript" !== n.data.name && "enter" !== n.data.name && "cut" !== n.data.name && "language" !== n.data.name || !i || ("cut" === n.data.name && (s = !1, a = !0), "language" === n.data.name && (a = o = !0), t.fire("reloadMarkupScayt", {
                        removeOptions: {
                            removeInside: s,
                            forceBookmark: a,
                            language: o
                        },
                        timeout: 0
                    }))
                }), t.on("beforeSetMode", function(n) {
                    "source" == n.data && ((n = t.scayt) && (e.destroy(t), t.fire("scaytButtonState", CKEDITOR.TRISTATE_DISABLED)), t.document && t.document.getBody().removeAttribute("_jquid"))
                }), t.on("afterCommandExec", function(n) {
                    "wysiwyg" != t.mode || "undo" != n.data.name && "redo" != n.data.name || setTimeout(function() {
                        e.reloadMarkup(t.scayt)
                    }, 250)
                }), t.on("readOnly", function(n) {
                    var i;
                    n && (i = t.scayt, !0 === n.editor.readOnly ? i && i.fire("removeMarkupInDocument", {}) : i ? e.reloadMarkup(i) : "wysiwyg" == n.editor.mode && !0 === e.state.scayt[n.editor.name] && (e.createScayt(t), n.editor.fire("scaytButtonState", CKEDITOR.TRISTATE_ON)))
                }), t.on("beforeDestroy", i), t.on("setData", function() {
                    i(), (t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE || t.plugins.divarea) && s()
                }, this, null, 50), t.on("reloadMarkupScayt", function(n) {
                    var i = n.data && n.data.removeOptions,
                        o = n.data && n.data.timeout,
                        a = n.data && n.data.language,
                        s = t.scayt;
                    s && setTimeout(function() {
                        a && (i.selectionNode = t.plugins.language.getCurrentLangElement(t), i.selectionNode = i.selectionNode && i.selectionNode.$ || null), s.removeMarkupInSelectionNode(i), e.reloadMarkup(s)
                    }, o || 0)
                }), t.on("insertElement", function() {
                    t.fire("reloadMarkupScayt", {
                        removeOptions: {
                            forceBookmark: !0
                        }
                    })
                }, this, null, 50), t.on("insertHtml", function() {
                    t.scayt && t.scayt.setFocused && t.scayt.setFocused(!0), t.fire("reloadMarkupScayt")
                }, this, null, 50), t.on("insertText", function() {
                    t.scayt && t.scayt.setFocused && t.scayt.setFocused(!0), t.fire("reloadMarkupScayt")
                }, this, null, 50), t.on("scaytDialogShown", function(e) {
                    e.data.selectPage(t.scayt.tabToOpen)
                })
            },
            parseConfig: function(t) {
                var e = CKEDITOR.plugins.scayt;
                if (e.replaceOldOptionsNames(t.config), "boolean" != typeof t.config.scayt_autoStartup && (t.config.scayt_autoStartup = !1), e.state.scayt[t.name] = t.config.scayt_autoStartup, "boolean" != typeof t.config.grayt_autoStartup && (t.config.grayt_autoStartup = !1), "boolean" != typeof t.config.scayt_inlineModeImmediateMarkup && (t.config.scayt_inlineModeImmediateMarkup = !1), e.state.grayt[t.name] = t.config.grayt_autoStartup, t.config.scayt_contextCommands || (t.config.scayt_contextCommands = "ignore|ignoreall|add"), t.config.scayt_contextMenuItemsOrder || (t.config.scayt_contextMenuItemsOrder = "suggest|moresuggest|control"), t.config.scayt_sLang || (t.config.scayt_sLang = "en_US"), (void 0 === t.config.scayt_maxSuggestions || "number" != typeof t.config.scayt_maxSuggestions || 0 > t.config.scayt_maxSuggestions) && (t.config.scayt_maxSuggestions = 5), (void 0 === t.config.scayt_minWordLength || "number" != typeof t.config.scayt_minWordLength || 1 > t.config.scayt_minWordLength) && (t.config.scayt_minWordLength = 4), void 0 !== t.config.scayt_customDictionaryIds && "string" == typeof t.config.scayt_customDictionaryIds || (t.config.scayt_customDictionaryIds = ""), void 0 !== t.config.scayt_userDictionaryName && "string" == typeof t.config.scayt_userDictionaryName || (t.config.scayt_userDictionaryName = null), "string" == typeof t.config.scayt_uiTabs && 3 === t.config.scayt_uiTabs.split(",").length) {
                    var n = [],
                        i = [];
                    t.config.scayt_uiTabs = t.config.scayt_uiTabs.split(","), CKEDITOR.tools.search(t.config.scayt_uiTabs, function(t) {
                        1 === Number(t) || 0 === Number(t) ? (i.push(!0), n.push(Number(t))) : i.push(!1)
                    }), null === CKEDITOR.tools.search(i, !1) ? t.config.scayt_uiTabs = n : t.config.scayt_uiTabs = [1, 1, 1]
                } else
                    t.config.scayt_uiTabs = [1, 1, 1];
                if ("string" != typeof t.config.scayt_serviceProtocol && (t.config.scayt_serviceProtocol = null), "string" != typeof t.config.scayt_serviceHost && (t.config.scayt_serviceHost = null), "string" != typeof t.config.scayt_servicePort && (t.config.scayt_servicePort = null), "string" != typeof t.config.scayt_servicePath && (t.config.scayt_servicePath = null), t.config.scayt_moreSuggestions || (t.config.scayt_moreSuggestions = "on"), "string" != typeof t.config.scayt_customerId && (t.config.scayt_customerId = "1:WvF0D4-UtPqN1-43nkD4-NKvUm2-daQqk3-LmNiI-z7Ysb4-mwry24-T8YrS3-Q2tpq2"), "string" != typeof t.config.scayt_customPunctuation && (t.config.scayt_customPunctuation = "-"), "string" != typeof t.config.scayt_srcUrl && (e = document.location.protocol, e = -1 != e.search(/https?:/) ? e : "http:", t.config.scayt_srcUrl = e + "//svc.webspellchecker.net/spellcheck31/lf/scayt3/ckscayt/ckscayt.js"), "boolean" != typeof CKEDITOR.config.scayt_handleCheckDirty && (CKEDITOR.config.scayt_handleCheckDirty = !0), "boolean" != typeof CKEDITOR.config.scayt_handleUndoRedo && (CKEDITOR.config.scayt_handleUndoRedo = !0), CKEDITOR.config.scayt_handleUndoRedo = !!CKEDITOR.plugins.undo && CKEDITOR.config.scayt_handleUndoRedo, "boolean" != typeof t.config.scayt_multiLanguageMode && (t.config.scayt_multiLanguageMode = !1), "object" != typeof t.config.scayt_multiLanguageStyles && (t.config.scayt_multiLanguageStyles = {}), t.config.scayt_ignoreAllCapsWords && "boolean" != typeof t.config.scayt_ignoreAllCapsWords && (t.config.scayt_ignoreAllCapsWords = !1), t.config.scayt_ignoreDomainNames && "boolean" != typeof t.config.scayt_ignoreDomainNames && (t.config.scayt_ignoreDomainNames = !1), t.config.scayt_ignoreWordsWithMixedCases && "boolean" != typeof t.config.scayt_ignoreWordsWithMixedCases && (t.config.scayt_ignoreWordsWithMixedCases = !1), t.config.scayt_ignoreWordsWithNumbers && "boolean" != typeof t.config.scayt_ignoreWordsWithNumbers && (t.config.scayt_ignoreWordsWithNumbers = !1), t.config.scayt_disableOptionsStorage) {
                    var e = CKEDITOR.tools.isArray(t.config.scayt_disableOptionsStorage) ? t.config.scayt_disableOptionsStorage : "string" == typeof t.config.scayt_disableOptionsStorage ? [t.config.scayt_disableOptionsStorage] : void 0,
                        o = "all options lang ignore-all-caps-words ignore-domain-names ignore-words-with-mixed-cases ignore-words-with-numbers".split(" "),
                        a = ["lang", "ignore-all-caps-words", "ignore-domain-names", "ignore-words-with-mixed-cases", "ignore-words-with-numbers"],
                        s = CKEDITOR.tools.search,
                        r = CKEDITOR.tools.indexOf;
                    t.config.scayt_disableOptionsStorage = function(t) {
                        for (var e = [], n = 0; n < t.length; n++) {
                            var i = t[n],
                                l = !!s(t, "options");
                            if (!s(o, i) || l && s(a, function(t) {
                                if ("lang" === t)
                                    return !1
                            }))
                                return;
                            if (s(a, i) && a.splice(r(a, i), 1), "all" === i || l && s(t, "lang"))
                                return [];
                            "options" === i && (a = ["lang"])
                        }
                        return e = e.concat(a)
                    }(e)
                }
            },
            addRule: function(t) {
                var e = CKEDITOR.plugins.scayt,
                    n = t.dataProcessor,
                    i = n && n.htmlFilter,
                    o = t._.elementsPath && t._.elementsPath.filters,
                    n = n && n.dataFilter,
                    a = t.addRemoveFormatFilter,
                    s = function(n) {
                        if (t.scayt && (n.hasAttribute(e.options.data_attribute_name) || n.hasAttribute(e.options.problem_grammar_data_attribute)))
                            return !1
                    },
                    r = function(n) {
                        var i = !0;
                        return t.scayt && (n.hasAttribute(e.options.data_attribute_name) || n.hasAttribute(e.options.problem_grammar_data_attribute)) && (i = !1), i
                    };
                o && o.push(s), n && n.addRules({
                    elements: {
                        span: function(t) {
                            var n = t.hasClass(e.options.misspelled_word_class) && t.attributes[e.options.data_attribute_name],
                                i = t.hasClass(e.options.problem_grammar_class) && t.attributes[e.options.problem_grammar_data_attribute];
                            return e && (n || i) && delete t.name, t
                        }
                    }
                }), i && i.addRules({
                    elements: {
                        span: function(t) {
                            var n = t.hasClass(e.options.misspelled_word_class) && t.attributes[e.options.data_attribute_name],
                                i = t.hasClass(e.options.problem_grammar_class) && t.attributes[e.options.problem_grammar_data_attribute];
                            return e && (n || i) && delete t.name, t
                        }
                    }
                }), a && a.call(t, r)
            },
            scaytMenuDefinition: function(t) {
                var e = this;
                return t = t.scayt, {
                    scayt: {
                        scayt_ignore: {
                            label: t.getLocal("btn_ignore"),
                            group: "scayt_control",
                            order: 1,
                            exec: function(t) {
                                t.scayt.ignoreWord()
                            }
                        },
                        scayt_ignoreall: {
                            label: t.getLocal("btn_ignoreAll"),
                            group: "scayt_control",
                            order: 2,
                            exec: function(t) {
                                t.scayt.ignoreAllWords()
                            }
                        },
                        scayt_add: {
                            label: t.getLocal("btn_addWord"),
                            group: "scayt_control",
                            order: 3,
                            exec: function(t) {
                                var e = t.scayt;
                                setTimeout(function() {
                                    e.addWordToUserDictionary()
                                }, 10)
                            }
                        },
                        scayt_option: {
                            label: t.getLocal("btn_options"),
                            group: "scayt_control",
                            order: 4,
                            exec: function(t) {
                                t.scayt.tabToOpen = "options", t.lockSelection(), t.openDialog(e.dialogName)
                            },
                            verification: function(t) {
                                return 1 == t.config.scayt_uiTabs[0]
                            }
                        },
                        scayt_language: {
                            label: t.getLocal("btn_langs"),
                            group: "scayt_control",
                            order: 5,
                            exec: function(t) {
                                t.scayt.tabToOpen = "langs", t.lockSelection(), t.openDialog(e.dialogName)
                            },
                            verification: function(t) {
                                return 1 == t.config.scayt_uiTabs[1]
                            }
                        },
                        scayt_dictionary: {
                            label: t.getLocal("btn_dictionaries"),
                            group: "scayt_control",
                            order: 6,
                            exec: function(t) {
                                t.scayt.tabToOpen = "dictionaries", t.lockSelection(), t.openDialog(e.dialogName)
                            },
                            verification: function(t) {
                                return 1 == t.config.scayt_uiTabs[2]
                            }
                        },
                        scayt_about: {
                            label: t.getLocal("btn_about"),
                            group: "scayt_control",
                            order: 7,
                            exec: function(t) {
                                t.scayt.tabToOpen = "about", t.lockSelection(), t.openDialog(e.dialogName)
                            }
                        }
                    },
                    grayt: {
                        grayt_problemdescription: {
                            label: "Grammar problem description",
                            group: "grayt_description",
                            order: 1,
                            state: CKEDITOR.TRISTATE_DISABLED,
                            exec: function(t) {}
                        },
                        grayt_ignore: {
                            label: t.getLocal("btn_ignore"),
                            group: "grayt_control",
                            order: 2,
                            exec: function(t) {
                                t.scayt.ignorePhrase()
                            }
                        }
                    }
                }
            },
            buildSuggestionMenuItems: function(t, e, n) {
                var i = {},
                    o = {},
                    a = n ? "word" : "phrase",
                    s = n ? "startGrammarCheck" : "startSpellCheck",
                    r = t.scayt;
                if (0 < e.length && "no_any_suggestions" !== e[0])
                    if (n)
                        for (n = 0; n < e.length; n++) {
                            var l = "scayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_");
                            t.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], a, s)), n < t.config.scayt_maxSuggestions ? (t.addMenuItem(l, {
                                label: e[n],
                                command: l,
                                group: "scayt_suggest",
                                order: n + 1
                            }), i[l] = CKEDITOR.TRISTATE_OFF) : (t.addMenuItem(l, {
                                label: e[n],
                                command: l,
                                group: "scayt_moresuggest",
                                order: n + 1
                            }), o[l] = CKEDITOR.TRISTATE_OFF, "on" === t.config.scayt_moreSuggestions && (t.addMenuItem("scayt_moresuggest", {
                                label: r.getLocal("btn_moreSuggestions"),
                                group: "scayt_moresuggest",
                                order: 10,
                                getItems: function() {
                                    return o
                                }
                            }), i.scayt_moresuggest = CKEDITOR.TRISTATE_OFF))
                        }
                    else
                        for (n = 0; n < e.length; n++)
                            l = "grayt_suggest_" + CKEDITOR.plugins.scayt.suggestions[n].replace(" ", "_"), t.addCommand(l, this.createCommand(CKEDITOR.plugins.scayt.suggestions[n], a, s)), t.addMenuItem(l, {
                                label: e[n],
                                command: l,
                                group: "grayt_suggest",
                                order: n + 1
                            }), i[l] = CKEDITOR.TRISTATE_OFF;
                else
                    i.no_scayt_suggest = CKEDITOR.TRISTATE_DISABLED, t.addCommand("no_scayt_suggest", {
                        exec: function() {}
                    }), t.addMenuItem("no_scayt_suggest", {
                        label: r.getLocal("btn_noSuggestions") || "no_scayt_suggest",
                        command: "no_scayt_suggest",
                        group: "scayt_suggest",
                        order: 0
                    });
                return i
            },
            menuGenerator: function(t, e) {
                var n = t.scayt,
                    i = this.scaytMenuDefinition(t),
                    o = {},
                    a = t.config.scayt_contextCommands.split("|"),
                    s = e.getAttribute(n.getLangAttribute()) || n.getLang(),
                    r,
                    l;
                if (r = n.isScaytNode(e), l = n.isGraytNode(e), r ? (i = i.scayt, o = e.getAttribute(n.getScaytNodeAttributeName()), n.fire("getSuggestionsList", {
                    lang: s,
                    word: o
                }), o = this.buildSuggestionMenuItems(t, CKEDITOR.plugins.scayt.suggestions, r)) : l && (i = i.grayt, o = e.getAttribute(n.getGraytNodeAttributeName()), l = n.getProblemDescriptionText(o, s), i.grayt_problemdescription && l && (i.grayt_problemdescription.label = l), n.fire("getGrammarSuggestionsList", {
                    lang: s,
                    phrase: o
                }), o = this.buildSuggestionMenuItems(t, CKEDITOR.plugins.scayt.suggestions, r)), r && "off" == t.config.scayt_contextCommands)
                    return o;
                for (var c in i)
                    r && -1 == CKEDITOR.tools.indexOf(a, c.replace("scayt_", "")) && "all" != t.config.scayt_contextCommands || (o[c] = "undefined" != typeof i[c].state ? i[c].state : CKEDITOR.TRISTATE_OFF, "function" != typeof i[c].verification || i[c].verification(t) || delete o[c], t.addCommand(c, {
                        exec: i[c].exec
                    }), t.addMenuItem(c, {
                        label: t.lang.scayt[i[c].label] || i[c].label,
                        command: c,
                        group: i[c].group,
                        order: i[c].order
                    }));
                return o
            },
            createCommand: function(t, e, n) {
                return {
                    exec: function(i) {
                        i = i.scayt;
                        var o = {};
                        o[e] = t, i.replaceSelectionNode(o), "startGrammarCheck" === n && i.removeMarkupInSelectionNode({
                            grammarOnly: !0
                        }), i.fire(n)
                    }
                }
            }
        }), CKEDITOR.plugins.scayt = {
            charsToObserve: [{
                charName: "cke-fillingChar",
                charCode: function() {
                    var t = CKEDITOR.version.match(/^\d(\.\d*)*/),
                        t = t && t[0],
                        e;
                    if (t) {
                        e = "4.5.7";
                        var n,
                            t = t.replace(/\./g, "");
                        e = e.replace(/\./g, ""), n = t.length - e.length, n = 0 <= n ? n : 0, e = parseInt(t) >= parseInt(e) * Math.pow(10, n)
                    }
                    return e ? Array(7).join(String.fromCharCode(8203)) : String.fromCharCode(8203)
                }()
            }],
            onLoadTimestamp: "",
            state: {
                scayt: {},
                grayt: {}
            },
            warningCounter: 0,
            suggestions: [],
            options: {
                disablingCommandExec: {
                    source: !0,
                    newpage: !0,
                    templates: !0
                },
                data_attribute_name: "data-scayt-word",
                misspelled_word_class: "scayt-misspell-word",
                problem_grammar_data_attribute: "data-grayt-phrase",
                problem_grammar_class: "gramm-problem"
            },
            backCompatibilityMap: {
                scayt_service_protocol: "scayt_serviceProtocol",
                scayt_service_host: "scayt_serviceHost",
                scayt_service_port: "scayt_servicePort",
                scayt_service_path: "scayt_servicePath",
                scayt_customerid: "scayt_customerId"
            },
            alarmCompatibilityMessage: function() {
                5 > this.warningCounter && (console.warn("You are using the latest version of SCAYT plugin for CKEditor with the old application version. In order to have access to the newest features, it is recommended to upgrade the application version to latest one as well. Contact us for more details at support@webspellchecker.net."), this.warningCounter += 1)
            },
            isNewUdSupported: function(t) {
                return !!t.getUserDictionary
            },
            reloadMarkup: function(t) {
                var e;
                t && (e = t.getScaytLangList(), t.reloadMarkup ? t.reloadMarkup() : (this.alarmCompatibilityMessage(), e && e.ltr && e.rtl && t.fire("startSpellCheck, startGrammarCheck")))
            },
            replaceOldOptionsNames: function(t) {
                for (var e in t)
                    e in this.backCompatibilityMap && (t[this.backCompatibilityMap[e]] = t[e], delete t[e])
            },
            createScayt: function(t) {
                var e = this,
                    n = CKEDITOR.plugins.scayt;
                this.loadScaytLibrary(t, function(t) {
                    function i(t) {
                        return new SCAYT.CKSCAYT(t, function() {}, function() {})
                    }
                    var o = t.window && t.window.getFrame() || t.editable();
                    if (o) {
                        o = {
                            lang: t.config.scayt_sLang,
                            container: o.$,
                            customDictionary: t.config.scayt_customDictionaryIds,
                            userDictionaryName: t.config.scayt_userDictionaryName,
                            localization: t.langCode,
                            customer_id: t.config.scayt_customerId,
                            customPunctuation: t.config.scayt_customPunctuation,
                            debug: t.config.scayt_debug,
                            data_attribute_name: e.options.data_attribute_name,
                            misspelled_word_class: e.options.misspelled_word_class,
                            problem_grammar_data_attribute: e.options.problem_grammar_data_attribute,
                            problem_grammar_class: e.options.problem_grammar_class,
                            "options-to-restore": t.config.scayt_disableOptionsStorage,
                            focused: t.editable().hasFocus,
                            ignoreElementsRegex: t.config.scayt_elementsToIgnore,
                            ignoreGraytElementsRegex: t.config.grayt_elementsToIgnore,
                            minWordLength: t.config.scayt_minWordLength,
                            multiLanguageMode: t.config.scayt_multiLanguageMode,
                            multiLanguageStyles: t.config.scayt_multiLanguageStyles,
                            graytAutoStartup: n.state.grayt[t.name],
                            charsToObserve: n.charsToObserve
                        }, t.config.scayt_serviceProtocol && (o.service_protocol = t.config.scayt_serviceProtocol), t.config.scayt_serviceHost && (o.service_host = t.config.scayt_serviceHost), t.config.scayt_servicePort && (o.service_port = t.config.scayt_servicePort), t.config.scayt_servicePath && (o.service_path = t.config.scayt_servicePath), "boolean" == typeof t.config.scayt_ignoreAllCapsWords && (o["ignore-all-caps-words"] = t.config.scayt_ignoreAllCapsWords), "boolean" == typeof t.config.scayt_ignoreDomainNames && (o["ignore-domain-names"] = t.config.scayt_ignoreDomainNames), "boolean" == typeof t.config.scayt_ignoreWordsWithMixedCases && (o["ignore-words-with-mixed-cases"] = t.config.scayt_ignoreWordsWithMixedCases), "boolean" == typeof t.config.scayt_ignoreWordsWithNumbers && (o["ignore-words-with-numbers"] = t.config.scayt_ignoreWordsWithNumbers);
                        var a;
                        try {
                            a = i(o)
                        } catch (t) {
                            e.alarmCompatibilityMessage(), delete o.charsToObserve, a = i(o)
                        }
                        a.subscribe("suggestionListSend", function(t) {
                            for (var e = {}, n = [], i = 0; i < t.suggestionList.length; i++)
                                e["word_" + t.suggestionList[i]] || (e["word_" + t.suggestionList[i]] = t.suggestionList[i], n.push(t.suggestionList[i]));
                            CKEDITOR.plugins.scayt.suggestions = n
                        }), a.subscribe("selectionIsChanged", function(e) {
                            t.getSelection().isLocked && t.lockSelection()
                        }), a.subscribe("graytStateChanged", function(e) {
                            n.state.grayt[t.name] = e.state
                        }), a.addMarkupHandler && a.addMarkupHandler(function(e) {
                            var n = t.editable(),
                                i = n.getCustomData(e.charName);
                            i && (i.$ = e.node, n.setCustomData(e.charName, i))
                        }), t.scayt = a, t.fire("scaytButtonState", t.readOnly ? CKEDITOR.TRISTATE_DISABLED : CKEDITOR.TRISTATE_ON)
                    } else
                        n.state.scayt[t.name] = !1
                })
            },
            destroy: function(t) {
                t.scayt && t.scayt.destroy(), delete t.scayt, t.fire("scaytButtonState", CKEDITOR.TRISTATE_OFF)
            },
            loadScaytLibrary: function(t, e) {
                var n,
                    i = function() {
                        CKEDITOR.fireOnce("scaytReady"), t.scayt || "function" == typeof e && e(t)
                    };
                "undefined" == typeof window.SCAYT || "function" != typeof window.SCAYT.CKSCAYT ? (n = t.config.scayt_srcUrl + "?" + this.onLoadTimestamp, CKEDITOR.scriptLoader.load(n, function(t) {
                    t && i()
                })) : window.SCAYT && "function" == typeof window.SCAYT.CKSCAYT && i()
            }
        }, CKEDITOR.on("dialogDefinition", function(t) {
            var e = t.data.name;
            t = t.data.definition.dialog, "scaytDialog" === e && t.on("cancel", function(t) {
                return !1
            }, this, null, -1), "checkspell" === e && t.on("cancel", function(t) {
                t = t.sender && t.sender.getParentEditor();
                var e = CKEDITOR.plugins.scayt,
                    n = t.scayt;
                n && e.state.scayt[t.name] && n.setMarkupPaused && n.setMarkupPaused(!1), t.unlockSelection()
            }, this, null, -2), "link" === e && t.on("ok", function(t) {
                var e = t.sender && t.sender.getParentEditor();
                e && setTimeout(function() {
                    e.fire("reloadMarkupScayt", {
                        removeOptions: {
                            removeInside: !0,
                            forceBookmark: !0
                        },
                        timeout: 0
                    })
                }, 0)
            })
        }), CKEDITOR.on("scaytReady", function() {
            if (!0 === CKEDITOR.config.scayt_handleCheckDirty) {
                var t = CKEDITOR.editor.prototype;
                t.checkDirty = CKEDITOR.tools.override(t.checkDirty, function(t) {
                    return function() {
                        var e = null,
                            n = this.scayt;
                        if (CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt) {
                            if (e = "ready" == this.status)
                                var i = n.removeMarkupFromString(this.getSnapshot()),
                                    n = n.removeMarkupFromString(this._.previousValue),
                                    e = e && n !== i
                        } else
                            e = t.call(this);
                        return e
                    }
                }), t.resetDirty = CKEDITOR.tools.override(t.resetDirty, function(t) {
                    return function() {
                        var e = this.scayt;
                        CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[this.name] && this.scayt ? this._.previousValue = e.removeMarkupFromString(this.getSnapshot()) : t.call(this)
                    }
                })
            }
            if (!0 === CKEDITOR.config.scayt_handleUndoRedo) {
                var t = CKEDITOR.plugins.undo.Image.prototype,
                    e = "function" == typeof t.equalsContent ? "equalsContent" : "equals";
                t[e] = CKEDITOR.tools.override(t[e], function(t) {
                    return function(e) {
                        var n = e.editor.scayt,
                            i = this.contents,
                            o = e.contents,
                            a = null;
                        return CKEDITOR.plugins.scayt && CKEDITOR.plugins.scayt.state.scayt[e.editor.name] && e.editor.scayt && (this.contents = n.removeMarkupFromString(i) || "", e.contents = n.removeMarkupFromString(o) || ""), a = t.apply(this, arguments), this.contents = i, e.contents = o, a
                    }
                })
            }
        }), function() {
            CKEDITOR.plugins.add("stylescombo", {
                requires: "richcombo",
                init: function(t) {
                    var e = t.config,
                        n = t.lang.stylescombo,
                        i = {},
                        o = [],
                        a = [];
                    t.on("stylesSet", function(n) {
                        if (n = n.data.styles) {
                            for (var s, r, l, c = 0, u = n.length; c < u; c++)
                                s = n[c], t.blockless && s.element in CKEDITOR.dtd.$block || "string" == typeof s.type && !CKEDITOR.style.customHandlers[s.type] || (r = s.name, s = new CKEDITOR.style(s), t.filter.customConfig && !t.filter.check(s)) || (s._name = r, s._.enterMode = e.enterMode, s._.type = l = s.assignedTo || s.type, s._.weight = c + 1e3 * (l == CKEDITOR.STYLE_OBJECT ? 1 : l == CKEDITOR.STYLE_BLOCK ? 2 : 3), i[r] = s, o.push(s), a.push(s));
                            o.sort(function(t, e) {
                                return t._.weight - e._.weight
                            })
                        }
                    }), t.ui.addRichCombo("Styles", {
                        label: n.label,
                        title: n.panelTitle,
                        toolbar: "styles,10",
                        allowedContent: a,
                        panel: {
                            css: [CKEDITOR.skin.getPath("editor")].concat(e.contentsCss),
                            multiSelect: !0,
                            attributes: {
                                "aria-label": n.panelTitle
                            }
                        },
                        init: function() {
                            var t,
                                e,
                                i,
                                a,
                                s,
                                r;
                            for (s = 0, r = o.length; s < r; s++)
                                t = o[s], e = t._name, a = t._.type, a != i && (this.startGroup(n["panelTitle" + String(a)]), i = a), this.add(e, t.type == CKEDITOR.STYLE_OBJECT ? e : t.buildPreview(), e);
                            this.commit()
                        },
                        onClick: function(e) {
                            t.focus(), t.fire("saveSnapshot"), e = i[e];
                            var n = t.elementPath();
                            e.group && e.removeStylesFromSameGroup(t) ? t.applyStyle(e) : t[e.checkActive(n, t) ? "removeStyle" : "applyStyle"](e), t.fire("saveSnapshot")
                        },
                        onRender: function() {
                            t.on("selectionChange", function(e) {
                                var n = this.getValue();
                                e = e.data.path.elements;
                                for (var o = 0, a = e.length, s; o < a; o++) {
                                    s = e[o];
                                    for (var r in i)
                                        if (i[r].checkElementRemovable(s, !0, t))
                                            return void (r != n && this.setValue(r))
                                }
                                this.setValue("")
                            }, this)
                        },
                        onOpen: function() {
                            var e = t.getSelection().getSelectedElement(),
                                e = t.elementPath(e),
                                o = [0, 0, 0, 0];
                            this.showAll(), this.unmarkAll();
                            for (var a in i) {
                                var s = i[a],
                                    r = s._.type;
                                s.checkApplicable(e, t, t.activeFilter) ? o[r]++ : this.hideItem(a), s.checkActive(e, t) && this.mark(a)
                            }
                            o[CKEDITOR.STYLE_BLOCK] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_BLOCK)]), o[CKEDITOR.STYLE_INLINE] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_INLINE)]), o[CKEDITOR.STYLE_OBJECT] || this.hideGroup(n["panelTitle" + String(CKEDITOR.STYLE_OBJECT)])
                        },
                        refresh: function() {
                            var e = t.elementPath();
                            if (e) {
                                for (var n in i)
                                    if (i[n].checkApplicable(e, t, t.activeFilter))
                                        return;
                                this.setState(CKEDITOR.TRISTATE_DISABLED)
                            }
                        },
                        reset: function() {
                            i = {}, o = []
                        }
                    })
                }
            })
        }(), function() {
            function t(t) {
                return {
                    editorFocus: !1,
                    canUndo: !1,
                    modes: {
                        wysiwyg: 1
                    },
                    exec: function(e) {
                        if (e.editable().hasFocus) {
                            var n = e.getSelection(),
                                i;
                            if (i = new CKEDITOR.dom.elementPath(n.getCommonAncestor(), n.root).contains({
                                td: 1,
                                th: 1
                            }, 1)) {
                                var n = e.createRange(),
                                    o = CKEDITOR.tools.tryThese(function() {
                                        var e = i.getParent().$.cells[i.$.cellIndex + (t ? -1 : 1)];
                                        return e.parentNode.parentNode, e
                                    }, function() {
                                        var e = i.getParent(),
                                            e = e.getAscendant("table").$.rows[e.$.rowIndex + (t ? -1 : 1)];
                                        return e.cells[t ? e.cells.length - 1 : 0]
                                    });
                                if (o || t) {
                                    if (!o)
                                        return !0;
                                    o = new CKEDITOR.dom.element(o), n.moveToElementEditStart(o), n.checkStartOfBlock() && n.checkEndOfBlock() || n.selectNodeContents(o)
                                } else {
                                    for (var a = i.getAscendant("table").$, o = i.getParent().$.cells, a = new CKEDITOR.dom.element(a.insertRow(-1), e.document), s = 0, r = o.length; s < r; s++)
                                        a.append(new CKEDITOR.dom.element(o[s], e.document).clone(!1, !1)).appendBogus();
                                    n.moveToElementEditStart(a)
                                }
                                return n.select(!0), !0
                            }
                        }
                        return !1
                    }
                }
            }
            var e = {
                    editorFocus: !1,
                    modes: {
                        wysiwyg: 1,
                        source: 1
                    }
                },
                n = {
                    exec: function(t) {
                        t.container.focusNext(!0, t.tabIndex)
                    }
                },
                i = {
                    exec: function(t) {
                        t.container.focusPrevious(!0, t.tabIndex)
                    }
                };
            CKEDITOR.plugins.add("tab", {
                init: function(o) {
                    for (var a = !1 !== o.config.enableTabKeyTools, s = o.config.tabSpaces || 0, r = ""; s--;)
                        r += "\xa0";
                    r && o.on("key", function(t) {
                        9 == t.data.keyCode && (o.insertText(r), t.cancel())
                    }), a && o.on("key", function(t) {
                        (9 == t.data.keyCode && o.execCommand("selectNextCell") || t.data.keyCode == CKEDITOR.SHIFT + 9 && o.execCommand("selectPreviousCell")) && t.cancel()
                    }), o.addCommand("blur", CKEDITOR.tools.extend(n, e)), o.addCommand("blurBack", CKEDITOR.tools.extend(i, e)), o.addCommand("selectNextCell", t()), o.addCommand("selectPreviousCell", t(!0))
                }
            })
        }(), CKEDITOR.dom.element.prototype.focusNext = function(t, e) {
            var n = void 0 === e ? this.getTabIndex() : e,
                i,
                o,
                a,
                s,
                r,
                l;
            if (0 >= n)
                for (r = this.getNextSourceNode(t, CKEDITOR.NODE_ELEMENT); r;) {
                    if (r.isVisible() && 0 === r.getTabIndex()) {
                        a = r;
                        break
                    }
                    r = r.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT)
                }
            else
                for (r = this.getDocument().getBody().getFirst(); r = r.getNextSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
                    if (!i)
                        if (!o && r.equals(this)) {
                            if (o = !0, t) {
                                if (!(r = r.getNextSourceNode(!0, CKEDITOR.NODE_ELEMENT)))
                                    break;
                                i = 1
                            }
                        } else
                            o && !this.contains(r) && (i = 1);
                    if (r.isVisible() && !(0 > (l = r.getTabIndex()))) {
                        if (i && l == n) {
                            a = r;
                            break
                        }
                        l > n && (!a || !s || l < s) ? (a = r, s = l) : a || 0 !== l || (a = r, s = l)
                    }
                }
            a && a.focus()
        }, CKEDITOR.dom.element.prototype.focusPrevious = function(t, e) {
            for (var n = void 0 === e ? this.getTabIndex() : e, i, o, a, s = 0, r, l = this.getDocument().getBody().getLast(); l = l.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT);) {
                if (!i)
                    if (!o && l.equals(this)) {
                        if (o = !0, t) {
                            if (!(l = l.getPreviousSourceNode(!0, CKEDITOR.NODE_ELEMENT)))
                                break;
                            i = 1
                        }
                    } else
                        o && !this.contains(l) && (i = 1);
                if (l.isVisible() && !(0 > (r = l.getTabIndex())))
                    if (0 >= n) {
                        if (i && 0 === r) {
                            a = l;
                            break
                        }
                        r > s && (a = l, s = r)
                    } else {
                        if (i && r == n) {
                            a = l;
                            break
                        }
                        r < n && (!a || r > s) && (a = l, s = r)
                    }
            }
            a && a.focus()
        }, CKEDITOR.plugins.add("table", {
            requires: "dialog",
            init: function(t) {
                function e(t) {
                    return CKEDITOR.tools.extend(t || {}, {
                        contextSensitive: 1,
                        refresh: function(t, e) {
                            this.setState(e.contains("table", 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                        }
                    })
                }
                if (!t.blockless) {
                    var n = t.lang.table;
                    t.addCommand("table", new CKEDITOR.dialogCommand("table", {
                        context: "table",
                        allowedContent: "table{width,height}[align,border,cellpadding,cellspacing,summary];caption tbody thead tfoot;th td tr[scope];" + (t.plugins.dialogadvtab ? "table" + t.plugins.dialogadvtab.allowedContent() : ""),
                        requiredContent: "table",
                        contentTransformations: [["table{width}: sizeToStyle", "table[width]: sizeToAttribute"], ["td: splitBorderShorthand"], [{
                            element: "table",
                            right: function(t) {
                                t.styles && (t.styles.border && t.styles.border.match(/solid/) && (t.attributes.border = 1), "collapse" == t.styles["border-collapse"] && (t.attributes.cellspacing = 0))
                            }
                        }]]
                    })), t.addCommand("tableProperties", new CKEDITOR.dialogCommand("tableProperties", e())), t.addCommand("tableDelete", e({
                        exec: function(t) {
                            var e = t.elementPath().contains("table", 1);
                            if (e) {
                                var n = e.getParent(),
                                    i = t.editable();
                                1 != n.getChildCount() || n.is("td", "th") || n.equals(i) || (e = n), t = t.createRange(), t.moveToPosition(e, CKEDITOR.POSITION_BEFORE_START), e.remove(), t.select()
                            }
                        }
                    })), t.ui.addButton && t.ui.addButton("Table", {
                        label: n.toolbar,
                        command: "table",
                        toolbar: "insert,30"
                    }), CKEDITOR.dialog.add("table", this.path + "dialogs/table.js"), CKEDITOR.dialog.add("tableProperties", this.path + "dialogs/table.js"), t.addMenuItems && t.addMenuItems({
                        table: {
                            label: n.menu,
                            command: "tableProperties",
                            group: "table",
                            order: 5
                        },
                        tabledelete: {
                            label: n.deleteTable,
                            command: "tableDelete",
                            group: "table",
                            order: 1
                        }
                    }), t.on("doubleclick", function(t) {
                        t.data.element.is("table") && (t.data.dialog = "tableProperties")
                    }), t.contextMenu && t.contextMenu.addListener(function() {
                        return {
                            tabledelete: CKEDITOR.TRISTATE_OFF,
                            table: CKEDITOR.TRISTATE_OFF
                        }
                    })
                }
            }
        }), function() {
            function t(t, e) {
                function n(t) {
                    return !e || e.contains(t) && t.getAscendant("table", !0).equals(e)
                }
                function i(t) {
                    0 < a.length || t.type != CKEDITOR.NODE_ELEMENT || !f.test(t.getName()) || t.getCustomData("selected_cell") || (CKEDITOR.dom.element.setMarker(s, t, "selected_cell", !0), a.push(t))
                }
                if (t) {
                    for (var o = t.getRanges(), a = [], s = {}, r = 0; r < o.length; r++) {
                        var l = o[r];
                        if (l.collapsed)
                            (l = l.getCommonAncestor().getAscendant({
                                td: 1,
                                th: 1
                            }, !0)) && n(l) && a.push(l);
                        else {
                            var l = new CKEDITOR.dom.walker(l),
                                c;
                            for (l.guard = i; c = l.next();)
                                c.type == CKEDITOR.NODE_ELEMENT && c.is(CKEDITOR.dtd.table) || (c = c.getAscendant({
                                    td: 1,
                                    th: 1
                                }, !0)) && !c.getCustomData("selected_cell") && n(c) && (CKEDITOR.dom.element.setMarker(s, c, "selected_cell", !0), a.push(c))
                        }
                    }
                    return CKEDITOR.dom.element.clearAllMarkers(s), a
                }
            }
            function e(e, n) {
                for (var i = p(e) ? e : t(e), o = i[0], a = o.getAscendant("table"), o = o.getDocument(), s = i[0].getParent(), r = s.$.rowIndex, i = i[i.length - 1], l = i.getParent().$.rowIndex + i.$.rowSpan - 1, i = new CKEDITOR.dom.element(a.$.rows[l]), r = n ? r : l, s = n ? s : i, i = CKEDITOR.tools.buildTableMap(a), a = i[r], r = n ? i[r - 1] : i[r + 1], i = i[0].length, o = o.createElement("tr"), l = 0; a[l] && l < i; l++) {
                    var c;
                    1 < a[l].rowSpan && r && a[l] == r[l] ? (c = a[l], c.rowSpan += 1) : (c = new CKEDITOR.dom.element(a[l]).clone(), c.removeAttribute("rowSpan"), c.appendBogus(), o.append(c), c = c.$), l += c.colSpan - 1
                }
                n ? o.insertBefore(s) : o.insertAfter(s)
            }
            function n(e) {
                if (e instanceof CKEDITOR.dom.selection) {
                    var i = e.getRanges(),
                        o = t(e),
                        a = o[0].getAscendant("table"),
                        s = CKEDITOR.tools.buildTableMap(a),
                        r = o[0].getParent().$.rowIndex,
                        o = o[o.length - 1],
                        l = o.getParent().$.rowIndex + o.$.rowSpan - 1,
                        o = [];
                    for (e.reset(), e = r; e <= l; e++) {
                        for (var c = s[e], u = new CKEDITOR.dom.element(a.$.rows[e]), d = 0; d < c.length; d++) {
                            var h = new CKEDITOR.dom.element(c[d]),
                                f = h.getParent().$.rowIndex;
                            1 == h.$.rowSpan ? h.remove() : (--h.$.rowSpan, f == e && (f = s[e + 1], f[d - 1] ? h.insertAfter(new CKEDITOR.dom.element(f[d - 1])) : new CKEDITOR.dom.element(a.$.rows[e + 1]).append(h, 1))), d += h.$.colSpan - 1
                        }
                        o.push(u)
                    }
                    for (s = a.$.rows, i[0].moveToPosition(a, CKEDITOR.POSITION_BEFORE_START), r = new CKEDITOR.dom.element(s[l + 1] || (0 < r ? s[r - 1] : null) || a.$.parentNode), e = o.length; 0 <= e; e--)
                        n(o[e]);
                    return a.$.parentNode ? r : (i[0].select(), null)
                }
                return e instanceof CKEDITOR.dom.element && (a = e.getAscendant("table"), 1 == a.$.rows.length ? a.remove() : e.remove()), null
            }
            function i(t, e) {
                for (var n = t.getParent().$.cells, i = 0, o = 0; o < n.length; o++) {
                    var a = n[o],
                        i = i + (e ? 1 : a.colSpan);
                    if (a == t.$)
                        break
                }
                return i - 1
            }
            function o(t, e) {
                for (var n = e ? Infinity : 0, o = 0; o < t.length; o++) {
                    var a = i(t[o], e);
                    (e ? a < n : a > n) && (n = a)
                }
                return n
            }
            function a(e, n) {
                for (var i = p(e) ? e : t(e), a = i[0].getAscendant("table"), s = o(i, 1), i = o(i), r = n ? s : i, l = CKEDITOR.tools.buildTableMap(a), a = [], s = [], i = l.length, c = 0; c < i; c++)
                    a.push(l[c][r]), s.push(n ? l[c][r - 1] : l[c][r + 1]);
                for (c = 0; c < i; c++)
                    a[c] && (1 < a[c].colSpan && s[c] == a[c] ? (l = a[c], l.colSpan += 1) : (r = new CKEDITOR.dom.element(a[c]), l = r.clone(), l.removeAttribute("colSpan"), l.appendBogus(), l[n ? "insertBefore" : "insertAfter"].call(l, r), l = l.$), c += l.rowSpan - 1)
            }
            function s(t, e) {
                var n = t.getStartElement().getAscendant({
                    td: 1,
                    th: 1
                }, !0);
                if (n) {
                    var i = n.clone();
                    i.appendBogus(), e ? i.insertBefore(n) : i.insertAfter(n)
                }
            }
            function r(e) {
                if (e instanceof CKEDITOR.dom.selection) {
                    var n = e.getRanges(),
                        i = t(e),
                        o = i[0] && i[0].getAscendant("table"),
                        a;
                    t:
                    {
                        var s = 0;
                        a = i.length - 1;
                        for (var c = {}, u, d; u = i[s++];)
                            CKEDITOR.dom.element.setMarker(c, u, "delete_cell", !0);
                        for (s = 0; u = i[s++];)
                            if ((d = u.getPrevious()) && !d.getCustomData("delete_cell") || (d = u.getNext()) && !d.getCustomData("delete_cell")) {
                                CKEDITOR.dom.element.clearAllMarkers(c), a = d;
                                break t
                            }
                        CKEDITOR.dom.element.clearAllMarkers(c), s = i[0].getParent(), (s = s.getPrevious()) ? a = s.getLast() : (s = i[a].getParent(), a = (s = s.getNext()) ? s.getChild(0) : null)
                    }for (e.reset(), e = i.length - 1; 0 <= e; e--)
                        r(i[e]);
                    a ? l(a, !0) : o && (n[0].moveToPosition(o, CKEDITOR.POSITION_BEFORE_START), n[0].select(), o.remove())
                } else
                    e instanceof CKEDITOR.dom.element && (n = e.getParent(), 1 == n.getChildCount() ? n.remove() : e.remove())
            }
            function l(t, e) {
                var n = t.getDocument(),
                    i = CKEDITOR.document;
                CKEDITOR.env.ie && 10 == CKEDITOR.env.version && (i.focus(), n.focus()), n = new CKEDITOR.dom.range(n), n["moveToElementEdit" + (e ? "End" : "Start")](t) || (n.selectNodeContents(t), n.collapse(!e)), n.select(!0)
            }
            function c(t, e, n) {
                if (t = t[e], void 0 === n)
                    return t;
                for (e = 0; t && e < t.length; e++) {
                    if (n.is && t[e] == n.$)
                        return e;
                    if (e == n)
                        return new CKEDITOR.dom.element(t[e])
                }
                return n.is ? -1 : null
            }
            function u(e, n, i) {
                var o = t(e),
                    a;
                if ((n ? 1 != o.length : 2 > o.length) || (a = e.getCommonAncestor()) && a.type == CKEDITOR.NODE_ELEMENT && a.is("table"))
                    return !1;
                var s;
                e = o[0], a = e.getAscendant("table");
                var r = CKEDITOR.tools.buildTableMap(a),
                    l = r.length,
                    u = r[0].length,
                    d = e.getParent().$.rowIndex,
                    h = c(r, d, e);
                if (n) {
                    var f;
                    try {
                        var p = parseInt(e.getAttribute("rowspan"), 10) || 1;
                        s = parseInt(e.getAttribute("colspan"), 10) || 1,
                        f = r["up" == n ? d - p : "down" == n ? d + p : d]["left" == n ? h - s : "right" == n ? h + s : h]
                    } catch (t) {
                        return !1
                    }
                    if (!f || e.$ == f)
                        return !1;
                    o["up" == n || "left" == n ? "unshift" : "push"](new CKEDITOR.dom.element(f))
                }
                n = e.getDocument();
                var m = d,
                    p = f = 0,
                    g = !i && new CKEDITOR.dom.documentFragment(n),
                    v = 0;
                for (n = 0; n < o.length; n++) {
                    s = o[n];
                    var b = s.getParent(),
                        E = s.getFirst(),
                        y = s.$.colSpan,
                        T = s.$.rowSpan,
                        b = b.$.rowIndex,
                        C = c(r, b, s),
                        v = v + y * T,
                        p = Math.max(p, C - h + y);
                    f = Math.max(f, b - d + T), i || (y = s, (T = y.getBogus()) && T.remove(), y.trim(), s.getChildren().count() && (b == m || !E || E.isBlockBoundary && E.isBlockBoundary({
                        br: 1
                    }) || !(m = g.getLast(CKEDITOR.dom.walker.whitespaces(!0))) || m.is && m.is("br") || g.append("br"), s.moveChildren(g)), n ? s.remove() : s.setHtml("")), m = b
                }
                if (i)
                    return f * p == v;
                for (g.moveChildren(e), e.appendBogus(), p >= u ? e.removeAttribute("rowSpan") : e.$.rowSpan = f, f >= l ? e.removeAttribute("colSpan") : e.$.colSpan = p, i = new CKEDITOR.dom.nodeList(a.$.rows), o = i.count(), n = o - 1; 0 <= n; n--)
                    a = i.getItem(n), a.$.cells.length || (a.remove(), o++);
                return e
            }
            function d(e, n) {
                var i = t(e);
                if (1 < i.length)
                    return !1;
                if (n)
                    return !0;
                var i = i[0],
                    o = i.getParent(),
                    a = o.getAscendant("table"),
                    s = CKEDITOR.tools.buildTableMap(a),
                    r = o.$.rowIndex,
                    l = c(s, r, i),
                    u = i.$.rowSpan,
                    d;
                if (1 < u) {
                    d = Math.ceil(u / 2);
                    for (var u = Math.floor(u / 2), o = r + d, a = new CKEDITOR.dom.element(a.$.rows[o]), s = c(s, o), h, o = i.clone(), r = 0; r < s.length; r++) {
                        if (h = s[r], h.parentNode == a.$ && r > l) {
                            o.insertBefore(new CKEDITOR.dom.element(h));
                            break
                        }
                        h = null
                    }
                    h || a.append(o)
                } else
                    for (u = d = 1, a = o.clone(), a.insertAfter(o), a.append(o = i.clone()), h = c(s, r), l = 0; l < h.length; l++)
                        h[l].rowSpan++;
                return o.appendBogus(), i.$.rowSpan = d, o.$.rowSpan = u, 1 == d && i.removeAttribute("rowSpan"), 1 == u && o.removeAttribute("rowSpan"), o
            }
            function h(e, n) {
                var i = t(e);
                if (1 < i.length)
                    return !1;
                if (n)
                    return !0;
                var i = i[0],
                    o = i.getParent(),
                    a = o.getAscendant("table"),
                    a = CKEDITOR.tools.buildTableMap(a),
                    s = c(a, o.$.rowIndex, i),
                    r = i.$.colSpan;
                if (1 < r)
                    o = Math.ceil(r / 2), r = Math.floor(r / 2);
                else {
                    for (var r = o = 1, l = [], u = 0; u < a.length; u++) {
                        var d = a[u];
                        l.push(d[s]), 1 < d[s].rowSpan && (u += d[s].rowSpan - 1)
                    }
                    for (a = 0; a < l.length; a++)
                        l[a].colSpan++
                }
                return a = i.clone(), a.insertAfter(i), a.appendBogus(), i.$.colSpan = o, a.$.colSpan = r, 1 == o && i.removeAttribute("colSpan"), 1 == r && a.removeAttribute("colSpan"), a
            }
            var f = /^(?:td|th)$/,
                p = CKEDITOR.tools.isArray;
            CKEDITOR.plugins.tabletools = {
                requires: "table,dialog,contextmenu",
                init: function(i) {
                    function o(t) {
                        return CKEDITOR.tools.extend(t || {}, {
                            contextSensitive: 1,
                            refresh: function(t, e) {
                                this.setState(e.contains({
                                    td: 1,
                                    th: 1
                                }, 1) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                            }
                        })
                    }
                    function c(t, e) {
                        var n = i.addCommand(t, e);
                        i.addFeature(n)
                    }
                    var f = i.lang.table,
                        p = CKEDITOR.tools.style.parse;
                    c("cellProperties", new CKEDITOR.dialogCommand("cellProperties", o({
                        allowedContent: "td th{width,height,border-color,background-color,white-space,vertical-align,text-align}[colspan,rowspan]",
                        requiredContent: "table",
                        contentTransformations: [[{
                            element: "td",
                            left: function(t) {
                                return t.styles.background && p.background(t.styles.background).color
                            },
                            right: function(t) {
                                t.styles["background-color"] = p.background(t.styles.background).color
                            }
                        }, {
                            element: "td",
                            check: "td{vertical-align}",
                            left: function(t) {
                                return t.attributes && t.attributes.valign
                            },
                            right: function(t) {
                                t.styles["vertical-align"] = t.attributes.valign, delete t.attributes.valign
                            }
                        }], [{
                            element: "tr",
                            check: "td{height}",
                            left: function(t) {
                                return t.styles && t.styles.height
                            },
                            right: function(t) {
                                CKEDITOR.tools.array.forEach(t.children, function(e) {
                                    e.name in {
                                        td: 1,
                                        th: 1
                                    } && (e.attributes["cke-row-height"] = t.styles.height)
                                }), delete t.styles.height
                            }
                        }], [{
                            element: "td",
                            check: "td{height}",
                            left: function(t) {
                                return (t = t.attributes) && t["cke-row-height"]
                            },
                            right: function(t) {
                                t.styles.height = t.attributes["cke-row-height"], delete t.attributes["cke-row-height"]
                            }
                        }]]
                    }))), CKEDITOR.dialog.add("cellProperties", this.path + "dialogs/tableCell.js"), c("rowDelete", o({
                        requiredContent: "table",
                        exec: function(t) {
                            t = t.getSelection(), (t = n(t)) && l(t)
                        }
                    })), c("rowInsertBefore", o({
                        requiredContent: "table",
                        exec: function(n) {
                            n = n.getSelection(), n = t(n), e(n, !0)
                        }
                    })), c("rowInsertAfter", o({
                        requiredContent: "table",
                        exec: function(n) {
                            n = n.getSelection(), n = t(n), e(n)
                        }
                    })), c("columnDelete", o({
                        requiredContent: "table",
                        exec: function(e) {
                            var n = e.getSelection();
                            e = n.getRanges();
                            var i = t(n),
                                o = i[0],
                                a = i[i.length - 1],
                                i = o.getAscendant("table"),
                                s = CKEDITOR.tools.buildTableMap(i),
                                r,
                                c,
                                u = [];
                            n.reset();
                            for (var d = 0, n = s.length; d < n; d++)
                                for (var h = 0, f = s[d].length; h < f; h++)
                                    s[d][h] == o.$ && (r = h), s[d][h] == a.$ && (c = h);
                            for (d = r; d <= c; d++)
                                for (h = 0; h < s.length; h++)
                                    a = s[h], o = new CKEDITOR.dom.element(i.$.rows[h]), a = new CKEDITOR.dom.element(a[d]), a.$ && (1 == a.$.colSpan ? a.remove() : --a.$.colSpan, h += a.$.rowSpan - 1, o.$.cells.length || u.push(o));
                            c = i.$.rows[0] && i.$.rows[0].cells, r = new CKEDITOR.dom.element(c[r] || (r ? c[r - 1] : i.$.parentNode)), u.length == n && (e[0].moveToPosition(i, CKEDITOR.POSITION_AFTER_END), e[0].select(), i.remove()), r && l(r, !0)
                        }
                    })), c("columnInsertBefore", o({
                        requiredContent: "table",
                        exec: function(e) {
                            e = e.getSelection(), e = t(e), a(e, !0)
                        }
                    })), c("columnInsertAfter", o({
                        requiredContent: "table",
                        exec: function(e) {
                            e = e.getSelection(), e = t(e), a(e)
                        }
                    })), c("cellDelete", o({
                        requiredContent: "table",
                        exec: function(t) {
                            t = t.getSelection(), r(t)
                        }
                    })), c("cellMerge", o({
                        allowedContent: "td[colspan,rowspan]",
                        requiredContent: "td[colspan,rowspan]",
                        exec: function(t, e) {
                            e.cell = u(t.getSelection()), l(e.cell, !0)
                        }
                    })), c("cellMergeRight", o({
                        allowedContent: "td[colspan]",
                        requiredContent: "td[colspan]",
                        exec: function(t, e) {
                            e.cell = u(t.getSelection(), "right"), l(e.cell, !0)
                        }
                    })), c("cellMergeDown", o({
                        allowedContent: "td[rowspan]",
                        requiredContent: "td[rowspan]",
                        exec: function(t, e) {
                            e.cell = u(t.getSelection(), "down"), l(e.cell, !0)
                        }
                    })), c("cellVerticalSplit", o({
                        allowedContent: "td[rowspan]",
                        requiredContent: "td[rowspan]",
                        exec: function(t) {
                            l(h(t.getSelection()))
                        }
                    })), c("cellHorizontalSplit", o({
                        allowedContent: "td[colspan]",
                        requiredContent: "td[colspan]",
                        exec: function(t) {
                            l(d(t.getSelection()))
                        }
                    })), c("cellInsertBefore", o({
                        requiredContent: "table",
                        exec: function(t) {
                            t = t.getSelection(), s(t, !0)
                        }
                    })), c("cellInsertAfter", o({
                        requiredContent: "table",
                        exec: function(t) {
                            t = t.getSelection(), s(t)
                        }
                    })), i.addMenuItems && i.addMenuItems({
                        tablecell: {
                            label: f.cell.menu,
                            group: "tablecell",
                            order: 1,
                            getItems: function() {
                                var e = i.getSelection(),
                                    n = t(e);
                                return {
                                    tablecell_insertBefore: CKEDITOR.TRISTATE_OFF,
                                    tablecell_insertAfter: CKEDITOR.TRISTATE_OFF,
                                    tablecell_delete: CKEDITOR.TRISTATE_OFF,
                                    tablecell_merge: u(e, null, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                    tablecell_merge_right: u(e, "right", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                    tablecell_merge_down: u(e, "down", !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                    tablecell_split_vertical: h(e, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                    tablecell_split_horizontal: d(e, !0) ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED,
                                    tablecell_properties: 0 < n.length ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED
                                }
                            }
                        },
                        tablecell_insertBefore: {
                            label: f.cell.insertBefore,
                            group: "tablecell",
                            command: "cellInsertBefore",
                            order: 5
                        },
                        tablecell_insertAfter: {
                            label: f.cell.insertAfter,
                            group: "tablecell",
                            command: "cellInsertAfter",
                            order: 10
                        },
                        tablecell_delete: {
                            label: f.cell.deleteCell,
                            group: "tablecell",
                            command: "cellDelete",
                            order: 15
                        },
                        tablecell_merge: {
                            label: f.cell.merge,
                            group: "tablecell",
                            command: "cellMerge",
                            order: 16
                        },
                        tablecell_merge_right: {
                            label: f.cell.mergeRight,
                            group: "tablecell",
                            command: "cellMergeRight",
                            order: 17
                        },
                        tablecell_merge_down: {
                            label: f.cell.mergeDown,
                            group: "tablecell",
                            command: "cellMergeDown",
                            order: 18
                        },
                        tablecell_split_horizontal: {
                            label: f.cell.splitHorizontal,
                            group: "tablecell",
                            command: "cellHorizontalSplit",
                            order: 19
                        },
                        tablecell_split_vertical: {
                            label: f.cell.splitVertical,
                            group: "tablecell",
                            command: "cellVerticalSplit",
                            order: 20
                        },
                        tablecell_properties: {
                            label: f.cell.title,
                            group: "tablecellproperties",
                            command: "cellProperties",
                            order: 21
                        },
                        tablerow: {
                            label: f.row.menu,
                            group: "tablerow",
                            order: 1,
                            getItems: function() {
                                return {
                                    tablerow_insertBefore: CKEDITOR.TRISTATE_OFF,
                                    tablerow_insertAfter: CKEDITOR.TRISTATE_OFF,
                                    tablerow_delete: CKEDITOR.TRISTATE_OFF
                                }
                            }
                        },
                        tablerow_insertBefore: {
                            label: f.row.insertBefore,
                            group: "tablerow",
                            command: "rowInsertBefore",
                            order: 5
                        },
                        tablerow_insertAfter: {
                            label: f.row.insertAfter,
                            group: "tablerow",
                            command: "rowInsertAfter",
                            order: 10
                        },
                        tablerow_delete: {
                            label: f.row.deleteRow,
                            group: "tablerow",
                            command: "rowDelete",
                            order: 15
                        },
                        tablecolumn: {
                            label: f.column.menu,
                            group: "tablecolumn",
                            order: 1,
                            getItems: function() {
                                return {
                                    tablecolumn_insertBefore: CKEDITOR.TRISTATE_OFF,
                                    tablecolumn_insertAfter: CKEDITOR.TRISTATE_OFF,
                                    tablecolumn_delete: CKEDITOR.TRISTATE_OFF
                                }
                            }
                        },
                        tablecolumn_insertBefore: {
                            label: f.column.insertBefore,
                            group: "tablecolumn",
                            command: "columnInsertBefore",
                            order: 5
                        },
                        tablecolumn_insertAfter: {
                            label: f.column.insertAfter,
                            group: "tablecolumn",
                            command: "columnInsertAfter",
                            order: 10
                        },
                        tablecolumn_delete: {
                            label: f.column.deleteColumn,
                            group: "tablecolumn",
                            command: "columnDelete",
                            order: 15
                        }
                    }), i.contextMenu && i.contextMenu.addListener(function(t, e, n) {
                        return (t = n.contains({
                            td: 1,
                            th: 1
                        }, 1)) && !t.isReadOnly() ? {
                            tablecell: CKEDITOR.TRISTATE_OFF,
                            tablerow: CKEDITOR.TRISTATE_OFF,
                            tablecolumn: CKEDITOR.TRISTATE_OFF
                        } : null
                    })
                },
                getCellColIndex: i,
                insertRow: e,
                insertColumn: a,
                getSelectedCells: t
            }, CKEDITOR.plugins.add("tabletools", CKEDITOR.plugins.tabletools)
        }(), CKEDITOR.tools.buildTableMap = function(t, e, n, i, o) {
            t = t.$.rows, n = n || 0, i = "number" == typeof i ? i : t.length - 1, o = "number" == typeof o ? o : -1;
            var a = -1,
                s = [];
            for (e = e || 0; e <= i; e++) {
                a++, !s[a] && (s[a] = []);
                for (var r = -1, l = n; l <= (-1 === o ? t[e].cells.length - 1 : o); l++) {
                    var c = t[e].cells[l];
                    if (!c)
                        break;
                    for (r++; s[a][r];)
                        r++;
                    for (var u = isNaN(c.colSpan) ? 1 : c.colSpan, c = isNaN(c.rowSpan) ? 1 : c.rowSpan, d = 0; d < c && !(e + d > i); d++) {
                        s[a + d] || (s[a + d] = []);
                        for (var h = 0; h < u; h++)
                            s[a + d][r + h] = t[e].cells[l]
                    }
                    if (r += u - 1, -1 !== o && r >= o)
                        break
                }
            }
            return s
        }, function() {
            function t(t, e) {
                var n = t.getAscendant("table"),
                    i = e.getAscendant("table"),
                    o = CKEDITOR.tools.buildTableMap(n),
                    a = t.getAscendant("tr", !0).$.rowIndex,
                    s = e.getAscendant("tr", !0).$.rowIndex,
                    r = [],
                    l = {},
                    c,
                    u;
                for (n.contains(i) && (e = e.getAscendant({
                    td: 1,
                    th: 1
                }), s = e.getAscendant("tr", !0).$.rowIndex), a > s && (n = a, a = s, s = n, n = t, t = e, e = n), n = 0; n < o[a].length; n++)
                    if (t.$ === o[a][n]) {
                        c = n;
                        break
                    }
                for (n = 0; n < o[s].length; n++)
                    if (e.$ === o[s][n]) {
                        u = n;
                        break
                    }
                for (c > u && (n = c, c = u, u = n), n = a; n <= s; n++)
                    for (a = c; a <= u; a++)
                        i = new CKEDITOR.dom.element(o[n][a]), i.$ && !i.getCustomData("selected_cell") && (r.push(i), CKEDITOR.dom.element.setMarker(l, i, "selected_cell", !0));
                return CKEDITOR.dom.element.clearAllMarkers(l), r
            }
            function e(t) {
                return t = t.data.$, CKEDITOR.env.ie && 9 > CKEDITOR.env.version ? 1 === t.button : 0 === t.button
            }
            function n(t) {
                return (t = t.editable().findOne(".cke_table-faked-selection")) && t.getAscendant("table")
            }
            function i(t, e) {
                var n = t.editable().find(".cke_table-faked-selection"),
                    i;
                for (t.fire("lockSnapshot"), t.editable().removeClass("cke_table-faked-selection-editor"), i = 0; i < n.count(); i++)
                    n.getItem(i).removeClass("cke_table-faked-selection");
                0 < n.count() && n.getItem(0).getAscendant("table").removeClass("cke_table-faked-selection-table"), t.fire("unlockSnapshot"), e && (p = {
                    active: !1
                }, t.getSelection().isInTable() && t.getSelection().reset())
            }
            function o(t, e) {
                var n = [],
                    i,
                    o;
                for (o = 0; o < e.length; o++)
                    i = t.createRange(), i.setStartBefore(e[o]), i.setEndAfter(e[o]), n.push(i);
                t.getSelection().selectRanges(n)
            }
            function a(e) {
                var n = e.editable().find(".cke_table-faked-selection");
                1 > n.count() || (n = t(n.getItem(0), n.getItem(n.count() - 1)), o(e, n))
            }
            function s(e, n, a) {
                var s = g(e.getSelection(!0));
                n = n.is("table") ? null : n;
                var r;
                if ((r = p.active && !p.first) && !(r = n) && (r = e.getSelection().getRanges(), r = !!(1 < s.length || r[0] && !r[0].collapsed)), r)
                    p.first = n || s[0], p.dirty = !n && 1 !== s.length;
                else if (p.active && n && p.first.getAscendant("table").equals(n.getAscendant("table"))) {
                    if (s = t(p.first, n), !p.dirty && 1 === s.length)
                        return i(e, "mouseup" === a.name);
                    p.dirty = !0, p.last = n, o(e, s)
                }
            }
            function r(t) {
                var e = (t = t.editor || t.sender.editor) && t.getSelection(),
                    n = e && e.getRanges() || [],
                    o;
                if (e && (i(t), e.isInTable() && e.isFake)) {
                    for (1 === n.length && n[0]._getTableElement() && n[0]._getTableElement().is("table") && (o = n[0]._getTableElement()), o = g(e, o), t.fire("lockSnapshot"), e = 0; e < o.length; e++)
                        o[e].addClass("cke_table-faked-selection");
                    0 < o.length && (t.editable().addClass("cke_table-faked-selection-editor"), o[0].getAscendant("table").addClass("cke_table-faked-selection-table")), t.fire("unlockSnapshot")
                }
            }
            function l(t) {
                function o(t, e) {
                    return !(!t || !e) && (t.equals(e) || t.contains(e) || e.contains(t) || t.getCommonAncestor(e).is(g))
                }
                function r(t) {
                    return !t.getAscendant("table", !0) && t.getDocument().equals(u.document)
                }
                function c(t, n, i, a) {
                    return !(("mousedown" !== t.name || !e(t) && a) && ("mouseup" !== t.name || r(t.data.getTarget()) || o(i, a)))
                }
                if (t.data.getTarget().getName) {
                    var u = t.editor || t.listenerData.editor,
                        d = u.getSelection(1),
                        h = n(u),
                        f = t.data.getTarget(),
                        m = f && f.getAscendant({
                            td: 1,
                            th: 1
                        }, !0),
                        f = f && f.getAscendant("table", !0),
                        g = {
                            table: 1,
                            thead: 1,
                            tbody: 1,
                            tfoot: 1,
                            tr: 1,
                            td: 1,
                            th: 1
                        };
                    c(t, d, h, f) && i(u, !0), !p.active && "mousedown" === t.name && e(t) && f && (p = {
                        active: !0
                    }, CKEDITOR.document.on("mouseup", l, null, {
                        editor: u
                    })), (m || f) && s(u, m || f, t), "mouseup" === t.name && (e(t) && (r(t.data.getTarget()) || o(h, f)) && a(u), p = {
                        active: !1
                    }, CKEDITOR.document.removeListener("mouseup", l))
                }
            }
            function c(t) {
                var e = t.data.getTarget().getAscendant({
                    td: 1,
                    th: 1
                }, !0);
                e && !e.hasClass("cke_table-faked-selection") && (t.cancel(), t.data.preventDefault())
            }
            function u(t, e) {
                function n(t) {
                    t.cancel()
                }
                var i = t.getSelection(),
                    o = i.createBookmarks(),
                    a = t.document,
                    s = t.createRange(),
                    r = a.getDocumentElement().$,
                    l = CKEDITOR.env.ie && 9 > CKEDITOR.env.version,
                    c = t.blockless || CKEDITOR.env.ie ? "span" : "div",
                    u,
                    d,
                    h,
                    f;
                a.getById("cke_table_copybin") || (u = a.createElement(c), d = a.createElement(c), d.setAttributes({
                    id: "cke_table_copybin",
                    "data-cke-temp": "1"
                }), u.setStyles({
                    position: "absolute",
                    width: "1px",
                    height: "1px",
                    overflow: "hidden"
                }), u.setStyle("ltr" == t.config.contentsLangDirection ? "left" : "right", "-5000px"), u.setHtml(t.getSelectedHtml(!0)), t.fire("lockSnapshot"), d.append(u), t.editable().append(d), f = t.on("selectionChange", n, null, null, 0), l && (h = r.scrollTop), s.selectNodeContents(u), s.select(), l && (r.scrollTop = h), setTimeout(function() {
                    d.remove(), i.selectBookmarks(o), f.removeListener(), t.fire("unlockSnapshot"), e && (t.extractSelectedHtml(), t.fire("saveSnapshot"))
                }, 100))
            }
            function d(t) {
                var e = t.editor || t.sender.editor;
                e.getSelection().isInTable() && u(e, "cut" === t.name)
            }
            function h(e) {
                function n(t) {
                    t = t.getRanges()[0];
                    var e = t.endContainer.getAscendant("tr", !0);
                    if (e && t.collapsed) {
                        if (t.checkBoundaryOfElement(e, CKEDITOR.START))
                            return 1;
                        if (t.checkBoundaryOfElement(e, CKEDITOR.END))
                            return 2
                    }
                    return 0
                }
                function i(t) {
                    var e = 0,
                        n;
                    for (n = 0; n < t.length; n++)
                        t[n].length > e && (e = t[n].length);
                    return e
                }
                function a(t) {
                    var e = t.getAscendant("table"),
                        n = t.getParent().$.rowIndex,
                        e = CKEDITOR.tools.buildTableMap(e),
                        i;
                    for (i = 0; i < e[n].length; i++)
                        if (new CKEDITOR.dom.element(e[n][i]).equals(t))
                            return i
                }
                var s = e.editor,
                    r = s.dataProcessor,
                    l = s.getSelection(),
                    c = new CKEDITOR.dom.element("body"),
                    u = 0,
                    d = 0,
                    h = 0,
                    f = 0,
                    p = {},
                    m,
                    y,
                    T,
                    C,
                    _,
                    D;
                if (r || (r = new CKEDITOR.htmlDataProcessor(s)), c.setHtml(r.toHtml(e.data.dataValue), {
                    fixForBody: !1
                }), f = c.findOne("table"), l.getRanges().length && (l.isInTable() || (m = n(l))) && (y = g(l), y.length)) {
                    if (e.stop(), e = y[0].getAscendant("table"), y = g(l, e), T = y[0], h = T.getParent(), C = y[y.length - 1], _ = C.getParent(), !m)
                        for (r = 0; r < y.length; r++)
                            y[r].setHtml("");
                    if (1 < c.getChildCount() || !f)
                        y[0].setHtml(c.getHtml()), s.fire("saveSnapshot");
                    else {
                        if (m) {
                            for (y = h.getChildCount(), h = _ = new CKEDITOR.dom.element("tr"), h["insert" + (1 === m ? "Before" : "After")](T.getParent()), r = 0; r < y; r++)
                                T = new CKEDITOR.dom.element("td"), T.appendTo(h);
                            T = h.getFirst(), C = h.getLast(), l.selectElement(h), y = g(l)
                        }
                        if (m = CKEDITOR.tools.buildTableMap(e, h.$.rowIndex, v(T, !0), _.$.rowIndex, a(C)), l = CKEDITOR.tools.buildTableMap(f), h = i(l), f = i(m), l.length > m.length)
                            for (u = l.length - m.length, r = 0; r < u; r++)
                                b(y);
                        if (h > f)
                            for (d = h - f, r = 0; r < d; r++)
                                E(y);
                        for (T = y[0], h = T.getParent(), C = y[y.length - 1], _ = new CKEDITOR.dom.element(e.$.rows[C.getParent().$.rowIndex + u]), C = _.getChild(C.$.cellIndex + d), u = v(y[0], !0), y = a(C), m = CKEDITOR.tools.buildTableMap(e, h.$.rowIndex, u, _.$.rowIndex, y), r = 0; r < l.length; r++)
                            for (d = new CKEDITOR.dom.element(e.$.rows[h.$.rowIndex + r]), y = 0; y < l[r].length; y++)
                                D = new CKEDITOR.dom.element(l[r][y]), c = m[r] && m[r][y] ? new CKEDITOR.dom.element(m[r][y]) : null, D && !D.getCustomData("processed") ? (c && c.getParent() ? D.replace(c) : (0 === y || l[r][y - 1]) && ((c = 0 !== y ? new CKEDITOR.dom.element(l[r][y - 1]) : null) && d.equals(c.getParent()) ? D.insertAfter(c) : 0 < u ? D.insertAfter(new CKEDITOR.dom.element(d.$.cells[u])) : d.append(D, !0)), CKEDITOR.dom.element.setMarker(p, D, "processed", !0)) : D.getCustomData("processed") && c && c.remove();
                        CKEDITOR.dom.element.clearAllMarkers(p), o(s, t(new CKEDITOR.dom.element(l[0][0]), D)), s.fire("saveSnapshot"), setTimeout(function() {
                            s.fire("afterPaste")
                        }, 0)
                    }
                }
            }
            function f(t, e, n) {
                t.on("beforeCommandExec", function(n) {
                    -1 !== CKEDITOR.tools.array.indexOf(e, n.data.name) && (n.data.selectedCells = g(t.getSelection()))
                }), t.on("afterCommandExec", function(i) {
                    -1 !== CKEDITOR.tools.array.indexOf(e, i.data.name) && n(t, i.data)
                })
            }
            var p = {
                    active: !1
                },
                m,
                g,
                v,
                b,
                E;
            CKEDITOR.plugins.tableselection = {
                getCellsBetween: t,
                keyboardIntegration: function(t) {
                    function e(t) {
                        t.getEnclosedNode() ? t.getEnclosedNode().setText("") : t.deleteContents(), CKEDITOR.tools.array.forEach(t._find("td"), function(t) {
                            t.appendBogus()
                        })
                    }
                    var n = t.editable();
                    n.attachListener(n, "keydown", function(t) {
                        function n(e, n) {
                            if (!n.length)
                                return null;
                            var i = t.createRange(),
                                a = CKEDITOR.dom.range.mergeRanges(n);
                            CKEDITOR.tools.array.forEach(a, function(t) {
                                t.enlarge(CKEDITOR.ENLARGE_ELEMENT)
                            });
                            var s = a[0].getBoundaryNodes(),
                                r = s.startNode,
                                s = s.endNode;
                            if (r && r.is && r.is(o)) {
                                for (var l = r.getAscendant("table", !0), c = r.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l), u = !1, d = function(t) {
                                        return !r.contains(t) && t.is && t.is("td", "th")
                                    }; c && !d(c);)
                                    c = c.getPreviousSourceNode(!1, CKEDITOR.NODE_ELEMENT, l);
                                return !c && s && s.is && !s.is("table") && s.getNext() && (c = s.getNext().findOne("td, th"), u = !0), c ? i["moveToElementEdit" + (u ? "Start" : "End")](c) : (i.setStartBefore(r.getAscendant("table", !0)), i.collapse(!0)), a[0].deleteContents(), [i]
                            }
                            return r ? (i.moveToElementEditablePosition(r), [i]) : void 0
                        }
                        var i = {
                                37: 1,
                                38: 1,
                                39: 1,
                                40: 1,
                                8: 1,
                                46: 1
                            },
                            o = CKEDITOR.tools.extend({
                                table: 1
                            }, CKEDITOR.dtd.$tableContent);
                        return delete o.td, delete o.th, function(o) {
                            var a = o.data.getKey(),
                                s,
                                r = 37 === a || 38 == a,
                                l,
                                c,
                                u;
                            if (i[a] && (s = t.getSelection()) && s.isInTable() && s.isFake)
                                if (l = s.getRanges(), c = l[0]._getTableElement(), u = l[l.length - 1]._getTableElement(), o.data.preventDefault(), o.cancel(), 8 < a && 46 > a)
                                    l[0].moveToElementEditablePosition(r ? c : u, !r), s.selectRanges([l[0]]);
                                else {
                                    for (o = 0; o < l.length; o++)
                                        e(l[o]);
                                    (o = n(c, l)) ? l = o : l[0].moveToElementEditablePosition(c), s.selectRanges(l), t.fire("saveSnapshot")
                                }
                        }
                    }(t), null, null, -1), n.attachListener(n, "keypress", function(n) {
                        var i = t.getSelection(),
                            o = n.data.$.charCode || 13 === n.data.getKey(),
                            a;
                        if (i && i.isInTable() && i.isFake && o && !(n.data.getKeystroke() & CKEDITOR.CTRL)) {
                            for (n = i.getRanges(), o = n[0].getEnclosedNode().getAscendant({
                                td: 1,
                                th: 1
                            }, !0), a = 0; a < n.length; a++)
                                e(n[a]);
                            n[0].moveToElementEditablePosition(o), i.selectRanges([n[0]])
                        }
                    }, null, null, -1)
                },
                isSupportedEnvironment: !(CKEDITOR.env.ie && 11 > CKEDITOR.env.version)
            }, CKEDITOR.plugins.add("tableselection", {
                requires: "clipboard,tabletools",
                onLoad: function() {
                    m = CKEDITOR.plugins.tabletools, g = m.getSelectedCells, v = m.getCellColIndex, b = m.insertRow, E = m.insertColumn, CKEDITOR.document.appendStyleSheet(this.path + "/styles/tableselection.css")
                },
                init: function(t) {
                    CKEDITOR.plugins.tableselection.isSupportedEnvironment && (t.addContentsCss && t.addContentsCss(this.path + "/styles/tableselection.css"), t.on("contentDom", function() {
                        var e = t.editable(),
                            n = e.isInline() ? e : t.document,
                            i = {
                                editor: t
                            };
                        e.attachListener(n, "mousedown", l, null, i), e.attachListener(n, "mousemove", l, null, i), e.attachListener(n, "mouseup", l, null, i), e.attachListener(e, "dragstart", c), e.attachListener(t, "selectionCheck", r), CKEDITOR.plugins.tableselection.keyboardIntegration(t), CKEDITOR.plugins.clipboard && !CKEDITOR.plugins.clipboard.isCustomCopyCutSupported && (e.attachListener(e, "cut", d), e.attachListener(e, "copy", d))
                    }), t.on("paste", h), f(t, "rowInsertBefore rowInsertAfter columnInsertBefore columnInsertAfter cellInsertBefore cellInsertAfter".split(" "), function(t, e) {
                        o(t, e.selectedCells)
                    }), f(t, ["cellMerge", "cellMergeRight", "cellMergeDown"], function(t, e) {
                        o(t, [e.commandData.cell])
                    }), f(t, ["cellDelete"], function(t) {
                        i(t, !0)
                    }))
                }
            })
        }(), function() {
            var t = [CKEDITOR.CTRL + 90, CKEDITOR.CTRL + 89, CKEDITOR.CTRL + CKEDITOR.SHIFT + 90],
                e = {
                    8: 1,
                    46: 1
                };
            CKEDITOR.plugins.add("undo", {
                init: function(e) {
                    function i(t) {
                        s.enabled && !1 !== t.data.command.canUndo && s.save()
                    }
                    function o() {
                        s.enabled = !e.readOnly && "wysiwyg" == e.mode, s.onChange()
                    }
                    var s = e.undoManager = new n(e),
                        r = s.editingHandler = new a(s),
                        l = e.addCommand("undo", {
                            exec: function() {
                                s.undo() && (e.selectionChange(), this.fire("afterUndo"))
                            },
                            startDisabled: !0,
                            canUndo: !1
                        }),
                        c = e.addCommand("redo", {
                            exec: function() {
                                s.redo() && (e.selectionChange(), this.fire("afterRedo"))
                            },
                            startDisabled: !0,
                            canUndo: !1
                        });
                    e.setKeystroke([[t[0], "undo"], [t[1], "redo"], [t[2], "redo"]]), s.onChange = function() {
                        l.setState(s.undoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED), c.setState(s.redoable() ? CKEDITOR.TRISTATE_OFF : CKEDITOR.TRISTATE_DISABLED)
                    }, e.on("beforeCommandExec", i), e.on("afterCommandExec", i), e.on("saveSnapshot", function(t) {
                        s.save(t.data && t.data.contentOnly)
                    }), e.on("contentDom", r.attachListeners, r), e.on("instanceReady", function() {
                        e.fire("saveSnapshot")
                    }), e.on("beforeModeUnload", function() {
                        "wysiwyg" == e.mode && s.save(!0)
                    }), e.on("mode", o), e.on("readOnly", o), e.ui.addButton && (e.ui.addButton("Undo", {
                        label: e.lang.undo.undo,
                        command: "undo",
                        toolbar: "undo,10"
                    }), e.ui.addButton("Redo", {
                        label: e.lang.undo.redo,
                        command: "redo",
                        toolbar: "undo,20"
                    })), e.resetUndo = function() {
                        s.reset(), e.fire("saveSnapshot")
                    }, e.on("updateSnapshot", function() {
                        s.currentImage && s.update()
                    }), e.on("lockSnapshot", function(t) {
                        t = t.data, s.lock(t && t.dontUpdate, t && t.forceUpdate)
                    }), e.on("unlockSnapshot", s.unlock, s)
                }
            }), CKEDITOR.plugins.undo = {};
            var n = CKEDITOR.plugins.undo.UndoManager = function(t) {
                this.strokesRecorded = [0, 0], this.locked = null, this.previousKeyGroup = -1, this.limit = t.config.undoStackSize || 20, this.strokesLimit = 25, this.editor = t, this.reset()
            };
            n.prototype = {
                type: function(t, e) {
                    var i = n.getKeyGroup(t),
                        o = this.strokesRecorded[i] + 1;
                    e = e || o >= this.strokesLimit, this.typing || (this.hasUndo = this.typing = !0, this.hasRedo = !1, this.onChange()), e ? (o = 0, this.editor.fire("saveSnapshot")) : this.editor.fire("change"), this.strokesRecorded[i] = o, this.previousKeyGroup = i
                },
                keyGroupChanged: function(t) {
                    return n.getKeyGroup(t) != this.previousKeyGroup
                },
                reset: function() {
                    this.snapshots = [], this.index = -1, this.currentImage = null, this.hasRedo = this.hasUndo = !1, this.locked = null, this.resetType()
                },
                resetType: function() {
                    this.strokesRecorded = [0, 0], this.typing = !1, this.previousKeyGroup = -1
                },
                refreshState: function() {
                    this.hasUndo = !!this.getNextImage(!0), this.hasRedo = !!this.getNextImage(!1), this.resetType(), this.onChange()
                },
                save: function(t, e, n) {
                    var o = this.editor;
                    if (this.locked || "ready" != o.status || "wysiwyg" != o.mode)
                        return !1;
                    var a = o.editable();
                    if (!a || "ready" != a.status)
                        return !1;
                    if (a = this.snapshots, e || (e = new i(o)), !1 === e.contents)
                        return !1;
                    if (this.currentImage)
                        if (e.equalsContent(this.currentImage)) {
                            if (t || e.equalsSelection(this.currentImage))
                                return !1
                        } else
                            !1 !== n && o.fire("change");
                    return a.splice(this.index + 1, a.length - this.index - 1), a.length == this.limit && a.shift(), this.index = a.push(e) - 1, this.currentImage = e, !1 !== n && this.refreshState(), !0
                },
                restoreImage: function(t) {
                    var e = this.editor,
                        n;
                    t.bookmarks && (e.focus(), n = e.getSelection()), this.locked = {
                        level: 999
                    }, this.editor.loadSnapshot(t.contents), t.bookmarks ? n.selectBookmarks(t.bookmarks) : CKEDITOR.env.ie && (n = this.editor.document.getBody().$.createTextRange(), n.collapse(!0), n.select()), this.locked = null, this.index = t.index, this.currentImage = this.snapshots[this.index], this.update(), this.refreshState(), e.fire("change")
                },
                getNextImage: function(t) {
                    var e = this.snapshots,
                        n = this.currentImage,
                        i;
                    if (n)
                        if (t) {
                            for (i = this.index - 1; 0 <= i; i--)
                                if (t = e[i], !n.equalsContent(t))
                                    return t.index = i, t
                        } else
                            for (i = this.index + 1; i < e.length; i++)
                                if (t = e[i], !n.equalsContent(t))
                                    return t.index = i, t;
                    return null
                },
                redoable: function() {
                    return this.enabled && this.hasRedo
                },
                undoable: function() {
                    return this.enabled && this.hasUndo
                },
                undo: function() {
                    if (this.undoable()) {
                        this.save(!0);
                        var t = this.getNextImage(!0);
                        if (t)
                            return this.restoreImage(t), !0
                    }
                    return !1
                },
                redo: function() {
                    if (this.redoable() && (this.save(!0), this.redoable())) {
                        var t = this.getNextImage(!1);
                        if (t)
                            return this.restoreImage(t), !0
                    }
                    return !1
                },
                update: function(t) {
                    if (!this.locked) {
                        t || (t = new i(this.editor));
                        for (var e = this.index, n = this.snapshots; 0 < e && this.currentImage.equalsContent(n[e - 1]);)
                            --e;
                        n.splice(e, this.index - e + 1, t), this.index = e, this.currentImage = t
                    }
                },
                updateSelection: function(t) {
                    if (!this.snapshots.length)
                        return !1;
                    var e = this.snapshots,
                        n = e[e.length - 1];
                    return !(!n.equalsContent(t) || n.equalsSelection(t)) && (this.currentImage = e[e.length - 1] = t, !0)
                },
                lock: function(t, e) {
                    if (this.locked)
                        this.locked.level++;
                    else if (t)
                        this.locked = {
                            level: 1
                        };
                    else {
                        var n = null;
                        if (e)
                            n = !0;
                        else {
                            var o = new i(this.editor, !0);
                            this.currentImage && this.currentImage.equalsContent(o) && (n = o)
                        }
                        this.locked = {
                            update: n,
                            level: 1
                        }
                    }
                },
                unlock: function() {
                    if (this.locked && !--this.locked.level) {
                        var t = this.locked.update;
                        if (this.locked = null, !0 === t)
                            this.update();
                        else if (t) {
                            var e = new i(this.editor, !0);
                            t.equalsContent(e) || this.update()
                        }
                    }
                }
            }, n.navigationKeyCodes = {
                37: 1,
                38: 1,
                39: 1,
                40: 1,
                36: 1,
                35: 1,
                33: 1,
                34: 1
            }, n.keyGroups = {
                PRINTABLE: 0,
                FUNCTIONAL: 1
            }, n.isNavigationKey = function(t) {
                return !!n.navigationKeyCodes[t]
            }, n.getKeyGroup = function(t) {
                var i = n.keyGroups;
                return e[t] ? i.FUNCTIONAL : i.PRINTABLE
            }, n.getOppositeKeyGroup = function(t) {
                var e = n.keyGroups;
                return t == e.FUNCTIONAL ? e.PRINTABLE : e.FUNCTIONAL
            }, n.ieFunctionalKeysBug = function(t) {
                return CKEDITOR.env.ie && n.getKeyGroup(t) == n.keyGroups.FUNCTIONAL
            };
            var i = CKEDITOR.plugins.undo.Image = function(t, e) {
                    this.editor = t, t.fire("beforeUndoImage");
                    var n = t.getSnapshot();
                    CKEDITOR.env.ie && n && (n = n.replace(/\s+data-cke-expando=".*?"/g, "")), this.contents = n, e || (this.bookmarks = (n = n && t.getSelection()) && n.createBookmarks2(!0)), t.fire("afterUndoImage")
                },
                o = /\b(?:href|src|name)="[^"]*?"/gi;
            i.prototype = {
                equalsContent: function(t) {
                    var e = this.contents;
                    return t = t.contents, CKEDITOR.env.ie && (CKEDITOR.env.ie7Compat || CKEDITOR.env.quirks) && (e = e.replace(o, ""), t = t.replace(o, "")), e == t
                },
                equalsSelection: function(t) {
                    var e = this.bookmarks;
                    if (t = t.bookmarks, e || t) {
                        if (!e || !t || e.length != t.length)
                            return !1;
                        for (var n = 0; n < e.length; n++) {
                            var i = e[n],
                                o = t[n];
                            if (i.startOffset != o.startOffset || i.endOffset != o.endOffset || !CKEDITOR.tools.arrayCompare(i.start, o.start) || !CKEDITOR.tools.arrayCompare(i.end, o.end))
                                return !1
                        }
                    }
                    return !0
                }
            };
            var a = CKEDITOR.plugins.undo.NativeEditingHandler = function(t) {
                this.undoManager = t, this.ignoreInputEvent = !1, this.keyEventsStack = new s, this.lastKeydownImage = null
            };
            a.prototype = {
                onKeydown: function(e) {
                    var o = e.data.getKey();
                    229 !== o && (-1 < CKEDITOR.tools.indexOf(t, e.data.getKeystroke()) ? e.data.preventDefault() : (this.keyEventsStack.cleanUp(e), e = this.undoManager, this.keyEventsStack.getLast(o) || this.keyEventsStack.push(o), this.lastKeydownImage = new i(e.editor), (n.isNavigationKey(o) || this.undoManager.keyGroupChanged(o)) && (e.strokesRecorded[0] || e.strokesRecorded[1]) && (e.save(!1, this.lastKeydownImage, !1), e.resetType())))
                },
                onInput: function() {
                    if (this.ignoreInputEvent)
                        this.ignoreInputEvent = !1;
                    else {
                        var t = this.keyEventsStack.getLast();
                        t || (t = this.keyEventsStack.push(0)), this.keyEventsStack.increment(t.keyCode), this.keyEventsStack.getTotalInputs() >= this.undoManager.strokesLimit && (this.undoManager.type(t.keyCode, !0), this.keyEventsStack.resetInputs())
                    }
                },
                onKeyup: function(t) {
                    var e = this.undoManager;
                    t = t.data.getKey();
                    var o = this.keyEventsStack.getTotalInputs();
                    this.keyEventsStack.remove(t), n.ieFunctionalKeysBug(t) && this.lastKeydownImage && this.lastKeydownImage.equalsContent(new i(e.editor, !0)) || (0 < o ? e.type(t) : n.isNavigationKey(t) && this.onNavigationKey(!0))
                },
                onNavigationKey: function(t) {
                    var e = this.undoManager;
                    !t && e.save(!0, null, !1) || e.updateSelection(new i(e.editor)), e.resetType()
                },
                ignoreInputEventListener: function() {
                    this.ignoreInputEvent = !0
                },
                attachListeners: function() {
                    var t = this.undoManager.editor,
                        e = t.editable(),
                        i = this;
                    e.attachListener(e, "keydown", function(t) {
                        i.onKeydown(t), n.ieFunctionalKeysBug(t.data.getKey()) && i.onInput()
                    }, null, null, 999), e.attachListener(e, CKEDITOR.env.ie ? "keypress" : "input", i.onInput, i, null, 999), e.attachListener(e, "keyup", i.onKeyup, i, null, 999), e.attachListener(e, "paste", i.ignoreInputEventListener, i, null, 999), e.attachListener(e, "drop", i.ignoreInputEventListener, i, null, 999), e.attachListener(e.isInline() ? e : t.document.getDocumentElement(), "click", function() {
                        i.onNavigationKey()
                    }, null, null, 999), e.attachListener(this.undoManager.editor, "blur", function() {
                        i.keyEventsStack.remove(9)
                    }, null, null, 999)
                }
            };
            var s = CKEDITOR.plugins.undo.KeyEventsStack = function() {
                this.stack = []
            };
            s.prototype = {
                push: function(t) {
                    return t = this.stack.push({
                        keyCode: t,
                        inputs: 0
                    }), this.stack[t - 1]
                },
                getLastIndex: function(t) {
                    if ("number" != typeof t)
                        return this.stack.length - 1;
                    for (var e = this.stack.length; e--;)
                        if (this.stack[e].keyCode == t)
                            return e;
                    return -1
                },
                getLast: function(t) {
                    return t = this.getLastIndex(t), -1 != t ? this.stack[t] : null
                },
                increment: function(t) {
                    this.getLast(t).inputs++
                },
                remove: function(t) {
                    -1 != (t = this.getLastIndex(t)) && this.stack.splice(t, 1)
                },
                resetInputs: function(t) {
                    if ("number" == typeof t)
                        this.getLast(t).inputs = 0;
                    else
                        for (t = this.stack.length; t--;)
                            this.stack[t].inputs = 0
                },
                getTotalInputs: function() {
                    for (var t = this.stack.length, e = 0; t--;)
                        e += this.stack[t].inputs;
                    return e
                },
                cleanUp: function(t) {
                    t = t.data.$, t.ctrlKey || t.metaKey || this.remove(17), t.shiftKey || this.remove(16), t.altKey || this.remove(18)
                }
            }
        }(), CKEDITOR.plugins.add("wsc", {
            requires: "dialog",
            parseApi: function(t) {
                t.config.wsc_onFinish = "function" == typeof t.config.wsc_onFinish ? t.config.wsc_onFinish : function() {}, t.config.wsc_onClose = "function" == typeof t.config.wsc_onClose ? t.config.wsc_onClose : function() {}
            },
            parseConfig: function(t) {
                t.config.wsc_customerId = t.config.wsc_customerId || CKEDITOR.config.wsc_customerId || "1:ua3xw1-2XyGJ3-GWruD3-6OFNT1-oXcuB1-nR6Bp4-hgQHc-EcYng3-sdRXG3-NOfFk", t.config.wsc_customDictionaryIds = t.config.wsc_customDictionaryIds || CKEDITOR.config.wsc_customDictionaryIds || "", t.config.wsc_userDictionaryName = t.config.wsc_userDictionaryName || CKEDITOR.config.wsc_userDictionaryName || "", t.config.wsc_customLoaderScript = t.config.wsc_customLoaderScript || CKEDITOR.config.wsc_customLoaderScript, t.config.wsc_interfaceLang = t.config.wsc_interfaceLang, CKEDITOR.config.wsc_cmd = t.config.wsc_cmd || CKEDITOR.config.wsc_cmd || "spell", CKEDITOR.config.wsc_version = "v4.3.0-master-d769233", CKEDITOR.config.wsc_removeGlobalVariable = !0
            },
            onLoad: function(t) {
                "moono-lisa" == (CKEDITOR.skinName || t.config.skin) && CKEDITOR.document.appendStyleSheet(this.path + "skins/" + CKEDITOR.skin.name + "/wsc.css")
            },
            init: function(t) {
                var e = CKEDITOR.env;
                this.parseConfig(t), this.parseApi(t), t.addCommand("checkspell", new CKEDITOR.dialogCommand("checkspell")).modes = {
                    wysiwyg: !(CKEDITOR.env.opera || CKEDITOR.env.air || document.domain != window.location.hostname || e.ie && (8 > e.version || e.quirks))
                }, "undefined" == typeof t.plugins.scayt && t.ui.addButton && t.ui.addButton("SpellChecker", {
                    label: t.lang.wsc.toolbar,
                    click: function(t) {
                        var e = t.elementMode == CKEDITOR.ELEMENT_MODE_INLINE ? t.container.getText() : t.document.getBody().getText();
                        (e = e.replace(/\s/g, "")) ? t.execCommand("checkspell") : alert("Nothing to check!")
                    },
                    toolbar: "spellchecker,10"
                }), CKEDITOR.dialog.add("checkspell", this.path + (CKEDITOR.env.ie && 7 >= CKEDITOR.env.version ? "dialogs/wsc_ie.js" : window.postMessage ? "dialogs/wsc.js" : "dialogs/wsc_ie.js"))
            }
        }), CKEDITOR.config.plugins = "dialogui,dialog,about,a11yhelp,dialogadvtab,basicstyles,bidi,blockquote,button,toolbar,notification,clipboard,panelbutton,panel,floatpanel,colorbutton,colordialog,templates,menu,contextmenu,copyformatting,div,resize,elementspath,enterkey,entities,popup,filebrowser,find,fakeobjects,flash,floatingspace,listblock,richcombo,font,forms,format,horizontalrule,htmlwriter,iframe,wysiwygarea,image,indent,indentblock,indentlist,smiley,justify,menubutton,language,link,list,liststyle,magicline,maximize,newpage,pagebreak,pastetext,pastefromword,preview,print,removeformat,save,selectall,showblocks,showborders,sourcearea,specialchar,scayt,stylescombo,tab,table,tabletools,tableselection,undo,wsc", CKEDITOR.config.skin = "moono-lisa", function() {
            var t = function(t, e) {
                var n = CKEDITOR.getUrl("plugins/" + e);
                t = t.split(",");
                for (var i = 0; i < t.length; i++)
                    CKEDITOR.skin.icons[t[i]] = {
                        path: n,
                        offset: -t[++i],
                        bgsize: t[++i]
                    }
            }
            ;
            CKEDITOR.env.hidpi ? t("about,0,,bold,24,,italic,48,,strike,72,,subscript,96,,superscript,120,,underline,144,,bidiltr,168,,bidirtl,192,,blockquote,216,,copy-rtl,240,,copy,264,,cut-rtl,288,,cut,312,,paste-rtl,336,,paste,360,,bgcolor,384,,textcolor,408,,templates-rtl,432,,templates,456,,copyformatting,480,,creatediv,504,,find-rtl,528,,find,552,,replace,576,,flash,600,,button,624,,checkbox,648,,form,672,,hiddenfield,696,,imagebutton,720,,radio,744,,select-rtl,768,,select,792,,textarea-rtl,816,,textarea,840,,textfield-rtl,864,,textfield,888,,horizontalrule,912,,iframe,936,,image,960,,indent-rtl,984,,indent,1008,,outdent-rtl,1032,,outdent,1056,,smiley,1080,,justifyblock,1104,,justifycenter,1128,,justifyleft,1152,,justifyright,1176,,language,1200,,anchor-rtl,1224,,anchor,1248,,link,1272,,unlink,1296,,bulletedlist-rtl,1320,,bulletedlist,1344,,numberedlist-rtl,1368,,numberedlist,1392,,maximize,1416,,newpage-rtl,1440,,newpage,1464,,pagebreak-rtl,1488,,pagebreak,1512,,pastetext-rtl,1536,,pastetext,1560,,pastefromword-rtl,1584,,pastefromword,1608,,preview-rtl,1632,,preview,1656,,print,1680,,removeformat,1704,,save,1728,,selectall,1752,,showblocks-rtl,1776,,showblocks,1800,,source-rtl,1824,,source,1848,,specialchar,1872,,scayt,1896,,table,1920,,redo-rtl,1944,,redo,1968,,undo-rtl,1992,,undo,2016,,spellchecker,2040,", "icons_hidpi.png") : t("about,0,auto,bold,24,auto,italic,48,auto,strike,72,auto,subscript,96,auto,superscript,120,auto,underline,144,auto,bidiltr,168,auto,bidirtl,192,auto,blockquote,216,auto,copy-rtl,240,auto,copy,264,auto,cut-rtl,288,auto,cut,312,auto,paste-rtl,336,auto,paste,360,auto,bgcolor,384,auto,textcolor,408,auto,templates-rtl,432,auto,templates,456,auto,copyformatting,480,auto,creatediv,504,auto,find-rtl,528,auto,find,552,auto,replace,576,auto,flash,600,auto,button,624,auto,checkbox,648,auto,form,672,auto,hiddenfield,696,auto,imagebutton,720,auto,radio,744,auto,select-rtl,768,auto,select,792,auto,textarea-rtl,816,auto,textarea,840,auto,textfield-rtl,864,auto,textfield,888,auto,horizontalrule,912,auto,iframe,936,auto,image,960,auto,indent-rtl,984,auto,indent,1008,auto,outdent-rtl,1032,auto,outdent,1056,auto,smiley,1080,auto,justifyblock,1104,auto,justifycenter,1128,auto,justifyleft,1152,auto,justifyright,1176,auto,language,1200,auto,anchor-rtl,1224,auto,anchor,1248,auto,link,1272,auto,unlink,1296,auto,bulletedlist-rtl,1320,auto,bulletedlist,1344,auto,numberedlist-rtl,1368,auto,numberedlist,1392,auto,maximize,1416,auto,newpage-rtl,1440,auto,newpage,1464,auto,pagebreak-rtl,1488,auto,pagebreak,1512,auto,pastetext-rtl,1536,auto,pastetext,1560,auto,pastefromword-rtl,1584,auto,pastefromword,1608,auto,preview-rtl,1632,auto,preview,1656,auto,print,1680,auto,removeformat,1704,auto,save,1728,auto,selectall,1752,auto,showblocks-rtl,1776,auto,showblocks,1800,auto,source-rtl,1824,auto,source,1848,auto,specialchar,1872,auto,scayt,1896,auto,table,1920,auto,redo-rtl,1944,auto,redo,1968,auto,undo-rtl,1992,auto,undo,2016,auto,spellchecker,2040,auto", "icons.png")
        }(), CKEDITOR.lang.languages = {
            af: 1,
            sq: 1,
            ar: 1,
            az: 1,
            eu: 1,
            bn: 1,
            bs: 1,
            bg: 1,
            ca: 1,
            "zh-cn": 1,
            zh: 1,
            hr: 1,
            cs: 1,
            da: 1,
            nl: 1,
            en: 1,
            "en-au": 1,
            "en-ca": 1,
            "en-gb": 1,
            eo: 1,
            et: 1,
            fo: 1,
            fi: 1,
            fr: 1,
            "fr-ca": 1,
            gl: 1,
            ka: 1,
            de: 1,
            "de-ch": 1,
            el: 1,
            gu: 1,
            he: 1,
            hi: 1,
            hu: 1,
            is: 1,
            id: 1,
            it: 1,
            ja: 1,
            km: 1,
            ko: 1,
            ku: 1,
            lv: 1,
            lt: 1,
            mk: 1,
            ms: 1,
            mn: 1,
            no: 1,
            nb: 1,
            oc: 1,
            fa: 1,
            pl: 1,
            "pt-br": 1,
            pt: 1,
            ro: 1,
            ru: 1,
            sr: 1,
            "sr-latn": 1,
            si: 1,
            sk: 1,
            sl: 1,
            es: 1,
            "es-mx": 1,
            sv: 1,
            tt: 1,
            th: 1,
            tr: 1,
            ug: 1,
            uk: 1,
            vi: 1,
            cy: 1
        }
    }
}(), /**
 * @license Copyright (c) 2003-2015, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */
CKEDITOR.plugins.add("divarea", {
    afterInit: function(t) {
        t.addMode("wysiwyg", function(e) {
            var n = CKEDITOR.dom.element.createFromHtml('<div class="cke_wysiwyg_div cke_reset" hidefocus="true"></div>');
            t.ui.space("contents").append(n), n = t.editable(n), n.detach = CKEDITOR.tools.override(n.detach, function(t) {
                return function() {
                    t.apply(this, arguments), this.remove()
                }
            }), t.setData(t.getData(1), e), t.fire("contentDom")
        })
    }
}), /**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */
CKEDITOR.dialog.add("sourcedialog", function(t) {
    var e = CKEDITOR.document.getWindow().getViewPaneSize(),
        n = Math.min(e.width - 70, 800),
        i = e.height / 1.5,
        o;
    return {
        title: "Source",
        minWidth: 100,
        minHeight: 100,
        onShow: function() {
            this.setValueOf("main", "data", o = t.getData())
        },
        onOk: function() {
            function e(e, n) {
                t.focus(), t.setData(n, function() {
                    e.hide();
                    var n = t.createRange();
                    n.moveToElementEditStart(t.editable()), n.select()
                })
            }
            return function() {
                var t = this.getValueOf("main", "data").replace(/\r/g, ""),
                    n = this;
                return t === o || (setTimeout(function() {
                        e(n, t)
                    }), !1)
            }
        }(),
        contents: [{
            id: "main",
            label: "Source",
            elements: [{
                type: "textarea",
                id: "data",
                dir: "ltr",
                inputStyle: "cursor:auto;width:" + n + "px;height:" + i + "px;tab-size:4;text-align:left;",
                "class": "cke_source"
            }]
        }]
    }
}), /**
 * @license Copyright (c) 2003-2016, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md or http://ckeditor.com/license
 */
CKEDITOR.plugins.add("sourcedialog", {
    icons: "sourcedialog,sourcedialog-rtl",
    hidpi: !0,
    init: function(t) {
        t.addCommand("sourcedialog", new CKEDITOR.dialogCommand("sourcedialog")), CKEDITOR.dialog.add("sourcedialog", this.path + "dialogs/sourcedialog.js"), t.ui.addButton && t.ui.addButton("Sourcedialog", {
            label: "Source",
            command: "sourcedialog",
            toolbar: "mode,10"
        })
    }
}), CKEDITOR.on("dialogDefinition", function(t) {
    try {
        var e = t.data.name,
            n = t.data.definition;
        if ("link" === e) {
            n.getContents("target").get("linkTargetType")["default"] = "_blank"
        }
    } catch (e) {
        alert("Error " + t.message)
    }
}), CKEDITOR.config.customConfig = "//assets1.flashfunders.com/assets/ckeditor/my_config-8bf45a2c97d02f33041e174016d9e4c2bddba81f0f1bb33f10f3b2b8c83cb454.js", CKEDITOR.config.stylesSet = "default://assets3.flashfunders.com/assets/ckeditor/my_styles-1d02bc8f007deea0ec577b5177a67d27989c3ad6770b8127bf9c89c0e787dc20.js", CKEDITOR.config.contentsCss = "//assets0.flashfunders.com/stylesheets/vendor/ckeditor/my_contents.scss.css", function() {
    this.JST || (this.JST = {}), this.JST["investor_investments/templates/convertible_note_ownership_widget_copy"] = function(obj) {
        var __p = [],
            print = function() {
                __p.push.apply(__p, arguments)
            };
        with (obj || {})
            __p.push(""), is_spv || __p.push("\n  <span id='note_value' class='action-value'> $", investment_amount, "</span>\n  <span>  of</span>\n  <span id='note_value'>  ", other_security_type_title_plural, "</span>\n  <span>  and</span>\n"), __p.push("\n<div class='ownership-percentage-holder'>\n  <span id='percent_ownership' class='action-value'>  ", ownership_percentage, "%</span>\n  <span id='popover_direct'>\n    <span data-info-popover='true' data-title='Ownership Percentage' data-content='Represents the ownership % on a fully diluted basis immediately following the closing of this offering, if the maximum amount of the offering is sold and all convertible securities in this round convert into equity at the valuation cap.'></span>\n  </span>\n  <span id='popover_spv' class='hidden'>\n    <span data-info-popover='true' data-title='Ownership Percentage' data-content='Represents an indirect ownership % on a fully diluted basis immediately following the closing of this offering, if the maximum amount of the offering is sold and all convertible securities in this round convert into equity at the valuation cap. The indirect ownership % incorporates a one-time fee related to managing a FlashFund (LLC).'></span>\n  </span>\n</div>\n<span>  of the Company</span>\n");
        return __p.join("")
    }
}.call(this), function() {
    this.JST || (this.JST = {}), this.JST["investor_investments/templates/equity_ownership_widget"] = function(obj) {
        var __p = [],
            print = function() {
                __p.push.apply(__p, arguments)
            };
        with (obj || {})
            __p.push("<div class='ownership-percentage-holder'>\n  <span class='action-value' id='percent_ownership'> ", ownership_percentage, "%</span>\n  <span id='popover_direct'>\n    <span data-info-popover='true' data-title='Ownership Percentage' data-content='Represents the ownership % on a fully diluted basis immediately following the closing of this offering, if the maximum amount of the offering is sold.'></span>\n  </span>\n  <span class='hidden' id='popover_spv'>\n    <span data-info-popover='true' data-title='Ownership Percentage' data-content='Represents an indirect ownership % on a fully diluted basis immediately following the closing of this offering, if the maximum amount of the offering is sold. The indirect ownership % incorporates a one-time fee related to managing a FlashFund (LLC).'></span>\n  </span>\n</div>\n<span> of the Company for</span>\n<span class='action-value' id='amount_invested'> $", investment_amount, "\n  <span data-info-popover='true' data-title='Investment Amount' data-content='This amount may be adjusted to reflect a whole number of ownership units.'></span>\n</span>\n");
        return __p.join("")
    }
}.call(this), function() {
    this.JST || (this.JST = {}), this.JST["investor_investments/templates/form_notes"] = function(obj) {
        var __p = [],
            print = function() {
                __p.push.apply(__p, arguments)
            };
        with (obj || {})
            __p.push("<input name='utf8' type='hidden' value='\u2713'/>\n<input name=\"", authenticity_token_param_name, "\" type='hidden' value=\"", authenticity_token_value, "\"/>\n<input name='_method' type='hidden' value=\"", form_method, "\"/>\n<div class='toggle-container' id='investment-amount-form'>\n  <div class=\"toggle-elm ", "true" == is_owner_percent_shown ? "" : "centered", "\">\n    <div class='investment-amount-field row-fluid'>\n      <div class='span10'>\n        <div class='input investment_unrounded_investment_amount'>\n          <label for='investment_unrounded_investment_amount'>How Much Do You Want To Invest?</label>\n          <input id='investment_unrounded_investment_amount'\n            name='investment[unrounded_investment_amount]'\n            placeholder=\"Minimum Investment ", minimum_investment_amount, "\"\n            type='text'\n            value=\"", presented_investment_amount, "\"\n            tabindex='1'\n            onkeypress=\"return FF.floatInput(event, ", maximum_investment_amount, ")\"/>\n          <span class='error'>", unrounded_investment_amount_error_message, "</span>\n        </div>\n        <input id='investment_investment_amount' class='hidden' name='investment[investment_amount]' type='hidden' value=\"", investment_amount, "\"/>\n        <input id='investment_investment_percent_ownership' class='hidden' name='investment[investment_percent_ownership]' type='hidden' value=\"", investment_percent_ownership, "\"/>\n        <p class='notes hidden' id='notes_spv'>Investments above ", formatted_direct_investment_threshold, " will be made directly into ", company_name, " without any fees or carry.</p>\n      </div>\n    </div>\n  </div>\n\n  "), "true" == is_owner_percent_shown && __p.push("\n    <div class='toggle-elm'>\n      <div class='arrow-container'>\n        <div class='rotated-square'>\n          <i class='fa fa-arrow-right'/>\n        </div>\n      </div>\n      <div class='row-fluid no-margin'>\n        <div class='span10 offset2 centered'>\n          <p class='title bold-weight'> You will own:</p>\n          <div class='convertible-note-ownership-widget'></div>\n        </div>\n      </div>\n    </div>\n  "), __p.push("\n</div>\n");
        return __p.join("")
    }
}.call(this), function() {
    this.JST || (this.JST = {}), this.JST["investor_investments/templates/form_stock"] = function(obj) {
        var __p = [],
            print = function() {
                __p.push.apply(__p, arguments)
            };
        with (obj || {})
            __p.push("<input name='utf8' type='hidden' value='\u2713' />\n<input name=\"", authenticity_token_param_name, "\" type='hidden' value=\"", authenticity_token_value, "\" />\n<input name='_method' type='hidden' value=\"", form_method, "\" />\n<div class='toggle-container' id='investment-amount-form'>\n  <div class=\"toggle-elm ", "true" == is_owner_percent_shown ? "" : "centered", "\">\n    <div class='investment-amount-field row-fluid'>\n      <div class='span10'>\n        "), "" != minimum_investment_amount && (__p.push("\n          "), place_holder = "Minimum Investment " + minimum_investment_amount, __p.push("\n        ")), __p.push("\n\n        <div class='input investment_unrounded_investment_amount'>\n          <label for='investment_unrounded_investment_amount'>How Much Do You Want To Invest?</label>\n          <input id='investment_unrounded_investment_amount'\n            name='investment[unrounded_investment_amount]'\n            placeholder=\"", place_holder, "\" type='text'\n            value=\"", presented_investment_amount, "\"\n            tabindex='1'\n            onkeypress=\"return FF.floatInput(event, ", maximum_investment_amount, ");\" />\n          <span class='error'>", unrounded_investment_amount_error_message, "</span>\n        </div>\n\n        <input id='investment_investment_amount' class='hidden' type='hidden' name='investment[investment_amount]' value=\"", investment_amount, "\" />\n        <input id='investment_investment_shares' class='hidden' type='hidden' name='investment[investment_shares]' value=\"", investment_shares, "\" />\n\n        <input id='investment_investment_percent_ownership' class='hidden' type='hidden' name='investment[investment_percent_ownership]' value=\"", investment_percent_ownership, "\" />\n        <p class='notes hidden' id='notes_spv'>\n          Investments above  ", formatted_direct_investment_threshold, "  will be made directly into  ", company_name, " without any fees or carry.\n        </p>\n      </div>\n    </div>\n  </div>\n\n  "), "true" == is_owner_percent_shown && __p.push("\n    <div class='toggle-elm'>\n      <div class='arrow-container'>\n        <div class='rotated-square'>\n          <i class='fa fa-arrow-right' />\n        </div>\n      </div>\n      <div class='row-fluid no-margin'>\n        <div class='span10 offset2 centered'>\n          <p class='title bold-weight'> You will own:</p>\n          <div class='equity-ownership-widget'></div>\n        </div>\n      </div>\n    </div>\n  "), __p.push("\n</div>\n");
        return __p.join("")
    }
}.call(this), "undefined" == typeof FF && (FF = {}, FFCalculators(FF)), function(t) {
    var e = Backbone.View.extend({
            initialize: function() {
                this.$containerEl = this.options.$containerEl, this.authenticity_token_param_name = $("meta[name=csrf-param]").attr("content"), this.authenticity_token_value = $("meta[name=csrf-token]").attr("content"), this.canSubmit = !1, this.$el.on("keyup", "#investment_unrounded_investment_amount", _.bind(this._handleProposedInvestmentChanged, this)), this.$el.on("keydown", "#investment_unrounded_investment_amount", _.bind(this._blockSubmitOnKeyDown, this)), this.$el.on("focus", "#investment_unrounded_investment_amount", function() {
                    $('button[type="submit"]').prop("disabled", !1)
                }), $("#new_investment").on("submit", _.bind(this._delayFormSubmission, this))
            },
            render: function() {
                var t = this.model.get("unrounded_investment_amount");
                this.$el.html(this.template(_.extend({
                    authenticity_token_value: this.authenticity_token_value,
                    authenticity_token_param_name: this.authenticity_token_param_name,
                    form_method: this.options.formMethod,
                    form_action: this.options.formAction,
                    presented_investment_amount: this._presentAmount(t),
                    maximum_investment_amount: this.model.get("offering_maximum_investment")
                }, this.model.toJSON(), this.errorMessages()))), this._handleInvestmentChange(t), this._isSpvOffering() ? ($("#notes_direct", this.$el).addClass("hidden"), $("#notes_spv", this.$el).removeClass("hidden")) : ($("#notes_direct", this.$el).removeClass("hidden"), $("#notes_spv", this.$el).addClass("hidden")), this._addErrors(), this.$containerEl.html(this.$el)
            },
            errorMessages: function() {
                function t(t) {
                    var e = this.model.get("errors");
                    return e && e[t] ? e[t][0] : null
                }
                return this.errors || (this.errors = {}, this.errors.unrounded_investment_amount_error_message = _.bind(t, this)("unrounded_investment_amount")), this.errors
            },
            _addErrors: function() {
                var t = this.errorMessages(),
                    e = _.keys(t);
                _.reject(e, function(e) {
                    return null === t[e]
                }).length && this.$(".input.investment_unrounded_investment_amount").addClass("field_with_errors")
            },
            _blockSubmitOnKeyDown: function(t) {
                t.which >= 48 && t.which <= 57 && (this.canSubmit = !1)
            },
            _handleProposedInvestmentChanged: function(t) {
                if (13 != t.which) {
                    this._handleInvestmentChange($(t.target).val()), this.canSubmit = !0, $('button[type="submit"]').prop("disabled", !1), $("*").css("cursor", "");
                    var e = $("#spinner", this);
                    0 == e.length && (e = $("#spinner")), $(e).addClass("hidden")
                }
            },
            _handleInvestmentChange: function(t) {
                var e = this._performCalcs(t);
                this._updateForm(e.projectedCost, e.projectedShares, e.projectedOwnershipPct)
            },
            _getCalcArgs: function(t, e) {
                return {
                    amount: t,
                    total: e.get("offering_maximum_investment"),
                    modelDirectSpv: this._isSpvOffering(),
                    spvTotal: e.get("spv_total_investment"),
                    goal: e.get("spv_min"),
                    threshold: e.get("direct_investment_threshold"),
                    setupFee: e.get("spv_fee"),
                    sharePrice: e.get("share_price"),
                    sharesOffered: e.get("shares_offered"),
                    valuation: e.get("pre_money_valuation")
                }
            },
            _isSpvOffering: function() {
                return "true" === this.model.get("has_spv")
            },
            _isUnderDirectThreshold: function(t) {
                return Number(t) < Number(this.model.get("direct_investment_threshold"))
            },
            _isSpv: function(t) {
                return this._isSpvOffering() && this._isUnderDirectThreshold(t)
            },
            _updateForm: function(t, e, n) {
                this._updateFormFields(t, e, n), this._updateWidgetCopy(t, e, n)
            },
            _formatForPage: function(t, e) {
                return t !== undefined && $.isNumeric(t) && 0 != t ? accounting.formatNumber(t, e) : "--"
            },
            _updateFormFields: function(t, e, n) {
                this.$("#investment_investment_amount").val(t), this.$("#investment_investment_shares").val(e), this.$("#investment_investment_percent_ownership").val(n)
            },
            _presentAmount: function(t) {
                if (isNaN(t))
                    return t;
                var e = parseFloat(t);
                return 0 == e ? "" : e > 0 ? Math.floor(100 * e) / 100 : t
            },
            _delayFormSubmission: function(t) {
                $("*").css("cursor", "wait");
                var e = $("#investment_unrounded_investment_amount");
                return e.prop("readonly", !0), this.canSubmit ? (FF.AnalyticsTracker.investAmount(this.model.get("offering_id")), !0) : (e.prop("readonly", !1), $("*").css("cursor", ""), !1)
            }
        }),
        n = e.extend({
            template: JST["investor_investments/templates/form_stock"],
            _updateWidgetCopy: function(t, e, n) {
                var i = 0 == n ? 0 : 3,
                    o = this.$(".equity-ownership-widget");
                o.html(JST["investor_investments/templates/equity_ownership_widget"]({
                    number_of_shares: this._formatForPage(e, 0),
                    ownership_percentage: this._formatForPage(n, i),
                    investment_amount: this._formatForPage(t, 2)
                })), this.$("[data-info-popover]").each(function() {
                    new FF.Popover(this)
                }), this._isSpvOffering() && (this._isUnderDirectThreshold(t) ? ($("#share_count", o).addClass("hidden"), $("#share_count_caption", o).addClass("hidden"), $("#popover_direct", o).addClass("hidden"), $("#popover_spv", o).removeClass("hidden")) : ($("#share_count", o).removeClass("hidden"), $("#share_count_caption", o).removeClass("hidden"), $("#popover_direct", o).removeClass("hidden"), $("#popover_spv", o).addClass("hidden")))
            },
            _performCalcs: function(t) {
                return new FF.UnitsBasedCalculator(this._getCalcArgs(t, this.model))
            }
        }),
        i = e.extend({
            template: JST["investor_investments/templates/form_notes"],
            _updateWidgetCopy: function(t, e, n) {
                var i = 0 === n ? 0 : 3,
                    o = this.$(".convertible-note-ownership-widget");
                o.html(JST["investor_investments/templates/convertible_note_ownership_widget_copy"]({
                    other_security_type_title_plural: this.model.get("other_security_type_title_plural"),
                    ownership_percentage: this._formatForPage(n, i),
                    investment_amount: this._formatForPage(t, 2),
                    is_spv: this._isSpv(t)
                })), this.$("[data-info-popover]").each(function() {
                    new FF.Popover(this)
                }), this._isSpvOffering() && (this._isUnderDirectThreshold(t) ? ($("#share_count", o).addClass("hidden"), $("#share_count_caption", o).addClass("hidden"), $("#popover_direct", o).addClass("hidden"), $("#popover_spv", o).removeClass("hidden")) : ($("#share_count", o).removeClass("hidden"), $("#share_count_caption", o).removeClass("hidden"), $("#popover_direct", o).removeClass("hidden"), $("#popover_spv", o).addClass("hidden")))
            },
            _performCalcs: function(t) {
                return new FF.ConvertibleCalculator(this._getCalcArgs(t, this.model))
            }
        });
    t.FF.InvestmentStockFormView = n, t.FF.InvestmentNotesFormView = i, FFCalculators(t.FF)
}(window), function() {
    this.JST || (this.JST = {}), this.JST["video_player/templates/video_iframe"] = function(obj) {
        var __p = [],
            print = function() {
                __p.push.apply(__p, arguments)
            };
        with (obj || {})
            __p.push('<iframe src="', videoURL, '?&autoplay=1" height="', videoHeight, '" width="', videoWidth, '" frameborder allowfullscreen mozallowfullscreen webkitallowfullscreen/>\n');
        return __p.join("")
    }
}.call(this), function(t) {
    var e = Backbone.View.extend({
        el: "#video-player-container",
        template: JST["video_player/templates/video_iframe"],
        events: {
            "click .play-button": "_replacePhotoWithVideo"
        },
        _replacePhotoWithVideo: function() {
            this.$el.find("#cover-media").html(this.template(this.options))
        }
    });
    t.FF.VideoPlayer = e
}(window), $(function() {
    function t() {
        $(".error").addClass("hidden")
    }
    function e() {
        var t = $("form:visible");
        return 1 == t.length ? t.first() : []
    }
    function n() {
        l.removeClass("errors"), $("#errors").remove()
    }
    function i(t) {
        n(), l.addClass("errors").append('<div id="errors" ><p>' + t + "</p></div>")
    }
    function o() {
        0 == $("#income-or-net-worth li.active").length ? a("Please select one of the options below to continue.") : 0 == $("#third-party-or-docs li.active").length && 0 == $("#net-worth-third-party-or-docs li.active").length && a("Please select a method to verify your accreditation status.")
    }
    function a(t) {
        i(t), $("html,body").animate({
            scrollTop: 0
        }, "fast")
    }
    var s = $("#submit-form-btn"),
        r = $(".investment-accreditation"),
        l = $(".workspace-header-divider");
    s.click(function(t) {
        var n = e();
        t.preventDefault(), n.length > 0 ? ($(t.target).attr("disabled", !0), n.hasClass("batch-uploader") && $("#uploading-spinner").modal({
            keyboard: !1,
            backdrop: !1
        }), n.removeClass("dirty"), n.submit()) : o()
    }), $("li.tab").click(function(t) {
        $(t.target).find("a").click()
    }), $(".boxed-radio").click(function(t) {
        $(t.target).find('input[type="radio"]').click()
    }), $('.boxed-radio input[type="radio"]').click(function(e) {
        var n = $(e.target),
            i = n.closest(".boxed-radio"),
            o = i.find('input[type="radio"]');
        $(".boxed-radio.active").removeClass("active"), t(), i.addClass("active")
    }) 
}), $.scope("#press-container", function() {
    function t() {
        $(".user-menu .nav-offering:first").hasClass("current-offering") ? $("ul.user-menu").addClass("first-menu") : $("ul.user-menu").removeClass("first-menu")
    }
    function e(t) {
        o = setTimeout(function() {
            var i = n.index($(n.selector + ".active"));
            n[++i % n.length].click(), e(t)
        }, t)
    }
    var n = $(".press-nav ul li"),
        i = 4e3,
        o;
    $(".nav-offering").on("click", function() {
        $(".user-menu li").removeClass("current-offering"), $(this).addClass("current-offering"), t()
    }), n.unbind("click"), n.on("click", function(t) {
        t.preventDefault(), t.originalEvent.isTrusted && clearTimeout(o), $("a", this).tab("show")
    }), t(), e(i)
}), $.scope("#home_header", function() {
    var t = $("#home_join_newsletter"),
        e = $("#home_start_invest");
    gon.user_signed_in && t.replaceWith(e.removeClass("hidden"))
}), $(function() {
    var t = $("meta[name=environment]").attr("content");
    Honeybadger.configure({
        api_key: "1f92696a659ebc5bd0d151881aa89bab",
        environment: t
    })
}), $(function() {
    function t() {
        var t = $("#non-existent-id");
        return $("#individual.active").length > 0 ? t = $("#individual") : $("#entity.active").length > 0 && (t = $("#entity-new").hasClass("active") > 0 ? $("#entity-new .active") : $("#entity .tab-pane.active div.active").first()), t.find("form")
    }
    function e() {
        a.removeClass("errors"), $("#errors").remove()
    }
    function n(t) {
        e(), a.addClass("errors").append('<div id="errors" ><p>' + t + "</p></div>")
    }
    function i() {
        n(0 == $(".selections li.active").length ? "Please select one of the methods below to continue" : "Please select an entity below to continue")
    }
    function o() {
        var e = t();
        e.length > 0 ? e.submit() : i()
    }
    var a = $(".workspace-header-divider");
    $("#submit-button").click(function(t) {
        t.preventDefault(), o()
    })
}), $.scope("#investment-dashboard", function() {
    var t = function() {
        var t = $(this).closest(".wire-container");
        $(".full-wire-info", t).toggle(), $(".light-wire-info", t).toggle()
    };
    $(".toggle-link").click(t)
}), $(document).ready(function() {
    function t(t) {
        var e = $(t);
        e.hasClass("expanded") ? (e.removeClass("expanded"), e.addClass("contracted")) : (e.removeClass("contracted"), e.addClass("expanded"))
    }
    var e = $(".js-nav");
    $(".js-burger-menu").click(function() {
        return e.toggle("slide"), $(".offering-choice .nav-offering:last").addClass("with-separator"), !1
    }), $(window).resize(function() {
        e.attr("style", ""), $(".user-menu").attr("style", ""), $("#investors-nav ul").attr("style", ""), $("#startups-nav ul").attr("style", ""), $("#startups-toggle").removeClass("expanded"), $("#investors-toggle").removeClass("expanded"), $("#startups-toggle").addClass("contracted"), $("#investors-toggle").addClass("contracted")
    }), $("nav .closer").click(function() {
        e.toggle("slide")
    }), $(".toggle-user-menu").click(function() {
        $(".user-menu").fadeToggle()
    }), $("#startups-toggle").click(function() {
        t(this), $("#startups-nav ul").toggle("slideDown")
    }), $("#investors-toggle").click(function() {
        t(this), $("#investors-nav ul").toggle("slideDown")
    }), $("a[rel=external]").each(function() {
        this.target = "_blank"
    }), $("form").attr("novalidate", !0), $("a.print").click(function() {
        return window.print(), !1
    })
}), $(document).ready(function() {
    var t = $("#investor_profile_form_experience_select"),
        e = $("#investor_profile_form_percentage_select");
    "None" === t.find("option:selected").val() && ($("#investor_profile_form_experience_confirm").closest(".alert_confirm").removeClass("hidden"), process_experience(t)), "" !== e.find("option:selected").val() && ($("#investor_profile_form_percentage_confirm").closest(".alert_confirm").removeClass("hidden"), process_percentage(e)), $(".box-error input").click(error_box), $(".profile-checkbox").click(function(t) {
        $(t.target).find('input[type="checkbox"]').click()
    }), t.change(function() {
        process_experience($(this))
    }), e.change(function() {
        process_percentage($(this))
    })
}), $(document).ready(function() {
    $(".custom-select").each(function() {
        var t = $(this).attr("class"),
            e = $(this).attr("id"),
            n = $(this).attr("name"),
            i = '<div class="' + t + '">';
        i += '<span class="custom-select-trigger">' + $(this).attr("placeholder") + "</span>", i += '<div class="custom-options">', $(this).find("option").each(function() {
            i += '<span class="custom-option " data-value="' + $(this).attr("value") + '">' + $(this).html() + "</span>"
        }), i += "</div></div>", $(this).wrap('<div class="custom-select-wrapper"></div>'), $(this).hide(), $(this).after(i)
    }), $(".custom-option:first-of-type").hover(function() {
        $(this).parents(".custom-options").addClass("option-hover")
    }, function() {
        $(this).parents(".custom-options").removeClass("option-hover")
    }), $(".custom-select-trigger").on("click", function(t) {
        $("html").on("click", function() {
            $(".custom-select").removeClass("opened")
        }), $(this).parents(".custom-select").toggleClass("opened"), t.stopPropagation()
    }), $(".custom-option").on("click", function() {
        $(this).parents(".custom-select-wrapper").find("select").val($(this).data("value")), $(this).parents(".custom-options").find(".custom-option").removeClass("selection"), $(this).addClass("selection"), $(this).parents(".custom-select").removeClass("opened"), $(this).parents(".custom-select").find(".custom-select-trigger").text($(this).text())
    })
}), $(document).ready(function() {
    $(".modal").not("#sign-documents-modal, #idle-session-modal").on("hide.bs.modal", function(t) {
        $(this).hasClass("in") && (t.preventDefault(), $(this).removeClass("in").attr("aria-hidden", !0).off("click.dismiss.bs.modal").fadeOut("slow"), $("body").removeClass("modal-open"), $(".modal-backdrop").remove(), $(this).data("bs.modal").isShown = !1)
    })
}), $.scope("#browse-offerings", function(t) {
    "use strict";
    function e(t, e) {
        return function(n, i) {
            var o = $.isEmptyObject($(n).data()),
                a = $.isEmptyObject($(i).data());
            if (o && !a)
                return 1;
            if (!o && a)
                return -1;
            var s = 1 == $(n).data("closed-pending"),
                r = 1 == $(i).data("closed-pending");
            if (s && !r)
                return 1;
            if (!s && r)
                return -1;
            var l = parseInt($(n).data(t)) - parseInt($(i).data(t));
            return e ? -1 * l : l
        }
    }
    function n(t, n) {
        var i;
        switch (n) {
        case "newest":
            i = e("days-left", !0);
            break;
        case "closing_soon":
            i = e("days-left", !1);
            break;
        case "money_raised":
            i = e("amount-raised", !0);
            break;
        default:
            i = e("pct-complete", !0)
        }
        $(".currently-raising." + t + " .offering-card").sortElements({
            comparator: i
        }), FF.AnalyticsTracker.browseSort(n)
    }
    $("#browse_sort_reg_cf_offering").on("change", function() {
        n("reg_cf", $(this).val())
    }), $("#browse_sort_reg_506c_offering").on("change", function() {
        n("reg_506c", $(this).val())
    }), $(document).ready(function() {
        n("reg_cf", "pct_complete"), n("reg_506c", "pct_complete")
    })
}), $.scope("#browse-offerings", function(t) {
    $(document).ready(function() {
        $(".funded-cards.reg_506c #offering-card").slice(3).hide(), $(".funded-cards.reg_cf #offering-card").slice(3).hide(), $(".load-more").on("click", function() {
            $(this).fadeOut(300), $(".funded-cards." + $(this).data("kind") + " #offering-card").slice(3).show()
        })
    })
}), $(function() {
    $("#new-session-modal").on("shown.bs.modal", function() {
        FF.AnalyticsTracker.modalShown("Sign In")
    }), $("#new-registration-modal").on("shown.bs.modal", function() {
        FF.AnalyticsTracker.modalShown("Register")
    }), $(".flash-notice").delay(5e3).fadeOut(), $(".flash-alert").delay(5e3).fadeOut(), $("body").on("click", 'a[href^="//"],a[href^="http"]', function(t) {
        var e = this.href;
        this.hostname.match(window.location.hostname) || (FF.AnalyticsTracker.outboundLink(e), this.target !== undefined && "_blank" === this.target || (t.preventDefault(), setTimeout(function() {
            location.href = e
        }, 400)))
    }), $(".continue-banner-show").on("click", function(t) {
        $.each($(".authenticate-before-continue"), function(t, e) {
            $(e).removeClass("hidden")
        })
    }), im.lessThan("desktop") && $(document).on("show.bs.popover", function(t) {
        var e = $('<div class="popover-scrim"></div>');
        e.on("click", function() {
            $(".popover:visible").prev("[data-info-popover]").trigger("click"), $(this).remove()
        }), $("body").append(e)
    }), $("[data-info-popover]").each(function() {
        new FF.Popover(this)
    }), PolyfillPlaceholder(), $("form").submit(function() {
        var t = $('button[type="submit"]', this);
        0 == t.length && (t = $('button[type="submit"]')), $(t).prop("disabled", !0);
        var e = $("#spinner", this);
        0 == e.length && (e = $("#spinner")), $(e).removeClass("hidden")
    })
}), $.scope("#sign-documents-modal", function() {
    "use strict";
    function t() {
        $("iframe#docusign").height(Math.max($(window).height() - 180, 400))
    }
    $(window).resize(t), t()
}), $.scope("#sign-documents", function() {
    "use strict";
    function t() {
        $("iframe#docusign").height(Math.max($(window).height() - 180, 400))
    }
    $(window).resize(t), t()
}), $.scope("#faq-page", function(t) {
    var e = $(window),
        n = $(".faq-nav"),
        i = n.offset().top,
        o = n.outerHeight(),
        a = parseFloat(n.css("padding-top")),
        s = $("footer").offset().top,
        r = function() {
            var t = s - (o + a);
            e.scrollTop() > t ? (n.removeClass("pinned"), n.offset({
                top: t
            })) : (n.addClass("pinned"), n.css("position", ""), n.css("top", ""))
        },
        l = function(t) {
            t !== undefined && $("html,body").animate({
                scrollTop: $(t).offset().top
            }, 250)
        },
        c = function() {
            im.lessThan("desktop") ? ($(".secondary-bg .span8").addClass("span12"), $(".secondary-bg .span12").removeClass("span8")) : ($(".secondary-bg .span12").addClass("span8"), $(".secondary-bg .span8").removeClass("span12"), n.find("li").removeClass("active"), n.find("li:first").addClass("active"))
        },
        l = function(t) {
            var e = $.attr(t, "href");
            return $("html, body").animate({
                scrollTop: $(e).offset().top
            }, 250, function() {
                window.location.hash = e
            }), !1
        };
    $("html,body").scrollspy({
        target: "#sticky-categories"
    }), $(".faq-nav a").on("click", function() {
        l(this)
    }), $(".questions-list ul li a").on("click", function() {
        $(".questions-list ul li a").removeClass("active"), $(this).addClass("active"), l(this)
    }), e.scroll(function() {
        if (im.greaterThan("desktop")) {
            var t = e.scrollTop() > i;
            n.toggleClass("pinned", t), t && r()
        }
    }), e.resize(function() {
        c()
    }), $(document).ready(function() {
        c()
    })
}), $.scope("#invest_accreditation_new", function() {
    "use strict";
    function t(t, e, n) {
        $('a[href="#' + t + '"]').click(), $('a[href="#' + t + "-" + e + '"]').click(), "doc" === e && $('a[href="#' + n + "-" + t + '"]').click()
    }
    var e = gon.form_class,
        n = !1,
        i = !1,
        o = null;
    $('a[data-toggle="tab"]').on("shown.bs.tab", function(t) {
        var a = $(t.target).attr("href"),
            s = null;
        switch (a) {
        case "#income":
            $.fn.autoScroll.scrollUp("#third-party-or-docs"), o = FF.AnalyticsTracker.verifyIndividualIncome;
            break;
        case "#net-worth":
            $.fn.autoScroll.scrollUp("#net-worth-third-party-or-docs"), o = FF.AnalyticsTracker.verifyIndividualNetWorth;
            break;
        case "#income-third-party":
            $.fn.autoScroll.focus_unless_error("#third_party_income_form_role"), s = "third_party_income_form", o = FF.AnalyticsTracker.verifyIndividualThirdParty;
            break;
        case "#net-worth-third-party":
            $.fn.autoScroll.focus_unless_error("#third_party_net_worth_form_role"), s = "third_party_net_worth_form", o = FF.AnalyticsTracker.verifyIndividualThirdParty;
            break;
        case "#net-worth-doc":
            $.fn.autoScroll.scrollUp("#net-worth-joint-or-individual"), o = FF.AnalyticsTracker.verifyIndividualDocs;
            break;
        case "#income-doc":
            $.fn.autoScroll.scrollUp("#income-joint-or-individual"), o = FF.AnalyticsTracker.verifyIndividualDocs;
            break;
        case "#individual-net-worth":
        case "#joint-net-worth":
        case "#individual-income":
        case "#joint-income":
            $.fn.autoScroll.scrollUp(a + " form"), s = a.substring(1).replace(/-/g, "_") + "_form", o = a.indexOf("joint") > 0 ? FF.AnalyticsTracker.verifyIndividualDocsJoint : FF.AnalyticsTracker.verifyIndividualDocsIndividual
        }
        n && s !== e && ($("form").removeClass("dirty"), $("#new_" + s).addClass("dirty")), i && null !== o && o(gon.offering_id)
    }), $(function() {
        switch (e) {
        case "individual_income_form":
            t("income", "doc", "individual");
            break;
        case "joint_income_form":
            t("income", "doc", "joint");
            break;
        case "individual_net_worth_form":
            t("net-worth", "doc", "individual");
            break;
        case "joint_net_worth_form":
            t("net-worth", "doc", "joint");
            break;
        case "third_party_income_form":
            t("income", "third-party", "");
            break;
        case "third_party_net_worth_form":
            t("net-worth", "third-party", "")
        }
        n = !0;
        var o = "#new_" + e;
        $(o).areYouSure(), i = !0
    }), function(t) {
        function e(e) {
            t(e.currentTarget).closest(".input").removeClass("field_with_errors").parent().next().find(".error").removeClass("error")
        }
        t.fn.checkboxErrorRemover = function() {
            t(this).find('input[type="checkbox"]').on("change", e)
        }
    }(jQuery), $("form").checkboxErrorRemover(), $("input").keydown(function(t) {
        if (13 === t.keyCode) {
            var i = this.closest("form").id;
            n && i !== e && $("form").removeClass("dirty")
        }
    }), $(".file-chooser-btn").on("click", function() {
        $(".file-key-error").remove()
    }), $('button[type="submit"]').on("click", function() {
        FF.AnalyticsTracker.verifySubmit(gon.offering_id)
    }), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.verifyLater(gon.offering_id)
    })
}), $.scope("#invest_accreditation_new_entity", function(t) {
    "use strict";
    var e = gon.form_class,
        n = gon.offering_id,
        i = !1;
    $('a[data-toggle="tab"]').on("shown.bs.tab", function(t) {
        switch ($(t.target).attr("href")) {
        case "#entity-third-party":
            i && FF.AnalyticsTracker.verifyEntityThirdParty(n);
            break;
        case "#entity-offline":
            i && FF.AnalyticsTracker.verifyEntityOffline(n)
        }
    }), $(function() {
        switch (e) {
        case "third_party_entity_form":
            $('a[href="#entity-third-party"]').click();
            var t = "#new_" + e;
            $(t).areYouSure();
            break;
        case "offline_entity_form":
            $('a[href="#entity-offline"]').click()
        }
        i = !0
    }), $('button[type="submit"]').on("click", function() {
        FF.AnalyticsTracker.verifySubmit(gon.offering_id)
    }), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.verifyLater(gon.offering_id)
    })
}), $.scope("#investment-dashboard", function(t) {
    "use strict";
    function e(t) {
        var e = $(t.target);
        $.ajax({
            type: "POST",
            url: e.data("url"),
            data: {},
            dataType: "json",
            success: function(t) {
                e.text("Sent"), e.prop("disabled", !0)
            },
            failure: function() {
                console.log("ajax call failed")
            }
        })
    }
    var n = function(t) {
        $("#cancel-investment-dialog").dialog({
            dialogClass: "confirm-dialog",
            modal: !0,
            draggable: !1,
            resizable: !1,
            appendTo: "#investment-dashboard",
            buttons: [{
                text: "Cancel",
                "class": "btn btn-medium",
                click: function() {
                    $(this).dialog("close")
                }
            }, {
                text: "Yes",
                type: "submit",
                "class": "btn btn-medium btn-primary",
                click: function() {
                    $("form", this).submit()
                }
            }],
            open: function(e, n) {
                $("form", this).attr("action", t)
            }
        })
    };
    $(".resend-btn.resend-verification").click(function(t) {
        t.stopPropagation(), e(t);
        var n = $(t.target).data("offering-id");
        FF.AnalyticsTracker.dashResendAccreditation(n)
    }), $(".edit-btn").click(function(t) {
        t.stopPropagation();
        var e = $(t.target).data("offering-id");
        $(t.target).hasClass("edit-payment") ? FF.AnalyticsTracker.dashEditPayment(e) : $(t.target).hasClass("edit-verification") && FF.AnalyticsTracker.dashEditAccreditation(e)
    }), $(".btn-payment-ajax").click(function(t) {
        var e = $(t.target).data("offering-id");
        FF.AnalyticsTracker.dashFundsSent(e)
    }), $("a").filter(function(t) {
        return "Download Docs" === $(this).text()
    }).click(function(t) {
        var e = $(t.target).data("offering-id");
        FF.AnalyticsTracker.dashDownloadDocs(e)
    }), $(document).ready(function() {
        FF.confirmCancel = n
    })
}), $.scope("#investment-flow-container", function() {
    "use strict";
    function t(t, e) {
        return t !== undefined && $.isNumeric(t) && 0 !== t ? accounting.formatNumber(t, e) : "--"
    }
    function e(t, e, n, i) {
        var o = 'Own <span id="num_shares"/> <span id="security-name">' + x.securityPlural + '</span> for <span id="projected-cost"/> at <span id="share-price"/> per unit';
        t.html(o), $("#num_shares").text(e), $("#projected-cost").text(n), $("#share-price").text(i)
    }
    function n(t, e, n, i) {
        var o = "";
        o = e || "" === x.securityPlural ? 'Own <span id="percent-ownership"/> of the company' : 'Own  <span id="projected-cost"/> of <span id="security-name">' + x.securityPlural + '</span> and <span id="percent-ownership"/> of the company', t.html(o), $("#percent-ownership").text(n), $("#projected-cost").text(i)
    }
    function i(t) {
        return x.modelDirectSpv && t.projectedCost < x.threshold
    }
    function o(t, e, n, i) {
        t.html('Own <span id="percent-ownership"/> of the company for <span id="projected-cost"/> at <span id="share-price"/> per share'), $("#percent-ownership").text(e), $("#projected-cost").text(n), $("#share-price").text(i)
    }
    function a(a, s) {
        var r = t(s.projectedOwnershipPct, 3) + "%",
            l = "$" + t(s.projectedCost, 2),
            c = "$" + t(x.sharePrice, 2);
        switch (x.calcType) {
        case "convertible":
            n(a, i(s), r, l);
            break;
        case "revenue_note":
            e(a, s.projectedShares, l, c);
            break;
        case "units_based":
        default:
            o(a, r, l, c)
        }
    }
    function s(t, e) {
        $("#investment_income").val(t.incomeAmount), $("#investment_net_worth").val(t.netWorth), $("#investment_external").val(t.prevRegCExtTotal), $("#investment_reg_c_output").val(JSON.stringify(e))
    }
    function r(t) {
        return k < 0 ? "" : 0 === k ? "You have reached your investment limit." : t > k ? "You can invest up to " + accounting.formatMoney(k, "$", 0) + ". Please update your investment amount." : t > 0 && t < R ? "You must invest at least " + accounting.formatMoney(R, "$", 0) : ""
    }
    function l(t) {
        var e = $(".invest-limit"),
            n = r(t);
        return "" !== n ? (w.addClass("limit-error"), e.addClass("limit-error"), e.text(n), $('button[type="submit"]').attr("disabled", !0), !1) : (w.removeClass("limit-error"), e.removeClass("limit-error"), t > 0 && $('button[type="submit"]').attr("disabled", !1), !0)
    }
    function c() {
        x.amount = accounting.unformat(w.val());
        var t = $(".owner-percent"),
            e = "hidden";
        if (x.amount > 0) {
            var n = accounting.formatMoney(x.amount, "$", 0);
            w.val() !== n && w.val(n);
            a(t, new FF.InvestmentCalculator(x)), e = "visible"
        } else
            w.val("");
        t.css("visibility", l(x.amount) ? e : "hidden")
    }
    function u() {
        return {
            incomeAmount: accounting.unformat($("#income").val()),
            netWorth: accounting.unformat($("#net_worth").val()),
            prevRegCExtTotal: accounting.unformat($("#external").val()),
            prevRegCTotal: $("#investment_internal").val(),
            regCCutoff: $("#investment_reg_c_cutoff").val() - 1,
            sharePrice: x.sharePrice
        }
    }
    function d() {
        var t = u(),
            e = new FF.RegCCalculator(t);
        $("#reg-c-limit .computed-value").text(accounting.formatMoney(e.limit, "$", 0)), $("#reg-c-total .computed-value").text(accounting.formatMoney(e.available, "$", 0)), k = e.available, s(t, e), c()
    }
    function h(t, e) {
        if (0 === t.length || "$" === t)
            return void e.val("");
        e.val(t)
    }
    function f(t, e) {
        e.attr("value", e.val())
    }
    function p(t) {
        var e = accounting.formatMoney(t.target.value, "$", 0),
            n = $(t.target);
        e !== n.data("oldVal") && 9 !== t.keyCode && (h(e, n), f(e, n), n.data("oldVal", n.val()), "investment_amount" === t.target.id ? c(n) : d())
    }
    function m(t) {
        return FF.floatInput(t, T)
    }
    function g(t) {
        "" !== t && $("#investment-flow-calculator").attr("style", "visibility: visible"), "#reg-c-panel" === t && (R = O ? _ : C, k = D - 1, $("#investment_selector").val("reg-c"), $(t).show(), $("#income").focus(), d()), "#reg-d-panel" === t && ($("#investment_selector").val("reg-d"), R = D, k = x.total), "#reg-d-panel" === t && ($("#reg-c-panel").hide(), w.focus(), c()), w.attr("placeholder", "minimum investment " + accounting.formatMoney(R, "$", 0))
    }
    function v(t) {
        $("footer p").removeClass("active"), $(t + "-footer").addClass("active")
    }
    function b() {
        var t = 'a[href="#' + $("#investment_selector").val() + '-panel"]';
        $(t).click()
    }
    function E() {
        var t = ["income", "net_worth", "external"];
        $.each(t, function(t, e) {
            var n = $("#" + e),
                i = $("#investment_" + e).val();
            n.val(0 === i ? "" : accounting.formatMoney(i, "$", 0)), n.focus(function() {
                this.setSelectionRange(this.value.length, this.value.length)
            })
        })
    }
    function y() {
        E(), b(), $("form").areYouSure()
    }
    var T = 1e9,
        C = $("#investment_reg_c_min").val(),
        _ = $("#investment_reg_s_min").val(),
        D = $("#investment_reg_c_cutoff").val(),
        I = $("#investment_international"),
        O = "true" === I.val(),
        R = O ? _ : C,
        k = -1,
        w = $("#investment_amount"),
        x = w.data("calcArgs");
    $('a[data-toggle="tab"]').on("shown.bs.tab", function(t) {
        var e = $(t.target).attr("href");
        g(e), v(e)
    }), window.floatInput = m, window.handleUserInput = p, y()
}), $.scope("#investment-funds", function(t) {
    "use strict";
    var e = $(".workspace-header-divider"),
        n = null,
        i = !1,
        o = "/api/lookup_routing_number",
        a = function() {
            var t = $("form:visible");
            return 1 == t.length ? t.first() : undefined
        },
        s = function() {
            e.removeClass("errors"), $("#errors").remove()
        },
        r = function(t) {
            s(), e.addClass("errors").append('<div id="errors" ><p>' + t + "</p></div>")
        },
        l = function() {
            r("Please select one of the methods below to continue")
        },
        c = function(t, e, n, o, a, s, r, l) {
            t.val("ach"), o.text(gon.achRefundTitle), a.html(gon.achRefundDesc), e.removeClass("hidden"), l.addClass("hidden"), r.blur(), s.show(), n.text(gon.achRouting), $.fn.autoScroll.focus_unless_error("#ach-info form #investor_fund_form_bank_account_holder"), i && FF.AnalyticsTracker.fundAch(gon.offeringId)
        },
        u = function(t, e, n, o, a, s, r, l) {
            t.val("wire"), o.text(gon.wireRefundTitle), a.text(gon.wireRefundDesc), e.removeClass("hidden"), l.addClass("hidden"), f(""), s.hide(), n.text(gon.wireRouting), $.fn.autoScroll.focus_unless_error("#wire-info form #investor_fund_form_bank_account_holder"), i && FF.AnalyticsTracker.fundWire(gon.offeringId), $.fn.removeErrors(r)
        },
        d = function(t, e, n, o, a, s, r, l) {
            t.val("crypto"), e.addClass("hidden"), l.removeClass("hidden"), s.hide(), i && FF.AnalyticsTracker.fundCrypto(gon.offeringId)
        },
        h = function(t) {
            var e = a(),
                o = $("#investor_fund_form_funding_method"),
                s = $("#link-refund-account-form"),
                r = $("#crypto-form"),
                l = $("label[for='investor_fund_form_bank_account_routing']"),
                h = s.find("legend"),
                f = s.find("#description"),
                p = s.find("#authorization"),
                m = $("#investor_fund_form_bank_account_routing");
            switch (t) {
            case "#wire-info":
            case "wire":
                u(o, s, l, h, f, p, m, r);
                break;
            case "#ach-info":
            case "ach":
                c(o, s, l, h, f, p, m, r);
                break;
            case "#crypto-info":
            case "crypto":
                d(o, s, l, h, f, p, m, r)
            }
            $(e).areYouSure(), n != e && i && $(e).addClass("dirty"), n = e
        },
        f = function(t) {
            var e = "Account Number";
            "" !== t && (e += " - " + t), $("#investor_fund_form_bank_name").val(t), $("label[for=investor_fund_form_bank_account_number]").text(e)
        },
        p = function(t) {
            f(t.name)
        },
        m = function() {
            var t = $("#investor_fund_form_bank_account_routing"),
                e = t.parent().find(".error"),
                n = "Routing number not found";
            0 === e.length ? t.after('<span class="error">' + n + "</span>") : e.text(n).removeClass("invisible"), f("")
        },
        g = function(t) {
            $.getJSON(o, {
                routing_number: t
            }, function(t) {
                "found" == t.status ? p(t) : m()
            })
        };
    $("#investor_fund_form_bank_account_routing").on("blur", function(t) {
        var e = $(this).val().trim();
        "ach" === $("#investor_fund_form_funding_method").val() && "" !== e && g(e)
    }), $('button[type="submit"]').click(function() {
        var t = a();
        t !== undefined ? (FF.AnalyticsTracker.fundSubmit(gon.offeringId), t.submit()) : l()
    }), $('a[data-toggle="tab"]').on("shown.bs.tab", function(t) {
        var e = $(t.target).attr("href");
        h(e)
    }), 0 === $('a[href="#ach-info"]').length ? h(gon.fundingMethod) : "wire" === gon.fundingMethod ? $('a[href="#wire-info"]').click() : "ach" === gon.fundingMethod && $('a[href="#ach-info"]').click(), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.fundLater(gon.offeringId)
    }), i = !0
}), $.scope("#investment-funds-complete", function(t) {
    "use strict";
    $(".edit-btn").click(function(t) {
        t.stopPropagation();
        var e = $(t.target).data("offering-id");
        $(t.target).hasClass("edit-payment") ? FF.AnalyticsTracker.successEditPayment(e) : $(t.target).hasClass("edit-verification") && FF.AnalyticsTracker.successEditAccreditation(e)
    }), $(".btn-payment-ajax").click(function(t) {
        var e = $(t.target).data("offering-id");
        FF.AnalyticsTracker.successFundsSent(e)
    }), $("a").filter(function(t) {
        return "Download Docs" === $(this).text()
    }).click(function(t) {
        var e = $(t.target).data("offering-id");
        FF.AnalyticsTracker.successDownloadDocs(e)
    })
}), $.scope("#investor-profile", function() {
    "use strict";
    function t(t, e) {
        $('a[href="#entity-' + e + '"]').click();
        var n = $("#" + t + " form .form_type > .hidden input").val();
        $('a[href="#' + t + '"][data-type="' + n + '"]').click()
    }
    function e(e, n) {
        $('a[href="#entity"]').click(), "" != n && t(e, n)
    }
    function n(t) {
        var e = $("." + t + "_signatory_us_citizen .active").data("custom-radio-input-value");
        return e === undefined || e
    }
    function i(t, e) {
        var n = "." + e + "-us-only",
            i = "." + e + "-non-us";
        t ? ($(n).removeClass("hidden"), $(i).addClass("hidden")) : ($(n).addClass("hidden"), $(i).removeClass("hidden"))
    }
    function o(t, e, o) {
        var a = o.form,
            s = n(a),
            r = s || "US" == t;
        $("." + e).each(function() {
            switch ($(this).attr("id")) {
            case a + "_signatory_ssn":
                $(this).attr("placeholder", r ? "###-##-####" : "");
                break;
            case a + "_signatory_daytime_phone":
            case a + "_signatory_mobile_phone":
                $(this).attr("placeholder", "US" == t ? "###-###-####" : "")
            }
        }), i(s, a)
    }
    function a(t, e, n) {
        var i = "US" == t;
        $("." + e).each(function() {
            switch (/phone_number/i.test($(this).attr("id")) && $(this).attr("placeholder", i ? "###-###-####" : ""), $(this).attr("id")) {
            case n.form + "_tax_id_number":
                $(this).attr("placeholder", i ? "xx-xxxxxxx" : "")
            }
        })
    }
    function s(t) {
        o($("#" + t.form + "_signatory_country").val(), "country-sensitive", t)
    }
    function r(t) {
        $('form[id != "new_' + m + '"]').removeClass("dirty"), t != m && $('form[id = "new_' + t + '"]').addClass("dirty");
        var e = "#" + t + "_signatory_country";
        o($(e).val(), "country-sensitive", {
            form: t
        }), a($(e).val(), "country-sensitive", {
            form: t
        })
    }
    function l(t, e) {
        var n = 'a[href="#entity_' + t + '"][data-type="' + e + '"]';
        $(n).click(), r("entity_" + t)
    }
    function c(t, e) {
        return e !== undefined && e.indexOf(t) < 0
    }
    function u(t, e) {
        for (var n = v[t], i = 0; i < n.length; i++) {
            var o = n[i],
                a = e + o.key;
            c(o.text, $(a).text()) && $(a).text(o.text)
        }
    }
    function d(t, e) {
        return '<option value="' + t + '" ' + (t == e ? " selected " : "") + ">" + t + "</option>"
    }
    function h(t, e, n, i, o) {
        switch (t) {
        case "trust":
            return '<input tabindex="' + i + '" value="Trustee" class="string optional" readonly type="text" name="' + e + '[position]" id="' + e + '_position">';
        case "partnership":
            return '<div class="styled-select"> <select tabindex="' + i + '" class="select optional" name="' + e + '[position]" id="' + e + '_position" style="color: rgb(143, 156, 163);"><option value="">Select One</option>' + d("General Partner", o) + d("Authorized Signatory", o) + "</select></div>";
        default:
            return '<input tabindex="' + i + '" class="string optional" type="text" value="' + o + '" name="' + e + '[position]" id="' + e + '_position">'
        }
    }
    function f(t, e) {
        var n = $("#" + t + " form .form_type > .hidden input:visible"),
            i = n.val(),
            o = ".tab-pane.active > form ";
        if (u(e, o), "entity_new" == t || "" == i || i != e && g) {
            $("#" + t + " form .form_type > .hidden input").val(e), r("entity_" + t);
            var a = o + ".signatory_form .jq-entity-position .input:visible",
                s = $(".tab-pane.active > form .signatory_form .jq-entity-position").data("position");
            s === undefined && (s = "");
            var l = parseInt($(o + ".signatory_form:visible").find("input").first().attr("tabindex")) + 5,
                c = '<label class="string optional control-label" for="' + t + '_position">' + $(a + " label").html() + "</label>",
                d = h(e, t, "", l, s);
            $(a).html(c + d)
        }
    }
    var p = gon.activeEntityId,
        m = gon.activeForm,
        g = !1,
        v = gon.formLabels;
    $(function() {
        null !== m && m.length > 0 && "individual" != m ? e(m, p) : "individual" == m && $('a[href="#individual"]').click(), $("form").areYouSure(), g = !0
    }), $('a[data-toggle="tab"]').on("shown.bs.tab", function(t) {
        var e = $(t.target).attr("href");
        switch (e) {
        case "#individual":
            $.fn.autoScroll.focus_unless_error("#individual_form_first_name"), r("individual_form"), FF.AnalyticsTracker.profileIndividual(gon.offeringId);
            break;
        case "#entity":
            $.fn.autoScroll.scrollUp("#entity-new"), r(), FF.AnalyticsTracker.profileEntity(gon.offeringId);
            break;
        case "#entity-new":
            $.fn.autoScroll.scrollUp("#entity-types"), FF.AnalyticsTracker.profileEntity(gon.offeringId);
            break;
        default:
            $.fn.autoScroll.focus_unless_error(e + "_name");
            var n = e.substring(1),
                i = n.substring(n.lastIndexOf("-") + 1);
            if (i !== undefined)
                if (i == n) {
                    var o = $(t.target).data("type");
                    f(i, o), FF.AnalyticsTracker.profileEntityType(gon.offeringId, o)
                } else
                    l(i, $(t.target).data("type"))
        }
    }), $('button[type="submit"]').on("click", function() {
        FF.AnalyticsTracker.profileSubmit(gon.offeringId)
    }), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.profileLater(gon.offeringId)
    }), $('input[data-masked-date="true"]').length > 0 && $('input[data-masked-date="true"]').mask("99/99/9999", {
        placeholder: "mm/dd/yyyy",
        autoclear: !1
    }), function(t) {
        t.respond_to_country_change_on_form = o, t.respond_to_country_change_on_entity_form = a, t.respond_to_citizenship_change = s
    }(window)
}), $.scope("#issuer-application", function(t) {
    "use strict";
    function e() {
        var t = $("#issuer_application_form_lead_source"),
            e = $(".issuer_application_form_preferred_partner");
        "option8" === t.val() ? e.removeClass("hidden") : e.addClass("hidden")
    }
    $("#issuer_application_form_lead_source").change(function() {
        e()
    }), $(function() {
        e()
    })
}), function(t, e) {
    "use strict";
    function n(e, n) {
        Chart.defaults.global.legend.display = !1, Chart.defaults.global.responsive = !0, this.container = t(e), this.canvas = t("canvas", this.container), this.metricSelect = t("select", this.container), this.currentMetric = "Pageviews", this.currentFrequency = "daily", this.frequencies = ["daily", "weekly", "monthly"], this.chartTitle = {
            startDate: moment(0),
            endDate: moment(0)
        }, this.metrics = {
            Pageviews: "ga:pageviews",
            UniquePageviews: "ga:uniquePageviews",
            AvgTimeOnPage: "ga:avgTimeOnPage"
        }, this.maxDataPoints = {
            mobile: 7,
            tablet: 14,
            desktop: 999
        }, this.maxRetries = 2, this.init()
    }
    var i = "trafficOverview";
    n.prototype = {
        init: function() {
            var t = this;
            this.chartObj = this.createLineChart(), this.setupDateRangesClickBinding(), this.setupMetricsOnChange(), this.waitWithSpinner("on"), this.loadChartData("daily").done(function() {
                t.redrawChart(), t.loadChartData("weekly").done(function() {
                    t.loadChartData("monthly")
                })
            })
        },
        createLineChart: function() {
            var t = this,
                e = this.canvas.get(0).getContext("2d"),
                n = e.createLinearGradient(0, 0, 0, 500);
            n.addColorStop(0, "rgba(10,162,242,1)"), n.addColorStop(1, "rgba(10,162,242,0.2)");
            var i = {
                    labels: [],
                    datasets: [{
                        backgroundColor: n,
                        borderColor: "rgba(10,162,242,1)",
                        pointBackgroundColor: "#fff",
                        pointBorderColor: "rgba(10,162,242,1)",
                        pointHoverBackgroundColor: "#fff",
                        pointHoverBorderColor: "rgba(10,162,242,1)",
                        pointBorderWidth: 2,
                        pointHoverRadius: 5,
                        tension: .5,
                        data: []
                    }]
                },
                o = 25;
            return im.lessThan("tablet") && (o = 10), new Chart(this.canvas, {
                type: "line",
                data: i,
                options: {
                    scales: {
                        xAxes: [{
                            ticks: {
                                maxRotation: o
                            },
                            gridLines: {
                                drawOnChartArea: !1
                            }
                        }],
                        yAxes: [{
                            gridLines: {
                                color: "#EEEEF5"
                            },
                            ticks: {
                                callback: function(e) {
                                    return t.finaliseYValue(e)
                                }
                            }
                        }]
                    },
                    elements: {
                        point: {
                            radius: 4,
                            hitRadius: 15
                        },
                        line: {
                            borderWidth: 2.5
                        }
                    },
                    tooltips: {
                        backgroundColor: "rgba(50,59,89,0.7)",
                        bodyFontSize: 14,
                        xPadding: 30,
                        yPadding: 10,
                        callbacks: {
                            title: function(e, n) {
                                if ("weekly" === t.currentFrequency) {
                                    var i = e[0].index - 1;
                                    if (i >= 0)
                                        return n.labels[i] + " - " + e[0].xLabel
                                }
                                return e[0].xLabel
                            },
                            label: function(e, n) {
                                var i = t.metricSelect.find("option:checked").text();
                                return t.finaliseYValue(e.yLabel) + " " + i
                            }
                        }
                    }
                }
            })
        },
        fetchChartData: function(e) {
            var n = {
                data_set: "page_visit_info",
                frequency: e
            };
            return t.ajax({
                url: "/api/issuer/analytics/get_data",
                data: n
            })
        },
        loadChartData: function(e, n) {
            var i = this,
                o = t.Deferred();
            return n === undefined && (n = 0), this.fetchChartData(e).done(function(t, a, s) {
                "success" === a ? (i.cacheData(t, e), o.resolve()) : n < i.maxRetries ? i.loadChartdata(e, n + 1) : o.reject()
            }).fail(function(t, e, n) {
                o.reject()
            }), o.promise()
        },
        cacheData: function(t, e) {
            this.canvas.data(e, t)
        },
        setupDateRangesClickBinding: function() {
            var e = this;
            t.each(this.frequencies, function(n, i) {
                t("#date-ranges ul li." + i).on("click", function() {
                    t("li", t(this).parent()).removeClass("active"), t(this).addClass("active"), e.currentFrequency = i, e.redrawChart()
                })
            })
        },
        setupMetricsOnChange: function() {
            var e = this;
            this.metricSelect.on("change", function() {
                e.currentMetric = t(this).val(), e.redrawChart()
            })
        },
        redrawChart: function() {
            this.waitWithSpinner("off"), this.canvas.show(), this.updateChartData()
        },
        updateChartData: function() {
            var t = this.getDataSetForDisplay(this.metrics[this.currentMetric]);
            if (t === undefined)
                return void this.showEmpty(!0);
            this.showEmpty(!1), this.chartObj.data.labels = this.formatDateSeries(t.x, this.currentFrequency), this.chartObj.data.datasets[0].data = t.y, t.x.length > 30 ? (this.chartObj.options.elements.point.radius = .5, this.chartObj.options.elements.point.hitRadius = 2, this.chartObj.options.elements.line.borderWidth = 2) : (this.chartObj.options.elements.point.radius = 4, this.chartObj.options.elements.point.hitRadius = 15, this.chartObj.options.elements.line.borderWidth = 2.5), this.displayChartLegends(t), this.chartObj.update()
        },
        getDataSetForDisplay: function(t) {
            var e = [],
                n = [],
                i,
                o = [],
                a = [],
                s;
            im.greaterThan("desktop") ? s = this.maxDataPoints.desktop : im.lessThan("tablet") ? s = this.maxDataPoints.mobile : im.lessThan("desktop") && (s = this.maxDataPoints.tablet);
            var r = this.canvas.data(this.currentFrequency);
            if (0 === r.length)
                return undefined;
            if (o = this.trimLeadingZeros(r.y_series[t]), 0 === o.length)
                return undefined;
            if (a = o.length !== r.x_series ? this.lastElements(r.x_series, o.length) : r.x_series, e = this.lastElements(a, s), n = this.lastElements(o, s), "AvgTimeOnPage" === this.currentMetric) {
                var l = this.canvas.data("daily"),
                    c = this.trimLeadingZeros(l.y_series[t]);
                i = this.average(c), i = this.finaliseYValue(i)
            } else
                i = this.sumArr(n);
            return {
                x: e,
                y: n,
                total: i.toLocaleString("en")
            }
        },
        trimLeadingZeros: function(t) {
            var e = [],
                n = 0,
                i,
                o;
            for (o = 0; o < t.length && 0 === t[o]; o += 1)
                n = o;
            return 0 === n ? t : (i = t.length - (n + 1), e = this.lastElements(t, i))
        },
        sumArr: function(t) {
            var e = 0,
                n;
            for (n = 0; n < t.length; n += 1)
                e += t[n];
            return e
        },
        average: function(t) {
            return Math.round(this.sumArr(t) / t.length * 100) / 100
        },
        lastElements: function(t, e) {
            return t.slice(Math.max(t.length - e, 0))
        },
        formatDateSeries: function(t, e) {
            var n = 0,
                i;
            switch (e) {
            case "weekly":
                for (this.chartTitle.startDate = moment().year(t[0][1]).week(t[0][0]), this.chartTitle.endDate = moment().year(t[t.length - 1][1]).week(t[t.length - 1][0]), n = 0; n < t.length; n += 1)
                    i = moment().year(t[n][1]).week(t[n][0]), t[n] = moment(i).format("MMM DD");
                break;
            case "monthly":
                for (this.chartTitle.startDate = moment([t[0][1] + t[0][0]], "YYYYMM"), i = moment([t[t.length - 1][1] + t[t.length - 1][0]], "YYYYMM"), this.chartTitle.endDate = moment(i).endOf("month"), n = 0; n < t.length; n += 1)
                    i = moment([t[n][1] + t[n][0]], "YYYYMM"), t[n] = moment(i).format("MMM");
                break;
            default:
                for (this.chartTitle.startDate = moment(t[0][0], "YYYYMMDD"), this.chartTitle.endDate = moment(t[t.length - 1][0], "YYYYMMDD"), n = 0; n < t.length; n += 1)
                    i = moment(t[n][0], "YYYYMMDD"), t[n] = moment(i).format("MMM DD")
            }
            return t
        },
        finaliseYValue: function(t) {
            if ("AvgTimeOnPage" === this.currentMetric) {
                var e = function(t) {
                        return t < 10 ? "0" + t : t
                    },
                    n = moment.duration(1e3 * t);
                return e(n.hours()) + ":" + e(n.minutes()) + ":" + e(n.seconds())
            }
            return t.toLocaleString("en")
        },
        waitWithSpinner: function(e) {
            var n;
            switch (e) {
            case "on":
                n = '<div class="spinner-container"><div class="la-ball-clip-rotate la-dark"><div></div>', t(n).insertAfter(t("#pageview-date-range-text"));
                break;
            case "off":
                t("#issuer-traffic_overview .spinner-container").hide()
            }
        },
        displayChartLegends: function(e) {
            var n = moment(this.chartTitle.startDate).format("MMM D, YYYY"),
                i = moment(this.chartTitle.endDate).format("MMM D, YYYY");
            t("#pageview-date-range-text p").text(n + " - " + i), t("option[value='" + this.currentMetric + "']", this.select).attr("selected", "selected"), t("#issuer-traffic_overview small").hide(), t("#issuer-traffic_overview span.number").text(e.total), t("#" + this.currentMetric + "-legend").css("display", "inline-block")
        },
        showEmpty: function(e) {
            e ? (t(".empty", this.container).show(), t(".with-data", this.container).hide()) : (t(".empty", this.container).hide(), t(".with-data", this.container).show())
        }
    }, t.fn[i] = function(e) {
        return this.each(function() {
            var o = t.data(this, i);
            o && t.isFunction(n.prototype[e]) ? o[e].apply(o, Array.prototype.slice.call(arguments, 1)) : "object" != typeof e && e ? o ? t.error("Method " + e + "does not exist.") : t.error("Plugin must be initialised before using method: " + e) : t.data(this, i, new n(this, e))
        })
    }
}(jQuery, window), $.scope("#issuer-traffic_overview", function(t) {
    "use strict";
    t.trafficOverview()
}), $.scope("#new-offering-investment", function(t) {}), $.scope("#edit_stakeholders", function(t) {
    "use strict";
    $(document).on("click", 'button[data-target=".content-creation"]', function(t) {
        if (1 == $('.notable-investor input[type="checkbox"]').length) {
            var e = $(".notable-investor small");
            e.fadeIn(), setTimeout(function() {
                e.removeAttr("style")
            }, 2e4)
        }
    }), $(document).on("click", ".notable-investor", function(t) {
        var e = $('.notable-investor input[type="checkbox"]'),
            n = $(this).find('input[type="checkbox"]'),
            i = n.is(":checked");
        return $.each(e, function(t, e) {
            $(e).prop("checked", !1)
        }), i || n.prop("checked", !0), !1
    })
}), $.scope("#offering-landing", function(t) {
    "use strict";
    var e = $("#reply-form-js");
    FF.offering = {
        id: gon.offering_id,
        resume_intro_to_founder: gon.resume_intro_to_founder
    }, $("#intro-to-founder-modal").on("shown.bs.modal", function() {
        FF.AnalyticsTracker.modalShown("Show Question Modal Form")
    }), $("#invest-offering").on("click", function() {
        FF.AnalyticsTracker.invest(FF.offering.id)
    }), $('a[href="#nav-pitch"]').on("click", function() {
        FF.AnalyticsTracker.pitch(FF.offering.id)
    }), $('a[href="#nav-team"]').on("click", function() {
        FF.AnalyticsTracker.team(FF.offering.id)
    }), $('a[href="#nav-documents"]').on("click", function() {
        FF.AnalyticsTracker.documents(FF.offering.id)
    }), $('a[href="#nav-questions"]').on("click", function() {
        FF.AnalyticsTracker.questions(FF.offering.id)
    }), $('a[href="#nav-fundraising"]').on("click", function() {
        FF.AnalyticsTracker.fundraising(FF.offering.id)
    });
    var n = $(".offering-head", t),
        i = $(".play-btn", t);
    t.offeringNavigation({}), t.offeringCarouselSize({}), $("a.fa:not(.fa-envelope)", t).socialSharingPopup(), $(".offering-follower", t).on("click", ".follow", function() {
        $(this).next(".unfollow").addClass("following").removeClass("unfollow"), FF.AnalyticsTracker.followStart(FF.offering.id)
    }).on("mouseout", ".following", function() {
        $(this).addClass("unfollow").removeClass("following")
    }).on("mouseover", '.unfollow[data-remote="true"]', function() {
        $(this).data("altText", $(this).html()).html("Unfollow")
    }).on("mouseout", ".unfollow", function() {
        $(this).html($(this).data("altText"))
    }), $(".offering-interestor", t).on("click", ".interest", function() {
        $(this).next(".uninterest").addClass("interesting").removeClass("uninterest"), FF.AnalyticsTracker.followStart(FF.offering.id)
    }).on("mouseout", ".interesting", function() {
        $(this).addClass("uninterest").removeClass("interesting")
    }).on("mouseover", '.uninterest[data-remote="true"]', function() {
        $(this).data("altText", $(this).html()).html("Uninterest")
    }).on("mouseout", ".uninterest", function() {
        $(this).html($(this).data("altText"))
    }), 0 == $(".no-video").length && n.videoPlayer({
        onHide: function() {
            i.fadeIn("fast")
        },
        onPlay: function() {
            FF.AnalyticsTracker.videoStart(FF.offering.id)
        },
        onFinish: function() {
            FF.AnalyticsTracker.videoFinish(FF.offering.id)
        }
    }), $("video").on("canplaythrough", function() {
        i.css("visibility", "visible"), i.click(function() {
            var t = $(this),
                e = t.closest(".offering-head");
            t.fadeOut("fast"), e.videoPlayer("show")
        })
    }), 0 === $(".no-video").length && $(document).on("shown.bs.modal expando.show", function() {
        n.videoPlayer("disableShortcuts")
    }).on("hidden.bs.modal expando.hide", function() {
        n.videoPlayer("enableShortcuts")
    });
    var o = function(t) {
            $("#offering_comment_form_body", t).charCount({
                allowed: $("#comments-tab").data("comment-max-length"),
                warning: 0,
                counterText: "Chars left: "
            }), $("#offering_comment_form_body", t).on("keyup", function() {
                var e = $(".counter", t).hasClass("exceeded");
                $(":submit", t).attr("disabled", e)
            })
        },
        a = function(t) {
            $("html, body").animate({
                scrollTop: $("#comment-" + t).offset().top
            }, 0)
        },
        s = function() {
            $('.user-comments [data-info="comment"]').each(function() {
                $(this).on("click", function() {
                    if (e = e.detach(), $(this).hasClass("active"))
                        $(this).removeClass("active");
                    else {
                        var t = $(this).data("id"),
                            n = $("#reply-form-" + t);
                        $("#offering_comment_form_parent_id", e).val(t), e.appendTo(n), e.show(), $('.user-comments [data-info="comment"]').removeClass("active"), $(this).addClass("active"), $("#offering_comment_form_body", e).focus()
                    }
                })
            })
        },
        r = function(t) {
            $("#delete-comment-dialog").dialog({
                dialogClass: "confirm-dialog",
                modal: !0,
                draggable: !1,
                resizable: !1,
                appendTo: "#nav-comment",
                buttons: [{
                    text: "Cancel",
                    "class": "btn btn-medium",
                    click: function() {
                        $(this).dialog("close")
                    }
                }, {
                    id: "delete-comment-btn",
                    text: "Yes",
                    type: "submit",
                    "class": "btn btn-medium btn-primary",
                    click: function() {
                        $("#delete-comment-dialog form").submit()
                    }
                }],
                open: function(e, n) {
                    $("#delete-comment-dialog form").attr("action", t)
                }
            })
        };
    $(document).ready(function() {
        gon.path_fragment && (window.location.hash = gon.path_fragment), $("time.ago").timeago(), o("#comment-form-js"), o("#reply-form-js"), s(), "#comment" == document.location.hash && document.location.search.split("comment_id=")[1] != undefined && a(document.location.search.split("comment_id=")[1]), $("video").trigger("canplaythrough"), $("a.expand-collapse").click(function() {
            var t = "#bio-" + this.id,
                e = "#full-bio-" + this.id;
            $(t).toggle(), $(e).toggle()
        });
        var t = $("#intro-to-founder-modal");
        t.on("shown.bs.modal", function() {
            $("#investor_name", this).focus()
        }), t.find("form").submit(function(t) {
            $(this).data("reset-form", !0)
        }), FF.offering.resume_intro_to_founder && t.find("form").submit(), $(".modal").on("show.bs.modal", function() {
            var t = $("form", this);
            t.data("reset-form") && (t.data("reset-form", !1), t[0].reset())
        }), FF.confirmDelete = r
    })
}), $.scope("#company-details", function(t) {
    "use strict";
    var e = $(".save-form", t),
        n = $(".content-editor-form", t);
    n.unsavedFormChanges().contentEditor();
    var i = $(".vanity-path-controls input");
    i.focus(function() {
        $(".vanity-path-controls").addClass("focused")
    }), i.blur(function() {
        $(".vanity-path-controls").removeClass("focused")
    });
    var o = $(".uploadable-cover-image", t).uploadable({
            displayType: "image",
            cropPreview: !0,
            cropRatio: 3.6
        }),
        a = $(".uploadable-header-image", t).uploadable({
            displayType: "image",
            cropPreview: !0,
            maxFileSize: 300,
            cropRatio: 2.1
        }),
        s = $(".uploadable-browse-image", t).uploadable({
            displayType: "image",
            cropPreview: !0,
            cropRatio: 73 / 33
        }),
        r = $(".uploadable-square-image", t).uploadable({
            displayType: "image",
            cropPreview: !0,
            cropRatio: 1
        });
    $("#offering_tagline_browse").charCount({
        allowed: 100,
        warning: 0,
        counterText: "Chars left: "
    }), e.progressButton({
        onComplete: function() {
            n.submit()
        },
        onStart: function() {
            var t = this;
            $.when(s.$file && s.uploadCropFile()).then(function() {
                return a.$file && a.uploadCropFile()
            }).then(function() {
                return r.$file && r.uploadCropFile()
            }).then(function() {
                return o.$file && o.uploadCropFile()
            }).done(function() {
                t.onComplete()
            })
        }
    })
}), $.scope("#documents-editor", function(t) {
    "use strict";
    var e = $(".save-form", t),
        n = $(".content-editor-form", t);
    n.unsavedFormChanges().rankable().contentEditor({
        onAddTemplate: function(t) {
            n.rankable("resetButtons"), $(".uploadable", t).uploadable()
        },
        onRemoveTemplate: function(t) {
            n.rankable("resetButtons")
        }
    }), e.progressButton({
        onComplete: function() {
            n.submit()
        }
    }), $(".uploadable", t).uploadable()
}), $.scope("#members-editor", function(t) {
    "use strict";
    var e = $(".save-form", t),
        n = $(".content-editor-form", t);
    n.unsavedFormChanges().rankable().contentEditor({
        onAddTemplate: function(t) {
            n.rankable("resetButtons"), $(".uploadable", t).uploadable({
                displayType: "image"
            })
        },
        onRemoveTemplate: function(t) {
            n.rankable("resetButtons")
        }
    }), e.progressButton({
        onComplete: function() {
            n.submit()
        }
    }), $(".uploadable", t).uploadable({
        displayType: "image"
    })
}), $.scope("#pitch-editor", function(t) {
    "use strict";
    function e(t) {
        o.rankable("resetButtons");
        var e = t[0].getElementsByTagName("textarea")[0];
        e && (CKEDITOR.remove(e.name), CKEDITOR.replace(e.name))
    }
    function n(t) {
        o.rankable("resetButtons")
    }
    var i = $(".save-form", t),
        o = $(".content-editor-form", t);
    o.unsavedFormChanges().rankable().contentEditor({
        onAddTemplate: e,
        onRemoveTemplate: n
    }), i.progressButton({
        onComplete: function() {
            o.submit()
        }
    })
}), $.scope("#questions-editor", function(t) {
    function e(t) {
        i.rankable("resetButtons")
    }
    var n = $(".save-form", t),
        i = $(".content-editor-form", t);
    i.unsavedFormChanges().rankable().contentEditor({
        onAddTemplate: e,
        onRemoveTemplate: e
    }), n.click(function(t) {
        t.preventDefault(), i.submit()
    })
}), $.scope("#offering-invest-accreditation-verified", function(t) {
    $('button[type="submit"]').on("click", function() {
        FF.AnalyticsTracker.verifySubmit(gon.offering_id)
    }), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.verifyLater(gon.offering_id)
    })
}), $.scope("#offering-invest-investment-documents", function(t) {
    var e = $('button[type="submit"]', "#investment-documents-form");
    $("#reviewed-information-checkbox").change(function() {
        $('.error[data-error-for="#reviewed-information-checkbox"]').addClass("hidden"), e.prop("disabled", !1)
    }), $("#investment-documents-form").unbind("submit"), $("#investment-documents-form").submit(function(t) {
        t.preventDefault();
        var n = function(t, e, n) {
                $("#sign-documents-modal .modal-body").html(t);
                var i = $(window).height() - 170;
                $("#sign-documents-modal iframe").css("height", i), $("#sign-documents-modal").modal()
            },
            i = function(t, n, i) {
                alert("There was an error loading the documents for this offering"), $("#spinner").addClass("hidden"), e.prop("disabled", !1)
            },
            o = function(t, n, i) {
                $("#spinner").addClass("hidden"), e.prop("disabled", !1)
            },
            a = function() {
                $("#review .error.hidden").removeClass("hidden");
                var t = $("#errors");
                t.parent().addClass("errors"), t.html("<p>Please review the errors below</p>"), $.fn.autoScroll.focus_unless_error("#reviewed-information-checkbox")
            };
        FF.AnalyticsTracker.reviewSubmit(gon.offering_id), $("#reviewed-information-checkbox").prop("checked") ? ($("#spinner").removeClass("hidden"), $("#errors").addClass("hidden"), $.ajax({
            type: "POST",
            data: {
                reviewed_information: "on"
            },
            url: gon.reviewed_info_endpoint,
            success: n,
            error: i,
            complete: o
        })) : a()
    }), $("a").filter(function(t) {
        return "Finish Later" === $(this).text()
    }).on("click", function() {
        FF.AnalyticsTracker.reviewLater(gon.offering_id)
    })
}), function() {
    var t,
        e = function() {
            for (var t = document.cookie.split("; "), e = {}, n = t.length - 1; n >= 0; n--) {
                var i = t[n].split("="),
                    o = i[0],
                    a = i[1];
                e[o] = a
            }
            return e
        },
        n = function(n) {
            return t || (t = e()), t[n]
        };
    FF.resetCookies = function() {
        t = null
    }, FF.readCookie = n
}(), $.scope("#user-signin-form", function(t) {
    $("form#user-signin-form").find("input").on("focus", function(t) {
        $(".error").addClass("invisible")
    })
}), $.scope("#style-guide", function() {
    "use strict";
    function t(t, e) {
        var n = [],
            i = t.css(e),
            o = t[0].nodeName;
        "DIV" === o && (o = t.attr("class").split(" ")[0].toUpperCase()), $.each(i, function(t, e) {
            n.push(t + ": " + e)
        }), t.html("<div class='tile'>" + o + "<div class='text'>" + n.join("<br>") + "</div></div>")
    }
    function e(t, e, n, i) {
        var o = "$" + t.attr("class").split(" ")[0];
        t.css("height", "inherit"), t.html("<div class='tile'/><div class='text'>" + o + "<br>" + e + "</div>"), t.children(".tile").css(i, n), t.css(i, "white")
    }
    function n(t) {
        function e(t) {
            return ("0" + parseInt(t).toString(16)).slice(-2)
        }
        if (null === t)
            return "#unknown";
        if (-1 === t.search("rgb"))
            return t;
        t = t.match(/^rgba?\((\d+),\s*(\d+),\s*(\d+)(?:,\s*([\d\.]+))?\)$/);
        var n = "";
        return t[4] !== undefined && (n = ", " + parseFloat(t[4]).toFixed(2).toString()), "#" + e(t[1]) + e(t[2]) + e(t[3]) + n
    }
    function i(t, i) {
        var o = t.css(i);
        e(t, n(o), o, i)
    }
    function o(t, n) {
        var i = t.css(n);
        e(t, i, i, n)
    }
    function a() {
        $("#typography .style-info").each(function(e, n) {
            t($(n), ["font-size", "font-weight", "line-height"])
        })
    }
    $(window).bind("resize", function(t) {
        $(window).resize(function() {
            clearTimeout(window.resizeEvt), window.resizeEvt = setTimeout(function() {
                a()
            }, 250)
        })
    }), $(document).ready(function() {
        a(), $("#colors .style-info").each(function(t, e) {
            i($(e), "background-color")
        }), $("#gradients .style-info").each(function(t, e) {
            o($(e), "background")
        }), $("#spacing .style-info").each(function(t, e) {
            o($(e), "height")
        })
    })
});
var minutesAgo = function() {
    var t = ((new Date).getTime() - 1e3 * FF.readCookie("_first_visit")) / 1e3;
    return minutesAgo = t / 60
};
$.scope("#what_is_ff_new_subscription", function() {
    simpleSubscription(this), FF.AnalyticsTracker.subscriptionWhatIsFFPage()
}), $.scope("#email_new_subscription", function() {
    simpleSubscription(this), FF.AnalyticsTracker.subscriptionEmail()
}), $.scope("#home_new_subscription", function() {
    simpleSubscription(this), FF.AnalyticsTracker.subscriptionHomePage()
}), $.scope("#browse_new_subscription", function() {
    simpleSubscription(this), FF.AnalyticsTracker.subscriptionBrowse()
}), $.scope("#email-capture-banner", function() {
    simpleSubscription(this), dismissEmailCapture()
}), $("#newsletter-modal").on("shown.bs.modal", function() {
    simpleSubscription($("#newsletter-modal-form"))
}), $(document).ready(function() {
    showHideSubscriptions(document.location.pathname), updateSourcePage(), minutesAgo() > 30 && showNewsletterModal()
});


